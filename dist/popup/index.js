/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={95318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},20862:(e,t,i)=>{var r=i(50008).default;function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var i=s(t);if(i&&i.has(e))return i.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=n?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,i&&i.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},50008:e=>{function t(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},87757:(e,t,i)=>{e.exports=i(35666)},59693:(e,t,i)=>{"use strict";i.d(t,{$n:()=>u,Fq:()=>h,_j:()=>d,mi:()=>o});var r=i(60288);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),i)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),i=e.match(t);return i&&1===i[0].length&&(i=i.map((function(e){return e+e}))),i?"rgb".concat(4===i.length?"a":"","(").concat(i.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),i=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(i))throw new Error((0,r.Z)(3,e));var s=e.substring(t+1,e.length-1).split(",");return{type:i,values:s=s.map((function(e){return parseFloat(e)}))}}function n(e){var t=e.type,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),"".concat(t,"(").concat(i.join(", "),")")}function o(e,t){var i=c(e),r=c(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)}function c(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,i=t[0],r=t[1]/100,s=t[2]/100,o=r*Math.min(s,1-s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+i/30)%12;return s-o*Math.max(Math.min(t-3,9-t,1),-1)},h="rgb",d=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(h+="a",d.push(t[3])),n({type:h,values:d})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=a(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,n(e)}function d(e,t){if(e=a(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]*=1-t;return n(e)}function u(e,t){if(e=a(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;return n(e)}},91047:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ue});var r=i(45987),s=i(35953),a=i(87462),n=["xs","sm","md","lg","xl"];function o(e){var t=e.values,i=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,s=e.unit,o=void 0===s?"px":s,c=e.step,h=void 0===c?5:c,d=(0,r.Z)(e,["values","unit","step"]);function u(e){var t="number"==typeof i[e]?i[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function l(e,t){var r=n.indexOf(t);return r===n.length-1?u(e):"@media (min-width:".concat("number"==typeof i[e]?i[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof i[n[r+1]]?i[n[r+1]]:t)-h/100).concat(o,")")}return(0,a.Z)({keys:n,values:i,up:u,down:function(e){var t=n.indexOf(e)+1,r=i[n[t]];return t===n.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-h/100).concat(o,")")},between:l,only:function(e){return l(e,e)},width:function(e){return i[e]}},d)}var c=i(4942),h=i(25108);function d(e,t,i){var r;return(0,a.Z)({gutters:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},i,(0,c.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},i[e.up("sm")])))},toolbar:(r={minHeight:56},(0,c.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,c.Z)(r,e.up("sm"),{minHeight:64}),r)},i)}var u=i(60288);const l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},p="#7986cb",m="#3f51b5",g="#303f9f",y="#ff4081",b="#f50057",v="#c51162",w="#e57373",k="#f44336",S="#d32f2f",_="#ffb74d",M="#ff9800",T="#f57c00",O="#64b5f6",x="#2196f3",I="#1976d2",C="#81c784",A="#4caf50",E="#388e3c";var N=i(59693),P={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},B={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function R(e,t,i,r){var s=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:"light"===t?e.light=(0,N.$n)(e.main,s):"dark"===t&&(e.dark=(0,N._j)(e.main,a)))}function L(e){var t=e.primary,i=void 0===t?{light:p,main:m,dark:g}:t,n=e.secondary,o=void 0===n?{light:y,main:b,dark:v}:n,c=e.error,h=void 0===c?{light:w,main:k,dark:S}:c,d=e.warning,L=void 0===d?{light:_,main:M,dark:T}:d,V=e.info,D=void 0===V?{light:O,main:x,dark:I}:V,q=e.success,G=void 0===q?{light:C,main:A,dark:E}:q,F=e.type,j=void 0===F?"light":F,U=e.contrastThreshold,z=void 0===U?3:U,H=e.tonalOffset,K=void 0===H?.2:H,W=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Z(e){return(0,N.mi)(e,B.text.primary)>=z?B.text.primary:P.text.primary}var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,u.Z)(4,t));if("string"!=typeof e.main)throw new Error((0,u.Z)(5,JSON.stringify(e.main)));return R(e,"light",i,K),R(e,"dark",r,K),e.contrastText||(e.contrastText=Z(e.main)),e},Y={dark:B,light:P};return(0,s.Z)((0,a.Z)({common:l,type:j,primary:X(i),secondary:X(o,"A400","A200","A700"),error:X(h),warning:X(L),info:X(D),success:X(G),grey:f,contrastThreshold:z,getContrastText:Z,augmentColor:X,tonalOffset:K},Y[j]),W)}function V(e){return Math.round(1e5*e)/1e5}function D(e){return V(e)}var q={textTransform:"uppercase"},G='"Roboto", "Helvetica", "Arial", sans-serif';function F(e,t){var i="function"==typeof t?t(e):t,n=i.fontFamily,o=void 0===n?G:n,c=i.fontSize,h=void 0===c?14:c,d=i.fontWeightLight,u=void 0===d?300:d,l=i.fontWeightRegular,f=void 0===l?400:l,p=i.fontWeightMedium,m=void 0===p?500:p,g=i.fontWeightBold,y=void 0===g?700:g,b=i.htmlFontSize,v=void 0===b?16:b,w=i.allVariants,k=i.pxToRem,S=(0,r.Z)(i,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),_=h/14,M=k||function(e){return"".concat(e/v*_,"rem")},T=function(e,t,i,r,s){return(0,a.Z)({fontFamily:o,fontWeight:e,fontSize:M(t),lineHeight:i},o===G?{letterSpacing:"".concat(V(r/t),"em")}:{},s,w)},O={h1:T(u,96,1.167,-1.5),h2:T(u,60,1.2,-.5),h3:T(f,48,1.167,0),h4:T(f,34,1.235,.25),h5:T(f,24,1.334,0),h6:T(m,20,1.6,.15),subtitle1:T(f,16,1.75,.15),subtitle2:T(m,14,1.57,.1),body1:T(f,16,1.5,.15),body2:T(f,14,1.43,.15),button:T(m,14,1.75,.4,q),caption:T(f,12,1.66,.4),overline:T(f,12,2.66,1,q)};return(0,s.Z)((0,a.Z)({htmlFontSize:v,pxToRem:M,round:D,fontFamily:o,fontSize:h,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:y},O),S,{clone:!1})}function j(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const U=["none",j(0,2,1,-1,0,1,1,0,0,1,3,0),j(0,3,1,-2,0,2,2,0,0,1,5,0),j(0,3,3,-2,0,3,4,0,0,1,8,0),j(0,2,4,-1,0,4,5,0,0,1,10,0),j(0,3,5,-1,0,5,8,0,0,1,14,0),j(0,3,5,-1,0,6,10,0,0,1,18,0),j(0,4,5,-2,0,7,10,1,0,2,16,1),j(0,5,5,-3,0,8,10,1,0,3,14,2),j(0,5,6,-3,0,9,12,1,0,3,16,2),j(0,6,6,-3,0,10,14,1,0,4,18,3),j(0,6,7,-4,0,11,15,1,0,4,20,3),j(0,7,8,-4,0,12,17,2,0,5,22,4),j(0,7,8,-4,0,13,19,2,0,5,24,4),j(0,7,9,-4,0,14,21,2,0,5,26,4),j(0,8,9,-5,0,15,22,2,0,6,28,5),j(0,8,10,-5,0,16,24,2,0,6,30,5),j(0,8,11,-5,0,17,26,2,0,6,32,5),j(0,9,11,-5,0,18,28,2,0,7,34,6),j(0,9,12,-6,0,19,29,2,0,7,36,6),j(0,10,13,-6,0,20,31,3,0,8,38,7),j(0,10,13,-6,0,21,33,3,0,8,40,7),j(0,10,14,-6,0,22,35,3,0,8,42,7),j(0,11,14,-7,0,23,36,3,0,9,44,8),j(0,11,15,-7,0,24,38,3,0,9,46,8)],z={borderRadius:4};var H=i(70885),K=i(71002),W={xs:0,sm:600,md:960,lg:1280,xl:1920},Z={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(W[e],"px)")}};const X=function(e,t){return t?(0,s.Z)(e,t,{clone:!1}):e};var Y,$,Q={m:"margin",p:"padding"},J={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ee={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},te=(Y=function(e){if(e.length>2){if(!ee[e])return[e];e=ee[e]}var t=e.split(""),i=(0,H.Z)(t,2),r=i[0],s=i[1],a=Q[r],n=J[s]||"";return Array.isArray(n)?n.map((function(e){return a+e})):[a+n]},$={},function(e){return void 0===$[e]&&($[e]=Y(e)),$[e]}),ie=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function re(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function se(e){var t=re(e.theme);return Object.keys(e).map((function(i){if(-1===ie.indexOf(i))return null;var r=function(e,t){return function(i){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var i=e(Math.abs(t));return t>=0?i:"number"==typeof i?-i:"-".concat(i)}(t,i),e}),{})}}(te(i),t),s=e[i];return function(e,t,i){if(Array.isArray(t)){var r=e.theme.breakpoints||Z;return t.reduce((function(e,s,a){return e[r.up(r.keys[a])]=i(t[a]),e}),{})}if("object"===(0,K.Z)(t)){var s=e.theme.breakpoints||Z;return Object.keys(t).reduce((function(e,r){return e[s.up(r)]=i(t[r]),e}),{})}return i(t)}(e,s,r)})).reduce(X,{})}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=re({spacing:e}),i=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return 0===i.length?t(1):1===i.length?t(i[0]):i.map((function(e){if("string"==typeof e)return e;var i=t(e);return"number"==typeof i?"".concat(i,"px"):i})).join(" ")};return Object.defineProperty(i,"unit",{get:function(){return e}}),i.mui=!0,i}se.propTypes={},se.filterProps=ie;var ne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ce(e){return"".concat(Math.round(e),"ms")}const he={easing:ne,duration:oe,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.duration,s=void 0===i?oe.standard:i,a=t.easing,n=void 0===a?ne.easeInOut:a,o=t.delay,c=void 0===o?0:o;return(0,r.Z)(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:ce(s)," ").concat(n," ").concat("string"==typeof c?c:ce(c))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};var de=i(92781);const ue=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,i=void 0===t?{}:t,a=e.mixins,n=void 0===a?{}:a,c=e.palette,h=void 0===c?{}:c,u=e.spacing,l=e.typography,f=void 0===l?{}:l,p=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),m=L(h),g=o(i),y=ae(u),b=(0,s.Z)({breakpoints:g,direction:"ltr",mixins:d(g,y,n),overrides:{},palette:m,props:{},shadows:U,typography:F(m,f),spacing:y,shape:z,transitions:he,zIndex:de.Z},p),v=arguments.length,w=new Array(v>1?v-1:0),k=1;k<v;k++)w[k-1]=arguments[k];return w.reduce((function(e,t){return(0,s.Z)(e,t)}),b)}()},14670:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var r=i(87462),s=i(45987),a=i(67294),n=i(8679),o=i.n(n),c=i(71314),h=i(93869),d=i(75959);var u=i(91047);const l=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i){var n=t.defaultTheme,u=t.withTheme,l=void 0!==u&&u,f=t.name,p=(0,s.Z)(t,["defaultTheme","withTheme","name"]),m=f,g=(0,c.Z)(e,(0,r.Z)({defaultTheme:n,Component:i,name:f||i.displayName,classNamePrefix:m},p)),y=a.forwardRef((function(e,t){e.classes;var o,c=e.innerRef,u=(0,s.Z)(e,["classes","innerRef"]),p=g((0,r.Z)({},i.defaultProps,e)),m=u;return("string"==typeof f||l)&&(o=(0,d.Z)()||n,f&&(m=(0,h.Z)({theme:o,name:f,props:u})),l&&!m.theme&&(m.theme=o)),a.createElement(i,(0,r.Z)({ref:c||t,classes:p},m))}));return o()(y,i),y}}(e,(0,r.Z)({defaultTheme:u.Z},t))}},92781:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},93871:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(60288);function s(e){if("string"!=typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},82568:(e,t,i)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t){return null==t?e:function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];e.apply(this,r),t.apply(this,r)}}),(function(){}))}i.d(t,{Z:()=>r})},25209:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=i(87462),s=i(67294),a=i(45987),n=i(86010),o=i(14670),c=i(93871),h=s.forwardRef((function(e,t){var i=e.children,o=e.classes,h=e.className,d=e.color,u=void 0===d?"inherit":d,l=e.component,f=void 0===l?"svg":l,p=e.fontSize,m=void 0===p?"medium":p,g=e.htmlColor,y=e.titleAccess,b=e.viewBox,v=void 0===b?"0 0 24 24":b,w=(0,a.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return s.createElement(f,(0,r.Z)({className:(0,n.Z)(o.root,h,"inherit"!==u&&o["color".concat((0,c.Z)(u))],"default"!==m&&"medium"!==m&&o["fontSize".concat((0,c.Z)(m))]),focusable:"false",viewBox:v,color:g,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},w),i,y?s.createElement("title",null,y):null)}));h.muiName="SvgIcon";const d=(0,o.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(h);function u(e,t){var i=function(t,i){return s.createElement(d,(0,r.Z)({ref:i},t),e)};return i.muiName=d.muiName,s.memo(s.forwardRef(i))}},79437:(e,t,i)=>{"use strict";function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=this,o=function(){e.apply(n,s)};clearTimeout(t),t=setTimeout(o,i)}return r.clear=function(){clearTimeout(t)},r}i.d(t,{Z:()=>r})},58731:(e,t,i)=>{"use strict";i.r(t),i.d(t,{capitalize:()=>r.Z,createChainedFunction:()=>s.Z,createSvgIcon:()=>a.Z,debounce:()=>n.Z,deprecatedPropType:()=>o,isMuiElement:()=>c.Z,ownerDocument:()=>h.Z,ownerWindow:()=>d.Z,requirePropFactory:()=>u,setRef:()=>l.Z,unstable_useId:()=>b,unsupportedProp:()=>f,useControlled:()=>p.Z,useEventCallback:()=>m.Z,useForkRef:()=>g.Z,useIsFocusVisible:()=>v.Z});var r=i(93871),s=i(82568),a=i(25209),n=i(79437);function o(e,t){return function(){return null}}var c=i(83711),h=i(30626),d=i(80713);function u(e){return function(){return null}}var l=i(34236);function f(e,t,i,r,s){return null}var p=i(22775),m=i(55192),g=i(17294),y=i(67294);function b(e){var t=y.useState(e),i=t[0],r=t[1],s=e||i;return y.useEffect((function(){null==i&&r("mui-".concat(Math.round(1e5*Math.random())))}),[i]),s}var v=i(24896)},83711:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(67294);function s(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},30626:(e,t,i)=>{"use strict";function r(e){return e&&e.ownerDocument||document}i.d(t,{Z:()=>r})},80713:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(30626);function s(e){return(0,r.Z)(e).defaultView||window}},34236:(e,t,i)=>{"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}i.d(t,{Z:()=>r})},22775:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(67294);function s(e){var t=e.controlled,i=e.default,s=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(i),n=a[0],o=a[1];return[s?t:n,r.useCallback((function(e){s||o(e)}),[])]}},55192:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(67294),s="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return s((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},17294:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(67294),s=i(34236);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(i){(0,s.Z)(e,i),(0,s.Z)(t,i)}}),[e,t])}},24896:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var r=i(67294),s=i(73935),a=!0,n=!1,o=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function h(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function d(){a=!1}function u(){"hidden"===this.visibilityState&&n&&(a=!0)}function l(e){var t,i,r,s=e.target;try{return s.matches(":focus-visible")}catch(e){}return a||(i=(t=s).type,!("INPUT"!==(r=t.tagName)||!c[i]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function f(){n=!0,window.clearTimeout(o),o=window.setTimeout((function(){n=!1}),100)}function p(){return{isFocusVisible:l,onBlurVisible:f,ref:r.useCallback((function(e){var t,i=s.findDOMNode(e);null!=i&&((t=i.ownerDocument).addEventListener("keydown",h,!0),t.addEventListener("mousedown",d,!0),t.addEventListener("pointerdown",d,!0),t.addEventListener("touchstart",d,!0),t.addEventListener("visibilitychange",u,!0))}),[])}}},71200:(e,t,i)=>{"use strict";var r=i(95318),s=i(20862);t.Z=void 0;var a=s(i(67294)),n=(0,r(i(2108)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=n},38740:(e,t,i)=>{"use strict";var r=i(95318),s=i(20862);t.Z=void 0;var a=s(i(67294)),n=(0,r(i(2108)).default)(a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=n},77315:(e,t,i)=>{"use strict";var r=i(95318),s=i(20862);t.Z=void 0;var a=s(i(67294)),n=(0,r(i(2108)).default)(a.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");t.Z=n},2108:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=i(58731)},93869:(e,t,i)=>{"use strict";function r(e){var t=e.theme,i=e.name,r=e.props;if(!t||!t.props||!t.props[i])return r;var s,a=t.props[i];for(s in a)void 0===r[s]&&(r[s]=a[s]);return r}i.d(t,{Z:()=>r})},71314:(e,t,i)=>{"use strict";i.d(t,{Z:()=>di});var r=i(45987),s=i(87462),a=i(67294),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const o="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document))&&9===document.nodeType;var c=i(43144),h=i(51721),d=i(97326),u=i(63366),l={}.constructor;function f(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==l)return e;var t={};for(var i in e)t[i]=f(e[i]);return t}function p(e,t,i){void 0===e&&(e="unnamed");var r=i.jss,s=f(t);return r.plugins.onCreateRule(e,s,i)||(e[0],null)}var m=function(e,t){for(var i="",r=0;r<e.length&&"!important"!==e[r];r++)i&&(i+=t),i+=e[r];return i},g=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var i="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)i&&(i+=", "),i+=m(e[r]," ");else i=m(e,", ");return t||"!important"!==e[e.length-1]||(i+=" !important"),i};function y(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var i="",r=0;r<t;r++)i+="  ";return i+e}function v(e,t,i){void 0===i&&(i={});var r="";if(!t)return r;var s=i.indent,a=void 0===s?0:s,n=t.fallbacks;!1===i.format&&(a=-1/0);var o=y(i),c=o.linebreak,h=o.space;if(e&&a++,n)if(Array.isArray(n))for(var d=0;d<n.length;d++){var u=n[d];for(var l in u){var f=u[l];null!=f&&(r&&(r+=c),r+=b(l+":"+h+g(f)+";",a))}}else for(var p in n){var m=n[p];null!=m&&(r&&(r+=c),r+=b(p+":"+h+g(m)+";",a))}for(var v in t){var w=t[v];null!=w&&"fallbacks"!==v&&(r&&(r+=c),r+=b(v+":"+h+g(w)+";",a))}return(r||i.allowEmpty)&&e?(r&&(r=""+c+r+c),b(""+e+h+"{"+r,--a)+b("}",a)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,k="undefined"!=typeof CSS&&CSS.escape,S=function(e){return k?k(e):e.replace(w,"\\$1")},_=function(){function e(e,t,i){this.type="style",this.isProcessed=!1;var r=i.sheet,s=i.Renderer;this.key=e,this.options=i,this.style=t,r?this.renderer=r.renderer:s&&(this.renderer=new s)}return e.prototype.prop=function(e,t,i){if(void 0===t)return this.style[e];var r=!!i&&i.force;if(!r&&this.style[e]===t)return this;var s=t;i&&!1===i.process||(s=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==s||!1===s,n=e in this.style;if(a&&!n&&!r)return this;var o=a&&n;if(o?delete this.style[e]:this.style[e]=s,this.renderable&&this.renderer)return o?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,s),this;var c=this.options.sheet;return c&&c.attached,this},e}(),M=function(e){function t(t,i,r){var s;s=e.call(this,t,i,r)||this;var a=r.selector,n=r.scoped,o=r.sheet,c=r.generateId;return a?s.selectorText=a:!1!==n&&(s.id=c((0,d.Z)((0,d.Z)(s)),o),s.selectorText="."+S(s.id)),s}(0,h.Z)(t,e);var i=t.prototype;return i.applyTo=function(e){var t=this.renderer;if(t){var i=this.toJSON();for(var r in i)t.setProperty(e,r,i[r])}return this},i.toJSON=function(){var e={};for(var t in this.style){var i=this.style[t];"object"!=typeof i?e[t]=i:Array.isArray(i)&&(e[t]=g(i))}return e},i.toString=function(e){var t=this.options.sheet,i=t&&t.options.link?(0,s.Z)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,i)},(0,c.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,i=this.renderable;i&&t&&(t.setSelector(i,e)||t.replaceRule(i,this))}},get:function(){return this.selectorText}}]),t}(_),T={onCreateRule:function(e,t,i){return"@"===e[0]||i.parent&&"keyframes"===i.parent.type?null:new M(e,t,i)}},O={indent:1,children:!0},x=/@([\w-]+)/,I=function(){function e(e,t,i){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(x);for(var a in this.at=r?r[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Q((0,s.Z)({},i,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,i){var r=this.rules.add(e,t,i);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){void 0===e&&(e=O);var t=y(e).linebreak;if(null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.query+" {}";var i=this.rules.toString(e);return i?this.query+" {"+t+i+t+"}":""},e}(),C=/@media|@supports\s+/,A={onCreateRule:function(e,t,i){return C.test(e)?new I(e,t,i):null}},E={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(N);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,n=i.sheet,o=i.generateId;for(var c in this.id=!1===a?this.name:S(o(this,n)),this.rules=new Q((0,s.Z)({},i,{parent:this})),t)this.rules.add(c,t[c],(0,s.Z)({},i,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=E);var t=y(e).linebreak;if(null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.at+" "+this.id+" {}";var i=this.rules.toString(e);return i&&(i=""+t+i+t),this.at+" "+this.id+" {"+i+"}"},e}(),B=/@keyframes\s+/,R=/\$([\w-]+)/g,L=function(e,t){return"string"==typeof e?e.replace(R,(function(e,i){return i in t?t[i]:e})):e},V=function(e,t,i){var r=e[t],s=L(r,i);s!==r&&(e[t]=s)},D={onCreateRule:function(e,t,i){return"string"==typeof e&&B.test(e)?new P(e,t,i):null},onProcessStyle:function(e,t,i){return"style"===t.type&&i?("animation-name"in e&&V(e,"animation-name",i.keyframes),"animation"in e&&V(e,"animation",i.keyframes),e):e},onChangeValue:function(e,t,i){var r=i.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},q=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,i=t&&t.options.link?(0,s.Z)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,i)},t}(_),G={onCreateRule:function(e,t,i){return i.parent&&"keyframes"===i.parent.type?new q(e,t,i):null}},F=function(){function e(e,t,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=i}return e.prototype.toString=function(e){var t=y(e).linebreak;if(Array.isArray(this.style)){for(var i="",r=0;r<this.style.length;r++)i+=v(this.at,this.style[r]),this.style[r+1]&&(i+=t);return i}return v(this.at,this.style,e)},e}(),j=/@font-face/,U={onCreateRule:function(e,t,i){return j.test(e)?new F(e,t,i):null}},z=function(){function e(e,t,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=i}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,i){return"@viewport"===e||"@-ms-viewport"===e?new z(e,t,i):null}},K=function(){function e(e,t,i){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=i}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",i=0;i<this.value.length;i++)t+=this.key+" "+this.value[i]+";",this.value[i+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),W={"@charset":!0,"@import":!0,"@namespace":!0},Z={onCreateRule:function(e,t,i){return e in W?new K(e,t,i):null}},X=[T,A,D,G,U,H,Z],Y={process:!0},$={force:!0,process:!0},Q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,i){var r=this.options,a=r.parent,n=r.sheet,o=r.jss,c=r.Renderer,h=r.generateId,d=r.scoped,u=(0,s.Z)({classes:this.classes,parent:a,sheet:n,jss:o,Renderer:c,generateId:h,scoped:d,name:e,keyframes:this.keyframes,selector:void 0},i),l=e;e in this.raw&&(l=e+"-d"+this.counter++),this.raw[l]=t,l in this.classes&&(u.selector="."+S(this.classes[l]));var f=p(l,t,u);if(!f)return null;this.register(f);var m=void 0===u.index?this.index.length:u.index;return this.index.splice(m,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof M?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof M?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,i;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,i);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,i)},t.updateOne=function(t,i,r){void 0===r&&(r=Y);var s=this.options,a=s.jss.plugins,n=s.sheet;if(t.rules instanceof e)t.rules.update(i,r);else{var o=t.style;if(a.onUpdate(i,t,n,r),r.process&&o&&o!==t.style){for(var c in a.onProcessStyle(t.style,t,n),t.style){var h=t.style[c];h!==o[c]&&t.prop(c,h,$)}for(var d in o){var u=t.style[d],l=o[d];null==u&&u!==l&&t.prop(d,null,$)}}}},t.toString=function(e){for(var t="",i=this.options.sheet,r=!!i&&i.options.link,s=y(e).linebreak,a=0;a<this.index.length;a++){var n=this.index[a].toString(e);(n||r)&&(t&&(t+=s),t+=n)}return t},e}(),J=function(){function e(e,t){for(var i in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,s.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Q(this.options),e)this.rules.add(i,e[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,i){var r=this.queue;this.attached&&!r&&(this.queue=[]);var s=this.rules.add(e,t,i);return s?(this.options.jss.plugins.onProcessRule(s),this.attached?this.deployed?(r?r.push(s):(this.insertRule(s),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),s):s:(this.deployed=!1,s)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var i=[];for(var r in e){var s=this.addRule(r,e[r],t);s&&i.push(s)}return i},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,i){return this.rules.updateOne(e,t,i),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,i){for(var r=0;r<this.registry.onCreateRule.length;r++){var s=this.registry.onCreateRule[r](e,t,i);if(s)return s}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,i){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,i)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,i,r){for(var s=0;s<this.registry.onUpdate.length;s++)this.registry.onUpdate[s](e,t,i,r)},t.onChangeValue=function(e,t,i){for(var r=e,s=0;s<this.registry.onChangeValue.length;s++)r=this.registry.onChangeValue[s](r,t,i);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var i=this.plugins[t.queue];-1===i.indexOf(e)&&(i.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var i in t)i in e&&e[i].push(t[i]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,i=e.options.index;if(-1===t.indexOf(e))if(0===t.length||i>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>i)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,i=t.attached,r=(0,u.Z)(t,["attached"]),s=y(r).linebreak,a="",n=0;n<this.registry.length;n++){var o=this.registry[n];null!=i&&o.attached!==i||(a&&(a+=s),a+=o.toString(r))}return a},(0,c.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ie=new te,re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),se="2f1acc6c3a606b082e5eef5e54414ffb";null==re[se]&&(re[se]=0);var ae=re[se]++,ne=function(e){void 0===e&&(e={});var t=0;return function(i,r){t+=1;var s="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(s=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+s+t:a+i.key+"-"+ae+(s?"-"+s:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ce=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},he=function(e,t,i){try{var r=i;if(Array.isArray(i)&&(r=g(i,!0),"!important"===i[i.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0},de=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},ue=function(e,t){return e.selectorText=t,e.selectorText===t},le=oe((function(){return document.querySelector("head")}));var fe=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,i){try{"insertRule"in e?e.insertRule(t,i):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[i]},me=function(e,t){var i=e.cssRules.length;return void 0===t||t>i?i:t},ge=function(){function e(e){this.getPropertyValue=ce,this.setProperty=he,this.removeProperty=de,this.setSelector=ue,this.hasInsertedRules=!1,this.cssRules=[],e&&ie.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},i=t.media,r=t.meta,s=t.element;this.element=s||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var a=fe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var i=t.insertionPoint,r=function(e){var t=ie.registry;if(t.length>0){var i=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(i&&i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element};if(i=function(e,t){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),i&&i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var s=function(e){for(var t=le(),i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(i&&"number"==typeof i.nodeType){var s=i,a=s.parentNode;a&&a.insertBefore(e,s.nextSibling)}else le().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var i=0;i<e.index.length;i++)this.insertRule(e.index[i],i,t)},t.insertRule=function(e,t,i){if(void 0===i&&(i=this.element.sheet),e.rules){var r=e,s=i;if("conditional"===e.type||"keyframes"===e.type){var a=me(i,t);if(!1===(s=pe(i,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,s)}return this.insertRules(r.rules,s),s}var n=e.toString();if(!n)return!1;var o=me(i,t),c=pe(i,n,o);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,o,c),c)},t.refCssRule=function(e,t,i){e.renderable=i,e.options.parent instanceof J&&(this.cssRules[t]=i)},t.deleteRule=function(e){var t=this.element.sheet,i=this.indexOf(e);return-1!==i&&(t.deleteRule(i),this.cssRules.splice(i,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var i=this.indexOf(e);return-1!==i&&(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(t,i))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.8.2",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ne,Renderer:o?ge:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<X.length;t++)this.plugins.use(X[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,s.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var i=t.index;"number"!=typeof i&&(i=0===ie.index?0:ie.index+1);var r=new J(e,(0,s.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:i}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ie.remove(e),this},t.createRule=function(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=(0,s.Z)({},i,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=p(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach((function(t){e.plugins.use(t)})),this},e}(),ve=function(e){return new be(e)},we="object"==typeof CSS&&null!=CSS&&"number"in CSS;function ke(e){var t=null;for(var i in e){var r=e[i],s=typeof r;if("function"===s)t||(t={}),t[i]=r;else if("object"===s&&null!==r&&!Array.isArray(r)){var a=ke(r);a&&(t||(t={}),t[i]=a)}}return t}ve();var Se=i(65835),_e={set:function(e,t,i,r){var s=e.get(t);s||(s=new Map,e.set(t,s)),s.set(i,r)},get:function(e,t,i){var r=e.get(t);return r?r.get(i):void 0},delete:function(e,t,i){e.get(t).delete(i)}};const Me=_e;var Te=i(75959);const Oe="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var xe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"],Ie=Date.now(),Ce="fnValues"+Ie,Ae="fnStyle"+ ++Ie;var Ee="@global",Ne="@global ",Pe=function(){function e(e,t,i){for(var r in this.type="global",this.at=Ee,this.isProcessed=!1,this.key=e,this.options=i,this.rules=new Q((0,s.Z)({},i,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,i){var r=this.rules.add(e,t,i);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Be=function(){function e(e,t,i){this.type="global",this.at=Ee,this.isProcessed=!1,this.key=e,this.options=i;var r=e.substr(Ne.length);this.rule=i.jss.createRule(r,t,(0,s.Z)({},i,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Re=/\s*,\s*/g;function Le(e,t){for(var i=e.split(Re),r="",s=0;s<i.length;s++)r+=t+" "+i[s].trim(),i[s+1]&&(r+=", ");return r}var Ve=/\s*,\s*/g,De=/&/g,qe=/\$([\w-]+)/g;var Ge=/[A-Z]/g,Fe=/^ms-/,je={};function Ue(e){return"-"+e.toLowerCase()}const ze=function(e){if(je.hasOwnProperty(e))return je[e];var t=e.replace(Ge,Ue);return je[e]=Fe.test(t)?"-"+t:t};function He(e){var t={};for(var i in e)t[0===i.indexOf("--")?i:ze(i)]=e[i];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(He):t.fallbacks=He(e.fallbacks)),t}var Ke=we&&CSS?CSS.px:"px",We=we&&CSS?CSS.ms:"ms",Ze=we&&CSS?CSS.percent:"%";function Xe(e){var t=/(-[a-z])/g,i=function(e){return e[1].toUpperCase()},r={};for(var s in e)r[s]=e[s],r[s.replace(t,i)]=e[s];return r}var Ye=Xe({"animation-delay":We,"animation-duration":We,"background-position":Ke,"background-position-x":Ke,"background-position-y":Ke,"background-size":Ke,border:Ke,"border-bottom":Ke,"border-bottom-left-radius":Ke,"border-bottom-right-radius":Ke,"border-bottom-width":Ke,"border-left":Ke,"border-left-width":Ke,"border-radius":Ke,"border-right":Ke,"border-right-width":Ke,"border-top":Ke,"border-top-left-radius":Ke,"border-top-right-radius":Ke,"border-top-width":Ke,"border-width":Ke,"border-block":Ke,"border-block-end":Ke,"border-block-end-width":Ke,"border-block-start":Ke,"border-block-start-width":Ke,"border-block-width":Ke,"border-inline":Ke,"border-inline-end":Ke,"border-inline-end-width":Ke,"border-inline-start":Ke,"border-inline-start-width":Ke,"border-inline-width":Ke,"border-start-start-radius":Ke,"border-start-end-radius":Ke,"border-end-start-radius":Ke,"border-end-end-radius":Ke,margin:Ke,"margin-bottom":Ke,"margin-left":Ke,"margin-right":Ke,"margin-top":Ke,"margin-block":Ke,"margin-block-end":Ke,"margin-block-start":Ke,"margin-inline":Ke,"margin-inline-end":Ke,"margin-inline-start":Ke,padding:Ke,"padding-bottom":Ke,"padding-left":Ke,"padding-right":Ke,"padding-top":Ke,"padding-block":Ke,"padding-block-end":Ke,"padding-block-start":Ke,"padding-inline":Ke,"padding-inline-end":Ke,"padding-inline-start":Ke,"mask-position-x":Ke,"mask-position-y":Ke,"mask-size":Ke,height:Ke,width:Ke,"min-height":Ke,"max-height":Ke,"min-width":Ke,"max-width":Ke,bottom:Ke,left:Ke,top:Ke,right:Ke,inset:Ke,"inset-block":Ke,"inset-block-end":Ke,"inset-block-start":Ke,"inset-inline":Ke,"inset-inline-end":Ke,"inset-inline-start":Ke,"box-shadow":Ke,"text-shadow":Ke,"column-gap":Ke,"column-rule":Ke,"column-rule-width":Ke,"column-width":Ke,"font-size":Ke,"font-size-delta":Ke,"letter-spacing":Ke,"text-decoration-thickness":Ke,"text-indent":Ke,"text-stroke":Ke,"text-stroke-width":Ke,"word-spacing":Ke,motion:Ke,"motion-offset":Ke,outline:Ke,"outline-offset":Ke,"outline-width":Ke,perspective:Ke,"perspective-origin-x":Ze,"perspective-origin-y":Ze,"transform-origin":Ze,"transform-origin-x":Ze,"transform-origin-y":Ze,"transform-origin-z":Ze,"transition-delay":We,"transition-duration":We,"vertical-align":Ke,"flex-basis":Ke,"shape-margin":Ke,size:Ke,gap:Ke,grid:Ke,"grid-gap":Ke,"row-gap":Ke,"grid-row-gap":Ke,"grid-column-gap":Ke,"grid-template-rows":Ke,"grid-template-columns":Ke,"grid-auto-rows":Ke,"grid-auto-columns":Ke,"box-shadow-x":Ke,"box-shadow-y":Ke,"box-shadow-blur":Ke,"box-shadow-spread":Ke,"font-line-height":Ke,"text-shadow-x":Ke,"text-shadow-y":Ke,"text-shadow-blur":Ke});function $e(e,t,i){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=$e(e,t[r],i);else if("object"==typeof t)if("fallbacks"===e)for(var s in t)t[s]=$e(s,t[s],i);else for(var a in t)t[a]=$e(e+"-"+a,t[a],i);else if("number"==typeof t&&!1===isNaN(t)){var n=i[e]||Ye[e];return!n||0===t&&n===Ke?t.toString():"function"==typeof n?n(t).toString():""+t+n}return t}var Qe=i(89062),Je="",et="",tt="",it="",rt=o&&"ontouchstart"in document.documentElement;if(o){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},at=document.createElement("p").style;for(var nt in st)if(nt+"Transform"in at){Je=nt,et=st[nt];break}"Webkit"===Je&&"msHyphens"in at&&(Je="ms",et=st.ms,it="edge"),"Webkit"===Je&&"-apple-trailing-word"in at&&(tt="apple")}var ot=Je,ct=et,ht=tt,dt=it,ut=rt,lt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ot?"-webkit-"+e:ct+e)}},ft={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ot?ct+"print-"+e:e)}},pt=/[-\s]+(.)?/g;function mt(e,t){return t?t.toUpperCase():""}function gt(e){return e.replace(pt,mt)}function yt(e){return gt("-"+e)}var bt,vt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ot){var i="mask-image";if(gt(i)in t)return e;if(ot+yt(i)in t)return ct+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ht||ut?e:ct+e)}},kt={noPrefill:["transform"],supportedProperty:function(e,t,i){return"transform"===e&&(i.transform?e:ct+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,i){return"transition"===e&&(i.transition?e:ct+e)}},_t={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ot||"ms"===ot&&"edge"!==dt?ct+e:e)}},Mt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ot||"ms"===ot||"apple"===ht?ct+e:e)}},Tt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ot?"WebkitColumn"+yt(e)in t&&ct+"column-"+e:"Moz"===ot&&"page"+yt(e)in t&&"page-"+e)}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ot)return e;var i=e.replace("-inline","");return ot+yt(i)in t&&ct+i}},xt={supportedProperty:function(e,t){return gt(e)in t&&e}},It={supportedProperty:function(e,t){var i=yt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ot+i in t?ct+e:"Webkit"!==ot&&"Webkit"+i in t&&"-webkit-"+e}},Ct={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ot?""+ct+e:e)}},At={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ot?ct+"scroll-chaining":e)}},Et={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Nt={supportedProperty:function(e,t){var i=Et[e];return!!i&&ot+yt(i)in t&&ct+i}},Pt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Bt=Object.keys(Pt),Rt=function(e){return ct+e},Lt={supportedProperty:function(e,t,i){var r=i.multiple;if(Bt.indexOf(e)>-1){var s=Pt[e];if(!Array.isArray(s))return ot+yt(s)in t&&ct+s;if(!r)return!1;for(var a=0;a<s.length;a++)if(!(ot+yt(s[0])in t))return!1;return s.map(Rt)}return!1}},Vt=[lt,ft,vt,wt,kt,St,_t,Mt,Tt,Ot,xt,It,Ct,At,Nt,Lt],Dt=Vt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),qt=Vt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,Qe.Z)(t.noPrefill)),e}),[]),Gt={};if(o){bt=document.createElement("p");var Ft=window.getComputedStyle(document.documentElement,"");for(var jt in Ft)isNaN(jt)||(Gt[Ft[jt]]=Ft[jt]);qt.forEach((function(e){return delete Gt[e]}))}function Ut(e,t){if(void 0===t&&(t={}),!bt)return e;if(null!=Gt[e])return Gt[e];"transition"!==e&&"transform"!==e||(t[e]=e in bt.style);for(var i=0;i<Dt.length&&(Gt[e]=Dt[i](e,bt.style,t),!Gt[e]);i++);try{bt.style[e]=""}catch(e){return!1}return Gt[e]}var zt,Ht={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Wt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Zt(e,t,i){return"var"===t?"var":"all"===t?"all":"all"===i?", all":(t?Ut(t):", "+Ut(i))||t||i}function Xt(e,t){var i=t;if(!zt||"content"===e)return t;if("string"!=typeof i||!isNaN(parseInt(i,10)))return i;var r=e+i;if(null!=Ht[r])return Ht[r];try{zt.style[e]=i}catch(e){return Ht[r]=!1,!1}if(Kt[e])i=i.replace(Wt,Zt);else if(""===zt.style[e]&&("-ms-flex"===(i=ct+i)&&(zt.style[e]="-ms-flexbox"),zt.style[e]=i,""===zt.style[e]))return Ht[r]=!1,!1;return zt.style[e]="",Ht[r]=i,Ht[r]}o&&(zt=document.createElement("p"));var Yt,$t=ve({plugins:[{onCreateRule:function(e,t,i){if("function"!=typeof t)return null;var r=p(e,{},i);return r[Ae]=t,r},onProcessStyle:function(e,t){if(Ce in t||Ae in t)return e;var i={};for(var r in e){var s=e[r];"function"==typeof s&&(delete e[r],i[r]=s)}return t[Ce]=i,e},onUpdate:function(e,t,i,r){var s=t,a=s[Ae];a&&(s.style=a(e)||{});var n=s[Ce];if(n)for(var o in n)s.prop(o,n[o](e),r)}},{onCreateRule:function(e,t,i){if(!e)return null;if(e===Ee)return new Pe(e,t,i);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Be(e,t,i);var r=i.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(i.scoped=!1),!1===i.scoped&&(i.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var i=e.options,r=e.style,a=r?r[Ee]:null;if(a){for(var n in a)t.addRule(n,a[n],(0,s.Z)({},i,{selector:Le(n,e.selector)}));delete r[Ee]}}(e,t),function(e,t){var i=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Ee.length)===Ee){var n=Le(a.substr(Ee.length),e.selector);t.addRule(n,r[a],(0,s.Z)({},i,{selector:n})),delete r[a]}}(e,t))}},function(){function e(e,t){return function(i,r){var s=e.getRule(r)||t&&t.getRule(r);return s?s.selector:r}}function t(e,t){for(var i=t.split(Ve),r=e.split(Ve),s="",a=0;a<i.length;a++)for(var n=i[a],o=0;o<r.length;o++){var c=r[o];s&&(s+=", "),s+=-1!==c.indexOf("&")?c.replace(De,n):n+" "+c}return s}function i(e,t,i){if(i)return(0,s.Z)({},i,{index:i.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,s.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,n){if("style"!==a.type)return r;var o,c,h=a,d=h.options.parent;for(var u in r){var l=-1!==u.indexOf("&"),f="@"===u[0];if(l||f){if(o=i(h,d,o),l){var p=t(u,h.selector);c||(c=e(d,n)),p=p.replace(qe,c),d.addRule(p,r[u],(0,s.Z)({},o,{selector:p}))}else f&&d.addRule(u,{},o).addRule(h.key,r[u],{selector:h.selector});delete r[u]}}return r}}}(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=He(e[t]);return e}return He(e)},onChangeValue:function(e,t,i){if(0===t.indexOf("--"))return e;var r=ze(t);return t===r?e:(i.prop(r,e),null)}},function(e){void 0===e&&(e={});var t=Xe(e);return{onProcessStyle:function(e,i){if("style"!==i.type)return e;for(var r in e)e[r]=$e(r,e[r],t);return e},onChangeValue:function(e,i){return $e(i,e,t)}}}(),"undefined"==typeof window?null:function(){function e(t){for(var i in t){var r=t[i];if("fallbacks"===i&&Array.isArray(r))t[i]=r.map(e);else{var s=!1,a=Ut(i);a&&a!==i&&(s=!0);var n=!1,o=Xt(a,g(r));o&&o!==r&&(n=!0),(s||n)&&(s&&delete t[i],t[a||i]=o||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ot?e:"@"+ct+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,i){return"style"!==i.type?t:e(t)},onChangeValue:function(e,t){return Xt(t,g(e))||e}}}(),(Yt=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var i={},r=Object.keys(e).sort(Yt),s=0;s<r.length;s++)i[r[s]]=e[r[s]];return i}})]}),Qt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,i=void 0!==t&&t,r=e.productionPrefix,s=void 0===r?"jss":r,a=e.seed,n=void 0===a?"":a,o=""===n?"":"".concat(n,"-"),c=0,h=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!i){if(-1!==xe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(o).concat(r,"-").concat(e.key);return t.options.theme[Oe]&&""===n?"".concat(a,"-").concat(h()):a}return"".concat(o).concat(s).concat(h())}}(),jss:$t,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Jt=a.createContext(Qt),ei=-1e9;function ti(){return ei+=1}var ii=i(35953);function ri(e){var t="function"==typeof e;return{create:function(i,r){var a;try{a=t?e(i):e}catch(e){throw e}if(!r||!i.overrides||!i.overrides[r])return a;var n=i.overrides[r],o=(0,s.Z)({},a);return Object.keys(n).forEach((function(e){o[e]=(0,ii.Z)(o[e],n[e])})),o},options:{}}}const si={};function ai(e,t,i){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var s=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,s=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,s=!0),s&&(r.cacheClasses.value=(0,Se.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:i})),r.cacheClasses.value}function ni(e,t){var i=e.state,r=e.theme,a=e.stylesOptions,n=e.stylesCreator,o=e.name;if(!a.disableGeneration){var c=Me.get(a.sheetsManager,n,r);c||(c={refs:0,staticSheet:null,dynamicStyles:null},Me.set(a.sheetsManager,n,r,c));var h=(0,s.Z)({},n.options,a,{theme:r,flip:"boolean"==typeof a.flip?a.flip:"rtl"===r.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;var d=a.sheetsRegistry;if(0===c.refs){var u;a.sheetsCache&&(u=Me.get(a.sheetsCache,n,r));var l=n.create(r,o);u||((u=a.jss.createStyleSheet(l,(0,s.Z)({link:!1},h))).attach(),a.sheetsCache&&Me.set(a.sheetsCache,n,r,u)),d&&d.add(u),c.staticSheet=u,c.dynamicStyles=ke(l)}if(c.dynamicStyles){var f=a.jss.createStyleSheet(c.dynamicStyles,(0,s.Z)({link:!0},h));f.update(t),f.attach(),i.dynamicSheet=f,i.classes=(0,Se.Z)({baseClasses:c.staticSheet.classes,newClasses:f.classes}),d&&d.add(f)}else i.classes=c.staticSheet.classes;c.refs+=1}}function oi(e,t){var i=e.state;i.dynamicSheet&&i.dynamicSheet.update(t)}function ci(e){var t=e.state,i=e.theme,r=e.stylesOptions,s=e.stylesCreator;if(!r.disableGeneration){var a=Me.get(r.sheetsManager,s,i);a.refs-=1;var n=r.sheetsRegistry;0===a.refs&&(Me.delete(r.sheetsManager,s,i),r.jss.removeStyleSheet(a.staticSheet),n&&n.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),n&&n.remove(t.dynamicSheet))}}function hi(e,t){var i,r=a.useRef([]),s=a.useMemo((function(){return{}}),t);r.current!==s&&(r.current=s,i=e()),a.useEffect((function(){return function(){i&&i()}}),[s])}function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.name,n=t.classNamePrefix,o=t.Component,c=t.defaultTheme,h=void 0===c?si:c,d=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),u=ri(e),l=i||n||"makeStyles";u.options={index:ti(),name:i,meta:l,classNamePrefix:l};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Te.Z)()||h,r=(0,s.Z)({},a.useContext(Jt),d),n=a.useRef(),c=a.useRef();hi((function(){var s={name:i,state:{},stylesCreator:u,stylesOptions:r,theme:t};return ni(s,e),c.current=!1,n.current=s,function(){ci(s)}}),[t,u]),a.useEffect((function(){c.current&&oi(n.current,e),c.current=!0}));var l=ai(n.current,e.classes,o);return l};return f}},65835:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(87462);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,i=e.newClasses;if(e.Component,!i)return t;var s=(0,r.Z)({},t);return Object.keys(i).forEach((function(e){i[e]&&(s[e]="".concat(t[e]," ").concat(i[e]))})),s}},75959:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(67294);const s=r.createContext(null);function a(){return r.useContext(s)}},35953:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(87462),s=i(71002);function a(e){return e&&"object"===(0,s.Z)(e)&&e.constructor===Object}function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=i.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?s[r]=n(e[r],t[r],i):s[r]=t[r])})),s}},60288:(e,t,i)=>{"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,i=1;i<arguments.length;i+=1)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}i.d(t,{Z:()=>r})},2190:e=>{e.exports=function(e,i,r){if(e.filter)return e.filter(i,r);if(null==e)throw new TypeError;if("function"!=typeof i)throw new TypeError;for(var s=[],a=0;a<e.length;a++)if(t.call(e,a)){var n=e[a];i.call(r,n,a,e)&&s.push(n)}return s};var t=Object.prototype.hasOwnProperty},39809:(e,t,i)=>{"use strict";const r=t;r.bignum=i(4590),r.define=i(22500).define,r.base=i(71979),r.constants=i(36826),r.decoders=i(78307),r.encoders=i(56579)},22500:(e,t,i)=>{"use strict";const r=i(56579),s=i(78307),a=i(35717);function n(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new n(e,t)},n.prototype._createNamed=function(e){const t=this.name;function i(e){this._initNamed(e,t)}return a(i,e),i.prototype._initNamed=function(t,i){e.call(this,t,i)},new i(this)},n.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(s[e])),this.decoders[e]},n.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},n.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},n.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},36625:(e,t,i)=>{"use strict";const r=i(35717),s=i(98465).b,a=i(2399).Buffer;function n(e,t){s.call(this,t),a.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return o.isEncoderBuffer(e)||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(n,s),t.C=n,n.isDecoderBuffer=function(e){return e instanceof n||"object"==typeof e&&a.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},n.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},n.prototype.restore=function(e){const t=new n(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const i=new n(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=o,o.isEncoderBuffer=function(e){return e instanceof o||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},o.prototype.join=function(e,t){return e||(e=a.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(i){i.join(e,t),t+=i.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},71979:(e,t,i)=>{"use strict";const r=t;r.Reporter=i(98465).b,r.DecoderBuffer=i(36625).C,r.EncoderBuffer=i(36625).R,r.Node=i(41949)},41949:(e,t,i)=>{"use strict";const r=i(98465).b,s=i(36625).R,a=i(36625).C,n=i(79746),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function h(e,t,i){const r={};this._baseState=r,r.name=i,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=h;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const e=this._baseState,t={};d.forEach((function(i){t[i]=e[i]}));const i=new this.constructor(t.parent);return i._baseState=t,i},h.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}}),this)},h.prototype._init=function(e){const t=this._baseState;n(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),n.equal(t.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(e){const t=this._baseState,i=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==i.length&&(n(null===t.children),t.children=i,i.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(n(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(i){i==(0|i)&&(i|=0);const r=e[i];t[r]=i})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){h.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){h.prototype[e]=function(){const t=this._baseState,i=Array.prototype.slice.call(arguments);return n(null===t.tag),t.tag=e,this._useArgs(i),this}})),h.prototype.use=function(e){n(e);const t=this._baseState;return n(null===t.use),t.use=e,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(e){const t=this._baseState;return n(null===t.default),t.default=e,t.optional=!0,this},h.prototype.explicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.explicit=e,this},h.prototype.implicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.implicit=e,this},h.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},h.prototype.key=function(e){const t=this._baseState;return n(null===t.key),t.key=e,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(e){const t=this._baseState;return n(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},h.prototype.contains=function(e){const t=this._baseState;return n(null===t.use),t.contains=e,this},h.prototype._decode=function(e,t){const i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));let r,s=i.default,n=!0,o=null;if(null!==i.key&&(o=e.enterKey(i.key)),i.optional){let r=null;if(null!==i.explicit?r=i.explicit:null!==i.implicit?r=i.implicit:null!==i.tag&&(r=i.tag),null!==r||i.any){if(n=this._peekTag(e,r,i.any),e.isError(n))return n}else{const r=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),n=!0}catch(e){n=!1}e.restore(r)}}if(i.obj&&n&&(r=e.enterObject()),n){if(null!==i.explicit){const t=this._decodeTag(e,i.explicit);if(e.isError(t))return t;e=t}const r=e.offset;if(null===i.use&&null===i.choice){let t;i.any&&(t=e.save());const r=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(r))return r;i.any?s=e.raw(t):e=r}if(t&&t.track&&null!==i.tag&&t.track(e.path(),r,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(s=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(s))return s;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(e,t)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){const r=new a(s);s=this._getUse(i.contains,e._reporterState.obj)._decode(r,t)}}return i.obj&&n&&(s=e.leaveObject(r)),null===i.key||null===s&&!0!==n?null!==o&&e.exitKey(o):e.leaveKey(o,i.key,s),s},h.prototype._decodeGeneric=function(e,t,i){const r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},h.prototype._getUse=function(e,t){const i=this._baseState;return i.useDecoder=this._use(e,t),n(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},h.prototype._decodeChoice=function(e,t){const i=this._baseState;let r=null,s=!1;return Object.keys(i.choice).some((function(a){const n=e.save(),o=i.choice[a];try{const i=o._decode(e,t);if(e.isError(i))return!1;r={type:a,value:i},s=!0}catch(t){return e.restore(n),!1}return!0}),this),s?r:e.error("Choice not matched")},h.prototype._createEncoderBuffer=function(e){return new s(e,this.reporter)},h.prototype._encode=function(e,t,i){const r=this._baseState;if(null!==r.default&&r.default===e)return;const s=this._encodeValue(e,t,i);return void 0===s||this._skipDefault(s,t,i)?void 0:s},h.prototype._encodeValue=function(e,t,i){const s=this._baseState;if(null===s.parent)return s.children[0]._encode(e,t||new r);let a=null;if(this.reporter=t,s.optional&&void 0===e){if(null===s.default)return;e=s.default}let n=null,o=!1;if(s.any)a=this._createEncoderBuffer(e);else if(s.choice)a=this._encodeChoice(e,t);else if(s.contains)n=this._getUse(s.contains,i)._encode(e,t),o=!0;else if(s.children)n=s.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");const r=t.enterKey(i._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const s=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),s}),this).filter((function(e){return e})),n=this._createEncoderBuffer(n);else if("seqof"===s.tag||"setof"===s.tag){if(!s.args||1!==s.args.length)return t.error("Too many args for : "+s.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const i=this.clone();i._baseState.implicit=null,n=this._createEncoderBuffer(e.map((function(i){const r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)}),i))}else null!==s.use?a=this._getUse(s.use,i)._encode(e,t):(n=this._encodePrimitive(s.tag,e),o=!0);if(!s.any&&null===s.choice){const e=null!==s.implicit?s.implicit:s.tag,i=null===s.implicit?"universal":"context";null===e?null===s.use&&t.error("Tag could be omitted only for .use()"):null===s.use&&(a=this._encodeComposite(e,o,i,n))}return null!==s.explicit&&(a=this._encodeComposite(s.explicit,!1,"context",a)),a},h.prototype._encodeChoice=function(e,t){const i=this._baseState,r=i.choice[e.type];return r||n(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},h.prototype._encodePrimitive=function(e,t){const i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},h.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},h.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},98465:(e,t,i)=>{"use strict";const r=i(35717);function s(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}t.b=s,s.prototype.isError=function(e){return e instanceof a},s.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},s.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},s.prototype.enterKey=function(e){return this._reporterState.path.push(e)},s.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},s.prototype.leaveKey=function(e,t,i){const r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},s.prototype.leaveObject=function(e){const t=this._reporterState,i=t.obj;return t.obj=e,i},s.prototype.error=function(e){let t;const i=this._reporterState,r=e instanceof a;if(t=r?e:new a(i.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},s.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},70160:(e,t)=>{"use strict";function i(e){const t={};return Object.keys(e).forEach((function(i){(0|i)==i&&(i|=0);const r=e[i];t[r]=i})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i(t.tag)},36826:(e,t,i)=>{"use strict";const r=t;r._reverse=function(e){const t={};return Object.keys(e).forEach((function(i){(0|i)==i&&(i|=0);const r=e[i];t[r]=i})),t},r.der=i(70160)},41671:(e,t,i)=>{"use strict";const r=i(35717),s=i(4590),a=i(36625).C,n=i(41949),o=i(70160);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new h,this.tree._init(e.body)}function h(e){n.call(this,"der",e)}function d(e,t){let i=e.readUInt8(t);if(e.isError(i))return i;const r=o.tagClass[i>>6],s=0==(32&i);if(31==(31&i)){let r=i;for(i=0;128==(128&r);){if(r=e.readUInt8(t),e.isError(r))return r;i<<=7,i|=127&r}}else i&=31;return{cls:r,primitive:s,tag:i,tagStr:o.tag[i]}}function u(e,t,i){let r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;const s=127&r;if(s>4)return e.error("length octect is too long");r=0;for(let t=0;t<s;t++){r<<=8;const t=e.readUInt8(i);if(e.isError(t))return t;r|=t}return r}e.exports=c,c.prototype.decode=function(e,t){return a.isDecoderBuffer(e)||(e=new a(e,t)),this.tree._decode(e,t)},r(h,n),h.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;const r=e.save(),s=d(e,'Failed to peek tag: "'+t+'"');return e.isError(s)?s:(e.restore(r),s.tag===t||s.tagStr===t||s.tagStr+"of"===t||i)},h.prototype._decodeTag=function(e,t,i){const r=d(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;let s=u(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(s))return s;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==s)return e.skip(s,'Failed to match body of: "'+t+'"');const a=e.save(),n=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(n)?n:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+t+'"'))},h.prototype._skipUntilEnd=function(e,t){for(;;){const i=d(e,t);if(e.isError(i))return i;const r=u(e,i.primitive,t);if(e.isError(r))return r;let s;if(s=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(s))return s;if("end"===i.tagStr)break}},h.prototype._decodeList=function(e,t,i,r){const s=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const a=i.decode(e,"der",r);if(e.isError(a)&&t)break;s.push(a)}return s},h.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let e=0;e<t.length/2;e++)i+=String.fromCharCode(t.readUInt16BE(2*e));return i}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},h.prototype._decodeObjid=function(e,t,i){let r;const s=[];let a=0,n=0;for(;!e.isEmpty();)n=e.readUInt8(),a<<=7,a|=127&n,0==(128&n)&&(s.push(a),a=0);128&n&&s.push(a);const o=s[0]/40|0,c=s[0]%40;if(r=i?s:[o,c].concat(s.slice(1)),t){let e=t[r.join(" ")];void 0===e&&(e=t[r.join(".")]),void 0!==e&&(r=e)}return r},h.prototype._decodeTime=function(e,t){const i=e.raw().toString();let r,s,a,n,o,c;if("gentime"===t)r=0|i.slice(0,4),s=0|i.slice(4,6),a=0|i.slice(6,8),n=0|i.slice(8,10),o=0|i.slice(10,12),c=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|i.slice(0,2),s=0|i.slice(2,4),a=0|i.slice(4,6),n=0|i.slice(6,8),o=0|i.slice(8,10),c=0|i.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,s-1,a,n,o,c,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},h.prototype._decodeInt=function(e,t){const i=e.raw();let r=new s(i);return t&&(r=t[r.toString(10)]||r),r},h.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},78307:(e,t,i)=>{"use strict";const r=t;r.der=i(41671),r.pem=i(59631)},59631:(e,t,i)=>{"use strict";const r=i(35717),s=i(2399).Buffer,a=i(41671);function n(e){a.call(this,e),this.enc="pem"}r(n,a),e.exports=n,n.prototype.decode=function(e,t){const i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,c=-1;for(let e=0;e<i.length;e++){const t=i[e].match(n);if(null!==t&&t[2]===r){if(-1!==o){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;o=e}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+r);const h=i.slice(o+1,c).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const d=s.from(h,"base64");return a.prototype.decode.call(this,d,t)}},66984:(e,t,i)=>{"use strict";const r=i(35717),s=i(2399).Buffer,a=i(41949),n=i(70160);function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.call(this,"der",e)}function h(e){return e<10?"0"+e:e}e.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(c,a),c.prototype._encodeComposite=function(e,t,i,r){const a=function(e,t,i,r){let s;if("seqof"===e?e="seq":"setof"===e&&(e="set"),n.tagByName.hasOwnProperty(e))s=n.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);s=e}return s>=31?r.error("Multi-octet tag encoding unsupported"):(t||(s|=32),s|=n.tagClassByName[i||"universal"]<<6,s)}(e,t,i,this.reporter);if(r.length<128){const e=s.alloc(2);return e[0]=a,e[1]=r.length,this._createEncoderBuffer([e,r])}let o=1;for(let e=r.length;e>=256;e>>=8)o++;const c=s.alloc(2+o);c[0]=a,c[1]=128|o;for(let e=1+o,t=r.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,r])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=s.alloc(2*e.length);for(let i=0;i<e.length;i++)t.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,i){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let r=0;for(let t=0;t<e.length;t++){let i=e[t];for(r++;i>=128;i>>=7)r++}const a=s.alloc(r);let n=a.length-1;for(let t=e.length-1;t>=0;t--){let i=e[t];for(a[n--]=127&i;(i>>=7)>0;)a[n--]=128|127&i}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(e,t){let i;const r=new Date(e);return"gentime"===t?i=[h(r.getUTCFullYear()),h(r.getUTCMonth()+1),h(r.getUTCDate()),h(r.getUTCHours()),h(r.getUTCMinutes()),h(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[h(r.getUTCFullYear()%100),h(r.getUTCMonth()+1),h(r.getUTCDate()),h(r.getUTCHours()),h(r.getUTCMinutes()),h(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!s.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=s.from(t)}if(s.isBuffer(e)){let t=e.length;0===e.length&&t++;const i=s.alloc(t);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let t=e;t>=256;t>>=8)i++;const r=new Array(i);for(let t=r.length-1;t>=0;t--)r[t]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(s.from(r))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,i){const r=this._baseState;let s;if(null===r.default)return!1;const a=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,i).join()),a.length!==r.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==r.defaultBuffer[s])return!1;return!0}},56579:(e,t,i)=>{"use strict";const r=t;r.der=i(66984),r.pem=i(2883)},2883:(e,t,i)=>{"use strict";const r=i(35717),s=i(66984);function a(e){s.call(this,e),this.enc="pem"}r(a,s),e.exports=a,a.prototype.encode=function(e,t){const i=s.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"];for(let e=0;e<i.length;e+=64)r.push(i.slice(e,e+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},4590:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(80950).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},69282:(e,t,i)=>{"use strict";var r=i(34155),s=i(25108);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n,o,c=i(62136).codes,h=c.ERR_AMBIGUOUS_ARGUMENT,d=c.ERR_INVALID_ARG_TYPE,u=c.ERR_INVALID_ARG_VALUE,l=c.ERR_INVALID_RETURN_VALUE,f=c.ERR_MISSING_ARGS,p=i(25961),m=i(89539).inspect,g=i(89539).types,y=g.isPromise,b=g.isRegExp,v=Object.assign?Object.assign:i(8091).assign,w=Object.is?Object.is:i(20609);function k(){var e=i(19158);n=e.isDeepEqual,o=e.isDeepStrictEqual}new Map;var S=!1,_=e.exports=x,M={};function T(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function O(e,t,i,r){if(!i){var s=!1;if(0===t)s=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var a=new p({actual:i,expected:!0,message:r,operator:"==",stackStartFn:e});throw a.generatedMessage=s,a}}function x(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];O.apply(void 0,[x,t.length].concat(t))}_.fail=function e(t,i,a,n,o){var c,h=arguments.length;if(0===h)c="Failed";else if(1===h)a=t,t=void 0;else{if(!1===S){S=!0;var d=r.emitWarning?r.emitWarning:s.warn.bind(s);d("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===h&&(n="!=")}if(a instanceof Error)throw a;var u={actual:t,expected:i,operator:void 0===n?"fail":n,stackStartFn:o||e};void 0!==a&&(u.message=a);var l=new p(u);throw c&&(l.message=c,l.generatedMessage=!0),l},_.AssertionError=p,_.ok=x,_.equal=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");t!=i&&T({actual:t,expected:i,message:r,operator:"==",stackStartFn:e})},_.notEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");t==i&&T({actual:t,expected:i,message:r,operator:"!=",stackStartFn:e})},_.deepEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");void 0===n&&k(),n(t,i)||T({actual:t,expected:i,message:r,operator:"deepEqual",stackStartFn:e})},_.notDeepEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");void 0===n&&k(),n(t,i)&&T({actual:t,expected:i,message:r,operator:"notDeepEqual",stackStartFn:e})},_.deepStrictEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");void 0===n&&k(),o(t,i)||T({actual:t,expected:i,message:r,operator:"deepStrictEqual",stackStartFn:e})},_.notDeepStrictEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");void 0===n&&k(),o(t,i)&&T({actual:t,expected:i,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},_.strictEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");w(t,i)||T({actual:t,expected:i,message:r,operator:"strictEqual",stackStartFn:e})},_.notStrictEqual=function e(t,i,r){if(arguments.length<2)throw new f("actual","expected");w(t,i)&&T({actual:t,expected:i,message:r,operator:"notStrictEqual",stackStartFn:e})};var I=function e(t,i,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&b(t[e])&&t[e].test(r[e])?s[e]=r[e]:s[e]=t[e])}))};function C(e,t,i,r,s,a){if(!(i in e)||!o(e[i],t[i])){if(!r){var n=new I(e,s),c=new I(t,s,e),h=new p({actual:n,expected:c,operator:"deepStrictEqual",stackStartFn:a});throw h.actual=e,h.expected=t,h.operator=a.name,h}T({actual:e,expected:t,message:r,operator:a.name,stackStartFn:a})}}function A(e,t,i,r){if("function"!=typeof t){if(b(t))return t.test(e);if(2===arguments.length)throw new d("expected",["Function","RegExp"],t);if("object"!==a(e)||null===e){var s=new p({actual:e,expected:t,message:i,operator:"deepStrictEqual",stackStartFn:r});throw s.operator=r.name,s}var o=Object.keys(t);if(t instanceof Error)o.push("name","message");else if(0===o.length)throw new u("error",t,"may not be an empty object");return void 0===n&&k(),o.forEach((function(s){"string"==typeof e[s]&&b(t[s])&&t[s].test(e[s])||C(e,t,s,i,o,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function E(e){if("function"!=typeof e)throw new d("fn","Function",e);try{e()}catch(e){return e}return M}function N(e){return y(e)||null!==e&&"object"===a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function P(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!N(t=e()))throw new l("instance of Promise","promiseFn",t)}else{if(!N(e))throw new d("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return M})).catch((function(e){return e}))}))}function B(e,t,i,r){if("string"==typeof i){if(4===arguments.length)throw new d("error",["Object","Error","Function","RegExp"],i);if("object"===a(t)&&null!==t){if(t.message===i)throw new h("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===i)throw new h("error/message",'The error "'.concat(t,'" is identical to the message.'));r=i,i=void 0}else if(null!=i&&"object"!==a(i)&&"function"!=typeof i)throw new d("error",["Object","Error","Function","RegExp"],i);if(t===M){var s="";i&&i.name&&(s+=" (".concat(i.name,")")),s+=r?": ".concat(r):".";var n="rejects"===e.name?"rejection":"exception";T({actual:void 0,expected:i,operator:e.name,message:"Missing expected ".concat(n).concat(s),stackStartFn:e})}if(i&&!A(t,i,r,e))throw t}function R(e,t,i,r){if(t!==M){if("string"==typeof i&&(r=i,i=void 0),!i||A(t,i)){var s=r?": ".concat(r):".",a="doesNotReject"===e.name?"rejection":"exception";T({actual:t,expected:i,operator:e.name,message:"Got unwanted ".concat(a).concat(s,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function L(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];O.apply(void 0,[L,t.length].concat(t))}_.throws=function e(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];B.apply(void 0,[e,E(t)].concat(r))},_.rejects=function e(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return P(t).then((function(t){return B.apply(void 0,[e,t].concat(r))}))},_.doesNotThrow=function e(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];R.apply(void 0,[e,E(t)].concat(r))},_.doesNotReject=function e(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return P(t).then((function(t){return R.apply(void 0,[e,t].concat(r))}))},_.ifError=function e(t){if(null!=t){var i="ifError got unwanted exception: ";"object"===a(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?i+=t.constructor.name:i+=t.message:i+=m(t);var r=new p({actual:t,expected:null,operator:"ifError",message:i,stackStartFn:e}),s=t.stack;if("string"==typeof s){var n=s.split("\n");n.shift();for(var o=r.stack.split("\n"),c=0;c<n.length;c++){var h=o.indexOf(n[c]);if(-1!==h){o=o.slice(0,h);break}}r.stack="".concat(o.join("\n"),"\n").concat(n.join("\n"))}throw r}},_.strict=v(L,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},25961:(e,t,i)=>{"use strict";var r=i(34155);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},c(e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,i){return d=h()?Reflect.construct:function(e,t,i){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return i&&u(s,i.prototype),s},d.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=i(89539).inspect,m=i(62136).codes.ERR_INVALID_ARG_TYPE;function g(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}var y="",b="",v="",w="",k={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function S(e){var t=Object.keys(e),i=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){i[t]=e[t]})),Object.defineProperty(i,"message",{value:e.message}),i}function _(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var M=function(e){function t(e){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==f(e)||null===e)throw new m("options","Object",e);var s=e.message,a=e.operator,c=e.stackStartFn,h=e.actual,d=e.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=s)i=n(this,l(t).call(this,String(s)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(y="[34m",b="[32m",w="[39m",v="[31m"):(y="",b="",w="",v="")),"object"===f(h)&&null!==h&&"object"===f(d)&&null!==d&&"stack"in h&&h instanceof Error&&"stack"in d&&d instanceof Error&&(h=S(h),d=S(d)),"deepStrictEqual"===a||"strictEqual"===a)i=n(this,l(t).call(this,function(e,t,i){var s="",a="",n=0,o="",c=!1,h=_(e),d=h.split("\n"),u=_(t).split("\n"),l=0,p="";if("strictEqual"===i&&"object"===f(e)&&"object"===f(t)&&null!==e&&null!==t&&(i="strictEqualObject"),1===d.length&&1===u.length&&d[0]!==u[0]){var m=d[0].length+u[0].length;if(m<=10){if(!("object"===f(e)&&null!==e||"object"===f(t)&&null!==t||0===e&&0===t))return"".concat(k[i],"\n\n")+"".concat(d[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==i&&m<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;d[0][l]===u[0][l];)l++;l>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var i=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,i-e.length)}(" ",l),"^"),l=0)}}for(var S=d[d.length-1],M=u[u.length-1];S===M&&(l++<2?o="\n  ".concat(S).concat(o):s=S,d.pop(),u.pop(),0!==d.length&&0!==u.length);)S=d[d.length-1],M=u[u.length-1];var T=Math.max(d.length,u.length);if(0===T){var O=h.split("\n");if(O.length>30)for(O[26]="".concat(y,"...").concat(w);O.length>27;)O.pop();return"".concat(k.notIdentical,"\n\n").concat(O.join("\n"),"\n")}l>3&&(o="\n".concat(y,"...").concat(w).concat(o),c=!0),""!==s&&(o="\n  ".concat(s).concat(o),s="");var x=0,I=k[i]+"\n".concat(b,"+ actual").concat(w," ").concat(v,"- expected").concat(w),C=" ".concat(y,"...").concat(w," Lines skipped");for(l=0;l<T;l++){var A=l-n;if(d.length<l+1)A>1&&l>2&&(A>4?(a+="\n".concat(y,"...").concat(w),c=!0):A>3&&(a+="\n  ".concat(u[l-2]),x++),a+="\n  ".concat(u[l-1]),x++),n=l,s+="\n".concat(v,"-").concat(w," ").concat(u[l]),x++;else if(u.length<l+1)A>1&&l>2&&(A>4?(a+="\n".concat(y,"...").concat(w),c=!0):A>3&&(a+="\n  ".concat(d[l-2]),x++),a+="\n  ".concat(d[l-1]),x++),n=l,a+="\n".concat(b,"+").concat(w," ").concat(d[l]),x++;else{var E=u[l],N=d[l],P=N!==E&&(!g(N,",")||N.slice(0,-1)!==E);P&&g(E,",")&&E.slice(0,-1)===N&&(P=!1,N+=","),P?(A>1&&l>2&&(A>4?(a+="\n".concat(y,"...").concat(w),c=!0):A>3&&(a+="\n  ".concat(d[l-2]),x++),a+="\n  ".concat(d[l-1]),x++),n=l,a+="\n".concat(b,"+").concat(w," ").concat(N),s+="\n".concat(v,"-").concat(w," ").concat(E),x+=2):(a+=s,s="",1!==A&&0!==l||(a+="\n  ".concat(N),x++))}if(x>20&&l<T-2)return"".concat(I).concat(C,"\n").concat(a,"\n").concat(y,"...").concat(w).concat(s,"\n")+"".concat(y,"...").concat(w)}return"".concat(I).concat(c?C:"","\n").concat(a).concat(s).concat(o).concat(p)}(h,d,a)));else if("notDeepStrictEqual"===a||"notStrictEqual"===a){var p=k[a],M=_(h).split("\n");if("notStrictEqual"===a&&"object"===f(h)&&null!==h&&(p=k.notStrictEqualObject),M.length>30)for(M[26]="".concat(y,"...").concat(w);M.length>27;)M.pop();i=1===M.length?n(this,l(t).call(this,"".concat(p," ").concat(M[0]))):n(this,l(t).call(this,"".concat(p,"\n\n").concat(M.join("\n"),"\n")))}else{var T=_(h),O="",x=k[a];"notDeepEqual"===a||"notEqual"===a?(T="".concat(k[a],"\n\n").concat(T)).length>1024&&(T="".concat(T.slice(0,1021),"...")):(O="".concat(_(d)),T.length>512&&(T="".concat(T.slice(0,509),"...")),O.length>512&&(O="".concat(O.slice(0,509),"...")),"deepEqual"===a||"equal"===a?T="".concat(x,"\n\n").concat(T,"\n\nshould equal\n\n"):O=" ".concat(a," ").concat(O)),i=n(this,l(t).call(this,"".concat(T).concat(O)))}return Error.stackTraceLimit=u,i.generatedMessage=!s,Object.defineProperty(o(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=h,i.expected=d,i.operator=a,Error.captureStackTrace&&Error.captureStackTrace(o(i),c),i.stack,i.name="AssertionError",n(i)}var i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),i=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),r.forEach((function(t){s(e,t,i[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&a(i.prototype,c),t}(c(Error));e.exports=M},62136:(e,t,i)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}var n,o,c={};function h(e,t,i){i||(i=Error);var n=function(i){function n(i,a,o){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,s(n).call(this,function(e,i,r){return"string"==typeof t?t:t(e,i,r)}(i,a,o))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,i),n}(i);c[e]=n}function d(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map((function(e){return String(e)})),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}h("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),h("ERR_INVALID_ARG_TYPE",(function(e,t,s){var a,o,c,h,u;if(void 0===n&&(n=i(69282)),n("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(a="must not be",t=t.replace(/^not /,"")):a="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))c="The ".concat(e," ").concat(a," ").concat(d(t,"type"));else{var l=("number"!=typeof u&&(u=0),u+".".length>(h=e).length||-1===h.indexOf(".",u)?"argument":"property");c='The "'.concat(e,'" ').concat(l," ").concat(a," ").concat(d(t,"type"))}return c+". Received type ".concat(r(s))}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===o&&(o=i(89539));var s=o.inspect(t);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(s)}),TypeError,RangeError),h("ERR_INVALID_RETURN_VALUE",(function(e,t,i){var s;return s=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(r(i)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(s,".")}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===n&&(n=i(69282)),n(t.length>0,"At least one arg needs to be specified");var s="The ",a=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),a){case 1:s+="".concat(t[0]," argument");break;case 2:s+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:s+=t.slice(0,a-1).join(", "),s+=", and ".concat(t[a-1]," arguments")}return"".concat(s," must be specified")}),TypeError),e.exports.codes=c},19158:(e,t,i)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],r=!0,s=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var a=void 0!==/a/g.flags,n=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},o=function(e){var t=[];return e.forEach((function(e,i){return t.push([i,e])})),t},c=Object.is?Object.is:i(20609),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},d=Number.isNaN?Number.isNaN:i(20360);function u(e){return e.call.bind(e)}var l=u(Object.prototype.hasOwnProperty),f=u(Object.prototype.propertyIsEnumerable),p=u(Object.prototype.toString),m=i(89539).types,g=m.isAnyArrayBuffer,y=m.isArrayBufferView,b=m.isDate,v=m.isMap,w=m.isRegExp,k=m.isSet,S=m.isNativeError,_=m.isBoxedPrimitive,M=m.isNumberObject,T=m.isStringObject,O=m.isBooleanObject,x=m.isBigIntObject,I=m.isSymbolObject,C=m.isFloat32Array,A=m.isFloat64Array;function E(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function N(e){return Object.keys(e).filter(E).concat(h(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function P(e,t){if(e===t)return 0;for(var i=e.length,r=t.length,s=0,a=Math.min(i,r);s<a;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0}function B(e,t,i,r){if(e===t)return 0!==e||!i||c(e,t);if(i){if("object"!==s(e))return"number"==typeof e&&d(e)&&d(t);if("object"!==s(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==s(e))return(null===t||"object"!==s(t))&&e==t;if(null===t||"object"!==s(t))return!1}var n,o,h,u,l=p(e);if(l!==p(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=N(e),m=N(t);return f.length===m.length&&L(e,t,i,r,1,f)}if("[object Object]"===l&&(!v(e)&&v(t)||!k(e)&&k(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(h=e,u=t,!(a?h.source===u.source&&h.flags===u.flags:RegExp.prototype.toString.call(h)===RegExp.prototype.toString.call(u))))return!1}else if(S(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(i||!C(e)&&!A(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===P(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var i=0;i<e.byteLength;i++)if(e[i]!==t[i])return!1;return!0}(e,t))return!1;var E=N(e),B=N(t);return E.length===B.length&&L(e,t,i,r,0,E)}if(k(e))return!(!k(t)||e.size!==t.size)&&L(e,t,i,r,2);if(v(e))return!(!v(t)||e.size!==t.size)&&L(e,t,i,r,3);if(g(e)){if(o=t,(n=e).byteLength!==o.byteLength||0!==P(new Uint8Array(n),new Uint8Array(o)))return!1}else if(_(e)&&!function(e,t){return M(e)?M(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):T(e)?T(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):O(e)?O(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):x(e)?x(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):I(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return L(e,t,i,r,0)}function R(e,t){return t.filter((function(t){return f(e,t)}))}function L(e,t,i,r,s,a){if(5===arguments.length){a=Object.keys(e);var n=Object.keys(t);if(a.length!==n.length)return!1}for(var o=0;o<a.length;o++)if(!l(t,a[o]))return!1;if(i&&5===arguments.length){var c=h(e);if(0!==c.length){var d=0;for(o=0;o<c.length;o++){var u=c[o];if(f(e,u)){if(!f(t,u))return!1;a.push(u),d++}else if(f(t,u))return!1}var p=h(t);if(c.length!==p.length&&R(t,p).length!==d)return!1}else{var m=h(t);if(0!==m.length&&0!==R(t,m).length)return!1}}if(0===a.length&&(0===s||1===s&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(e);if(void 0!==g){var y=r.val2.get(t);if(void 0!==y)return g===y}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var b=j(e,t,i,a,r,s);return r.val1.delete(e),r.val2.delete(t),b}function V(e,t,i,r){for(var s=n(e),a=0;a<s.length;a++){var o=s[a];if(B(t,o,i,r))return e.delete(o),!0}return!1}function D(e){switch(s(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(d(e))return!1}return!0}function q(e,t,i){var r=D(i);return null!=r?r:t.has(r)&&!e.has(r)}function G(e,t,i,r,s){var a=D(i);if(null!=a)return a;var n=t.get(a);return!(void 0===n&&!t.has(a)||!B(r,n,!1,s))&&!e.has(a)&&B(r,n,!1,s)}function F(e,t,i,r,s,a){for(var o=n(e),c=0;c<o.length;c++){var h=o[c];if(B(i,h,s,a)&&B(r,t.get(h),s,a))return e.delete(h),!0}return!1}function j(e,t,i,a,c,h){var d=0;if(2===h){if(!function(e,t,i,r){for(var a=null,o=n(e),c=0;c<o.length;c++){var h=o[c];if("object"===s(h)&&null!==h)null===a&&(a=new Set),a.add(h);else if(!t.has(h)){if(i)return!1;if(!q(e,t,h))return!1;null===a&&(a=new Set),a.add(h)}}if(null!==a){for(var d=n(t),u=0;u<d.length;u++){var l=d[u];if("object"===s(l)&&null!==l){if(!V(a,l,i,r))return!1}else if(!i&&!e.has(l)&&!V(a,l,i,r))return!1}return 0===a.size}return!0}(e,t,i,c))return!1}else if(3===h){if(!function(e,t,i,a){for(var n=null,c=o(e),h=0;h<c.length;h++){var d=r(c[h],2),u=d[0],l=d[1];if("object"===s(u)&&null!==u)null===n&&(n=new Set),n.add(u);else{var f=t.get(u);if(void 0===f&&!t.has(u)||!B(l,f,i,a)){if(i)return!1;if(!G(e,t,u,l,a))return!1;null===n&&(n=new Set),n.add(u)}}}if(null!==n){for(var p=o(t),m=0;m<p.length;m++){var g=r(p[m],2),y=(u=g[0],g[1]);if("object"===s(u)&&null!==u){if(!F(n,e,u,y,i,a))return!1}else if(!(i||e.has(u)&&B(e.get(u),y,!1,a)||F(n,e,u,y,!1,a)))return!1}return 0===n.size}return!0}(e,t,i,c))return!1}else if(1===h)for(;d<e.length;d++){if(!l(e,d)){if(l(t,d))return!1;for(var u=Object.keys(e);d<u.length;d++){var f=u[d];if(!l(t,f)||!B(e[f],t[f],i,c))return!1}return u.length===Object.keys(t).length}if(!l(t,d)||!B(e[d],t[d],i,c))return!1}for(d=0;d<a.length;d++){var p=a[d];if(!B(e[p],t[p],i,c))return!1}return!0}e.exports={isDeepEqual:function(e,t){return B(e,t,!1)},isDeepStrictEqual:function(e,t){return B(e,t,!0)}}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,a=c(e),n=a[0],o=a[1],h=new s(function(e,t,i){return 3*(t+i)/4-i}(0,n,o)),d=0,u=o>0?n-4:n;for(i=0;i<u;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],h[d++]=t>>16&255,h[d++]=t>>8&255,h[d++]=255&t;return 2===o&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,h[d++]=255&t),1===o&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,h[d++]=t>>8&255,h[d++]=255&t),h},t.fromByteArray=function(e){for(var t,r=e.length,s=r%3,a=[],n=16383,o=0,c=r-s;o<c;o+=n)a.push(h(e,o,o+n>c?c:o+n));return 1===s?(t=e[r-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),a.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=a.length;n<o;++n)i[n]=a[n],r[a.charCodeAt(n)]=n;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,r){for(var s,a,n=[],o=t;o<r;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),n.push(i[(a=s)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return n.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},60983:(e,t,i)=>{"use strict";var r=i(48764).Buffer;function s(e){return(e+"===".slice((e.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}e.exports={unescape:s,escape:a,encode:function(e,t){return a(r.from(e,t||"utf8").toString("base64"))},decode:function(e,t){return r.from(s(e),"base64").toString(t||"utf8")}}},8442:(e,t,i)=>{const r=i(99488);function s(e,t,i){const r=e[t]+e[i];let s=e[t+1]+e[i+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function a(e,t,i,r){let s=e[t]+i;i<0&&(s+=4294967296);let a=e[t+1]+r;s>=4294967296&&a++,e[t]=s,e[t+1]=a}function n(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,i,r,n,o){const c=u[n],h=u[n+1],l=u[o],f=u[o+1];s(d,e,t),a(d,e,c,h);let p=d[r]^d[e],m=d[r+1]^d[e+1];d[r]=m,d[r+1]=p,s(d,i,r),p=d[t]^d[i],m=d[t+1]^d[i+1],d[t]=p>>>24^m<<8,d[t+1]=m>>>24^p<<8,s(d,e,t),a(d,e,l,f),p=d[r]^d[e],m=d[r+1]^d[e+1],d[r]=p>>>16^m<<16,d[r+1]=m>>>16^p<<16,s(d,i,r),p=d[t]^d[i],m=d[t+1]^d[i+1],d[t]=m>>>31^p<<1,d[t+1]=p>>>31^m<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),d=new Uint32Array(32),u=new Uint32Array(32);function l(e,t){let i=0;for(i=0;i<16;i++)d[i]=e.h[i],d[i+16]=c[i];for(d[24]=d[24]^e.t,d[25]=d[25]^e.t/4294967296,t&&(d[28]=~d[28],d[29]=~d[29]),i=0;i<32;i++)u[i]=n(e.b,4*i);for(i=0;i<12;i++)o(0,8,16,24,h[16*i+0],h[16*i+1]),o(2,10,18,26,h[16*i+2],h[16*i+3]),o(4,12,20,28,h[16*i+4],h[16*i+5]),o(6,14,22,30,h[16*i+6],h[16*i+7]),o(0,10,20,30,h[16*i+8],h[16*i+9]),o(2,12,22,24,h[16*i+10],h[16*i+11]),o(4,14,16,26,h[16*i+12],h[16*i+13]),o(6,8,18,28,h[16*i+14],h[16*i+15]);for(i=0;i<16;i++)e.h[i]=e.h[i]^d[i]^d[i+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,i,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(i&&16!==i.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,i&&f.set(i,32),r&&f.set(r,48);for(let e=0;e<16;e++)s.h[e]=c[e]^n(f,4*e);return t&&(m(s,t),s.c=128),s}function m(e,t){for(let i=0;i<t.length;i++)128===e.c&&(e.t+=e.c,l(e,!1),e.c=0),e.b[e.c++]=t[i]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;l(e,!0);const t=new Uint8Array(e.outlen);for(let i=0;i<e.outlen;i++)t[i]=e.h[i>>2]>>8*(3&i);return t}function y(e,t,i,s,a){i=i||64,e=r.normalizeInput(e),s&&(s=r.normalizeInput(s)),a&&(a=r.normalizeInput(a));const n=p(i,t,s,a);return m(n,e),g(n)}e.exports={blake2b:y,blake2bHex:function(e,t,i,s,a){const n=y(e,t,i,s,a);return r.toHex(n)},blake2bInit:p,blake2bUpdate:m,blake2bFinal:g}},45297:(e,t,i)=>{const r=i(99488);function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,i,r,s,a){h[e]=h[e]+h[t]+s,h[r]=n(h[r]^h[e],16),h[i]=h[i]+h[r],h[t]=n(h[t]^h[i],12),h[e]=h[e]+h[t]+a,h[r]=n(h[r]^h[e],8),h[i]=h[i]+h[r],h[t]=n(h[t]^h[i],7)}function n(e,t){return e>>>t^e<<32-t}const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),h=new Uint32Array(16),d=new Uint32Array(16);function u(e,t){let i=0;for(i=0;i<8;i++)h[i]=e.h[i],h[i+8]=o[i];for(h[12]^=e.t,h[13]^=e.t/4294967296,t&&(h[14]=~h[14]),i=0;i<16;i++)d[i]=s(e.b,4*i);for(i=0;i<10;i++)a(0,4,8,12,d[c[16*i+0]],d[c[16*i+1]]),a(1,5,9,13,d[c[16*i+2]],d[c[16*i+3]]),a(2,6,10,14,d[c[16*i+4]],d[c[16*i+5]]),a(3,7,11,15,d[c[16*i+6]],d[c[16*i+7]]),a(0,5,10,15,d[c[16*i+8]],d[c[16*i+9]]),a(1,6,11,12,d[c[16*i+10]],d[c[16*i+11]]),a(2,7,8,13,d[c[16*i+12]],d[c[16*i+13]]),a(3,4,9,14,d[c[16*i+14]],d[c[16*i+15]]);for(i=0;i<8;i++)e.h[i]^=h[i]^h[i+8]}function l(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const i=t?t.length:0;if(t&&!(i>0&&i<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^i<<8^e,i>0&&(f(r,t),r.c=64),r}function f(e,t){for(let i=0;i<t.length;i++)64===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[i]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;u(e,!0);const t=new Uint8Array(e.outlen);for(let i=0;i<e.outlen;i++)t[i]=e.h[i>>2]>>8*(3&i)&255;return t}function m(e,t,i){i=i||32,e=r.normalizeInput(e);const s=l(i,t);return f(s,e),p(s)}e.exports={blake2s:m,blake2sHex:function(e,t,i){const s=m(e,t,i);return r.toHex(s)},blake2sInit:l,blake2sUpdate:f,blake2sFinal:p}},1191:(e,t,i)=>{const r=i(8442),s=i(45297);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:s.blake2s,blake2sHex:s.blake2sHex,blake2sInit:s.blake2sInit,blake2sUpdate:s.blake2sUpdate,blake2sFinal:s.blake2sFinal}},99488:(e,t,i)=>{var r=i(25108);function s(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,i){let a="\n"+e+" = ";for(let r=0;r<t.length;r+=2){if(32===i)a+=s(t[r]).toUpperCase(),a+=" ",a+=s(t[r+1]).toUpperCase();else{if(64!==i)throw new Error("Invalid size "+i);a+=s(t[r+1]).toUpperCase(),a+=s(t[r]).toUpperCase()}r%6==4?a+="\n"+new Array(e.length+4).join(" "):r<t.length-2&&(a+=" ")}r.log(a)},testSpeed:function(e,t,i){let s=(new Date).getTime();const a=new Uint8Array(t);for(let e=0;e<t;e++)a[e]=e%256;const n=(new Date).getTime();r.log("Generated random input in "+(n-s)+"ms"),s=n;for(let n=0;n<i;n++){const i=e(a),n=(new Date).getTime(),o=n-s;s=n,r.log("Hashed in "+o+"ms: "+i.substring(0,20)+"..."),r.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},13550:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(46601).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+e)}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,s){for(var a=0,n=0,o=Math.min(e.length,i),c=t;c<o;c++){var h=e.charCodeAt(c)-48;a*=s,n=h>=49?h-49+10:h>=17?h-17+10:h,r(h>=0&&n<s,"Invalid character"),a+=n}return a}function d(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){d(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){a.prototype.inspect=u}else a.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i._strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?l[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=f[e],d=p[e];i="";var u=this.clone();for(u.negative=0;!u.isZero();){var m=u.modrn(d).toString(e);i=(u=u.idivn(d)).isZero()?m+i:l[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},n&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){this._strip();var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var n=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](n,s),n},a.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i++]=255&n,i<e.length&&(e[i++]=n>>8&255),i<e.length&&(e[i++]=n>>16&255),6===a?(i<e.length&&(e[i++]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i--]=255&n,i>=0&&(e[i--]=n>>8&255),i>=0&&(e[i--]=n>>16&255),6===a?(i>=0&&(e[i--]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this._strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function y(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i._strip()}function b(e,t,i){return y(e,t,i)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=m),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):i<63?m(this,e,t):i<1024?y(this,e,t):b(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},v.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},v.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},v.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},v.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},v.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},v.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},v.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},v.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},v.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),b(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var i=0,s=0;s<this.length;s++){var a=(0|this.words[s])*e,n=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=n>>>26,this.words[s]=67108863&n}return 0!==i&&(this.words[s]=i,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=e.words[r]>>>s&1}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this._strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this._strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,s=0,a=this.length-1;a>=0;a--)s=(i*s+(0|this.words[a]))%e;return t?-s:s},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,s=this.length-1;s>=0;s--){var a=(0|this.words[s])+67108864*i;this.words[s]=a/e|0,i=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new O(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){O.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},s(S,k),S.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(_,k),s(M,k),s(T,k),T.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new _;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return w[e]=t,t},O.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},O.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},O.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(d(e,e.umod(this.m)._forceRed(this)),e)},O.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},O.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},O.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},O.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},O.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},O.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},O.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},O.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},O.prototype.isqr=function(e){return this.imul(e,e.clone())},O.prototype.sqr=function(e){return this.mul(e,e)},O.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},O.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},O.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},O.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},O.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new x(e)},s(x,O),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},29931:(e,t,i)=>{var r;function s(e){this.rand=e}if(e.exports=function(e){return r||(r=new s(null)),r.generate(e)},e.exports.Rand=s,s.prototype.generate=function(e){return this._rand(e)},s.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=i(89214);if("function"!=typeof a.randomBytes)throw new Error("Not supported");s.prototype._rand=function(e){return a.randomBytes(e)}}catch(e){}},74497:(e,t,i)=>{var r=i(89509).Buffer;function s(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,i=new Array(t),s=0;s<t;s++)i[s]=e.readUInt32BE(4*s);return i}function a(e){for(;0<e.length;e++)e[0]=0}function n(e,t,i,r,s){for(var a,n,o,c,h=i[0],d=i[1],u=i[2],l=i[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],y=4,b=1;b<s;b++)a=h[f>>>24]^d[p>>>16&255]^u[m>>>8&255]^l[255&g]^t[y++],n=h[p>>>24]^d[m>>>16&255]^u[g>>>8&255]^l[255&f]^t[y++],o=h[m>>>24]^d[g>>>16&255]^u[f>>>8&255]^l[255&p]^t[y++],c=h[g>>>24]^d[f>>>16&255]^u[p>>>8&255]^l[255&m]^t[y++],f=a,p=n,m=o,g=c;return a=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[y++],n=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&f])^t[y++],o=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[y++],c=(r[g>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[y++],[a>>>=0,n>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],s=[[],[],[],[]],a=[[],[],[],[]],n=0,o=0,c=0;c<256;++c){var h=o^o<<1^o<<2^o<<3^o<<4;h=h>>>8^255&h^99,i[n]=h,r[h]=n;var d=e[n],u=e[d],l=e[u],f=257*e[h]^16843008*h;s[0][n]=f<<24|f>>>8,s[1][n]=f<<16|f>>>16,s[2][n]=f<<8|f>>>24,s[3][n]=f,f=16843009*l^65537*u^257*d^16843008*n,a[0][h]=f<<24|f>>>8,a[1][h]=f<<16|f>>>16,a[2][h]=f<<8|f>>>24,a[3][h]=f,0===n?n=o=1:(n=d^e[e[e[l^d]]],o^=e[e[o]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:s,INV_SUB_MIX:a}}();function h(e){this._key=s(e),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),s=[],a=0;a<t;a++)s[a]=e[a];for(a=t;a<r;a++){var n=s[a-1];a%t==0?(n=n<<8|n>>>24,n=c.SBOX[n>>>24]<<24|c.SBOX[n>>>16&255]<<16|c.SBOX[n>>>8&255]<<8|c.SBOX[255&n],n^=o[a/t|0]<<24):t>6&&a%t==4&&(n=c.SBOX[n>>>24]<<24|c.SBOX[n>>>16&255]<<16|c.SBOX[n>>>8&255]<<8|c.SBOX[255&n]),s[a]=s[a-t]^n}for(var h=[],d=0;d<r;d++){var u=r-d,l=s[u-(d%4?0:4)];h[d]=d<4||u<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=i,this._keySchedule=s,this._invKeySchedule=h},h.prototype.encryptBlockRaw=function(e){return n(e=s(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=r.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},h.prototype.decryptBlock=function(e){var t=(e=s(e))[1];e[1]=e[3],e[3]=t;var i=n(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),a=r.allocUnsafe(16);return a.writeUInt32BE(i[0],0),a.writeUInt32BE(i[3],4),a.writeUInt32BE(i[2],8),a.writeUInt32BE(i[1],12),a},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=h},62422:(e,t,i)=>{var r=i(74497),s=i(89509).Buffer,a=i(71027),n=i(35717),o=i(83288),c=i(67295),h=i(20685);function d(e,t,i,n){a.call(this);var c=s.alloc(4,0);this._cipher=new r.AES(t);var d=this._cipher.encryptBlock(c);this._ghash=new o(d),i=function(e,t,i){if(12===t.length)return e._finID=s.concat([t,s.from([0,0,0,1])]),s.concat([t,s.from([0,0,0,2])]);var r=new o(i),a=t.length,n=a%16;r.update(t),n&&(n=16-n,r.update(s.alloc(n,0))),r.update(s.alloc(8,0));var c=8*a,d=s.alloc(8);d.writeUIntBE(c,0,8),r.update(d),e._finID=r.state;var u=s.from(e._finID);return h(u),u}(this,i,d),this._prev=s.from(i),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}n(d,a),d.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=s.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),s=0;s<r;++s)i+=e[s]^t[s];return i}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},d.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=d},44696:(e,t,i)=>{var r=i(71494),s=i(66193),a=i(44946);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=s.createDecipher,t.createDecipheriv=t.Decipheriv=s.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(a)}},66193:(e,t,i)=>{var r=i(62422),s=i(89509).Buffer,a=i(45),n=i(25969),o=i(71027),c=i(74497),h=i(13048);function d(e,t,i){o.call(this),this._cache=new u,this._last=void 0,this._cipher=new c.AES(t),this._prev=s.from(i),this._mode=e,this._autopadding=!0}function u(){this.cache=s.allocUnsafe(0)}function l(e,t,i){var o=a[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=s.from(i)),"GCM"!==o.mode&&i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof t&&(t=s.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new n(o.module,t,i,!0):"auth"===o.type?new r(o.module,t,i,!0):new d(o.module,t,i)}i(35717)(d,o),d.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return s.concat(r)},d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var i=-1;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=s.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=h(t,!1,i.key,i.iv);return l(e,r.key,r.iv)},t.createDecipheriv=l},71494:(e,t,i)=>{var r=i(45),s=i(62422),a=i(89509).Buffer,n=i(25969),o=i(71027),c=i(74497),h=i(13048);function d(e,t,i){o.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=a.from(i),this._mode=e,this._autopadding=!0}i(35717)(d,o),d.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return a.concat(r)};var u=a.alloc(16,16);function l(){this.cache=a.allocUnsafe(0)}function f(e,t,i){var o=r[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=a.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof i&&(i=a.from(i)),"GCM"!==o.mode&&i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new n(o.module,t,i):"auth"===o.type?new s(o.module,t,i):new d(o.module,t,i)}d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=a.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return a.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var s=h(t,!1,i.key,i.iv);return f(e,s.key,s.iv)}},83288:(e,t,i)=>{var r=i(89509).Buffer,s=r.alloc(16,0);function a(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function n(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,i,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],s=[0,0,0,0],n=-1;++n<128;){for(0!=(this.state[~~(n/8)]&1<<7-n%8)&&(s[0]^=r[0],s[1]^=r[1],s[2]^=r[2],s[3]^=r[3]),i=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,i&&(r[0]=r[0]^225<<24)}this.state=a(s)},n.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},n.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,s],16)),this.ghash(a([0,e,0,t])),this.state},e.exports=n},20685:e=>{e.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},25292:(e,t,i)=>{var r=i(67295);t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var s=e._cipher.decryptBlock(t);return r(s,i)}},86311:(e,t,i)=>{var r=i(89509).Buffer,s=i(67295);function a(e,t,i){var a=t.length,n=s(t,e._cache);return e._cache=e._cache.slice(a),e._prev=r.concat([e._prev,i?t:n]),n}t.encrypt=function(e,t,i){for(var s,n=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){n=r.concat([n,a(e,t,i)]);break}s=e._cache.length,n=r.concat([n,a(e,t.slice(0,s),i)]),t=t.slice(s)}return n}},21510:(e,t,i)=>{var r=i(89509).Buffer;function s(e,t,i){for(var r,s,n=-1,o=0;++n<8;)r=t&1<<7-n?128:0,o+=(128&(s=e._cipher.encryptBlock(e._prev)[0]^r))>>n%8,e._prev=a(e._prev,i?r:s);return o}function a(e,t){var i=e.length,s=-1,a=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++s<i;)a[s]=e[s]<<1|e[s+1]>>7;return a}t.encrypt=function(e,t,i){for(var a=t.length,n=r.allocUnsafe(a),o=-1;++o<a;)n[o]=s(e,t[o],i);return n}},71964:(e,t,i)=>{var r=i(89509).Buffer;function s(e,t,i){var s=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([i?t:s])]),s}t.encrypt=function(e,t,i){for(var a=t.length,n=r.allocUnsafe(a),o=-1;++o<a;)n[o]=s(e,t[o],i);return n}},96009:(e,t,i)=>{var r=i(67295),s=i(89509).Buffer,a=i(20685);function n(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}t.encrypt=function(e,t){var i=Math.ceil(t.length/16),a=e._cache.length;e._cache=s.concat([e._cache,s.allocUnsafe(16*i)]);for(var o=0;o<i;o++){var c=n(e),h=a+16*o;e._cache.writeUInt32BE(c[0],h+0),e._cache.writeUInt32BE(c[1],h+4),e._cache.writeUInt32BE(c[2],h+8),e._cache.writeUInt32BE(c[3],h+12)}var d=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,d)}},11084:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},45:(e,t,i)=>{var r={ECB:i(11084),CBC:i(25292),CFB:i(86311),CFB8:i(71964),CFB1:i(21510),OFB:i(18861),CTR:i(96009),GCM:i(96009)},s=i(44946);for(var a in s)s[a].module=r[s[a].mode];e.exports=s},18861:(e,t,i)=>{var r=i(48764).Buffer,s=i(67295);function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=r.concat([e._cache,a(e)]);var i=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),s(t,i)}},25969:(e,t,i)=>{var r=i(74497),s=i(89509).Buffer,a=i(71027);function n(e,t,i,n){a.call(this),this._cipher=new r.AES(t),this._prev=s.from(i),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._mode=e}i(35717)(n,a),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},e.exports=n},53614:(e,t,i)=>{var r=i(47667),s=i(44696),a=i(45),n=i(99715),o=i(13048);function c(e,t,i){if(e=e.toLowerCase(),a[e])return s.createCipheriv(e,t,i);if(n[e])return new r({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function h(e,t,i){if(e=e.toLowerCase(),a[e])return s.createDecipheriv(e,t,i);if(n[e])return new r({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var i,r;if(e=e.toLowerCase(),a[e])i=a[e].key,r=a[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");i=8*n[e].key,r=n[e].iv}var s=o(t,!1,i,r);return c(e,s.key,s.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var i,r;if(e=e.toLowerCase(),a[e])i=a[e].key,r=a[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");i=8*n[e].key,r=n[e].iv}var s=o(t,!1,i,r);return h(e,s.key,s.iv)},t.createDecipheriv=t.Decipheriv=h,t.listCiphers=t.getCiphers=function(){return Object.keys(n).concat(s.getCiphers())}},47667:(e,t,i)=>{var r=i(71027),s=i(15251),a=i(35717),n=i(89509).Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(e){r.call(this);var t,i=e.mode.toLowerCase(),s=o[i];t=e.decrypt?"decrypt":"encrypt";var a=e.key;n.isBuffer(a)||(a=n.from(a)),"des-ede"!==i&&"des-ede-cbc"!==i||(a=n.concat([a,a.slice(0,8)]));var c=e.iv;n.isBuffer(c)||(c=n.from(c)),this._des=s.create({key:a,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,a(c,r),c.prototype._update=function(e){return n.from(this._des.update(e))},c.prototype._final=function(){return n.from(this._des.final())}},99715:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},23663:(e,t,i)=>{var r=i(48764).Buffer,s=i(13550),a=i(61798);function n(e){var t,i=e.modulus.byteLength();do{t=new s(a(i))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function o(e,t){var i=function(e){var t=n(e);return{blinder:t.toRed(s.mont(e.modulus)).redPow(new s(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),a=t.modulus.byteLength(),o=new s(e).mul(i.blinder).umod(t.modulus),c=o.toRed(s.mont(t.prime1)),h=o.toRed(s.mont(t.prime2)),d=t.coefficient,u=t.prime1,l=t.prime2,f=c.redPow(t.exponent1).fromRed(),p=h.redPow(t.exponent2).fromRed(),m=f.isub(p).imul(d).umod(u).imul(l);return p.iadd(m).imul(i.unblinder).umod(t.modulus).toArrayLike(r,"be",a)}o.getr=n,e.exports=o},56042:(e,t,i)=>{e.exports=i(75207)},64743:(e,t,i)=>{var r=i(89509).Buffer,s=i(23482),a=i(88473),n=i(35717),o=i(82957),c=i(47753),h=i(75207);function d(e){a.Writable.call(this);var t=h[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){a.Writable.call(this);var t=h[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){return new d(e)}function f(e){return new u(e)}Object.keys(h).forEach((function(e){h[e].id=r.from(h[e].id,"hex"),h[e.toLowerCase()]=h[e]})),n(d,a.Writable),d.prototype._write=function(e,t,i){this._hash.update(e),i()},d.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},d.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=o(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},n(u,a.Writable),u.prototype._write=function(e,t,i){this._hash.update(e),i()},u.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},u.prototype.verify=function(e,t,i){"string"==typeof t&&(t=r.from(t,i)),this.end();var s=this._hash.digest();return c(t,s,e,this._signType,this._tag)},e.exports={Sign:l,Verify:f,createSign:l,createVerify:f}},82957:(e,t,i)=>{var r=i(89509).Buffer,s=i(58355),a=i(23663),n=i(86266).ec,o=i(13550),c=i(70980),h=i(1308);function d(e,t,i,a){if((e=r.from(e.toArray())).length<t.byteLength()){var n=r.alloc(t.byteLength()-e.length);e=r.concat([n,e])}var o=i.length,c=function(e,t){e=(e=u(e,t)).mod(t);var i=r.from(e.toArray());if(i.length<t.byteLength()){var s=r.alloc(t.byteLength()-i.length);i=r.concat([s,i])}return i}(i,t),h=r.alloc(o);h.fill(1);var d=r.alloc(o);return d=s(a,d).update(h).update(r.from([0])).update(e).update(c).digest(),h=s(a,d).update(h).digest(),{k:d=s(a,d).update(h).update(r.from([1])).update(e).update(c).digest(),v:h=s(a,d).update(h).digest()}}function u(e,t){var i=new o(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function l(e,t,i){var a,n;do{for(a=r.alloc(0);8*a.length<e.bitLength();)t.v=s(i,t.k).update(t.v).digest(),a=r.concat([a,t.v]);n=u(a,e),t.k=s(i,t.k).update(t.v).update(r.from([0])).digest(),t.v=s(i,t.k).update(t.v).digest()}while(-1!==n.cmp(e));return n}function f(e,t,i,r){return e.toRed(o.mont(i)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,i,s,p){var m=c(t);if(m.curve){if("ecdsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");return function(e,t){var i=h[t.curve.join(".")];if(!i)throw new Error("unknown curve "+t.curve.join("."));var s=new n(i).keyFromPrivate(t.privateKey).sign(e);return r.from(s.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==s)throw new Error("wrong private key type");return function(e,t,i){for(var s,a=t.params.priv_key,n=t.params.p,c=t.params.q,h=t.params.g,p=new o(0),m=u(e,c).mod(c),g=!1,y=d(a,c,e,i);!1===g;)p=f(h,s=l(c,y,i),n,c),0===(g=s.invm(c).imul(m.add(a.mul(p))).mod(c)).cmpn(0)&&(g=!1,p=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var i=[48,e.length+t.length+4,2,e.length];return i=i.concat(e,[2,t.length],t),r.from(i)}(p,g)}(e,m,i)}if("rsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");e=r.concat([p,e]);for(var g=m.modulus.byteLength(),y=[0,1];e.length+y.length+1<g;)y.push(255);y.push(0);for(var b=-1;++b<e.length;)y.push(e[b]);return a(y,m)},e.exports.getKey=d,e.exports.makeKey=l},47753:(e,t,i)=>{var r=i(89509).Buffer,s=i(13550),a=i(86266).ec,n=i(70980),o=i(1308);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,i,h,d){var u=n(i);if("ec"===u.type){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");return function(e,t,i){var r=o[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var s=new a(r),n=i.data.subjectPrivateKey.data;return s.verify(t,e,n)}(e,t,u)}if("dsa"===u.type){if("dsa"!==h)throw new Error("wrong public key type");return function(e,t,i){var r=i.data.p,a=i.data.q,o=i.data.g,h=i.data.pub_key,d=n.signature.decode(e,"der"),u=d.s,l=d.r;c(u,a),c(l,a);var f=s.mont(r),p=u.invm(a);return 0===o.toRed(f).redPow(new s(t).mul(p).mod(a)).fromRed().mul(h.toRed(f).redPow(l.mul(p).mod(a)).fromRed()).mod(r).mod(a).cmp(l)}(e,t,u)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");t=r.concat([d,t]);for(var l=u.modulus.byteLength(),f=[1],p=0;t.length+f.length+2<l;)f.push(255),p++;f.push(0);for(var m=-1;++m<t.length;)f.push(t[m]);f=r.from(f);var g=s.mont(u.modulus);e=(e=new s(e).toRed(g)).redPow(new s(u.publicExponent)),e=r.from(e.fromRed().toArray());var y=p<8?1:0;for(l=Math.min(e.length,f.length),e.length!==f.length&&(y=1),m=-1;++m<l;)y|=e[m]^f[m];return 0===y}},74505:(e,t,i)=>{"use strict";var r=i(48764).Buffer,s=i(34155),a=i(69282),n=i(62292),o=i(30405),c=i(27948),h=i(71619);for(var d in h)t[d]=h[d];function u(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||c.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},u.prototype.write=function(e,t,i,r,s,a,n){return this._write(!0,e,t,i,r,s,a,n)},u.prototype.writeSync=function(e,t,i,r,s,a,n){return this._write(!1,e,t,i,r,s,a,n)},u.prototype._write=function(e,i,n,o,c,h,d,u){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==t.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==n&&(n=r.alloc(0),c=0,o=0),this.strm.avail_in=c,this.strm.input=n,this.strm.next_in=o,this.strm.avail_out=u,this.strm.output=h,this.strm.next_out=d,this.flush=i,!e)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return s.nextTick((function(){l._process(),l._after()})),this},u.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},u.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=c.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=c.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=c.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=c.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},u.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(e,i,r,s,n){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(i>=-1&&i<=9,"invalid compression level"),a(r>=1&&r<=9,"invalid memlevel"),a(s===t.Z_FILTERED||s===t.Z_HUFFMAN_ONLY||s===t.Z_RLE||s===t.Z_FIXED||s===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,r,s,n),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(e,i,r,s,a){switch(this.level=e,this.windowBits=i,this.memLevel=r,this.strategy=s,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new n,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=a,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=c.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=u},42635:(e,t,i)=>{"use strict";var r=i(34155),s=i(48764).Buffer,a=i(42830).Transform,n=i(74505),o=i(89539),c=i(69282).ok,h=i(48764).kMaxLength,d="Cannot create final Buffer. It would be larger than 0x"+h.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16384,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(n),l=0;l<u.length;l++){var f=u[l];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:n[f],writable:!1})}for(var p={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},m=Object.keys(p),g=0;g<m.length;g++){var y=m[g];p[p[y]]=y}function b(e,t,i){var r=[],a=0;function n(){for(var t;null!==(t=e.read());)r.push(t),a+=t.length;e.once("readable",n)}function o(){var t,n=null;a>=h?n=new RangeError(d):t=s.concat(r,a),r=[],e.close(),i(n,t)}e.on("error",(function(t){e.removeListener("end",o),e.removeListener("readable",n),i(t)})),e.on("end",o),e.end(t),n()}function v(e,t){if("string"==typeof t&&(t=s.from(t)),!s.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function w(e){if(!(this instanceof w))return new w(e);I.call(this,e,n.DEFLATE)}function k(e){if(!(this instanceof k))return new k(e);I.call(this,e,n.INFLATE)}function S(e){if(!(this instanceof S))return new S(e);I.call(this,e,n.GZIP)}function _(e){if(!(this instanceof _))return new _(e);I.call(this,e,n.GUNZIP)}function M(e){if(!(this instanceof M))return new M(e);I.call(this,e,n.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);I.call(this,e,n.INFLATERAW)}function O(e){if(!(this instanceof O))return new O(e);I.call(this,e,n.UNZIP)}function x(e){return e===n.Z_NO_FLUSH||e===n.Z_PARTIAL_FLUSH||e===n.Z_SYNC_FLUSH||e===n.Z_FULL_FLUSH||e===n.Z_FINISH||e===n.Z_BLOCK}function I(e,i){var r=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!x(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!x(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||n.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:n.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!s.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(i);var o=this;this._hadError=!1,this._handle.onerror=function(e,i){C(o),o._hadError=!0;var r=new Error(e);r.errno=i,r.code=t.codes[i],o.emit("error",r)};var c=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(c=e.level);var h=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(h=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,h,e.dictionary),this._buffer=s.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=h,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!r._handle},configurable:!0,enumerable:!0})}function C(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function A(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=w,t.Inflate=k,t.Gzip=S,t.Gunzip=_,t.DeflateRaw=M,t.InflateRaw=T,t.Unzip=O,t.createDeflate=function(e){return new w(e)},t.createInflate=function(e){return new k(e)},t.createDeflateRaw=function(e){return new M(e)},t.createInflateRaw=function(e){return new T(e)},t.createGzip=function(e){return new S(e)},t.createGunzip=function(e){return new _(e)},t.createUnzip=function(e){return new O(e)},t.deflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new w(t),e,i)},t.deflateSync=function(e,t){return v(new w(t),e)},t.gzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new S(t),e,i)},t.gzipSync=function(e,t){return v(new S(t),e)},t.deflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new M(t),e,i)},t.deflateRawSync=function(e,t){return v(new M(t),e)},t.unzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new O(t),e,i)},t.unzipSync=function(e,t){return v(new O(t),e)},t.inflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new k(t),e,i)},t.inflateSync=function(e,t){return v(new k(t),e)},t.gunzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new _(t),e,i)},t.gunzipSync=function(e,t){return v(new _(t),e)},t.inflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new T(t),e,i)},t.inflateRawSync=function(e,t){return v(new T(t),e)},o.inherits(I,a),I.prototype.params=function(e,i,s){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(i!=t.Z_FILTERED&&i!=t.Z_HUFFMAN_ONLY&&i!=t.Z_RLE&&i!=t.Z_FIXED&&i!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==e||this._strategy!==i){var a=this;this.flush(n.Z_SYNC_FLUSH,(function(){c(a._handle,"zlib binding closed"),a._handle.params(e,i),a._hadError||(a._level=e,a._strategy=i,s&&s())}))}else r.nextTick(s)},I.prototype.reset=function(){return c(this._handle,"zlib binding closed"),this._handle.reset()},I.prototype._flush=function(e){this._transform(s.alloc(0),"",e)},I.prototype.flush=function(e,t){var i=this,a=this._writableState;("function"==typeof e||void 0===e&&!t)&&(t=e,e=n.Z_FULL_FLUSH),a.ended?t&&r.nextTick(t):a.ending?t&&this.once("end",t):a.needDrain?t&&this.once("drain",(function(){return i.flush(e,t)})):(this._flushFlag=e,this.write(s.alloc(0),"",t))},I.prototype.close=function(e){C(this,e),r.nextTick(A,this)},I.prototype._transform=function(e,t,i){var r,a=this._writableState,o=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||s.isBuffer(e)?this._handle?(o?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),void this._processChunk(e,r,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},I.prototype._processChunk=function(e,t,i){var r=e&&e.length,a=this._chunkSize-this._offset,n=0,o=this,u="function"==typeof i;if(!u){var l,f=[],p=0;this.on("error",(function(e){l=e})),c(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,n,r,this._buffer,this._offset,a)}while(!this._hadError&&b(m[0],m[1]));if(this._hadError)throw l;if(p>=h)throw C(this),new RangeError(d);var g=s.concat(f,p);return C(this),g}c(this._handle,"zlib binding closed");var y=this._handle.write(t,e,n,r,this._buffer,this._offset,a);function b(h,d){if(this&&(this.buffer=null,this.callback=null),!o._hadError){var l=a-d;if(c(l>=0,"have should not go down"),l>0){var m=o._buffer.slice(o._offset,o._offset+l);o._offset+=l,u?o.push(m):(f.push(m),p+=m.length)}if((0===d||o._offset>=o._chunkSize)&&(a=o._chunkSize,o._offset=0,o._buffer=s.allocUnsafe(o._chunkSize)),0===d){if(n+=r-h,r=h,!u)return!0;var g=o._handle.write(t,e,n,r,o._buffer,o._offset,o._chunkSize);return g.callback=b,void(g.buffer=e)}if(!u)return!1;i()}}y.buffer=e,y.callback=b},o.inherits(w,I),o.inherits(k,I),o.inherits(S,I),o.inherits(_,I),o.inherits(M,I),o.inherits(T,I),o.inherits(O,I)},67295:(e,t,i)=>{var r=i(48764).Buffer;e.exports=function(e,t){for(var i=Math.min(e.length,t.length),s=new r(i),a=0;a<i;++a)s[a]=e[a]^t[a];return s}},48764:(e,t,i)=>{"use strict";var r=i(25108);const s=i(79742),a=i(80645),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=function(e){return+e!=e&&(e=0),h.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function c(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return d(e,t,i)}function d(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=0|g(e,t);let r=c(i);const s=r.write(e,t);return s!==i&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return h.from(r,t,i);const s=function(e){if(h.isBuffer(e)){const t=0|m(e.length),i=c(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?c(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),c(e<0?0:0|m(e))}function f(e){const t=e.length<0?0:0|m(e.length),i=c(t);for(let r=0;r<t;r+=1)i[r]=255&e[r];return i}function p(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(r,h.prototype),r}function m(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(e).length;default:if(s)return r?-1:W(e).length;t=(""+t).toLowerCase(),s=!0}}function y(e,t,i){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,i);case"utf8":case"utf-8":return x(this,t,i);case"ascii":return C(this,t,i);case"latin1":case"binary":return A(this,t,i);case"base64":return O(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function v(e,t,i,r,s){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),$(i=+i)&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return-1;i=e.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:w(e,t,i,r,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):w(e,[t],i,r,s);throw new TypeError("val must be string, number or Buffer")}function w(e,t,i,r,s){let a,n=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;n=2,o/=2,c/=2,i/=2}function h(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(s){let r=-1;for(a=i;a<o;a++)if(h(e,a)===h(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===c)return r*n}else-1!==r&&(a-=a-r),r=-1}else for(i+c>o&&(i=o-c),a=i;a>=0;a--){let i=!0;for(let r=0;r<c;r++)if(h(e,a+r)!==h(t,r)){i=!1;break}if(i)return a}return-1}function k(e,t,i,r){i=Number(i)||0;const s=e.length-i;r?(r=Number(r))>s&&(r=s):r=s;const a=t.length;let n;for(r>a/2&&(r=a/2),n=0;n<r;++n){const r=parseInt(t.substr(2*n,2),16);if($(r))return n;e[i+n]=r}return n}function S(e,t,i,r){return X(W(t,e.length-i),e,i,r)}function _(e,t,i,r){return X(function(e){const t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function M(e,t,i,r){return X(Z(t),e,i,r)}function T(e,t,i,r){return X(function(e,t){let i,r,s;const a=[];for(let n=0;n<e.length&&!((t-=2)<0);++n)i=e.charCodeAt(n),r=i>>8,s=i%256,a.push(s),a.push(r);return a}(t,e.length-i),e,i,r)}function O(e,t,i){return 0===t&&i===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,i))}function x(e,t,i){i=Math.min(e.length,i);const r=[];let s=t;for(;s<i;){const t=e[s];let a=null,n=t>239?4:t>223?3:t>191?2:1;if(s+n<=i){let i,r,o,c;switch(n){case 1:t<128&&(a=t);break;case 2:i=e[s+1],128==(192&i)&&(c=(31&t)<<6|63&i,c>127&&(a=c));break;case 3:i=e[s+1],r=e[s+2],128==(192&i)&&128==(192&r)&&(c=(15&t)<<12|(63&i)<<6|63&r,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:i=e[s+1],r=e[s+2],o=e[s+3],128==(192&i)&&128==(192&r)&&128==(192&o)&&(c=(15&t)<<18|(63&i)<<12|(63&r)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,n=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),s+=n}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=I));return i}(r)}t.kMaxLength=o,h.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),h.TYPED_ARRAY_SUPPORT||void 0===r||"function"!=typeof r.error||r.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,i){return d(e,t,i)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,i){return function(e,t,i){return u(e),e<=0?c(e):void 0!==t?"string"==typeof i?c(e).fill(t,i):c(e).fill(t):c(e)}(e,t,i)},h.allocUnsafe=function(e){return l(e)},h.allocUnsafeSlow=function(e){return l(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(Y(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let s=0,a=Math.min(i,r);s<a;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);let i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const r=h.allocUnsafe(t);let s=0;for(i=0;i<e.length;++i){let t=e[i];if(Y(t,Uint8Array))s+t.length>r.length?(h.isBuffer(t)||(t=h.from(t)),t.copy(r,s)):Uint8Array.prototype.set.call(r,t,s);else{if(!h.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,s)}s+=t.length}return r},h.byteLength=g,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},h.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},h.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},h.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):y.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){let e="";const i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(e,t,i,r,s){if(Y(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return-1;if(t>=i)return 1;if(this===e)return 0;let a=(s>>>=0)-(r>>>=0),n=(i>>>=0)-(t>>>=0);const o=Math.min(a,n),c=this.slice(r,s),d=e.slice(t,i);for(let e=0;e<o;++e)if(c[e]!==d[e]){a=c[e],n=d[e];break}return a<n?-1:n<a?1:0},h.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},h.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},h.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},h.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}const s=this.length-t;if((void 0===i||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return k(this,e,t,i);case"utf8":case"utf-8":return S(this,e,t,i);case"ascii":case"latin1":case"binary":return _(this,e,t,i);case"base64":return M(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function C(e,t,i){let r="";i=Math.min(e.length,i);for(let s=t;s<i;++s)r+=String.fromCharCode(127&e[s]);return r}function A(e,t,i){let r="";i=Math.min(e.length,i);for(let s=t;s<i;++s)r+=String.fromCharCode(e[s]);return r}function E(e,t,i){const r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);let s="";for(let r=t;r<i;++r)s+=Q[e[r]];return s}function N(e,t,i){const r=e.slice(t,i);let s="";for(let e=0;e<r.length-1;e+=2)s+=String.fromCharCode(r[e]+256*r[e+1]);return s}function P(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,i,r,s,a){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function R(e,t,i,r,s){U(t,r,s,e,i,7);let a=Number(t&BigInt(4294967295));e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a;let n=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=n,n>>=8,e[i++]=n,n>>=8,e[i++]=n,n>>=8,e[i++]=n,i}function L(e,t,i,r,s){U(t,r,s,e,i,7);let a=Number(t&BigInt(4294967295));e[i+7]=a,a>>=8,e[i+6]=a,a>>=8,e[i+5]=a,a>>=8,e[i+4]=a;let n=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=n,n>>=8,e[i+2]=n,n>>=8,e[i+1]=n,n>>=8,e[i]=n,i+8}function V(e,t,i,r,s,a){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(e,t,i,r,s){return t=+t,i>>>=0,s||V(e,0,i,4),a.write(e,t,i,r,23,4),i+4}function q(e,t,i,r,s){return t=+t,i>>>=0,s||V(e,0,i,8),a.write(e,t,i,r,52,8),i+8}h.prototype.slice=function(e,t){const i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||P(e,t,this.length);let r=this[e],s=1,a=0;for(;++a<t&&(s*=256);)r+=this[e+a]*s;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||P(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+i*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))})),h.prototype.readBigUInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+i;return(BigInt(r)<<BigInt(32))+BigInt(s)})),h.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||P(e,t,this.length);let r=this[e],s=1,a=0;for(;++a<t&&(s*=256);)r+=this[e+a]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||P(e,t,this.length);let r=t,s=1,a=this[e+--r];for(;r>0&&(s*=256);)a+=this[e+--r]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*t)),a},h.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),h.prototype.readBigInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+i)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),a.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),a.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),a.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),a.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,i,r){e=+e,t>>>=0,i>>>=0,r||B(this,e,t,i,Math.pow(2,8*i)-1,0);let s=1,a=0;for(this[t]=255&e;++a<i&&(s*=256);)this[t+a]=e/s&255;return t+i},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,i,r){e=+e,t>>>=0,i>>>=0,r||B(this,e,t,i,Math.pow(2,8*i)-1,0);let s=i-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+i},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=J((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*i-1);B(this,e,t,i,r-1,-r)}let s=0,a=1,n=0;for(this[t]=255&e;++s<i&&(a*=256);)e<0&&0===n&&0!==this[t+s-1]&&(n=1),this[t+s]=(e/a>>0)-n&255;return t+i},h.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*i-1);B(this,e,t,i,r-1,-r)}let s=i-1,a=1,n=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===n&&0!==this[t+s+1]&&(n=1),this[t+s]=(e/a>>0)-n&255;return t+i},h.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=J((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,i){return D(this,e,t,!0,i)},h.prototype.writeFloatBE=function(e,t,i){return D(this,e,t,!1,i)},h.prototype.writeDoubleLE=function(e,t,i){return q(this,e,t,!0,i)},h.prototype.writeDoubleBE=function(e,t,i){return q(this,e,t,!1,i)},h.prototype.copy=function(e,t,i,r){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);const s=r-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),s},h.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;let s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{const a=h.isBuffer(e)?e:h.from(e,r),n=a.length;if(0===n)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=a[s%n]}return this};const G={};function F(e,t,i){G[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",i=e.length;const r="-"===e[0]?1:0;for(;i>=r+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function U(e,t,i,r,s,a){if(e>i||e<t){const r="bigint"==typeof t?"n":"";let s;throw s=a>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${t}${r} and <= ${i}${r}`,new G.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,i){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||H(t,e.length-(i+1))}(r,s,a)}function z(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,i){if(Math.floor(e)!==e)throw z(e,i),new G.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,i){let r=`The value of "${e}" is out of range.`,s=i;return Number.isInteger(i)&&Math.abs(i)>2**32?s=j(String(i)):"bigint"==typeof i&&(s=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(s=j(s)),s+="n"),r+=` It must be ${t}. Received ${s}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(e,t){let i;t=t||1/0;const r=e.length;let s=null;const a=[];for(let n=0;n<r;++n){if(i=e.charCodeAt(n),i>55295&&i<57344){if(!s){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(n+1===r){(t-=3)>-1&&a.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(t-=3)>-1&&a.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function Z(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,i,r){let s;for(s=0;s<r&&!(s+i>=t.length||s>=e.length);++s)t[s+i]=e[s];return s}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const r=16*i;for(let s=0;s<16;++s)t[r+s]=e[i]+e[s]}return t}();function J(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},50584:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},21924:(e,t,i)=>{"use strict";var r=i(40210),s=i(55559),a=s(r("String.prototype.indexOf"));e.exports=function(e,t){var i=r(e,!!t);return"function"==typeof i&&a(e,".prototype.")>-1?s(i):i}},55559:(e,t,i)=>{"use strict";var r=i(58612),s=i(40210),a=s("%Function.prototype.apply%"),n=s("%Function.prototype.call%"),o=s("%Reflect.apply%",!0)||r.call(n,a),c=s("%Object.getOwnPropertyDescriptor%",!0),h=s("%Object.defineProperty%",!0),d=s("%Math.max%");if(h)try{h({},"a",{value:1})}catch(e){h=null}e.exports=function(e){var t=o(r,n,arguments);if(c&&h){var i=c(t,"length");i.configurable&&h(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(r,a,arguments)};h?h(e.exports,"apply",{value:u}):e.exports.apply=u},11853:(e,t,i)=>{"use strict";const r=i(48819),s=i(6832),a=i(85806),n=i(73449),o="1.64.31";r.ccxtVersion=o;const c={aax:i(89133),ascendex:i(32300),bequant:i(21366),bibox:i(77838),bigone:i(64400),binance:i(96056),binancecoinm:i(42483),binanceus:i(3393),binanceusdm:i(12137),bit2c:i(12455),bitbank:i(99703),bitbay:i(93528),bitbns:i(98875),bitcoincom:i(23334),bitfinex:i(17965),bitfinex2:i(5328),bitflyer:i(85421),bitforex:i(52519),bitget:i(20829),bithumb:i(29202),bitmart:i(69102),bitmex:i(87763),bitpanda:i(93223),bitrue:i(68120),bitso:i(25686),bitstamp:i(7653),bitstamp1:i(12554),bittrex:i(9461),bitvavo:i(54253),bl3p:i(85480),btcalpha:i(66492),btcbox:i(6142),btcmarkets:i(69284),btctradeua:i(20233),btcturk:i(51899),buda:i(64875),bw:i(41520),bybit:i(73803),bytetrade:i(2291),cdax:i(89124),cex:i(74228),coinbase:i(62939),coinbaseprime:i(18806),coinbasepro:i(51241),coincheck:i(51770),coinex:i(78427),coinfalcon:i(56810),coinmate:i(70948),coinone:i(69261),coinspot:i(98974),crex24:i(57268),currencycom:i(49610),delta:i(34237),deribit:i(41680),digifinex:i(6755),eqonex:i(68170),equos:i(16159),exmo:i(74101),flowbtc:i(63513),ftx:i(89636),ftxus:i(31087),gateio:i(94663),gemini:i(23094),hitbtc:i(28267),hitbtc3:i(22683),hollaex:i(94693),huobi:i(68639),huobijp:i(54072),huobipro:i(53775),idex:i(22574),independentreserve:i(73585),indodax:i(14535),itbit:i(21431),kraken:i(66594),kucoin:i(6987),kuna:i(14400),latoken:i(22444),latoken1:i(45557),lbank:i(31524),liquid:i(24352),luno:i(85439),lykke:i(25591),mercado:i(47551),mexc:i(10085),ndax:i(61985),novadax:i(11541),oceanex:i(7426),okcoin:i(21384),okex:i(58579),okex3:i(5645),okex5:i(62597),paymium:i(30757),phemex:i(50788),poloniex:i(67497),probit:i(96818),qtrade:i(82715),ripio:i(2041),stex:i(80842),therock:i(9269),tidebit:i(51783),tidex:i(46974),timex:i(41378),upbit:i(7705),vcc:i(43571),wavesexchange:i(86091),whitebit:i(70390),xena:i(29741),yobit:i(65927),zaif:i(34422),zb:i(90927),zipmex:i(55492),zonda:i(79264)};e.exports=Object.assign({version:o,Exchange:r,Precise:s,exchanges:Object.keys(c)},c,a,n)},89133:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,ExchangeNotAvailable:o,OrderNotFound:c,InvalidOrder:h,CancelPending:d,RateLimitExceeded:u,InsufficientFunds:l,BadRequest:f,BadSymbol:p,PermissionDenied:m}=i(73449),{TICK_SIZE:g}=i(62115),y=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"aax",name:"AAX",countries:["MT"],enableRateLimit:!0,rateLimit:500,version:"v2",hostname:"aaxpro.com",certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","12h":"12h","1d":"1d","3d":"3d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/104140087-a27f2580-53c0-11eb-87c1-5d9e81208fe9.jpg",test:{v1:"https://api.testnet.{hostname}/marketdata/v1",public:"https://api.testnet.{hostname}",private:"https://api.testnet.{hostname}"},api:{v1:"https://api.{hostname}/marketdata/v1",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.aaxpro.com",doc:"https://www.aaxpro.com/apidoc/index.html",fees:"https://www.aaxpro.com/en-US/fees/",referral:"https://www.aaxpro.com/invite/sign-up?inviteCode=JXGm5Fy7R2MB"},api:{v1:{get:["getHistMarketData"]},public:{get:["currencies","announcement/maintenance","instruments","market/orderbook","futures/position/openInterest","market/tickers","market/candles","market/history/candles","market/trades","market/markPrice","futures/funding/predictedFunding/{symbol}","futures/funding/prevFundingRate/{symbol}","market/candles/index"]},private:{get:["user/info","account/balances","account/deposit/address","spot/trades","spot/openOrders","spot/orders","futures/position","futures/position/closed","futures/trades","futures/openOrders","futures/orders","futures/funding/predictedFundingFee/{symbol}"],post:["account/transfer","spot/orders","spot/orders/cancelAllOnTimeout","futures/orders","futures/orders/cancelAllOnTimeout","futures/position/sltp","futures/position/close","futures/position/leverage","futures/position/margin"],put:["spot/orders","futures/orders"],delete:["spot/orders/cancel/{orderID}","spot/orders/cancel/all","futures/orders/cancel/{orderID}","futures/orders/cancel/all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.0006"),taker:this.parseNumber("0.001")},funding:{tierBased:!1,percentage:!0,withdraw:{}}},commonCurrencies:{XBT:"XBT"},exceptions:{exact:{2002:l,2003:c,10003:f,10006:a,10007:a,11007:a,20001:l,20009:h,3e4:c,30001:h,30004:h,30005:h,30006:h,30007:h,30008:h,30009:h,30010:h,30011:d,30012:f,30013:p,30014:c,30015:h,30016:n,30017:h,30018:h,30019:h,30020:h,30021:h,30022:h,30023:h,30024:h,30025:h,30026:h,30027:h,30028:p,30029:h,30030:h,30031:h,30032:h,30033:h,30034:u,30035:u,30036:o,30037:h,30038:n,30039:l,30040:h,30041:h,30042:h,30043:h,30044:f,30045:h,30046:h,30047:h,30048:h,30049:h,30050:h,40004:f,40009:u,40102:a,40103:a,40303:m,41001:f,41002:f,42001:o,50001:n,50002:n},broad:{}},precisionMode:g,options:{defaultType:"spot",types:{spot:"SPTP",future:"FUTP",otc:"F2CP",saving:"VLTP"},accounts:{SPTP:"spot",FUTP:"future",F2CP:"otc",VLTP:"saving"},networks:{ETH:"ERC20",TRX:"TRC20",SOL:"SPL"}}})}async fetchStatus(e={}){const t=await this.publicGetAnnouncementMaintenance(e),i=this.safeValue(t,"data",{}),r=this.milliseconds(),s=this.parse8601(this.safeString(i,"startTime")),a=this.parse8601(this.safeString(i,"endTime")),n={updated:this.safeInteger(t,"ts",r)};if(void 0!==a){const e=void 0===s||r<s,t=r>a||e;n.eta=a,n.status=t?"ok":"maintenance"}return this.status=this.extend(this.status,n),this.status}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=this.safeValue(t,"data"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeString(t,"base"),n=this.safeString(t,"quote"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h="enable"===this.safeString(t,"status"),d=this.safeNumber(t,"takerFee"),u=this.safeNumber(t,"makerFee"),l=this.safeString(t,"type");let f,p,m;const g="spot"===l,y="futures"===l,b=this.safeStringLower(t,"settleType");void 0!==b&&(f="inverse"===b,p="vanilla"===b,m="quanto"===b);let v=s;"spot"===l&&(v=o+"/"+c);const w={amount:this.safeNumber(t,"lotSize"),price:this.safeNumber(t,"tickSize")};r.push({id:s,symbol:v,base:o,quote:c,baseId:a,quoteId:n,type:l,spot:g,futures:y,inverse:f,linear:p,quanto:m,precision:w,info:t,active:h,taker:d,maker:u,percentage:!1,tierBased:!0,limits:{amount:{min:this.safeString(t,"minQuantity"),max:this.safeString(t,"maxQuantity")},price:{min:this.safeString(t,"minPrice"),max:this.safeString(t,"maxPrice")},cost:{min:void 0,max:void 0}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"chain"),a=this.safeString(t,"displayName"),n=this.safeCurrencyCode(s),o=this.safeNumber(t,"withdrawPrecision"),c=this.safeValue(t,"enableWithdraw"),h=this.safeValue(t,"enableDeposit"),d=this.safeNumber(t,"withdrawFee"),u=this.safeValue(t,"visible"),l=c&&h&&u,f=this.safeString(t,"network");i[n]={id:s,name:a,code:n,precision:o,info:t,active:l,fee:d,network:f,limits:{deposit:{min:this.safeNumber(t,"depositMin"),max:void 0},withdraw:{min:this.safeNumber(t,"withdrawMin"),max:void 0}}}}return i}parseTicker(e,t){const i=this.safeInteger(e,"t"),r=this.safeString(e,"s"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"c"),n=this.safeNumber(e,"o"),o=this.safeNumber(e,"v");return this.safeTicker({symbol:s,timestamp:i,datetime:void 0,high:this.safeNumber(e,"h"),low:this.safeNumber(e,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:o,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),r=this.safeValue(i,"tickers",[]),s=[],a=this.safeInteger(i,"t");for(let e=0;e<r.length;e++){const t=this.parseTicker(this.extend(r[e],{t:a}));s.push(t)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);if(void 0===t)t=20;else if(20!==t&&50!==t)throw new f(this.id+" fetchOrderBook() limit argument must be undefined, 20 or 50");const s={symbol:r.id,level:t},a=await this.publicGetMarketOrderbook(this.extend(s,i)),n=this.safeInteger(a,"t");return this.parseOrderBook(a,e,n)}parseTrade(e,t){let i=this.safeInteger(e,"t");void 0===i&&(i=this.parse8601(this.safeString(e,"createTime")));let r=this.safeString2(e,"tid","tradeID");r=this.safeString(e,"i",r);const s=this.safeString(e,"symbol"),a=(t=this.safeMarket(s,t)).symbol;let n=this.safeString2(e,"p","filledPrice");const o=this.safeString2(e,"q","filledQty"),c=this.safeString(e,"orderID"),h=this.safeValue(e,"taker");let d;void 0!==h&&(d=h?"taker":"maker");let u=this.safeString(e,"side");"1"===u?u="buy":"2"===u&&(u="sell"),void 0===u&&(u="-"===n[0]?"sell":"buy"),n=y.stringAbs(n);const l=this.parseOrderType(this.safeString(e,"orderType"));let f;const p=this.safeString(e,"commission");if(void 0!==p){let e;void 0!==t&&("buy"===u?e=t.base:"sell"===u&&(e=t.quote)),f={currency:e,cost:p}}return this.safeTrade({info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:a,type:l,side:u,order:c,takerOrMaker:d,price:n,amount:o,cost:void 0,fee:f},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);i=void 0===i?2e3:i,i=Math.min(i,2e3);const a={symbol:s.id,limit:i},n=await this.publicGetMarketTrades(a),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="1h",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,timeFrame:this.timeframes[t]};r=void 0===r?500:r;const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();n.start=e-o*r,n.end=e}else{const e=parseInt(i/1e3);n.start=e,n.end=this.sum(e,o*r)}const c=await this.publicGetMarketHistoryCandles(this.extend(n,s)),h=this.safeValue(c,"data",[]);return this.parseOHLCVs(h,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t),r=this.safeValue(this.options,"types",{}),s=this.safeString(r,i,i),a={purseType:s};e=this.omit(e,"type");const n=await this.privateGetAccountBalances(this.extend(a,e)),o=this.safeValue(n,"data"),c=this.safeInteger(n,"ts"),h={info:n,timestamp:c,datetime:this.iso8601(c)};for(let e=0;e<o.length;e++){const t=o[e];if(this.safeString(t,"purseType")===s){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),r=this.account();r.free=this.safeString(t,"available"),r.used=this.safeString(t,"unavailable"),h[i]=r}}return this.parseBalance(h)}async createOrder(e,t,i,r,a,n={}){let o=t.toUpperCase();const c=i.toUpperCase();await this.loadMarkets();const h=this.market(e),d={symbol:h.id,orderQty:this.amountToPrecision(e,r),side:c},u=this.safeString2(n,"clOrdID","clientOrderId");void 0!==u&&(d.clOrdID=u),void 0!==this.safeValue(n,"postOnly",!1)&&(d.execInst="Post-Only"),n=this.omit(n,["clOrdID","clientOrderId","postOnly"]);const l=this.safeNumber(n,"stopPrice");if(void 0===l){if("STOP-LIMIT"===o||"STOP"===o)throw new s(this.id+" createOrder() requires a stopPrice parameter for "+o+" orders")}else"LIMIT"===o?o="STOP-LIMIT":"MARKET"===o&&(o="STOP"),d.stopPrice=this.priceToPrecision(e,l),n=this.omit(n,"stopPrice");let f;"LIMIT"!==o&&"STOP-LIMIT"!==o||(d.price=this.priceToPrecision(e,a)),d.orderType=o,h.spot?f="privatePostSpotOrders":h.futures&&(f="privatePostFuturesOrders");const p=await this[f](this.extend(d,n)),m=this.safeValue(p,"data",{});return this.parseOrder(m,h)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t),c={orderID:e},h=this.safeNumber(n,"stopPrice");let d;void 0!==h&&(c.stopPrice=this.priceToPrecision(t,h),n=this.omit(n,"stopPrice")),void 0!==a&&(c.price=this.priceToPrecision(t,a)),void 0!==s&&(c.orderQty=this.amountToPrecision(t,s)),o.spot?d="privatePutSpotOrders":o.futures&&(d="privatePutFuturesOrders");const u=await this[d](this.extend(c,n)),l=this.safeValue(u,"data",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderID:e};let s;const a=this.safeString2(this.options,"cancelOrder","defaultType","spot");let n,o=this.safeString(i,"type",a);i=this.omit(i,"type"),void 0!==t&&(n=this.market(t),o=n.type),"spot"===o?s="privateDeleteSpotOrdersCancelOrderID":"futures"===o&&(s="privateDeleteFuturesOrdersCancelOrderID");const c=await this[s](this.extend(r,i)),h=this.safeValue(c,"data",{});return this.parseOrder(h,n)}async cancelAllOrders(e,t={}){if(void 0===e)throw new s(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i.id};let a;return i.spot?a="privateDeleteSpotOrdersCancelAll":i.futures&&(a="privateDeleteFuturesOrdersCancelAll"),await this[a](this.extend(r,t))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(this.options,"fetchOrder","defaultType","spot");i.type=this.safeString(i,"type",r);const s={},a=this.safeString2(i,"clOrdID","clientOrderId");void 0===a?s.orderID=e:(s.clOrdID=a,i=this.omit(i,["clOrdID","clientOrderId"]));const n=await this.fetchOrders(t,void 0,void 0,this.extend(s,i)),o=this.safeValue(n,0);if(void 0===o)throw new c(void 0===a?this.id+" fetchOrder() could not find order id "+e:this.id+" fetchOrder() could not find order clientOrderID "+a);return o}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={},a=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");let n,o=this.safeString(r,"type",a);r=this.omit(r,"type"),void 0!==e&&(n=this.market(e),s.symbol=n.id,o=n.type);const c=this.safeString2(r,"clOrdID","clientOrderId");let h;void 0!==c&&(s.clOrdID=c,r=this.omit(r,["clOrdID","clientOrderId"])),"spot"===o?h="privateGetSpotOpenOrders":"futures"===o&&(h="privateGetFuturesOpenOrders"),void 0!==i&&(s.pageSize=i);const d=await this[h](this.extend(s,r)),u=this.safeValue(d,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,n,t,i)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({orderStatus:"2"},r))}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({orderStatus:"3"},r))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;const n=this.safeString2(this.options,"fetchOrders","defaultType","spot");let o,c=this.safeString(r,"type",n);r=this.omit(r,"type"),void 0!==e&&(o=this.market(e),s.symbol=o.id,c=o.type),"spot"===c?a="privateGetSpotOrders":"futures"===c&&(a="privateGetFuturesOrders");const h=this.safeString2(r,"clOrdID","clientOrderId");void 0!==h&&(s.clOrdID=h,r=this.omit(r,["clOrdID","clientOrderId"])),void 0!==i&&(s.pageSize=i),void 0!==t&&(s.startDate=this.yyyymmdd(t));const d=await this[a](this.extend(s,r)),u=this.safeValue(d,"data",{}),l=this.safeValue(u,"list",[]);return this.parseOrders(l,o,t,i)}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"rejected",10:"expired",11:"rejected"},e,e)}parseOrderType(e){return this.safeString({1:"market",2:"limit",3:"stop",4:"stop-limit",7:"stop-loss",8:"take-profit"},e,e)}parseTimeInForce(e){return this.safeString({1:"GTC",3:"IOC",4:"FOK"},e,e)}parseOrder(e,t){let i=this.safeValue(e,"createTime");"string"==typeof i&&(i=this.parse8601(i));const r=this.parseOrderStatus(this.safeString(e,"orderStatus")),s=this.parseOrderType(this.safeString(e,"orderType"));let a=this.safeString(e,"side");"1"===a?a="buy":"2"===a&&(a="sell");const n=this.safeString(e,"orderID"),o=this.safeString(e,"clOrdID"),c=this.safeString(e,"symbol"),h=(t=this.safeMarket(c,t)).symbol,d=this.safeString(e,"price"),u=this.safeNumber(e,"stopPrice"),l=this.parseTimeInForce(this.safeString(e,"timeInForce")),f="Post-Only"===this.safeString(e,"execInst"),p=this.safeString(e,"avgPrice"),m=this.safeString(e,"orderQty"),g=this.safeString(e,"cumQty");let b=this.safeString(e,"leavesQty");y.stringEquals(g,"0")&&y.stringEquals(b,"0")&&(b=void 0);let v,w=this.safeValue(e,"transactTime");"string"==typeof w&&(w=this.parse8601(w));const k=this.safeNumber(e,"commission");if(void 0!==k){let e;void 0!==t&&("buy"===a?e=t.base:"sell"===a&&(e=t.quote)),v={currency:e,cost:k}}return this.safeOrder2({id:n,info:e,clientOrderId:o,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:w,status:r,symbol:h,type:s,timeInForce:l,postOnly:f,side:a,price:d,stopPrice:u,average:p,amount:m,filled:g,remaining:b,cost:void 0,trades:void 0,fee:v},t)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;const n=this.safeString2(this.options,"fetchMyTrades","defaultType","spot");let o,c=this.safeString(r,"type",n);r=this.omit(r,"type"),void 0!==e&&(o=this.market(e),s.symbol=o.id,c=o.type),"spot"===c?a="privateGetSpotTrades":"futures"===c&&(a="privateGetFuturesTrades"),void 0!==i&&(s.pageSize=i),void 0!==t&&(s.startDate=this.yyyymmdd(t));const h=await this[a](this.extend(s,r)),d=this.safeValue(h,"data",{}),u=this.safeValue(d,"list",[]);return this.parseTrades(u,o,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id};if("network"in t){const e=this.safeValue(this.options,"networks",{}),i=this.safeStringUpper(t,"network");t=this.omit(t,"network"),r.network=this.safeStringUpper(e,i,i)}const s=await this.privateGetAccountDepositAddress(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseDepositAddress(a,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"tag");let s=this.safeString(e,"currency");const a=this.safeString(e,"network");return void 0!==a&&(s=s.replace(a,"")),{info:e,currency:this.safeCurrencyCode(s),address:i,tag:r,network:a}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("v1"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if(n="/"+this.version+n,"public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();s={"X-ACCESS-KEY":this.apiKey,"X-ACCESS-NONCE":e};let t=e+":"+i;"GET"===i?(Object.keys(o).length&&(n+="?"+this.urlencode(o)),t+=n):(s["Content-Type"]="application/json",t+=n+(a=this.json(o)));const r=this.hmac(this.encode(t),this.encode(this.secret));s["X-ACCESS-SIGN"]=r}return n=this.implodeHostname(this.urls.api[t])+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0===n)return;const h=this.safeString(n,"code");if(void 0!==h&&"1"!==h){const e=this.id+" "+this.json(n);this.throwExactlyMatchedException(this.exceptions.exact,h,e),this.throwBroadlyMatchedException(this.exceptions.broad,a,e)}}}},32300:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,InvalidOrder:c,BadSymbol:h,PermissionDenied:d,BadRequest:u}=i(73449),{TICK_SIZE:l}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ascendex",name:"AscendEX",countries:["SG"],rateLimit:500,certified:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchPositions:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,setLeverage:!0,setMarginMode:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1d","1w":"1w","1M":"1m"},version:"v2",urls:{logo:"https://user-images.githubusercontent.com/1294454/112027508-47984600-8b48-11eb-9e17-d26459cc36c6.jpg",api:"https://ascendex.com",test:"https://bitmax-test.io",www:"https://ascendex.com",doc:["https://bitmax-exchange.github.io/bitmax-pro-api/#bitmax-pro-api-documentation"],fees:"https://ascendex.com/en/feerate/transactionfee-traderate",referral:{url:"https://ascendex.com/en-us/register?inviteCode=EL6BXBQM",discount:.25}},api:{v1:{public:{get:["assets","products","ticker","barhist/info","barhist","depth","trades","cash/assets","cash/products","margin/assets","margin/products","futures/collateral","futures/contracts","futures/ref-px","futures/market-data","futures/funding-rates"]},private:{get:["info","wallet/transactions","wallet/deposit/address","data/balance/snapshot","data/balance/history"],accountCategory:{get:["balance","order/open","order/status","order/hist/current","risk"],post:["order","order/batch"],delete:["order","order/all","order/batch"]},accountGroup:{get:["cash/balance","margin/balance","margin/risk","transfer","futures/collateral-balance","futures/position","futures/risk","futures/funding-payments","order/hist"],post:["futures/transfer/deposit","futures/transfer/withdraw"]}}},v2:{public:{get:["assets","futures/contract","futures/collateral","futures/pricing-data"]},private:{get:["account/info"],accountGroup:{get:["order/hist","futures/position","futures/free-margin","futures/order/hist/current","futures/order/status"],post:["futures/isolated-position-margin","futures/margin-type","futures/leverage","futures/transfer/deposit","futures/transfer/withdraw","futures/order","futures/order/batch","futures/order/open","subuser/subuser-transfer","subuser/subuser-transfer-hist"],delete:["futures/order","futures/order/batch","futures/order/all"]}}}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")}},precisionMode:l,options:{"account-category":"cash","account-group":void 0,fetchClosedOrders:{method:"v1PrivateAccountGroupGetOrderHist"}},exceptions:{exact:{1900:u,2100:a,5002:h,6001:h,6010:o,60060:c,600503:c,100001:u,100002:u,100003:u,100004:u,100005:u,100006:u,100007:u,100008:h,100009:a,100010:u,100011:u,100012:u,100013:u,100101:n,150001:u,200001:a,200002:n,200003:n,200004:n,200005:n,200006:n,200007:n,200008:n,200009:n,200010:a,200011:n,200012:n,200013:n,200014:d,200015:d,300001:c,300002:c,300003:c,300004:c,300005:c,300006:c,300007:c,300008:c,300009:c,300011:o,300012:h,300013:c,300014:c,300020:c,300021:c,300031:c,310001:o,310002:c,310003:c,310004:h,310005:c,510001:n,900001:n},broad:{}},commonCurrencies:{BOND:"BONDED",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"BeyondFi"}})}getAccount(e={}){return this.safeValue(e,"account",this.options.account).toLowerCase().capitalize()}async fetchCurrencies(e={}){const t=await this.v1PublicGetAssets(e),i=await this.v1PublicGetMarginAssets(e),r=await this.v1PublicGetCashAssets(e),s=this.safeValue(t,"data",[]),a=this.safeValue(i,"data",[]),n=this.safeValue(r,"data",[]),o=this.indexBy(s,"assetCode"),c=this.indexBy(a,"assetCode"),h=this.indexBy(n,"assetCode"),d=this.deepExtend(o,c,h),u=Object.keys(d),l={};for(let e=0;e<u.length;e++){const t=u[e],i=d[t],r=this.safeCurrencyCode(t),s=this.safeString2(i,"precisionScale","nativeScale"),a=this.parsePrecision(s),n=this.safeNumber2(i,"withdrawFee","withdrawalFee"),o="Normal"===this.safeString2(i,"status","statusCode"),c="borrowAssetCode"in i;l[r]={id:t,code:r,info:i,type:void 0,margin:c,name:this.safeString(i,"assetName"),active:o,fee:n,precision:parseInt(s),limits:{amount:{min:this.parseNumber(a),max:void 0},withdraw:{min:this.safeNumber(i,"minWithdrawalAmt"),max:void 0}}}}return l}async fetchMarkets(e={}){const t=await this.v1PublicGetProducts(e),i=await this.v1PublicGetCashProducts(e),r=await this.v1PublicGetFuturesContracts(e),s=this.safeValue(t,"data",[]),a=this.indexBy(s,"symbol"),n=this.safeValue(i,"data",[]),o=this.safeValue(r,"data",[]),c=this.arrayConcat(n,o),h=this.indexBy(c,"symbol"),d=this.deepExtend(a,h),u=Object.keys(d),l=[];for(let e=0;e<u.length;e++){const t=u[e],i=d[t],r=this.safeString(i,"baseAsset"),s=this.safeString(i,"quoteAsset"),a=this.safeCurrencyCode(r),n=this.safeCurrencyCode(s),o={amount:this.safeNumber(i,"lotSize"),price:this.safeNumber(i,"tickSize")},c="Normal"===this.safeString(i,"status"),h="useLot"in i?"spot":"future",f="spot"===h,p="future"===h,m=this.safeValue(i,"marginTradable",!1);let g=t;p||(g=a+"/"+n);const y=this.safeNumber(i,"commissionReserveRate");l.push({id:t,symbol:g,base:a,quote:n,baseId:r,quoteId:s,info:i,type:h,spot:f,margin:m,future:p,active:c,precision:o,taker:y,maker:y,limits:{amount:{min:this.safeNumber(i,"minQty"),max:this.safeNumber(i,"maxQty")},price:{min:this.safeNumber(i,"tickSize"),max:void 0},cost:{min:this.safeNumber(i,"minNotional"),max:this.safeNumber(i,"maxNotional")}}})}return l}async fetchAccounts(e={}){let t,i=this.safeString(this.options,"account-group");if(void 0===i){t=await this.v1PrivateGetInfo(e);const r=this.safeValue(t,"data",{});i=this.safeString(r,"accountGroup"),this.options["account-group"]=i}return[{id:i,type:void 0,currency:void 0,info:t}]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"account-category","cash"),i=this.safeValue(this.options,"fetchBalance",{});let r=this.safeString(i,"account-category",t);r=this.safeString(e,"account-category",r),e=this.omit(e,"account-category");const s=this.safeValue(this.accounts,0,{}),a={"account-group":this.safeString(s,"id")};let n="v1PrivateAccountCategoryGetBalance";"futures"===r?n="v1PrivateAccountGroupGetFuturesCollateralBalance":a["account-category"]=r;const o=await this[n](this.extend(a,e)),c={info:o,timestamp:void 0,datetime:void 0},h=this.safeValue(o,"data",[]);for(let e=0;e<h.length;e++){const t=h[e],i=this.safeCurrencyCode(this.safeString(t,"asset")),r=this.account();r.free=this.safeString(t,"availableBalance"),r.total=this.safeString(t,"totalBalance"),c[i]=r}return this.parseBalance(c)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id},s=await this.v1PublicGetDepth(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"data",{}),o=this.safeInteger(n,"ts"),c=this.parseOrderBook(n,e,o);return c.nonce=this.safeInteger(n,"seqnum"),c}parseTicker(e,t){const i=this.safeString(e,"symbol"),r="spot"===this.safeString(e,"type")?"/":void 0,s=this.safeSymbol(i,t,r),a=this.safeNumber(e,"close"),n=this.safeValue(e,"bid",[]),o=this.safeValue(e,"ask",[]),c=this.safeNumber(e,"open");return this.safeTicker({symbol:s,timestamp:void 0,datetime:void 0,high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(n,0),bidVolume:this.safeNumber(n,1),ask:this.safeNumber(o,0),askVolume:this.safeNumber(o,1),vwap:void 0,open:c,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.v1PublicGetTicker(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.symbol=t.join(",")}const r=await this.v1PublicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseTickers(s,e)}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.safeInteger(i,"ts"),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,interval:this.timeframes[t]},o=this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCV",{}),h=this.safeInteger(c,"limit",500);void 0!==i?(n.from=i,r=void 0===r?h:Math.min(r,h),n.to=this.sum(i,r*o*1e3,1)):void 0!==r&&(n.n=r);const d=await this.v1PublicGetBarhist(this.extend(n,s)),u=this.safeValue(d,"data",[]);return this.parseOHLCVs(u,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger(e,"ts"),r=this.safeString2(e,"price","p"),s=this.safeString(e,"q"),a=this.safeValue(e,"bm",!1),n=a?"maker":"taker",o=a?"buy":"sell";let c;return void 0===c&&void 0!==t&&(c=t.symbol),this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,id:void 0,order:void 0,type:void 0,takerOrMaker:n,side:o,price:r,amount:s,cost:void 0,fee:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.n=i);const n=await this.v1PublicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){return this.safeString({PendingNew:"open",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled",Rejected:"rejected"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"/"),a=this.safeInteger2(e,"timestamp","sendingTime"),n=this.safeInteger(e,"lastExecTime"),o=this.safeString(e,"price"),c=this.safeString(e,"orderQty"),h=this.safeString(e,"avgPx"),d=this.safeString2(e,"cumFilledQty","cumQty"),u=this.safeString(e,"orderId");let l=this.safeString(e,"id");void 0!==l&&l.length<1&&(l=void 0);const f=this.safeStringLower(e,"orderType"),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"cumFee");let g;if(void 0!==m){const t=this.safeString(e,"feeAsset");g={cost:m,currency:this.safeCurrencyCode(t)}}const y=this.safeNumber(e,"stopPrice");return this.safeOrder2({info:e,id:u,clientOrderId:l,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,symbol:s,type:f,timeInForce:void 0,postOnly:void 0,side:p,price:o,stopPrice:y,amount:c,cost:void 0,average:h,filled:d,remaining:void 0,status:i,fee:g,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o=this.safeString(this.options,"account-category","cash"),h=this.safeValue(this.options,"createOrder",{});let d=this.safeString(h,"account-category",o);d=this.safeString(a,"account-category",d),a=this.omit(a,"account-category");const u=this.safeValue(this.accounts,0,{}),l=this.safeValue(u,"id"),f=this.safeString2(a,"clientOrderId","id"),p={"account-group":l,"account-category":d,symbol:n.id,time:this.milliseconds(),orderQty:this.amountToPrecision(e,r),orderType:t,side:i};if(void 0!==f&&(p.id=f,a=this.omit(a,["clientOrderId","id"])),"limit"!==t&&"stop_limit"!==t||(p.orderPrice=this.priceToPrecision(e,s)),"stop_limit"===t||"stop_market"===t){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new c(this.id+" createOrder() requires a stopPrice parameter for "+t+" orders");p.stopPrice=this.priceToPrecision(e,i),a=this.omit(a,"stopPrice")}const m=await this.v1PrivateAccountCategoryPostOrder(this.extend(p,a)),g=this.safeValue(m,"data",{}),y=this.safeValue(g,"info",{});return this.parseOrder(y,n)}async fetchOrder(e,t,i={}){await this.loadMarkets(),await this.loadAccounts();const r=this.safeString(this.options,"account-category","cash"),s=this.safeValue(this.options,"fetchOrder",{});let a=this.safeString(s,"account-category",r);a=this.safeString(i,"account-category",a),i=this.omit(i,"account-category");const n=this.safeValue(this.accounts,0,{}),o={"account-group":this.safeValue(n,"id"),"account-category":a,orderId:e},c=await this.v1PrivateAccountCategoryGetOrderStatus(this.extend(o,i)),h=this.safeValue(c,"data",{});return this.parseOrder(h)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets(),await this.loadAccounts(),void 0!==e&&(s=this.market(e));const a=this.safeString(this.options,"account-category","cash"),n=this.safeValue(this.options,"fetchOpenOrders",{});let o=this.safeString(n,"account-category",a);o=this.safeString(r,"account-category",o),r=this.omit(r,"account-category");const c=this.safeValue(this.accounts,0,{}),h={"account-group":this.safeValue(c,"id"),"account-category":o},d=await this.v1PrivateAccountCategoryGetOrderOpen(this.extend(h,r)),u=this.safeValue(d,"data",[]);if("futures"===o)return this.parseOrders(u,s,t,i);const l=[];for(let e=0;e<u.length;e++){const t=this.parseOrder(u[e],s);l.push(t)}return this.filterBySymbolSinceLimit(l,e,t,i)}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets(),await this.loadAccounts(),void 0!==e&&(s=this.market(e));const a=this.safeString(this.options,"account-category"),n=this.safeValue(this.options,"fetchClosedOrders",{});let o=this.safeString(n,"account-category",a);o=this.safeString(r,"account-category",o),r=this.omit(r,"account-category");const c=this.safeValue(this.accounts,0,{}),h={"account-group":this.safeValue(c,"id")};void 0!==e&&(s=this.market(e),h.symbol=s.id);const d=this.safeValue(n,"method","v1PrivateAccountGroupGetOrderHist");"v1PrivateAccountGroupGetOrderHist"===d?void 0!==o&&(h.category=o):h["account-category"]=o,void 0!==t&&(h.startTime=t),void 0!==i&&(h.pageSize=i);const u=await this[d](this.extend(h,r));let l=this.safeValue(u,"data");return Array.isArray(l)||(l=this.safeValue(l,"data",[])),this.parseOrders(l,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const r=this.market(t),a=this.safeString(this.options,"account-category","cash"),n=this.safeValue(this.options,"cancelOrder",{});let o=this.safeString(n,"account-category",a);o=this.safeString(i,"account-category",o),i=this.omit(i,"account-category");const c=this.safeValue(this.accounts,0,{}),h=this.safeValue(c,"id"),d=this.safeString2(i,"clientOrderId","id"),u={"account-group":h,"account-category":o,symbol:r.id,time:this.milliseconds(),id:"foobar"};void 0===d?u.orderId=e:(u.id=d,i=this.omit(i,["clientOrderId","id"]));const l=await this.v1PrivateAccountCategoryDeleteOrder(this.extend(u,i)),f=this.safeValue(l,"data",{}),p=this.safeValue(f,"info",{});return this.parseOrder(p,r)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=this.safeString(this.options,"account-category","cash"),r=this.safeValue(this.options,"cancelAllOrders",{});let s=this.safeString(r,"account-category",i);s=this.safeString(t,"account-category",s),t=this.omit(t,"account-category");const a=this.safeValue(this.accounts,0,{}),n={"account-group":this.safeValue(a,"id"),"account-category":s,time:this.milliseconds()};let o;return void 0!==e&&(o=this.market(e),n.symbol=o.id),await this.v1PrivateAccountCategoryDeleteOrderAll(this.extend(n,t))}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"tagId"),s=this.safeString(e,r);return this.checkAddress(i),{currency:void 0===t?void 0:t.code,address:i,tag:s,network:void 0,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=this.safeString(t,"chainName");t=this.omit(t,"chainName");const a={asset:i.id},n=await this.v1PrivateGetWalletDepositAddress(this.extend(a,t)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"address",[]);let h;if(c.length>1){const e=this.indexBy(c,"chainName");if(void 0===r){const t=Object.keys(e).join(", ");throw new s(this.id+" fetchDepositAddress returned more than one address, a chainName parameter is required, one of "+t)}h=this.safeValue(e,r,{})}else h=this.safeValue(c,0,{});const d=this.parseDepositAddress(h,i);return this.extend(d,{info:n})}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({txType:"deposit"},r))}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({txType:"withdrawal"},r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.asset=a.id),void 0!==t&&(s.startTs=t),void 0!==i&&(s.pageSize=i);const n=await this.v1PrivateGetWalletTransactions(this.extend(s,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i)}parseTransactionStatus(e){return this.safeString({reviewing:"pending",pending:"pending",confirmed:"ok",rejected:"rejected"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"requestId"),r=this.safeNumber(e,"amount"),s=this.safeValue(e,"destAddress",{}),a=this.safeString(s,"address"),n=this.safeString(s,"destTag"),o=this.safeString(e,"networkTransactionId"),c=this.safeString(e,"transactionType"),h=this.safeInteger(e,"time"),d=this.safeString(e,"asset"),u=this.safeCurrencyCode(d,t),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeNumber(e,"commission");return{info:e,id:i,currency:u,amount:r,address:a,addressTo:a,addressFrom:void 0,tag:n,tagTo:n,tagFrom:void 0,status:l,type:c,updated:void 0,txid:o,timestamp:h,datetime:this.iso8601(h),fee:{currency:u,cost:f}}}async fetchPositions(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=this.safeValue(this.accounts,0,{}),r={"account-group":this.safeString(i,"id")};return await this.v2PrivateAccountGroupGetFuturesPosition(this.extend(r,t))}async setLeverage(e,t,i={}){if(void 0===t)throw new s(this.id+" setLeverage() requires a symbol argument");if(e<1||e>100)throw new u(this.id+" leverage should be between 1 and 100");await this.loadMarkets(),await this.loadAccounts();const r=this.market(t);if("future"!==r.type)throw new h(this.id+" setLeverage() supports futures contracts only");const a=this.safeValue(this.accounts,0,{}),n={"account-group":this.safeString(a,"id"),symbol:r.id,leverage:e};return await this.v2PrivateAccountGroupPostFuturesLeverage(this.extend(n,i))}async setMarginMode(e,t,i={}){if("isolated"!==e&&"crossed"!==e)throw new u(this.id+" setMarginMode() marginType argument should be isolated or crossed");await this.loadMarkets(),await this.loadAccounts();const r=this.market(t),s=this.safeValue(this.accounts,0,{}),a={"account-group":this.safeString(s,"id"),symbol:r.id,marginType:e};if("future"!==r.type)throw new h(this.id+" setMarginMode() supports futures contracts only");return await this.v2PrivateAccountGroupPostFuturesMarginType(this.extend(a,i))}sign(e,t="public",i="GET",r={},s,a){const n=t[0],o=t[1],c=this.safeString(t,2);let h="",d=r;const u="accountCategory"===c;(u||"accountGroup"===c)&&(h+=this.implodeParams("/{account-group}",r),d=this.omit(r,"account-group"));let l=this.implodeParams(e,d);if(h+="/api/pro/","v2"===n?l=n+"/"+l:h+=n,u&&(h+=this.implodeParams("/{account-category}",d),d=this.omit(d,"account-category")),h+="/"+l,("v1"===n&&"cash/balance"===l||"margin/balance"===l)&&(l="balance"),l.indexOf("subuser")>=0){const e=l.split("/");l=e[2]}if(d=this.omit(d,this.extractParams(e)),"public"===o)Object.keys(d).length&&(h+="?"+this.urlencode(d));else{this.checkRequiredCredentials();const e=this.milliseconds().toString(),t=e+"+"+l,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s={"x-auth-key":this.apiKey,"x-auth-timestamp":e,"x-auth-signature":r},"GET"===i?Object.keys(d).length&&(h+="?"+this.urlencode(d)):(s["Content-Type"]="application/json",a=this.json(d))}return h=this.urls.api+h,{url:h,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0===o)return;const d=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==d&&"0"!==d||void 0!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new n(e)}}}},48819:(e,t,i)=>{"use strict";var r=i(25108);const s=i(85806),{isNode:a,keys:n,values:o,deepExtend:c,extend:h,clone:d,flatten:u,unique:l,indexBy:f,sortBy:p,sortBy2:m,groupBy:g,aggregate:y,uuid:b,unCamelCase:v,precisionFromString:w,throttle:k,capitalize:S,now:_,timeout:M,TimedOut:T,buildOHLCVC:O,decimalToPrecision:x,defaultFetch:I}=s,{ExchangeError:C,BadSymbol:A,InvalidAddress:E,NotSupported:N,AuthenticationError:P,DDoSProtection:B,RequestTimeout:R,ExchangeNotAvailable:L,RateLimitExceeded:V}=i(73449),{TRUNCATE:D,ROUND:q,DECIMAL_PLACES:G,NO_PADDING:F}=s.precisionConstants,j=(i(35060),i(6832));e.exports=class e{describe(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!0,rateLimit:2e3,certified:!1,pro:!1,alias:!1,has:{publicAPI:!0,privateAPI:!0,margin:void 0,swap:void 0,future:void 0,addMargin:void 0,cancelAllOrders:void 0,cancelOrder:!0,cancelOrders:void 0,CORS:void 0,createDepositAddress:void 0,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:void 0,editOrder:"emulated",fetchAccounts:void 0,fetchBalance:!0,fetchBidsAsks:void 0,fetchBorrowRate:void 0,fetchBorrowRateHistory:void 0,fetchBorrowRatesPerSymbol:void 0,fetchBorrowRates:void 0,fetchCanceledOrders:void 0,fetchClosedOrder:void 0,fetchClosedOrders:void 0,fetchCurrencies:"emulated",fetchDeposit:void 0,fetchDepositAddress:void 0,fetchDepositAddresses:void 0,fetchDeposits:void 0,fetchFees:void 0,fetchFundingFee:void 0,fetchFundingFees:void 0,fetchFundingHistory:void 0,fetchFundingRate:void 0,fetchFundingRateHistory:void 0,fetchFundingRates:void 0,fetchIndexOHLCV:void 0,fetchIsolatedPositions:void 0,fetchL2OrderBook:!0,fetchLedger:void 0,fetchLedgerEntry:void 0,fetchMarkets:!0,fetchMarkOHLCV:void 0,fetchMyTrades:void 0,fetchOHLCV:"emulated",fetchOpenOrder:void 0,fetchOpenOrders:void 0,fetchOrder:void 0,fetchOrderBook:!0,fetchOrderBooks:void 0,fetchOrders:void 0,fetchOrderTrades:void 0,fetchPosition:void 0,fetchPositions:void 0,fetchPositionsRisk:void 0,fetchPremiumIndexOHLCV:void 0,fetchStatus:"emulated",fetchTicker:!0,fetchTickers:void 0,fetchTime:void 0,fetchTrades:!0,fetchTradingFee:void 0,fetchTradingFees:void 0,fetchTradingLimits:void 0,fetchTransactions:void 0,fetchTransfers:void 0,fetchWithdrawal:void 0,fetchWithdrawals:void 0,loadLeverageBrackets:void 0,loadMarkets:!0,reduceMargin:void 0,setLeverage:void 0,setMarginMode:void 0,setPositionMode:void 0,signIn:void 0,transfer:void 0,withdraw:void 0},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1,token:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},status:{status:"ok",updated:void 0,eta:void 0,url:void 0},exceptions:void 0,httpExceptions:{422:C,418:B,429:V,404:L,409:L,410:L,500:L,501:L,502:L,520:L,521:L,522:L,525:L,526:L,400:L,403:L,405:L,503:L,530:L,408:R,504:R,401:P,511:P},commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:G,paddingMode:F,limits:{leverage:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}constructor(e={}){Object.assign(this,s),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.quoteJsonNumbers=!0,this.number=Number,this.handleContentTypeApplicationZip=!1,this.reduceFees=!0,this.fetchImplementation=I,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.token=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders=void 0,this.trades={},this.transactions={},this.ohlcvs={},this.myTrades=void 0,this.positions={},this.requiresWeb3=!1,this.requiresEddsa=!1,this.precision={},this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0;const t=(e=this)=>{if(null!==e){const i=Object.getOwnPropertyNames(e);for(let e=0;e<i.length;e++){const t=i[e];this[v(t)]=this[t]}t(Object.getPrototypeOf(e))}};t();const i=Object.entries(this.describe()).concat(Object.entries(e));for(let e=0;e<i.length;e++){const[t,r]=i[e];r&&Object.getPrototypeOf(r)===Object.prototype?this[t]=c(this[t],r):this[t]=r}const r={keepAlive:!0};!this.httpAgent&&I.http&&a&&(this.httpAgent=new I.http.Agent(r)),!this.httpsAgent&&I.https&&a&&(this.httpsAgent=new I.https.Agent(r));const n=Object.keys(this.has);for(let e=0;e<n.length;e++){const t=n[e];this["has"+S(t)]=!!this.has[t]}this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets)}defaults(){return{}}nonce(){return this.seconds()}encodeURIComponent(...e){return encodeURIComponent(...e)}checkRequiredVersion(t,i=!0){let r=!0;const[s,a,n]=t.split("."),[o,c,h]=e.ccxtVersion.split("."),d=parseInt(s),u=parseInt(a),l=parseInt(n),f=parseInt(o),p=parseInt(c),m=parseInt(h);if(d>f&&(r=!1),d===f&&(u>p||u===p&&l>m)&&(r=!1),!r){if(i)throw new N("Your current version of CCXT is "+e.ccxtVersion+", a newer version "+t+" is required, please, upgrade your version of CCXT");return i}return r}checkRequiredCredentials(e=!0){const t=Object.keys(this.requiredCredentials);for(let i=0;i<t.length;i++){const r=t[i];if(this.requiredCredentials[r]&&!this[r]){if(e)throw new P(this.id+" requires `"+r+"` credential");return e}}return!0}checkAddress(e){if(void 0===e)throw new E(this.id+" address is undefined");if(1===l(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new E(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}initRestRateLimiter(){if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({delay:.001,capacity:1,cost:1,maxCapacity:1e3,refillRate:this.rateLimit>0?1/this.rateLimit:Number.MAX_VALUE},this.tokenBucket),this.throttle=k(this.tokenBucket),this.executeRestRequest=(e,t="GET",i,r)=>{const s=this.fetchImplementation,n={method:t,headers:i,body:r,timeout:this.timeout};this.agent?n.agent=this.agent:this.httpAgent&&0===e.indexOf("http://")?n.agent=this.httpAgent:this.httpsAgent&&0===e.indexOf("https://")&&(n.agent=this.httpsAgent);const o=s(e,this.extend(n,this.fetchOptions)).catch((i=>{if(a)throw new L([this.id,t,e,i.type,i.message].join(" "));throw i})).then((s=>this.handleRestResponse(s,e,t,i,r)));return M(this.timeout,o).catch((i=>{if(i instanceof T)throw new R(this.id+" "+t+" "+e+" request timed out ("+this.timeout+" ms)");throw i}))}}setSandboxMode(e){if(e){if(!("test"in this.urls))throw new N(this.id+" does not have a sandbox URL");"string"==typeof this.urls.api?(this.urls.apiBackup=this.urls.api,this.urls.api=this.urls.test):(this.urls.apiBackup=d(this.urls.api),this.urls.api=d(this.urls.test))}else"apiBackup"in this.urls&&("string"==typeof this.urls.api?this.urls.api=this.urls.apiBackup:this.urls.api=d(this.urls.apiBackup))}defineRestApiEndpoint(e,t,i,r,s,a,n={}){const o=s.split(/[^a-zA-Z0-9]/),c=o.map(this.capitalize).join(""),h=o.map((e=>e.trim().toLowerCase())).filter((e=>e.length>0)).join("_"),d=[a[0]].concat(a.slice(1).map(this.capitalize)).join(""),u=[a[0]].concat(a.slice(1).map((e=>e.trim())).filter((e=>e.length>0))).join("_"),l=d+r+this.capitalize(c),f=u+"_"+i+"_"+h,p=a.length>1?a:a[0],m=async(i={},r={})=>this[e](s,p,t,i,void 0,void 0,n,r);this[l]=m,this[f]=m}defineRestApi(e,t,i=[]){const r=Object.keys(e);for(let s=0;s<r.length;s++){const a=r[s],n=e[a],o=a.toUpperCase(),c=a.toLowerCase(),h=this.capitalize(c);if(Array.isArray(n))for(let e=0;e<n.length;e++){const r=n[e].trim();this.defineRestApiEndpoint(t,o,c,h,r,i)}else if(a.match(/^(?:get|post|put|delete|options|head|patch)$/i)){const e=Object.keys(n);for(let r=0;r<e.length;r++){const s=e[r],a=s.trim(),d=n[s];if("object"==typeof d)this.defineRestApiEndpoint(t,o,c,h,a,i,d);else{if("number"!=typeof d)throw new N(this.id+" defineRestApi() API format not supported, API leafs must strings, objects or numbers");this.defineRestApiEndpoint(t,o,c,h,a,i,{cost:d})}}}else this.defineRestApi(n,t,i.concat([a]))}}log(...e){r.log(...e)}setHeaders(e){return e}fetch(e,t="GET",i,r){return a&&this.userAgent&&("string"==typeof this.userAgent?i=h({"User-Agent":this.userAgent},i):"object"==typeof this.userAgent&&"User-Agent"in this.userAgent&&(i=h(this.userAgent,i))),"function"==typeof this.proxy?(e=this.proxy(e),a&&(i=h({Origin:this.origin},i))):"string"==typeof this.proxy&&(this.proxy.length&&a&&(i=h({Origin:this.origin},i)),e=this.proxy+e),i=h(this.headers,i),i=this.setHeaders(i),this.verbose&&this.log("fetch Request:\n",this.id,t,e,"\nRequestHeaders:\n",i,"\nRequestBody:\n",r,"\n"),this.executeRestRequest(e,t,i,r)}calculateRateLimiterCost(e,t,i,r,s={},a={}){return this.safeValue(s,"cost",1)}async fetch2(e,t="public",i="GET",r={},s,a,n={},o={}){if(this.enableRateLimit){const s=this.calculateRateLimiterCost(t,i,e,r,n,o);await this.throttle(s)}const c=this.sign(e,t,i,r,s,a);return this.fetch(c.url,c.method,c.headers,c.body)}request(e,t="public",i="GET",r={},s,a,n={},o={}){return this.fetch2(e,t,i,r,s,a,n,o)}parseJson(e){try{if(this.isJsonEncodedObject(e))return JSON.parse(this.onJsonResponse(e))}catch(e){return}}throwExactlyMatchedException(e,t,i){if(t in e)throw new e[t](i)}throwBroadlyMatchedException(e,t,i){const r=this.findBroadlyMatchedKey(e,t);if(void 0!==r)throw new e[r](i)}findBroadlyMatchedKey(e,t){const i=Object.keys(e);for(let e=0;e<i.length;e++){const r=i[e];if(t.indexOf(r)>=0)return r}}handleErrors(e,t,i,r,s,a,n,o,c){}handleHttpStatusCode(e,t,i,r,s){const a=e.toString();if(a in this.httpExceptions)throw new(0,this.httpExceptions[a])([this.id,r,i,e,t,s].join(" "))}getResponseHeaders(e){const t={};return e.headers.forEach(((e,i)=>{i=i.split("-").map((e=>S(e))).join("-"),t[i]=e})),t}handleRestResponse(e,t,i="GET",r,s){const a=this.getResponseHeaders(e);if(this.handleContentTypeApplicationZip&&"application/zip"===a["Content-Type"]){const r=e.buffer();return this.enableLastResponseHeaders&&(this.last_response_headers=a),this.enableLastHttpResponse&&(this.last_http_response=r),this.verbose&&this.log("handleRestResponse:\n",this.id,i,t,e.status,e.statusText,"\nResponseHeaders:\n",a,"ZIP redacted","\n"),r}return e.text().then((n=>{const o=this.onRestResponse(e.status,e.statusText,t,i,a,n,r,s),c=this.parseJson(o);return this.enableLastResponseHeaders&&(this.last_response_headers=a),this.enableLastHttpResponse&&(this.last_http_response=n),this.enableLastJsonResponse&&(this.last_json_response=c),this.verbose&&this.log("handleRestResponse:\n",this.id,i,t,e.status,e.statusText,"\nResponseHeaders:\n",a,"\nResponseBody:\n",n,"\n"),this.handleErrors(e.status,e.statusText,t,i,a,n,c,r,s),this.handleHttpStatusCode(e.status,e.statusText,t,i,n),c||n}))}onRestResponse(e,t,i,r,s,a,n,o){return a.trim()}onJsonResponse(e){return this.quoteJsonNumbers?e.replace(/":([+.0-9eE-]+)([,}])/g,'":"$1"$2'):e}setMarkets(e,t){const i=Object.values(e).map((e=>c({limits:this.limits,precision:this.precision},this.fees.trading,e)));if(this.markets=f(i,"symbol"),this.markets_by_id=f(e,"id"),this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),t)this.currencies=c(this.currencies,t);else{let e=i.filter((e=>"base"in e)).map((e=>({id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8}))),t=i.filter((e=>"quote"in e)).map((e=>({id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8})));e=p(e,"code"),t=p(t,"code"),this.baseCurrencies=f(e,"code"),this.quoteCurrencies=f(t,"code");const r=e.concat(t),s=g(r,"code"),a=Object.keys(s).map((e=>s[e].reduce(((e,t)=>e.precision>t.precision?e:t),s[e][0]))),n=p(u(a),"code");this.currencies=c(this.currencies,f(n,"code"))}return this.currencies_by_id=f(this.currencies,"id"),this.codes=Object.keys(this.currencies).sort(),this.markets}async loadMarketsHelper(e=!1,t={}){if(!e&&this.markets)return this.markets_by_id?this.markets:this.setMarkets(this.markets);let i;!0===this.has.fetchCurrencies&&(i=await this.fetchCurrencies());const r=await this.fetchMarkets(t);return this.setMarkets(r,i)}loadMarkets(e=!1,t={}){return(e&&!this.reloadingMarkets||!this.marketsLoading)&&(this.reloadingMarkets=!0,this.marketsLoading=this.loadMarketsHelper(e,t).then((e=>(this.reloadingMarkets=!1,e)),(e=>{throw this.reloadingMarkets=!1,e}))),this.marketsLoading}async loadAccounts(e=!1,t={}){if(e)this.accounts=await this.fetchAccounts(t);else{if(this.accounts)return this.accounts;this.accounts=await this.fetchAccounts(t)}return this.accountsById=this.indexBy(this.accounts,"id"),this.accounts}fetchBidsAsks(e,t={}){throw new N(this.id+" fetchBidsAsks not supported yet")}async fetchOHLCVC(e,t="1m",i,r,s={}){if(!this.has.fetchTrades)throw new N(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,r,s);return O(a,t,i,r)}async fetchOHLCV(e,t="1m",i,r,s={}){if(!this.has.fetchTrades)throw new N(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,r,s);return O(a,t,i,r).map((e=>e.slice(0,-1)))}parseTradingViewOHLCV(e,t,i="1m",r,s){const a=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(a,t,i,r,s)}convertTradingViewToOHLCV(e,t="t",i="o",r="h",s="l",a="c",n="v",o=!1){const c=[];for(let h=0;h<e[t].length;h++)c.push([o?e[t][h]:1e3*e[t][h],e[i][h],e[r][h],e[s][h],e[a][h],e[n][h]]);return c}convertOHLCVToTradingView(e,t="t",i="o",r="h",s="l",a="c",n="v",o=!1){const c={};c[t]=[],c[i]=[],c[r]=[],c[s]=[],c[a]=[],c[n]=[];for(let h=0;h<e.length;h++)c[t].push(o?e[h][0]:parseInt(e[h][0]/1e3)),c[i].push(e[h][1]),c[r].push(e[h][2]),c[s].push(e[h][3]),c[a].push(e[h][4]),c[n].push(e[h][5]);return c}async fetchTicker(e,t={}){if(this.has.fetchTickers){const i=await this.fetchTickers([e],t),r=this.safeValue(i,e);if(void 0===r)throw new E(this.id+" fetchTickers could not find a ticker for "+e);return r}throw new N(this.id+" fetchTicker not supported yet")}fetchTickers(e,t={}){throw new N(this.id+" fetchTickers not supported yet")}fetchOrder(e,t,i={}){throw new N(this.id+" fetchOrder not supported yet")}fetchUnifiedOrder(e,t={}){return this.fetchOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}createOrder(e,t,i,r,s,a={}){throw new N(this.id+" createOrder not supported yet")}cancelOrder(e,t,i={}){throw new N(this.id+" cancelOrder not supported yet")}cancelUnifiedOrder(e,t={}){return this.cancelOrder(this.safeValue(e,"id"),this.safeValue(e,"symbol"),t)}fetchOrders(e,t,i,r={}){throw new N(this.id+" fetchOrders not supported yet")}fetchOpenOrders(e,t,i,r={}){throw new N(this.id+" fetchOpenOrders not supported yet")}fetchClosedOrders(e,t,i,r={}){throw new N(this.id+" fetchClosedOrders not supported yet")}fetchMyTrades(e,t,i,r={}){throw new N(this.id+" fetchMyTrades not supported yet")}fetchTransactions(e,t,i,r={}){throw new N(this.id+" fetchTransactions not supported yet")}fetchDeposits(e,t,i,r={}){throw new N(this.id+" fetchDeposits not supported yet")}fetchWithdrawals(e,t,i,r={}){throw new N(this.id+" fetchWithdrawals not supported yet")}async fetchDepositAddress(e,t={}){if(this.has.fetchDepositAddresses){const i=await this.fetchDepositAddresses([e],t),r=this.safeValue(i,e);if(void 0===r)throw new E(this.id+" fetchDepositAddress could not find a deposit address for "+e+", make sure you have created a corresponding deposit address in your wallet on the exchange website");return r}throw new N(this.id+" fetchDepositAddress not supported yet")}fetchCurrencies(e={}){return new Promise(((e,t)=>e(this.currencies)))}fetchMarkets(e={}){return new Promise(((e,t)=>e(Object.values(this.markets))))}async fetchOrderStatus(e,t,i={}){return(await this.fetchOrder(e,t,i)).status}account(){return{free:void 0,used:void 0,total:void 0}}commonCurrencyCode(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}currency(e){if(void 0===this.currencies)throw new C(this.id+" currencies not loaded");if("string"==typeof e&&e in this.currencies)return this.currencies[e];throw new C(this.id+" does not have currency code "+e)}market(e){if(void 0===this.markets)throw new C(this.id+" markets not loaded");if("string"==typeof e){if(e in this.markets)return this.markets[e];if(e in this.markets_by_id)return this.markets_by_id[e]}throw new A(this.id+" does not have market symbol "+e)}marketId(e){const t=this.market(e);return void 0!==t?t.id:e}marketIds(e){return e.map((e=>this.marketId(e)))}symbol(e){return this.market(e).symbol||e}implodeHostname(e){return this.implodeParams(e,{hostname:this.hostname})}parseBidAsk(e,t=0,i=1){return[this.safeNumber(e,t),this.safeNumber(e,i)]}parseBidsAsks(e,t=0,i=1){return Object.values(e||[]).map((e=>this.parseBidAsk(e,t,i)))}async fetchL2OrderBook(e,t,i={}){const r=await this.fetchOrderBook(e,t,i);return h(r,{bids:p(y(r.bids),0,!0),asks:p(y(r.asks),0)})}parseOrderBook(e,t,i,r="bids",s="asks",a=0,n=1){return{symbol:t,bids:p(r in e?this.parseBidsAsks(e[r],a,n):[],0,!0),asks:p(s in e?this.parseBidsAsks(e[s],a,n):[],0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}parseBalance(e,t=!1){const i=Object.keys(this.omit(e,["info","timestamp","datetime","free","used","total"]));e.free={},e.used={},e.total={};for(let r=0;r<i.length;r++){const s=i[r];void 0===e[s].total&&void 0!==e[s].free&&void 0!==e[s].used&&(e[s].total=t?this.sum(e[s].free,e[s].used):j.stringAdd(e[s].free,e[s].used)),void 0===e[s].free&&void 0!==e[s].total&&void 0!==e[s].used&&(e[s].free=t?this.sum(e[s].total,-e[s].used):j.stringSub(e[s].total,e[s].used)),void 0===e[s].used&&void 0!==e[s].total&&void 0!==e[s].free&&(e[s].used=t?this.sum(e[s].total,-e[s].free):j.stringSub(e[s].total,e[s].free)),e[s].free=this.parseNumber(e[s].free),e[s].used=this.parseNumber(e[s].used),e[s].total=this.parseNumber(e[s].total),e.free[s]=e[s].free,e.used[s]=e[s].used,e.total[s]=e[s].total}return e}async fetchBalance(e={}){throw new N(this.id+" fetchBalance not supported yet")}async fetchPartialBalance(e,t={}){return(await this.fetchBalance(t))[e]}fetchFreeBalance(e={}){return this.fetchPartialBalance("free",e)}fetchUsedBalance(e={}){return this.fetchPartialBalance("used",e)}fetchTotalBalance(e={}){return this.fetchPartialBalance("total",e)}async fetchStatus(e={}){if(this.has.fetchTime){const t=await this.fetchTime(e);this.status=this.extend(this.status,{updated:t})}return this.status}async fetchTradingFees(e={}){throw new N(this.id+" fetchTradingFees not supported yet")}async fetchTradingFee(e,t={}){if(!this.has.fetchTradingFees)throw new N(this.id+" fetchTradingFee not supported yet");return await this.fetchTradingFees(t)}async loadTradingLimits(e,t=!1,i={}){if(this.has.fetchTradingLimits&&(t||!("limitsLoaded"in this.options))){const t=await this.fetchTradingLimits(e);for(let i=0;i<e.length;i++){const r=e[i];this.markets[r]=this.deepExtend(this.markets[r],t[r])}this.options.limitsLoaded=this.milliseconds()}return this.markets}filterBySinceLimit(e,t,i,r="timestamp",s=!1){return null!=t&&(e=e.filter((e=>e[r]>=t))),null!=i&&(e=s?e.slice(-i):e.slice(0,i)),e}filterByValueSinceLimit(e,t,i,r,s,a="timestamp",n=!1){const o=null!=i,c=null!=r;return(o||c)&&(e=e.filter((e=>(!o||e[t]===i)&&(!c||e[a]>=r)))),null!=s&&(e=n?e.slice(-s):e.slice(0,s)),e}filterBySymbolSinceLimit(e,t,i,r,s=!1){return this.filterByValueSinceLimit(e,"symbol",t,i,r,"timestamp",s)}filterByCurrencySinceLimit(e,t,i,r,s=!1){return this.filterByValueSinceLimit(e,"currency",t,i,r,"timestamp",s)}filterByArray(e,t,i,r=!0){if(e=Object.values(e),null==i)return r?f(e,t):e;const s=[];for(let r=0;r<e.length;r++)i.includes(e[r][t])&&s.push(e[r]);return r?f(s,t):s}safeTicker(e,t){let i=this.safeValue(e,"symbol");void 0===i&&(i=this.safeSymbol(void 0,t));const r=this.safeInteger(e,"timestamp"),s=this.safeValue(e,"baseVolume"),a=this.safeValue(e,"quoteVolume");let n=this.safeValue(e,"vwap");void 0===n&&(n=this.vwap(s,a));let o=this.safeValue(e,"open"),c=this.safeValue(e,"close"),h=this.safeValue(e,"last"),d=this.safeValue(e,"change"),u=this.safeValue(e,"percentage"),l=this.safeValue(e,"average");return void 0!==h&&void 0===c?c=h:void 0===h&&void 0!==c&&(h=c),void 0!==h&&void 0!==o&&(void 0===d&&(d=h-o),void 0===l&&(l=this.sum(h,o)/2)),void 0===u&&void 0!==d&&void 0!==o&&o>0&&(u=d/o*100),void 0===d&&void 0!==u&&void 0!==h&&(d=u/100*h),void 0===o&&void 0!==h&&void 0!==d&&(o=h-d),e.symbol=i,e.timestamp=r,e.datetime=this.iso8601(r),e.open=o,e.close=c,e.last=h,e.vwap=n,e.change=d,e.percentage=u,e.average=l,e}parseTickers(e,t,i={}){const r=[],s=Object.values(e||[]);for(let e=0;e<s.length;e++)r.push(this.extend(this.parseTicker(s[e]),i));return this.filterByArray(r,"symbol",t)}parseDepositAddresses(e,t,i=!0,r={}){let s=[];for(let t=0;t<e.length;t++){const i=this.extend(this.parseDepositAddress(e[t]),r);s.push(i)}return t&&(s=this.filterByArray(s,"currency",t,!1)),i?this.indexBy(s,"currency"):s}parseTrades(e,t,i,r,s={}){let a=Object.values(e||[]).map((e=>this.extend(this.parseTrade(e,t),s)));a=m(a,"timestamp","id");const n=void 0!==t?t.symbol:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(a,n,i,r,o)}parseTransactions(e,t,i,r,s={}){let a=Object.values(e||[]).map((e=>this.extend(this.parseTransaction(e,t),s)));a=this.sortBy(a,"timestamp");const n=void 0!==t?t.code:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(a,n,i,r,o)}parseTransfers(e,t,i,r,s={}){let a=Object.values(e||[]).map((e=>this.extend(this.parseTransfer(e,t),s)));a=this.sortBy(a,"timestamp");const n=void 0!==t?t.code:void 0,o=void 0===i;return this.filterByCurrencySinceLimit(a,n,i,r,o)}parseLedger(e,t,i,r,s={}){let a=[];const n=Object.values(e||[]);for(let e=0;e<n.length;e++){const i=this.parseLedgerEntry(n[e],t);if(Array.isArray(i))for(let e=0;e<i.length;e++)a.push(this.extend(i[e],s));else a.push(this.extend(i,s))}a=this.sortBy(a,"timestamp");const o=void 0!==t?t.code:void 0,c=void 0===i;return this.filterByCurrencySinceLimit(a,o,i,r,c)}parseOrders(e,t,i,r,s={}){let a=Array.isArray(e)?Object.values(e).map((e=>this.extend(this.parseOrder(e,t),s))):Object.entries(e).map((([e,i])=>this.extend(this.parseOrder(this.extend({id:e},i),t),s)));a=p(a,"timestamp");const n=void 0!==t?t.symbol:void 0,o=void 0===i;return this.filterBySymbolSinceLimit(a,n,i,r,o)}safeCurrency(e,t){return void 0===e&&void 0!==t?t:void 0!==this.currencies_by_id&&e in this.currencies_by_id?this.currencies_by_id[e]:{id:e,code:void 0===e?e:this.commonCurrencyCode(e.toUpperCase())}}safeCurrencyCode(e,t){return(t=this.safeCurrency(e,t)).code}safeMarket(e,t,i){if(void 0!==e)if(void 0!==this.markets_by_id&&e in this.markets_by_id)t=this.markets_by_id[e];else if(void 0!==i){const[t,r]=e.split(i),s=this.safeCurrencyCode(t),a=this.safeCurrencyCode(r);return{id:e,symbol:s+"/"+a,base:s,quote:a,baseId:t,quoteId:r}}return void 0!==t?t:{id:e,symbol:e,base:void 0,quote:void 0,baseId:void 0,quoteId:void 0}}safeSymbol(e,t,i){return(t=this.safeMarket(e,t,i)).symbol}filterBySymbol(e,t){return void 0!==t?e.filter((e=>e.symbol===t)):e}parseFundingRate(e,t){throw new N(this.id+" parseFundingRate() not supported yet")}parseFundingRates(e,t){const i={};for(let r=0;r<e.length;r++){const s=this.parseFundingRate(e[r],t);i[s.symbol]=s}return i}parseOHLCV(e,t){return Array.isArray(e)?e.slice(0,6):e}parseOHLCVs(e,t,i="1m",r,s){const a=e.map((e=>this.parseOHLCV(e,t))),n=this.sortBy(a,0),o=void 0===r;return this.filterBySinceLimit(n,r,s,0,o)}editLimitBuyOrder(e,t,...i){return this.editLimitOrder(e,t,"buy",...i)}editLimitSellOrder(e,t,...i){return this.editLimitOrder(e,t,"sell",...i)}editLimitOrder(e,t,...i){return this.editOrder(e,t,"limit",...i)}async editOrder(e,t,...i){if(!this.enableRateLimit)throw new C(this.id+" editOrder() requires enableRateLimit = true");return await this.cancelOrder(e,t),this.createOrder(t,...i)}createLimitOrder(e,t,i,r,s={}){return this.createOrder(e,"limit",t,i,r,s)}createMarketOrder(e,t,i,r,s={}){return this.createOrder(e,"market",t,i,r,s)}createLimitBuyOrder(e,t,i,r={}){return this.createOrder(e,"limit","buy",t,i,r)}createLimitSellOrder(e,t,i,r={}){return this.createOrder(e,"limit","sell",t,i,r)}createMarketBuyOrder(e,t,i={}){return this.createOrder(e,"market","buy",t,void 0,i)}createMarketSellOrder(e,t,i={}){return this.createOrder(e,"market","sell",t,void 0,i)}costToPrecision(e,t){const i=this.market(e);return x(t,D,i.precision.price,this.precisionMode,this.paddingMode)}priceToPrecision(e,t){const i=this.market(e);return x(t,q,i.precision.price,this.precisionMode,this.paddingMode)}amountToPrecision(e,t){const i=this.market(e);return x(t,D,i.precision.amount,this.precisionMode,this.paddingMode)}feeToPrecision(e,t){const i=this.market(e);return x(t,q,i.precision.price,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return x(t,q,this.currencies[e].precision,this.precisionMode,this.paddingMode)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=this.safeString(o,"feeSide","quote");let h,d="quote";"quote"===c?h=r*s:"base"===c?h=r:"get"===c?(h=r,"sell"===i?h*=s:d="base"):"give"===c&&(h=r,"buy"===i?h*=s:d="base");const u=o[a];return void 0!==h&&(h*=u),{type:a,currency:o[d],rate:u,cost:h}}checkRequiredDependencies(){}remove0xPrefix(e){return"0x"===e.slice(0,2)?e.slice(2):e}hashMessage(e){const t=this.base16ToBinary(this.remove0xPrefix(e)),i=this.stringToBinary("Ethereum Signed Message:\n"+t.sigBytes);return"0x"+this.hash(this.binaryConcat(i,t),"keccak","hex")}signHash(e,t){const i=this.ecdsa(e.slice(-64),t.slice(-64),"secp256k1",void 0);return{r:"0x"+i.r,s:"0x"+i.s,v:27+i.v}}signMessage(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}signMessageString(e,t){const i=this.signMessage(e,t);return i.r+this.remove0xPrefix(i.s)+this.binaryToBase16(this.numberToBE(i.v))}oath(){if(void 0!==this.twofa)return this.totp(this.twofa);throw new C(this.id+" this.twofa has not been set")}reduceFeesByCurrency(e,t=!1){const i={};for(let r=0;r<e.length;r++){const s=e[r],a=this.safeString(s,"currency");if(void 0!==a){const e=this.safeString(s,"rate"),r=this.safeValue(s,"cost");a in i||(i[a]={});const n=void 0===e?"":e;n in i[a]?i[a][n].cost=t?j.stringAdd(i[a][n].cost,r):this.sum(i[a][n].cost,r):(i[a][n]={currency:a,cost:t?r:this.parseNumber(r)},void 0!==e&&(i[a][n].rate=t?e:this.parseNumber(e)))}}let r=[];const s=Object.values(i);for(let e=0;e<s.length;e++){const t=Object.values(s[e]);r=this.arrayConcat(r,t)}return r}safeTrade(e,t){const i=this.safeString(e,"amount"),r=this.safeString(e,"price");let s=this.safeString(e,"cost");if(void 0===s){const e=this.safeString(t,"contractSize");let a=r;void 0!==e&&(this.safeValue(t,"inverse",!1)&&(a=j.stringDiv("1",r)),a=j.stringMul(a,e)),s=j.stringMul(a,i)}const a=void 0===this.safeValue(e,"fee"),n=void 0===this.safeValue(e,"fees"),o=a||n,c=this.safeValue(e,"fees",[]);if(o){const t=this.safeValue(e,"fees");if(void 0!==t)for(let e=0;e<t.length;e++){const i=t[e];c.push(this.extend({},i))}else{const t=this.safeValue(e,"fee");void 0!==t&&c.push(this.extend({},t))}}const h=this.safeValue(e,"fee");if(o){const t=this.reduceFees?this.reduceFeesByCurrency(c,!0):c,i=t.length;for(let e=0;e<i;e++)t[e].cost=this.safeNumber(t[e],"cost");a||0!==i||(h.cost=this.safeNumber(h,"cost"),t.push(h)),n&&(e.fees=t),a&&1===i&&(e.fee=t[0]);const r=this.safeValue(e,"fee");void 0!==r&&(r.cost=this.safeNumber(r,"cost"),e.fee=r)}return e.amount=this.parseNumber(i),e.price=this.parseNumber(r),e.cost=this.parseNumber(s),e}safeOrder(e){let t=this.safeValue(e,"amount"),i=this.safeValue(e,"remaining"),r=this.safeValue(e,"filled"),s=this.safeValue(e,"cost"),a=this.safeValue(e,"average"),n=this.safeValue(e,"price"),o=this.safeInteger(e,"lastTradeTimestamp");const c=void 0===r,h=void 0===s,d=void 0===o,u=void 0===this.safeValue(e,"fee"),l=void 0===this.safeValue(e,"fees"),f=u||l,p=this.safeValue(e,"fees",[]);if(c||h||f){const t=this.safeValue(e,"trades");if(Array.isArray(t)){c&&(r=0),h&&(s=0);for(let e=0;e<t.length;e++){const i=t[e],a=this.safeValue(i,"amount");c&&void 0!==a&&(r=this.sum(r,a));const n=this.safeValue(i,"cost");h&&void 0!==n&&(s=this.sum(s,n));const u=this.safeValue(i,"timestamp");if(d&&void 0!==u&&(o=void 0===o?u:Math.max(o,u)),f){const e=this.safeValue(i,"fees");if(void 0!==e)for(let t=0;t<e.length;t++){const i=e[t];p.push(this.extend({},i))}else{const e=this.safeValue(i,"fee");void 0!==e&&p.push(this.extend({},e))}}}}}if(f){const t=this.reduceFees?this.reduceFeesByCurrency(p):p,i=t.length;u||0!==i||t.push(e.fee),l&&(e.fees=t),u&&1===i&&(e.fee=t[0])}void 0===t&&(void 0!==r&&void 0!==i?t=this.sum(r,i):"closed"===this.safeString(e,"status")&&(t=r)),void 0===r&&void 0!==t&&void 0!==i&&(r=Math.max(this.sum(t,-i),0)),void 0===i&&void 0!==t&&void 0!==r&&(i=Math.max(this.sum(t,-r),0)),void 0===a&&void 0!==r&&void 0!==s&&r>0&&(a=s/r),h&&void 0!==r&&(void 0!==a||void 0!==n)&&(s=void 0===a?n*r:a*r);const m=this.safeValue(e,"type");return(void 0===n||0===n)&&"market"===m&&(n=a),this.extend(e,{lastTradeTimestamp:o,price:n,amount:t,cost:s,average:a,filled:r,remaining:i})}safeOrder2(e,t){let i=this.omitZero(this.safeString(e,"amount")),r=this.safeString(e,"remaining"),s=this.safeString(e,"filled"),a=this.safeString(e,"cost"),n=this.omitZero(this.safeString(e,"average")),o=this.omitZero(this.safeString(e,"price")),c=this.safeInteger(e,"lastTradeTimestamp");const h=void 0===s,d=void 0===a,u=void 0===c,l=this.safeValue(e,"fee"),f=void 0===l,p=void 0===this.safeValue(e,"fees"),m=f||p,g=this.safeValue(e,"fees",[]);let y=[];if(h||d||m){const i=this.safeValue(e,"trades",y),r=this.number;if(this.number=String,y=this.parseTrades(i,t,void 0,void 0,{symbol:e.symbol,side:e.side,type:e.type,order:e.id}),this.number=r,Array.isArray(y)&&y.length){h&&(s="0"),d&&(a="0");for(let e=0;e<y.length;e++){const t=y[e],i=this.safeString(t,"amount");h&&void 0!==i&&(s=j.stringAdd(s,i));const r=this.safeString(t,"cost");d&&void 0!==r&&(a=j.stringAdd(a,r));const n=this.safeValue(t,"timestamp");if(u&&void 0!==n&&(c=void 0===c?n:Math.max(c,n)),m){const e=this.safeValue(t,"fees");if(void 0!==e)for(let t=0;t<e.length;t++){const i=e[t];g.push(this.extend({},i))}else{const e=this.safeValue(t,"fee");void 0!==e&&g.push(this.extend({},e))}}}}}if(m){const t=this.reduceFees?this.reduceFeesByCurrency(g,!0):g,i=t.length;for(let e=0;e<i;e++)t[e].cost=this.parseNumber(t[e].cost);f||0!==i||(l.cost=this.safeNumber(l,"cost"),t.push(l)),p&&(e.fees=t),f&&1===i&&(e.fee=t[0])}if(void 0===i&&(void 0!==s&&void 0!==r?i=j.stringAdd(s,r):"closed"===this.safeString(e,"status")&&(i=s)),void 0===s&&void 0!==i&&void 0!==r&&(s=j.stringSub(i,r)),void 0===r&&void 0!==i&&void 0!==s&&(r=j.stringSub(i,s)),void 0===n&&void 0!==s&&void 0!==a&&j.stringGt(s,"0")&&(n=j.stringDiv(a,s)),d&&void 0!==s&&(void 0!==n||void 0!==o)){let e;e=void 0===n?o:n;const i=this.safeString(t,"contractSize");void 0!==i&&(this.safeValue(t,"inverse",!1)&&(e=j.stringDiv("1",e)),e=j.stringMul(e,i)),a=j.stringMul(e,s)}const b=this.safeValue(e,"type");(void 0===o||j.stringEquals(o,"0"))&&"market"===b&&(o=n);for(let e=0;e<y.length;e++){const t=y[e];t.amount=this.safeNumber(t,"amount"),t.price=this.safeNumber(t,"price"),t.cost=this.safeNumber(t,"cost");const i=this.safeValue(t,"fee",{});i.cost=this.safeNumber(i,"cost")}return this.extend(e,{lastTradeTimestamp:c,price:this.parseNumber(o),amount:this.parseNumber(i),cost:this.parseNumber(a),average:this.parseNumber(n),filled:this.parseNumber(s),remaining:this.parseNumber(r),trades:y})}parseNumber(e,t){if(void 0===e)return t;try{return this.number(e)}catch(e){return t}}safeNumber(e,t,i){const r=this.safeString(e,t);return this.parseNumber(r,i)}safeNumber2(e,t,i,r){const s=this.safeString2(e,t,i);return this.parseNumber(s,r)}parsePrecision(e){if(void 0!==e)return"1e"+j.stringNeg(e)}handleWithdrawTagAndParams(e,t){return"object"==typeof e&&(t=this.extend(e,t),e=void 0),void 0===e&&void 0!==(e=this.safeString(t,"tag"))&&(t=this.omit(t,"tag")),[e,t]}getSupportedMapping(e,t={}){if(e in t)return t[e];throw new N(this.id+" "+e+" does not have a value in mapping")}async fetchBorrowRate(e,t={}){if(await this.loadMarkets(),!this.has.fetchBorrowRates)throw new N(this.id+"fetchBorrowRate() is not supported yet");const i=await this.fetchBorrowRates(t),r=this.safeValue(i,e);if(void 0===r)throw new C(this.id+"fetchBorrowRate() could not find the borrow rate for currency code "+e);return r}handleMarketTypeAndParams(e,t,i={}){const r=this.safeString2(this.options,e,"defaultType","spot"),s=void 0===t?r:t.type;return[this.safeString(i,"type",s),i=this.omit(i,"type")]}}},6832:e=>{"use strict";const t=BigInt(0),i=BigInt(-1),r=BigInt(10);class s{constructor(e,t){if(void 0===t){let t=0;(e=e.toLowerCase()).indexOf("e")>-1&&([e,t]=e.split("e"),t=parseInt(t));const i=e.indexOf(".");this.decimals=i>-1?e.length-i-1:0;const r=e.replace(".","");this.integer=BigInt(r),this.decimals=this.decimals-t}else this.integer=e,this.decimals=t}mul(e){const t=this.integer*e.integer;return new s(t,this.decimals+e.decimals)}div(e,t=18){const i=t-this.decimals+e.decimals;let a;if(0===i)a=this.integer;else if(i<0){const e=r**BigInt(-i);a=this.integer/e}else{const e=r**BigInt(i);a=this.integer*e}const n=a/e.integer;return new s(n,t)}add(e){if(this.decimals===e.decimals){const t=this.integer+e.integer;return new s(t,this.decimals)}{const[t,i]=this.decimals>e.decimals?[e,this]:[this,e],a=i.decimals-t.decimals,n=t.integer*r**BigInt(a)+i.integer;return new s(n,i.decimals)}}mod(e){const t=Math.max(-this.decimals+e.decimals,0),i=this.integer*r**BigInt(t),a=Math.max(-e.decimals+this.decimals,0),n=e.integer*r**BigInt(a);return new s(i%n,a+e.decimals)}sub(e){const t=new s(-e.integer,e.decimals);return this.add(t)}abs(){return new s(this.integer<0?this.integer*i:this.integer,this.decimals)}neg(){return new s(-this.integer,this.decimals)}min(e){return this.lt(e)?this:e}max(e){return this.gt(e)?this:e}gt(e){return this.sub(e).integer>0}ge(e){return this.sub(e).integer>=0}lt(e){return e.gt(this)}le(e){return e.ge(this)}reduce(){const e=this.integer.toString(),t=e.length-1;if(0===t)return"0"===e&&(this.decimals=0),this;let i;for(i=t;i>=0&&"0"===e.charAt(i);i--);const r=t-i;if(0===r)return this;this.decimals-=r,this.integer=BigInt(e.slice(0,i+1))}equals(e){return this.reduce(),e.reduce(),this.decimals===e.decimals&&this.integer===e.integer}toString(){let e,t;this.reduce(),this.integer<0?(e="-",t=-this.integer):(e="",t=this.integer);const i=Array.from(t.toString(this.base).padStart(this.decimals,"0")),r=i.length-this.decimals;let s;return s=0===r?"0.":this.decimals<0?"0".repeat(-this.decimals):0===this.decimals?"":".",i.splice(r,0,s),e+i.join("")}static stringMul(e,t){if(void 0!==e&&void 0!==t)return new s(e).mul(new s(t)).toString()}static stringDiv(e,i,r=18){if(void 0===e||void 0===i)return;const a=new s(i);return a.integer!==t?new s(e).div(a,r).toString():void 0}static stringAdd(e,t){if(void 0!==e||void 0!==t)return void 0===e?t:void 0===t?e:new s(e).add(new s(t)).toString()}static stringSub(e,t){if(void 0!==e&&void 0!==t)return new s(e).sub(new s(t)).toString()}static stringAbs(e){if(void 0!==e)return new s(e).abs().toString()}static stringNeg(e){if(void 0!==e)return new s(e).neg().toString()}static stringMod(e,t){if(void 0!==e&&void 0!==t)return new s(e).mod(new s(t)).toString()}static stringEquals(e,t){if(void 0!==e&&void 0!==t)return new s(e).equals(new s(t))}static stringMin(e,t){if(void 0!==e&&void 0!==t)return new s(e).min(new s(t)).toString()}static stringMax(e,t){if(void 0!==e&&void 0!==t)return new s(e).max(new s(t)).toString()}static stringGt(e,t){if(void 0!==e&&void 0!==t)return new s(e).gt(new s(t))}static stringGe(e,t){if(void 0!==e&&void 0!==t)return new s(e).ge(new s(t))}static stringLt(e,t){if(void 0!==e&&void 0!==t)return new s(e).lt(new s(t))}static stringLe(e,t){if(void 0!==e&&void 0!==t)return new s(e).le(new s(t))}}e.exports=s},66667:e=>{"use strict";e.exports={BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{BadSymbol:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{RateLimitExceeded:{}},ExchangeNotAvailable:{OnMaintenance:{}},InvalidNonce:{},RequestTimeout:{}}}}},73449:(e,t,i)=>{"use strict";const r=i(66667);e.exports=function e(t,i,r={}){for(const[s,a]of Object.entries(i)){const i=Object.assign(r,{[s]:class extends t{constructor(e){super(e),this.constructor=i,this.__proto__=i.prototype,this.name=s,this.message=e,Object.setPrototypeOf(this,i.prototype)}}})[s];e(i,a,r)}return r}(Error,r)},85806:(e,t,i)=>{"use strict";const{unCamelCase:r}=i(69579);e.exports=(e=>{for(const t in e)e[r(t)]=e[t];return e})(Object.assign({},i(90182),i(65206),i(69579),i(11799),i(62115),i(80651),i(35691),i(39764),i(3186),i(26558)))},35691:(e,t,i)=>{"use strict";const r=i(27295),{capitalize:s}=i(69579),{stringToBase64:a,urlencodeBase64:n}=i(80651),o=i(21286),{binaryToBase58:c,byteArrayToWordArray:h}=i(80651),d=i(73150),u=d.ec,l=d.eddsa,{ArgumentsRequired:f}=i(73449),p=i(35060),m=(e,t="md5",i="hex")=>{const a={};"keccak"===t&&(t="SHA3",a.outputLength=256);const n=r[t.toUpperCase()](e,a);return"binary"===i?n:n.toString(r.enc[s(i)])},g=(e,t,i="sha256",a="hex")=>{const n=r["Hmac"+i.toUpperCase()](e,t);if(a){const e="binary"===a?"Latin1":s(a);return n.toString(r.enc[s(e)])}return n};function y(e,t,i="RS256"){const r={RS256:"pkcs1-sha256",RS512:"pkcs1-sha512"};if(!(i in r))throw new ExchangeError(i+" is not a supported rsa signing algorithm.");return new o(t,{environment:"browser",signingScheme:r[i]}).sign(e,"base64","binary")}e.exports={hash:m,hmac:g,jwt:function(e,t,i="HS256"){const r=[n(a(JSON.stringify({alg:i,typ:"JWT"}))),n(a(JSON.stringify(e)))].join("."),s=i.slice(0,2);let o;return"HS"===s?o=n(g(r,t,{HS256:"sha256",HS384:"sha384",HS512:"sha512"}[i],"base64")):"RS"===s&&(o=n(y(r,t,i))),[r,o].join(".")},totp:e=>{const t=e=>parseInt(e,16),i=(e,t)=>(t+e).slice(-t.length);return(e=>{e=e.replace(" ","");let s=Math.round((new Date).getTime()/1e3),a=i(((h=Math.floor(s/30))<15.5?"0":"")+Math.round(h).toString(16),"0000000000000000"),n=g(r.enc.Hex.parse(a),r.enc.Hex.parse((e=>{let t="",r="";for(let r=0;r<e.length;r++){let s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(e.charAt(r).toUpperCase());t+=i(s.toString(2),"00000")}for(let e=0;e+4<=t.length;e+=4){let i=t.substr(e,4);r+=parseInt(i,2).toString(16)}return r})(e)),"sha1","hex"),o=t(n.substring(n.length-1)),c=(t(n.substr(2*o,8))&t("7fffffff"))+"";var h;return c=c.substr(c.length-6,6),c})(e)},rsa:y,ecdsa:function(e,t,i="p256",r,s=!1){let a=e;void 0!==r&&(a=m(e,r,"hex"));const n=new u(i);let o=n.sign(a,t,"hex",{canonical:!0}),c=new p("0");const h=new p("1").shln(248).sub(new p("1"));for(;s&&(o.r.gt(n.nh)||o.r.lte(h)||o.s.lte(h));)o=n.sign(a,t,"hex",{canonical:!0,extraEntropy:c.toArray("le",32)}),c=c.add(new p("1"));return{r:o.r.toString(16).padStart(64,"0"),s:o.s.toString(16).padStart(64,"0"),v:o.recoveryParam}},eddsa:function(e,t,i="ed25519"){const r=new l(i).signModified(e,t);return c(h(r.toBytes()))}}},80651:(e,t,i)=>{"use strict";const r=i(27295),s=i(84106),a=i(35060),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let o=null,c=null;function h(e){const t=[];for(let i=0;i<e.length;i++)t[i/4|0]|=e[i]<<24-8*i;return r.lib.WordArray.create(t,e.length)}e.exports={json:(e,t)=>JSON.stringify(e),isJsonEncodedObject:e=>"string"==typeof e&&e.length>=2&&("{"===e[0]||"["===e[0]),stringToBinary:e=>r.enc.Latin1.parse(e),stringToBase64:e=>r.enc.Latin1.parse(e).toString(r.enc.Base64),base64ToBinary:e=>r.enc.Base64.parse(e),base64ToString:e=>r.enc.Base64.parse(e).toString(r.enc.Utf8),binaryToBase64:e=>e.toString(r.enc.Base64),base16ToBinary:e=>r.enc.Hex.parse(e),binaryToBase16:e=>e.toString(r.enc.Hex),binaryConcat:(...e)=>e.reduce(((e,t)=>e.concat(t))),binaryConcatArray:e=>e.reduce(((e,t)=>e.concat(t))),urlencode:e=>s.stringify(e),urlencodeWithArrayRepeat:e=>s.stringify(e,{arrayFormat:"repeat"}),rawencode:e=>s.stringify(e,{encode:!1}),encode:e=>e,decode:e=>e,urlencodeBase64:e=>e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_"),numberToLE:(e,t)=>h(new a(e).toArray("le",t)),numberToBE:(e,t)=>h(new a(e).toArray("be",t)),base58ToBinary:e=>{if(!o){o={},c={};for(let e=0;e<58;e++){const t=n[e],i=new a(e);o[t]=i,c[i]=t}}let t=new a(0);const i=new a(58);for(let r=0;r<e.length;r++){const s=e[r];t.imul(i),t.iadd(o[s])}return h(t.toArray("be"))},binaryToBase58:e=>{if(!c){o={},c={};for(let e=0;e<58;e++){const t=n[e],i=new a(e);o[t]=i,c[i]=t}}const t=new a(58),i=e.toString(r.enc.Hex);let s=new a(i,16),h=[];for(;!s.isZero();){const{div:e,mod:i}=s.divmod(t);s=e,h.push(c[i])}return h.reverse().join("")}},e.exports.byteArrayToWordArray=h},65206:(e,t,i)=>{"use strict";const{isObject:r,isNumber:s,isDictionary:a,isArray:n}=i(11799),o=Object.keys,c=e=>n(e)?e:Object.values(e),h=e=>new Set(c(e)),d=(...e)=>Object.assign({},...e),u=e=>n(e)?Array.from(e):d(e);e.exports={keys:o,values:c,extend:d,clone:u,index:h,ordered:e=>e,unique:e=>Array.from(h(e)),arrayConcat:(e,t)=>e.concat(t),inArray:(e,t)=>t.includes(e),toArray:e=>Object.values(e),isEmpty:e=>!e||(Array.isArray(e)?e:Object.keys(e)).length<1,keysort(e,t={}){for(const i of o(e).sort())t[i]=e[i];return t},indexBy(e,t,i={}){for(const r of c(e))t in r&&(i[r[t]]=r);return i},groupBy(e,t,i={}){for(const r of c(e))if(t in r){const e=r[t];i[e]=i[e]||[],i[e].push(r)}return i},filterBy(e,t,i,r=[]){for(const s of c(e))s[t]===i&&r.push(s);return r},sortBy:(e,t,i=!1,r=(i?-1:1))=>e.sort(((e,i)=>e[t]<i[t]?-r:e[t]>i[t]?r:0)),sortBy2:(e,t,i,r=!1,s=(r?-1:1))=>e.sort(((e,r)=>e[t]<r[t]?-s:e[t]>r[t]?s:e[i]<r[i]?-s:e[i]>r[i]?s:0)),flatten:function e(t,i=[]){for(const r of t)n(r)?e(r,i):i.push(r);return i},pluck:(e,t)=>c(e).filter((e=>t in e)).map((e=>e[t])),omit(e,...t){if(!Array.isArray(e)){const i=u(e);for(const e of t)if(n(e))for(const t of e)delete i[t];else delete i[e];return i}return e},sum(...e){const t=e.filter(s);return t.length>0?t.reduce(((e,t)=>e+t),0):void 0},deepExtend:function e(...t){let i;for(const r of t)if(a(r)){a(i)||(i={});for(const t in r)i[t]=e(i[t],r[t])}else i=r;return i}}},26558:(e,t,i)=>{"use strict";const{ROUND_UP:r,ROUND_DOWN:s}=i(62115),{NotSupported:a}=i(73449),n=e=>{const t=e.slice(0,-1),i=e.slice(-1);let r;if("y"===i)r=31536e3;else if("M"===i)r=2592e3;else if("w"===i)r=604800;else if("d"===i)r=86400;else if("h"===i)r=3600;else if("m"===i)r=60;else{if("s"!==i)throw new a("timeframe unit "+i+" is not supported");r=1}return t*r};e.exports={aggregate(e){const t={};for(let i=0;i<e.length;i++){const[r,s]=e[i];s>0&&(t[r]=(t[r]||0)+s)}return Object.keys(t).map((e=>[parseFloat(e),parseFloat(t[e])]))},parseTimeframe:n,roundTimeframe:(e,t,i=s)=>{const a=1e3*n(e);return t-t%a+(i===r?a:0)},buildOHLCVC:(e,t="1m",i=-1/0,r=1/0)=>{const s=1e3*n(t),a=[],[o,,c,h,d,u,l]=[0,1,2,3,4,5,6],f=Math.min(e.length-1,r);for(let t=0;t<=f;t++){const r=e[t];if(r.timestamp<i)continue;const n=Math.floor(r.timestamp/s)*s,f=a.length-1;-1===f||n>=a[f][o]+s?a.push([n,r.price,r.price,r.price,r.price,r.amount,1]):(a[f][c]=Math.max(a[f][c],r.price),a[f][h]=Math.min(a[f][h],r.price),a[f][d]=r.price,a[f][u]+=r.amount,a[f][l]++)}return a},ROUND_UP:r,ROUND_DOWN:s,implodeParams:(e,t)=>{if(!Array.isArray(t)){const i=Object.keys(t);for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(t[s])||(e=e.replace("{"+s+"}",t[s]))}}return e},extractParams:e=>{const t=/{([\w-]+)}/g,i=[];let r=t.exec(e);for(;r;)i.push(r[1]),r=t.exec(e);return i},vwap:function(e,t){return void 0!==e&&void 0!==t&&e>0?t/e:void 0}}},62115:e=>{"use strict";function t(e){if("string"==typeof e)return e;const t=e.toString();if(Math.abs(e)<1){const e=t.split("e-"),i=e[0].replace(".",""),r=parseInt(e[1]),s="-"===t[0];if(r)return(s?"-":"")+"0."+new Array(r).join("0")+i.substring(s)}else{const e=t.split("e");if(e[1]){let t=parseInt(e[1]);const i=e[0].split(".");let r="";return i[1]&&(t-=i[1].length,r=i[1]),i[0]+r+new Array(t+1).join("0")}}return t}const i=[],r=(e,r=0)=>{if(e=t(e),r>0){const t=i[r]||(i[r]=new RegExp("([-]*\\d+\\.\\d{"+r+"})(\\d)")),[,s]=e.toString().match(t)||[null,e];return s.toString()}return parseInt(e).toString()};function s(e){const t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}const a=(e,i,r,n=0,o=0)=>{if(2===n&&r<=0)throw new Error("TICK_SIZE cant be used with negative or zero numPrecisionDigits");if(r<0){const t=Math.pow(10,-r);if(0===i)return(t*a(e/t,i,0,n,o)).toString();if(1===i)return(e-e%t).toString()}if(2===n){const t=s(a(r,0,22,0,0));let n=e%r;return n=Number(a(n,0,8,0,0)),0!==s(a(n/r,0,Math.max(t,8),0,0))&&(0===i?e>0?n>=r/2?e=e-n+r:e-=n:e=n>=r/2?Number(e)-n:Number(e)-n-r:1===i&&(e-=n)),a(e,0,t,0,o)}const c=t(e),h="-"===c[0],d=h?1:0,u=c.length;for(var l=0;l<u&&"."!==c[l];l++);const f=l<c.length,p=48,m=new Uint8Array(u-d+(f?0:1));m[0]=p;let g=m.length,y=-1,b=-1;for(var v=1,w=d;w<u;w++,v++){const e=c.charCodeAt(w);if(46===e)g=v--;else{if(e<p||e>57)throw new Error(`${c}: invalid number (contains an illegal character '${c[v-1]}')`);m[v]=e,e!==p&&y<0&&(y=v)}}y<0&&(y=1);let k=0===n?g:y,S=k+r;b=-1;let _=!0,M=h;for(let e=m.length-1,t=0;e>=0;e--){let s=m[e];0!==e?(s+=t,e>=k+r&&(s=0===i&&s>=53&&(53!==s||!t)?58:p),s>57?(s=p,t=1):t=0):t&&(s=49),m[e]=s,s!==p&&(_=!1,y=e,b=b<0?e+1:b)}1===n&&(k=y,S=k+r),_&&(M=!1);const T=y>=g||_?g-1:y,O=b<g?g:b,x=M?1:0,I=x+(g-T),C=Math.max(O-g,0),A=O-T,E=0===o?A:S-T,N=Math.max(E-A,0),P=I+1+C,B=P+N,R=C+N===0,L=new Uint8Array(I+(R?0:1)+C+N);for(M&&(L[0]=45),v=x,w=T;v<I;v++,w++)L[v]=m[w];for(R||(L[I]=46),v=I+1,w=g;v<P;v++,w++)L[v]=m[w];for(v=P;v<B;v++)L[v]=p;return String.fromCharCode(...L)};e.exports={numberToString:t,precisionFromString:s,decimalToPrecision:a,truncate_to_string:r,truncate:(e,t=0)=>parseFloat(r(e,t)),omitZero:function(e){if(void 0!==e&&""!==e&&0!==parseFloat(e))return e},precisionConstants:{ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1},ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1}},90182:(e,t,i)=>{"use strict";var r=i(34155);const s="undefined"!=typeof window,a=void 0!==r&&void 0!==r.versions&&void 0!==r.versions.electron,n="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,o=void 0!==r&&"win32"===r.platform,c=!(s||n),h="undefined"==typeof fetch?i(79323)().fetch:fetch;e.exports={isBrowser:s,isElectron:a,isWebWorker:n,isNode:c,isWindows:o,defaultFetch:h}},69579:e=>{"use strict";const t=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t),i=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e5]+100+400+8e3).replace(/[018]/g,i),r=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e5).replace(/[018]/g,r);e.exports={uuid:t,uuid16:i,uuid22:r,unCamelCase:e=>e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,(e=>e[0]+"_"+e[1])).replace(/[A-Z0-9][A-Z0-9][a-z]/g,(e=>e[0]+"_"+e[1]+e[2])).toLowerCase(),capitalize:e=>e.length?e.charAt(0).toUpperCase()+e.slice(1):e,strip:e=>e.replace(/^\s+|\s+$/g,"")}},3186:(e,t,i)=>{"use strict";const{now:r,sleep:s}=i(39764);class a{constructor(e){this.config={refillRate:1,delay:.001,capacity:1,maxCapacity:1e3,tokens:0,cost:1},Object.assign(this.config,e),this.queue=[],this.running=!1}async loop(){let e=r();for(;this.running;){const{resolver:t,cost:i}=this.queue[0];if(this.config.tokens>=0)this.config.tokens-=i,t(),this.queue.shift(),await Promise.resolve(),0===this.queue.length&&(this.running=!1);else{await s(1e3*this.config.delay);const t=r(),i=t-e;e=t,this.config.tokens=Math.min(this.config.tokens+this.config.refillRate*i,this.config.capacity)}}}}e.exports={throttle:function(e){const t=new a(e),i=function(e){let t;const i=new Promise(((e,i)=>{t=e}));if(this.queue.length>this.config.maxCapacity)throw new Error("throttle queue is over maxCapacity");return e=void 0===e?this.config.cost:e,this.queue.push({resolver:t,cost:e}),this.running||(this.running=!0,this.loop()),i}.bind(t);return i.config=t.config,i}}},39764:e=>{"use strict";const t=Date.now,i=()=>1e3*t(),r=t,s=setTimeout,a=(e,i,r=s,n=t()+i)=>{if(i>=2147483647)throw new Exception("setTimeout() function was called with unrealistic value of "+i.toString());let o=()=>{},c=!0;const h=r((()=>{c=!0;const i=n-t();i>0?o=a(e,i,r,n):e()}),i);return function(){c&&(c=!1,clearTimeout(h)),o()}};class n extends Error{constructor(){const e="timed out";super(e),this.constructor=n,this.__proto__=n.prototype,this.message=e}}const o=e=>{if("string"==typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{const t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(Number.isNaN(t))return;return t}catch(e){return}},c=(e,t,i=!0)=>{t=t||"";const r=new Date(e),s=r.getUTCFullYear(),a=(i?s:s-2e3).toString();let n=r.getUTCMonth()+1,o=r.getUTCDate();return n=n<10?"0"+n:n.toString(),o=o<10?"0"+o:o.toString(),a+t+n+t+o};e.exports={now:t,microseconds:i,milliseconds:r,seconds:()=>Math.floor(t()/1e3),iso8601:e=>{let t;if(t="number"==typeof e?Math.floor(e):parseInt(e,10),!(Number.isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(e){return}},parse8601:o,rfc2616:e=>new Date(e).toUTCString(),uuidv1:()=>{const e=(10*i()+122192928e9).toString(16);return e.slice(7,15)+e.slice(3,7)+"1"+e.slice(0,3)+"9696"+"ff".repeat(6)},parseDate:e=>{if("string"==typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(e){return}return o(e)}},mdy:(e,t="-")=>{t=t||"";const i=new Date(e),r=i.getUTCFullYear().toString();let s=i.getUTCMonth()+1,a=i.getUTCDate();return s=s<10?"0"+s:s.toString(),a=a<10?"0"+a:a.toString(),s+t+a+t+r},ymd:c,yymmdd:(e,t="")=>c(e,t,!1),yyyymmdd:(e,t="-")=>c(e,t,!0),ymdhms:(e,t=" ")=>{const i=new Date(e),r=i.getUTCFullYear();let s=i.getUTCMonth()+1,a=i.getUTCDate(),n=i.getUTCHours(),o=i.getUTCMinutes(),c=i.getUTCSeconds();return s=s<10?"0"+s:s,a=a<10?"0"+a:a,n=n<10?"0"+n:n,o=o<10?"0"+o:o,c=c<10?"0"+c:c,r+"-"+s+"-"+a+t+n+":"+o+":"+c},setTimeout_safe:a,sleep:e=>new Promise((t=>a(t,e))),TimedOut:n,timeout:async(e,t)=>{let i=()=>{};const r=new Promise((t=>i=a(t,e)));try{return await Promise.race([t,r.then((()=>{throw new n}))])}finally{i()}}}},11799:e=>{"use strict";const t=Number.isFinite,i=Number.isInteger,r=Array.isArray,s=e=>null!=e,a=e=>"string"==typeof e,n=e=>null!==e&&"object"==typeof e,o=e=>s(e)&&e.toString||t(e),c=(e,t)=>n(e)?e[t]:void 0,h=(e,t,i)=>n(e)?t in e&&null!==e[t]?e[t]:e[i]:void 0,d=e=>t(e)||a(e)?parseFloat(e):NaN,u=e=>t(e)||a(e)?parseInt(e,10):NaN;e.exports={isNumber:t,isInteger:i,isArray:r,isObject:n,isString:a,isStringCoercible:o,isDictionary:e=>n(e)&&Object.getPrototypeOf(e)===Object.prototype&&!r(e)&&!(e=>e instanceof RegExp)(e),hasProps:s,prop:c,asFloat:d,asInteger:u,safeFloat:(e,i,r,s=d(c(e,i)))=>t(s)?s:r,safeInteger:(e,i,r,s=u(c(e,i)))=>t(s)?s:r,safeIntegerProduct:(e,i,r,s,a=u(c(e,i)))=>t(a)?parseInt(a*r):s,safeTimestamp:(e,i,r,s=d(c(e,i)))=>t(s)?parseInt(1e3*s):r,safeValue:(e,t,i,r=c(e,t))=>s(r)?r:i,safeString:(e,t,i,r=c(e,t))=>o(r)?String(r):i,safeStringLower:(e,t,i,r=c(e,t))=>o(r)?String(r).toLowerCase():i,safeStringUpper:(e,t,i,r=c(e,t))=>o(r)?String(r).toUpperCase():i,safeFloat2:(e,i,r,s,a=d(h(e,i,r)))=>t(a)?a:s,safeInteger2:(e,i,r,s,a=u(h(e,i,r)))=>t(a)?a:s,safeIntegerProduct2:(e,i,r,s,a,n=u(h(e,i,r)))=>t(n)?parseInt(n*s):a,safeTimestamp2:(e,i,r,s,a=d(h(e,i,r)))=>t(a)?parseInt(1e3*a):s,safeValue2:(e,t,i,r,a=h(e,t,i))=>s(a)?a:r,safeString2:(e,t,i,r,s=h(e,t,i))=>o(s)?String(s):r,safeStringLower2:(e,t,i,r,s=h(e,t,i))=>o(s)?String(s).toLowerCase():r,safeStringUpper2:(e,t,i,r,s=h(e,t,i))=>o(s)?String(s).toUpperCase():r}},21366:(e,t,i)=>{"use strict";const r=i(28267);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bequant",name:"Bequant",countries:["MT"],pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/55248342-a75dfe00-525a-11e9-8aa2-05e9dca943c6.jpg",api:{public:"https://api.bequant.io",private:"https://api.bequant.io"},www:"https://bequant.io",doc:["https://api.bequant.io/"],fees:["https://bequant.io/fees-and-limits"],referral:"https://bequant.io"}})}}},77838:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AccountSuspended:a,ArgumentsRequired:n,AuthenticationError:o,DDoSProtection:c,ExchangeNotAvailable:h,InvalidOrder:d,OrderNotFound:u,PermissionDenied:l,InsufficientFunds:f,BadSymbol:p,RateLimitExceeded:m,BadRequest:g}=i(73449),y=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",hostname:"bibox.com",has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/77257418-3262b000-6c85-11ea-8fb8-20bdf20b3592.jpg",api:"https://api.{hostname}",www:"https://www.bibox365.com",doc:["https://biboxcom.github.io/en/"],fees:"https://bibox.zendesk.com/hc/en-us/articles/360002336133",referral:"https://w2.bibox365.com/login/register?invite_code=05Kj3I"},api:{public:{post:["mdata"],get:["cquery","mdata","cdata","orderpending"]},private:{post:["cquery","ctrade","user","orderpending","transfer"]},v2private:{post:["assets/transfer/spot"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.0008")},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2011:a,2015:o,2021:f,2027:f,2033:u,2065:d,2066:d,2067:d,2068:d,2078:d,2085:d,2091:m,2092:d,2131:d,3e3:g,3002:g,3012:o,3016:p,3024:l,3025:o,4e3:h,4003:c},commonCurrencies:{"APENFT(NFT)":"NFT",BOX:"DefiBox",BPT:"BlockPool Token",GTC:"Game.com",KEY:"Bihu",MTC:"MTC Mesh Network",NFT:"NFT Protocol",PAI:"PCHAIN",REVO:"Revo Network",TERN:"Ternio-ERC20"}})}async fetchMarkets(e={}){const t=await this.publicGetMdata(this.extend({cmd:"pairList"},e)),i=this.safeValue(t,"result"),r=await this.publicGetOrderpending(this.extend({cmd:"tradeLimit"},e)),s=this.safeValue(r,"result",{}),a=this.safeValue(s,"min_trade_money",{}),n=[];for(let e=0;e<i.length;e++){const t=i[e],r=this.safeInteger(t,"id"),s=this.safeString(t,"pair");let o,c;if(void 0!==s){const e=s.split("_");o=this.safeString(e,0),c=this.safeString(e,1)}const h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c),u=h+"/"+d;let l="spot",f=!0;16===this.safeInteger(t,"area_id")&&(l=void 0,f=!1);const p={amount:this.safeNumber(t,"amount_scale"),price:this.safeNumber(t,"decimal")};n.push({id:s,numericId:r,symbol:u,base:h,quote:d,baseId:o,quoteId:c,type:l,spot:f,active:!0,info:t,precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:Math.pow(10,-p.price),max:void 0},cost:{min:this.safeNumber(a,c),max:void 0}}})}return n}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r;if(void 0!==t)r=t.symbol;else{const t=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol");r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}const s=this.safeNumber(e,"last"),a=this.safeNumber(e,"change"),n=this.safeNumber2(e,"vol","vol24H");let o=this.safeString(e,"percent");return void 0!==o&&(o=o.replace("%",""),o=this.parseNumber(o)),this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:a,percentage:o,average:void 0,baseVolume:n,quoteVolume:this.safeNumber(e,"amount"),info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={cmd:"ticker",pair:i.id},s=await this.publicGetMdata(this.extend(r,t));return this.parseTicker(s.result,i)}async fetchTickers(e,t={}){const i=await this.publicGetMdata(this.extend({cmd:"marketAll"},t)),r=this.parseTickers(i.result,e),s=this.indexBy(r,"symbol");return this.filterByArray(s,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"time","createdAt");let r,s,a=this.safeInteger2(e,"side","order_side");if(a=1===a?"buy":"sell",void 0===t){let i=this.safeString(e,"pair");if(void 0===i){const t=this.safeString(e,"coin_symbol"),r=this.safeString(e,"currency_symbol");void 0!==t&&void 0!==r&&(i=t+"_"+r)}i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(r=t.symbol);const n=this.safeString(e,"fee");let o=this.safeString(e,"fee_symbol");void 0!==o&&(o=o in this.currencies_by_id?this.currencies_by_id[o].code:this.safeCurrencyCode(o));const c=this.safeString(e,"price"),h=this.safeString(e,"amount");void 0!==n&&(s={cost:y.stringNeg(n),currency:o,rate:void 0});const d=this.safeString(e,"id");return this.safeTrade({info:e,id:d,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:"limit",takerOrMaker:void 0,side:a,price:c,amount:h,cost:void 0,fee:s},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={cmd:"deals",pair:s.id};void 0!==i&&(a.size=i);const n=await this.publicGetMdata(this.extend(a,r));return this.parseTrades(n.result,s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={cmd:"depth",pair:this.market(e).id};void 0!==t&&(r.size=t);const s=await this.publicGetMdata(this.extend(r,i));return this.parseOrderBook(s.result,e,this.safeNumber(s.result,"update_time"),"bids","asks","price","volume")}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={cmd:"kline",pair:a.id,period:this.timeframes[t],size:r},o=await this.publicGetMdata(this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchCurrencies(e={}){return this.checkRequiredCredentials(!1)?await this.fetchCurrenciesPrivate(e):await this.fetchCurrenciesPublic(e)}async fetchCurrenciesPublic(e={}){const t=await this.publicGetCdata(this.extend({cmd:"currencies"},e)),i=this.safeValue(t,"result"),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeString(t,"name"),n=this.safeCurrencyCode(s),o=this.safeInteger(t,"valid_decimals"),c=this.safeValue(t,"enable_deposit"),h=this.safeValue(t,"enable_withdraw"),d=c&&h;r[n]={id:s,code:n,info:t,name:a,active:d,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:void 0},withdraw:{min:this.safeNumber(t,"withdraw_min"),max:void 0}}}}return r}async fetchCurrenciesPrivate(e={}){if(!this.checkRequiredCredentials(!1))throw new o(this.id+" fetchCurrencies is an authenticated endpoint, therefore it requires 'apiKey' and 'secret' credentials. If you don't need currency details, set exchange.has['fetchCurrencies'] = false before calling its methods.");const t=await this.privatePostTransfer(this.extend({cmd:"transfer/coinList",body:{}},e)),i=this.safeValue(t,"result"),r=this.safeValue(i,0,{}),s=this.safeValue(r,"result"),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"symbol"),r=t.name,n=this.safeCurrencyCode(i),o=8,c=this.safeValue(t,"enable_deposit"),h=this.safeValue(t,"enable_withdraw"),d=c&&h;a[n]={id:i,code:n,info:t,name:r,active:d,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return a}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","assets");e=this.omit(e,"type");const i={cmd:"transfer/"+t,body:this.extend({select:1},e)},r=await this.privatePostTransfer(i),s=this.safeValue(r,"result"),a=this.safeValue(s,0,{}),n=this.safeValue(a,"result"),o={info:r},c=this.safeValue(n,"assets_list",[]);for(let e=0;e<c.length;e++){const t=c[e],i=this.safeString(t,"coin_symbol"),r=this.safeCurrencyCode(i),s=this.account();s.free=this.safeString(t,"balance"),s.used=this.safeString(t,"freeze"),o[r]=s}return this.parseBalance(o)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={page:1,size:i};let a;void 0!==e&&(a=this.currency(e),s.symbol=a.id);const n=await this.privatePostTransfer({cmd:"transfer/transferInList",body:this.extend(s,r)}),o=this.safeValue(n,"result"),c=this.safeValue(o,0,{}),h=this.safeValue(c,"result",{}),d=this.safeValue(h,"items",[]);for(let e=0;e<d.length;e++)d[e].type="deposit";return this.parseTransactions(d,a,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={page:1,size:i};let a;void 0!==e&&(a=this.currency(e),s.symbol=a.id);const n=await this.privatePostTransfer({cmd:"transfer/transferOutList",body:this.extend(s,r)}),o=this.safeValue(n,"result"),c=this.safeValue(o,0,{}),h=this.safeValue(c,"result",{}),d=this.safeValue(h,"items",[]);for(let e=0;e<d.length;e++)d[e].type="withdrawal";return this.parseTransactions(d,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"to_address"),s=this.safeString(e,"coin_symbol"),a=this.safeCurrencyCode(s,t),n=this.safeString(e,"createdAt");let o=this.safeString(e,"addr_remark");const c=this.safeString(e,"type"),h=this.parseTransactionStatusByType(this.safeString(e,"status"),c),d=this.safeNumber(e,"amount");let u=this.safeNumber(e,"fee");"deposit"===c&&(u=0,o=void 0);const l={cost:u,currency:a};return{info:e,id:i,txid:void 0,timestamp:n,datetime:this.iso8601(n),address:r,tag:o,type:c,amount:d,currency:a,status:h,updated:void 0,fee:l}}parseTransactionStatusByType(e,t){return this.safeString(this.safeValue({deposit:{1:"pending",2:"ok"},withdrawal:{0:"pending",3:"ok"}},t,{}),e,e)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o="limit"===t?2:1,c="buy"===i?1:2,h={cmd:"orderpending/trade",body:this.extend({pair:n.id,account_type:0,order_type:o,order_side:c,pay_bix:0,amount:r,price:s},a)},d=await this.privatePostOrderpending(h),u=this.safeValue(d,"result"),l=this.safeValue(u,0,{});return{info:d,id:this.safeValue(l,"result")}}async cancelOrder(e,t,i={}){const r={cmd:"orderpending/cancelTrade",body:this.extend({orders_id:e},i)},s=await this.privatePostOrderpending(r),a=this.safeValue(s,"result");return this.safeValue(a,0,{})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={cmd:"orderpending/order",body:this.extend({id:e.toString(),account_type:0},i)},s=await this.privatePostOrderpending(r),a=this.safeValue(s,"result"),n=this.safeValue(a,0,{}),o=this.safeValue(n,"result");if(this.isEmpty(o))throw new u(this.id+" order "+e+" not found");return this.parseOrder(o)}parseOrder(e,t){let i;if(void 0===t){let i;const r=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");void 0!==r&&void 0!==s&&(i=r+"_"+s),i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t.symbol);const r="1"===this.safeString(e,"order_type")?"market":"limit",s=this.safeInteger(e,"createdAt"),a=this.safeString(e,"price"),n=this.safeString(e,"deal_price"),o=this.safeString(e,"deal_amount"),c=this.safeString(e,"amount"),h=this.safeString2(e,"deal_money","money"),d="1"===this.safeString(e,"order_side")?"buy":"sell",u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeString(e,"id"),f=this.safeNumber(e,"fee");let p;return void 0!==f&&(p={cost:f,currency:void 0}),this.safeOrder2({info:e,id:l,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:r,timeInForce:void 0,postOnly:void 0,side:d,price:a,stopPrice:void 0,amount:c,cost:h,average:n,filled:o,remaining:void 0,status:u,fee:p,trades:void 0},t)}parseOrderStatus(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e)}async fetchOpenOrders(e,t,i,r={}){let s,a;await this.loadMarkets(),void 0!==e&&(s=this.market(e),a=s.id);const n=i||200,o={cmd:"orderpending/orderPendingList",body:this.extend({pair:a,account_type:0,page:1,size:n},r)},c=await this.privatePostOrderpending(o),h=this.safeValue(c,"result"),d=this.safeValue(h,0,{}),u=this.safeValue(d,"result",{}),l=this.safeValue(u,"items",[]);return this.parseOrders(l,s,t,i)}async fetchClosedOrders(e,t,i=200,r={}){if(void 0===e)throw new n(this.id+" fetchClosedOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={cmd:"orderpending/pendingHistoryList",body:this.extend({pair:s.id,account_type:0,page:1,size:i},r)},o=await this.privatePostOrderpending(a),c=this.safeValue(o,"result"),h=this.safeValue(c,0,{}),d=this.safeValue(h,"result",{}),u=this.safeValue(d,"items",[]);return this.parseOrders(u,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a=i||200,o={cmd:"orderpending/orderHistoryList",body:this.extend({pair:s.id,account_type:0,page:1,size:a,coin_symbol:s.baseId,currency_symbol:s.quoteId},r)},c=await this.privatePostOrderpending(o),h=this.safeValue(c,"result"),d=this.safeValue(h,0,{}),u=this.safeValue(d,"result",{}),l=this.safeValue(u,"items",[]);return this.parseTrades(l,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={cmd:"transfer/transferIn",body:this.extend({coin_symbol:i.id},t)},s=await this.privatePostTransfer(r),a=this.safeValue(s,"result"),n=this.safeValue(a,0,{}),o=this.safeValue(n,"result");let c,h=o;if(this.isJsonEncodedObject(o)){const e=JSON.parse(o);h=this.safeString(e,"account"),c=this.safeString(e,"memo")}return{currency:e,address:h,tag:c,network:void 0,info:s}}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if(void 0===this.password&&!("trade_pwd"in a))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");if(!("totp_code"in a))throw new s(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");const o={trade_pwd:this.password,coin_symbol:n.id,amount:t,addr:i};void 0!==r&&(o.address_remark=r);const c=await this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(o,a)}),h=this.safeValue(c,"result"),d=this.safeValue(h,0,{});return{info:c,id:this.safeValue(d,"result")}}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={};void 0===e&&(e=Object.keys(this.currencies));for(let s=0;s<e.length;s++){const a=e[s],n=this.currency(a),o={cmd:"transfer/coinConfig",body:this.extend({coin_symbol:n.id},t)},c=await this.privatePostTransfer(o),h=this.safeValue(c,"result",[]),d=this.safeValue(h,0,{}),u=this.safeValue(d,"result",[]),l=this.safeValue(u,0,{});r[a]=l,i[a]=this.safeNumber(l,"withdraw_fee")}return{info:r,withdraw:i,deposit:{}}}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeHostname(this.urls.api)+"/"+this.version+"/"+e;const o=this.json([r]);if("public"===t)"GET"!==i?a={cmds:o}:Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("v2private"===t){this.checkRequiredCredentials(),n=this.implodeHostname(this.urls.api)+"/v2/"+e;const t=this.json(r);a={body:t,apikey:this.apiKey,sign:this.hmac(this.encode(t),this.encode(this.secret),"md5")}}else this.checkRequiredCredentials(),a={cmds:o,apikey:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"md5")};return void 0!==a&&(a=this.json(a,{convertArraysToObjects:!0})),{url:n,method:i,body:a,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o){if("error"in o){if("code"in o.error){const e=this.safeString(o.error,"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}throw new s(this.id+" "+n)}if(!("result"in o))throw new s(this.id+" "+n)}}}},64400:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,OrderNotFound:o,InsufficientFunds:c,PermissionDenied:h,BadRequest:d,BadSymbol:u,RateLimitExceeded:l,InvalidOrder:f}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bigone",name:"BigONE",countries:["CN"],version:"v3",rateLimit:1200,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hour1","3h":"hour3","4h":"hour4","6h":"hour6","12h":"hour12","1d":"day1","1w":"week1","1M":"month1"},hostname:"big.one",urls:{logo:"https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg",api:{public:"https://{hostname}/api/v3",private:"https://{hostname}/api/v3/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","asset_pairs","asset_pairs/{asset_pair_name}/depth","asset_pairs/{asset_pair_name}/trades","asset_pairs/{asset_pair_name}/ticker","asset_pairs/{asset_pair_name}/candles","asset_pairs/tickers"]},private:{get:["accounts","fund/accounts","assets/{asset_symbol}/address","orders","orders/{id}","orders/multi","trades","withdrawals","deposits"],post:["orders","orders/{id}/cancel","orders/cancel","withdrawals","transfer"]}},fees:{trading:{maker:this.parseNumber("0.001"),taker:this.parseNumber("0.001")},funding:{withdraw:{}}},exceptions:{exact:{10001:d,10005:s,"Amount's scale must greater than AssetPair's base scale":f,"Price mulit with amount should larger than AssetPair's min_quote_value":f,10007:d,10011:s,10013:o,10014:c,10403:h,10429:l,40004:n,40103:n,40104:n,40301:h,40302:s,40601:s,40602:s,40603:c,40605:f,40120:f,40121:f,60100:u},broad:{}},commonCurrencies:{CRE:"Cybereits",FXT:"FXTTOKEN",MBN:"Mobilian Coin",ONE:"BigONE Token"}})}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"name"),a=this.safeString(t,"id"),n=this.safeValue(t,"base_asset",{}),o=this.safeValue(t,"quote_asset",{}),c=this.safeString(n,"symbol"),h=this.safeString(o,"symbol"),d=this.safeCurrencyCode(c),u=this.safeCurrencyCode(h),l=d+"/"+u,f=this.safeString(t,"base_scale"),p=this.safeString(t,"quote_scale"),m=this.parsePrecision(f),g=this.parsePrecision(p),y={amount:parseInt(f),price:parseInt(p)},b=this.safeNumber(t,"min_quote_value"),v={id:s,uuid:a,symbol:l,base:d,quote:u,baseId:c,quoteId:h,type:"spot",spot:!0,active:!0,precision:y,limits:{amount:{min:this.parseNumber(m),max:void 0},price:{min:this.parseNumber(g),max:void 0},cost:{min:b,max:void 0}},info:t};r.push(v)}return r}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);let r=this.safeValue(this.options,"marketsByUuid");if(void 0===r||e){r={};for(let e=0;e<this.symbols.length;e++){const t=this.symbols[e],i=this.markets[t];r[this.safeString(i,"uuid")]=i}this.options.marketsByUuid=r}return i}parseTicker(e,t){const i=this.safeString(e,"asset_pair_name"),r=this.safeSymbol(i,t,"-"),s=void 0,a=this.safeNumber(e,"close"),n=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return this.safeTicker({symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(n,"price"),bidVolume:this.safeNumber(n,"quantity"),ask:this.safeNumber(o,"price"),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"daily_change"),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={asset_pair_name:i.id},s=await this.publicGetAssetPairsAssetPairNameTicker(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.pair_names=t.join(",")}const r=await this.publicGetAssetPairsTickers(this.extend(i,t)),s=this.safeValue(r,"data",[]),a={};for(let e=0;e<s.length;e++){const t=this.parseTicker(s[e]);a[t.symbol]=t}return this.filterByArray(a,"symbol",e)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),r=this.safeInteger(i,"timestamp");return parseInt(r/1e6)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={asset_pair_name:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetAssetPairsAssetPairNameDepth(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrderBook(a,e,void 0,"bids","asks","price","quantity")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"created_at","inserted_at")),r=this.safeString(e,"price"),s=this.safeString(e,"amount"),a=this.safeString(e,"asset_pair_name"),n=this.safeSymbol(a,t,"-");let o=this.safeString(e,"side");const c=this.safeString(e,"taker_side");let h;void 0!==c&&void 0!==o&&"SELF_TRADING"!==o&&(h=c===o?"taker":"maker"),void 0===o?o="ASK"===c?"sell":"buy":"BID"===o?o="buy":"ASK"===o&&(o="sell");const d=this.safeString(e,"maker_order_id"),u=this.safeString(e,"taker_order_id");let l;void 0!==d?l=void 0!==u?[d,u]:d:void 0!==u&&(l=u);const f={id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:n,order:l,type:"limit",side:o,takerOrMaker:h,price:r,amount:s,cost:void 0,info:e};let p,m;void 0!==t&&void 0!==h?"buy"===o?"maker"===h?(p=t.base,m=t.quote):(p=t.quote,m=t.base):"maker"===h?(p=t.quote,m=t.base):(p=t.base,m=t.quote):"SELF_TRADING"===o&&("BID"===c?(p=t.quote,m=t.base):"ASK"===c&&(p=t.base,m=t.quote));const g=this.safeString(e,"maker_fee"),y=this.safeString(e,"taker_fee");return void 0!==g?void 0!==y?f.fees=[{cost:g,currency:p},{cost:y,currency:m}]:f.fee={cost:g,currency:p}:f.fee=void 0!==y?{cost:y,currency:m}:void 0,this.safeTrade(f,t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={asset_pair_name:s.id},n=await this.publicGetAssetPairsAssetPairNameTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=100);const n={asset_pair_name:a.id,period:this.timeframes[t],limit:r};if(void 0!==i){const e=this.parseTimeframe(t),s=this.sum(i,r*e*1e3);n.time=this.iso8601(s)}const o=await this.publicGetAssetPairsAssetPairNameCandles(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","");e=this.omit(e,"type");const i="privateGet"+this.capitalize(t)+"Accounts",r=await this[i](e),s={info:r,timestamp:void 0,datetime:void 0},a=this.safeValue(r,"data",[]);for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"asset_symbol"),r=this.safeCurrencyCode(i),n=this.account();n.total=this.safeString(t,"balance"),n.used=this.safeString(t,"locked_balance"),s[r]=n}return this.parseBalance(s)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"asset_pair_name"),s=this.safeSymbol(r,t,"-"),a=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.safeString(e,"avg_deal_price"),h=this.safeString(e,"filled_amount"),d=this.parseOrderStatus(this.safeString(e,"state"));let u=this.safeString(e,"side");u="BID"===u?"buy":"sell";const l=this.parse8601(this.safeString(e,"updated_at"));return this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:l,symbol:s,type:void 0,timeInForce:void 0,postOnly:void 0,side:u,price:n,stopPrice:void 0,amount:o,cost:void 0,average:c,filled:h,remaining:void 0,status:d,fee:void 0,trades:void 0},t)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e);i="buy"===i?"BID":"ASK";const c=t.toUpperCase(),h={asset_pair_name:o.id,side:i,amount:this.amountToPrecision(e,r),type:c};if("LIMIT"===c)h.price=this.priceToPrecision(e,s);else{const t="STOP_LIMIT"===c,i="STOP_MARKET"===c;if(t||i){const t=this.safeNumber2(n,"stop_price","stopPrice");if(void 0===t)throw new a(this.id+" createOrder() requires a stop_price parameter");h.stop_price=this.priceToPrecision(e,t),n=this.omit(n,["stop_price","stopPrice"])}t&&(h.price=this.priceToPrecision(e,s))}const d=await this.privatePostOrders(this.extend(h,n)),u=this.safeValue(d,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrdersIdCancel(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={asset_pair_name:this.market(e).id};return await this.privatePostOrdersCancel(this.extend(i,t))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={asset_pair_name:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetOrders(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");const s=this.market(e),n={asset_pair_name:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetTrades(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){return this.safeString({PENDING:"open",FILLED:"closed",CANCELLED:"canceled"},e)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"PENDING"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"FILLED"},r))}nonce(){return 1e3*this.microseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.implodeHostname(this.urls.api[t])+"/"+this.implodeParams(e,r);if("public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t={type:"OpenAPIV2",sub:this.apiKey,nonce:e};s={Authorization:"Bearer "+this.jwt(t,this.encode(this.secret))},"GET"===i?Object.keys(n).length&&(o+="?"+this.urlencode(n)):"POST"===i&&(s["Content-Type"]="application/json",a=this.json(n))}return{url:o,method:i,body:a,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={asset_symbol:this.currency(e).id},r=await this.privateGetAssetsAssetSymbolAddress(this.extend(i,t)),a=this.safeValue(r,"data",[]);if(a.length<1)throw new s(this.id+"fetchDepositAddress() returned empty address response");const n=a[0],o=this.safeString(n,"value"),c=this.safeString(n,"memo");return this.checkAddress(o),{currency:e,address:o,tag:c,network:void 0,info:r}}parseTransactionStatus(e){return this.safeString({WITHHOLD:"ok",UNCONFIRMED:"pending",CONFIRMED:"ok",COMPLETED:"ok",PENDING:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"asset_symbol"),r=this.safeCurrencyCode(i),s=this.safeInteger(e,"id"),a=this.safeNumber(e,"amount"),n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.parse8601(this.safeString(e,"inserted_at")),c=this.parse8601(this.safeString2(e,"updated_at","completed_at")),h=this.safeString(e,"txid"),d=this.safeString(e,"target_address"),u=this.safeString(e,"memo"),l="customer_id"in e?"deposit":"withdrawal";return{info:e,id:s,txid:h,timestamp:o,datetime:this.iso8601(o),addressFrom:void 0,address:void 0,addressTo:d,tagFrom:void 0,tag:u,tagTo:void 0,type:l,amount:a,currency:r,status:n,updated:c,fee:void 0}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.asset_symbol=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetDeposits(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.asset_symbol=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetWithdrawals(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets();const a=this.currency(e),n={symbol:a.id,target_address:i,amount:this.currencyToPrecision(e,t)};void 0!==r&&(n.memo=r);const o=await this.privatePostWithdrawals(this.extend(n,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"code"),u=this.safeString(o,"message");if("0"!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new s(e)}}}},96056:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:h,DDoSProtection:d,InvalidNonce:u,AuthenticationError:l,RateLimitExceeded:f,PermissionDenied:p,NotSupported:m,BadRequest:g,BadSymbol:y,AccountSuspended:b,OrderImmediatelyFillable:v,OnMaintenance:w}=i(73449),{TRUNCATE:k}=i(62115),S=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binance",name:"Binance",countries:["JP","MT"],rateLimit:50,certified:!0,pro:!0,has:{margin:!0,swap:!0,future:!0,addMargin:!0,cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,createReduceOnlyOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchBorrowRate:!0,fetchBorrowRateHistory:!0,fetchBorrowRates:!1,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchFundingHistory:!0,fetchFundingRate:!0,fetchFundingRateHistory:!0,fetchFundingRates:!0,fetchIndexOHLCV:!0,fetchIsolatedPositions:!0,fetchMarkets:!0,fetchMarkOHLCV:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!1,fetchTransfers:!0,fetchWithdrawals:!0,reduceMargin:!0,setLeverage:!0,setMarginMode:!0,setPositionMode:!0,transfer:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",test:{dapiPublic:"https://testnet.binancefuture.com/dapi/v1",dapiPrivate:"https://testnet.binancefuture.com/dapi/v1",fapiPublic:"https://testnet.binancefuture.com/fapi/v1",fapiPrivate:"https://testnet.binancefuture.com/fapi/v1",fapiPrivateV2:"https://testnet.binancefuture.com/fapi/v2",public:"https://testnet.binance.vision/api/v3",private:"https://testnet.binance.vision/api/v3",v1:"https://testnet.binance.vision/api/v1"},api:{wapi:"https://api.binance.com/wapi/v3",sapi:"https://api.binance.com/sapi/v1",dapiPublic:"https://dapi.binance.com/dapi/v1",dapiPrivate:"https://dapi.binance.com/dapi/v1",dapiPrivateV2:"https://dapi.binance.com/dapi/v2",dapiData:"https://dapi.binance.com/futures/data",fapiPublic:"https://fapi.binance.com/fapi/v1",fapiPrivate:"https://fapi.binance.com/fapi/v1",fapiData:"https://fapi.binance.com/futures/data",fapiPrivateV2:"https://fapi.binance.com/fapi/v2",public:"https://api.binance.com/api/v3",private:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",doc:["https://binance-docs.github.io/apidocs/spot/en"],api_management:"https://www.binance.com/en/usercenter/settings/api-management",fees:"https://www.binance.com/en/fee/schedule"},depth:1,api:{sapi:{get:{accountSnapshot:1,"system/status":1,"margin/asset":1,"margin/pair":1,"margin/allAssets":1,"margin/allPairs":1,"margin/priceIndex":1,"asset/assetDividend":1,"asset/dribblet":1,"asset/transfer":1,"asset/assetDetail":1,"asset/tradeFee":1,"asset/get-funding-asset":1,"margin/loan":1,"margin/repay":1,"margin/account":1,"margin/transfer":1,"margin/interestHistory":1,"margin/forceLiquidationRec":1,"margin/order":1,"margin/openOrders":1,"margin/allOrders":1,"margin/myTrades":1,"margin/maxBorrowable":5,"margin/maxTransferable":5,"margin/isolated/transfer":1,"margin/isolated/account":1,"margin/isolated/pair":1,"margin/isolated/allPairs":1,"margin/isolated/accountLimit":1,"margin/interestRateHistory":1,"margin/orderList":2,"margin/allOrderList":10,"margin/openOrderList":3,"loan/income":1,"fiat/orders":1,"fiat/payments":1,"futures/transfer":5,"futures/loan/borrow/history":1,"futures/loan/repay/history":1,"futures/loan/wallet":1,"futures/loan/configs":1,"futures/loan/calcAdjustLevel":1,"futures/loan/calcMaxAdjustAmount":1,"futures/loan/adjustCollateral/history":1,"futures/loan/liquidationHistory":1,"capital/config/getall":1,"capital/deposit/address":1,"capital/deposit/hisrec":1,"capital/deposit/subAddress":1,"capital/deposit/subHisrec":1,"capital/withdraw/history":1,"convert/tradeFlow":1,"account/status":1,"account/apiTradingStatus":1,"account/apiRestrictions/ipRestriction":1,bnbBurn:1,"sub-account/assets":1,"sub-account/futures/account":1,"sub-account/futures/accountSummary":1,"sub-account/futures/positionRisk":1,"sub-account/futures/internalTransfer":1,"sub-account/list":1,"sub-account/margin/account":1,"sub-account/margin/accountSummary":1,"sub-account/spotSummary":5,"sub-account/status":1,"sub-account/sub/transfer/history":1,"sub-account/transfer/subUserHistory":1,"sub-account/universalTransfer":1,"lending/daily/product/list":1,"lending/daily/userLeftQuota":1,"lending/daily/userRedemptionQuota":1,"lending/daily/token/position":1,"lending/union/account":1,"lending/union/purchaseRecord":1,"lending/union/redemptionRecord":1,"lending/union/interestHistory":1,"lending/project/list":1,"lending/project/position/list":1,"mining/pub/algoList":1,"mining/pub/coinList":1,"mining/worker/detail":5,"mining/worker/list":5,"mining/payment/list":5,"mining/statistics/user/status":5,"mining/statistics/user/list":5,"bswap/pools":1,"bswap/liquidity":{cost:1,noPoolId:10},"bswap/liquidityOps":2,"bswap/quote":2,"bswap/swap":1,"bswap/poolConfigure":1,"bswap/addLiquidityPreview":1,"bswap/removeLiquidityPreview":1,"blvt/tokenInfo":1,"blvt/subscribe/record":1,"blvt/redeem/record":1,"blvt/userLimit":1,"apiReferral/ifNewUser":1,"apiReferral/customization":1,"apiReferral/userCustomization":1,"apiReferral/rebate/recentRecord":1,"apiReferral/rebate/historicalRecord":1,"apiReferral/kickback/recentRecord":1,"apiReferral/kickback/historicalRecord":1,"broker/subAccountApi":1,"broker/subAccount":1,"broker/subAccountApi/commission/futures":1,"broker/subAccountApi/commission/coinFutures":1,"broker/info":1,"broker/transfer":1,"broker/transfer/futures":1,"broker/rebate/recentRecord":1,"broker/rebate/historicalRecord":1,"broker/subAccount/bnbBurn/status":1,"broker/subAccount/depositHist":1,"broker/subAccount/spotSummary":1,"broker/subAccount/marginSummary":1,"broker/subAccount/futuresSummary":1,"broker/rebate/futures/recentRecord":1,"broker/subAccountApi/ipRestriction":1,"broker/universalTransfer":1,"account/apiRestrictions":1,"managed-subaccount/asset":1,"c2c/orderMatch/listUserOrderHistory":1},post:{"asset/dust":1,"asset/transfer":1,"asset/get-funding-asset":1,"account/disableFastWithdrawSwitch":1,"account/enableFastWithdrawSwitch":1,"account/apiRestrictions/ipRestriction":1,"account/apiRestrictions/ipRestriction/ipList":1,"capital/withdraw/apply":1,"margin/transfer":1,"margin/loan":1,"margin/repay":1,"margin/order":4,"margin/order/oco":1,"margin/isolated/create":1,"margin/isolated/transfer":1,"margin/isolated/account":1,bnbBurn:1,"sub-account/margin/transfer":1,"sub-account/margin/enable":1,"sub-account/futures/enable":1,"sub-account/futures/transfer":1,"sub-account/futures/internalTransfer":1,"sub-account/transfer/subToSub":1,"sub-account/transfer/subToMaster":1,"sub-account/universalTransfer":1,"managed-subaccount/deposit":1,"managed-subaccount/withdraw":1,userDataStream:1,"userDataStream/isolated":1,"futures/transfer":1,"futures/loan/borrow":20,"futures/loan/repay":20,"futures/loan/adjustCollateral":20,"lending/customizedFixed/purchase":1,"lending/daily/purchase":1,"lending/daily/redeem":1,"bswap/liquidityAdd":2,"bswap/liquidityRemove":2,"bswap/swap":2,"blvt/subscribe":1,"blvt/redeem":1,"apiReferral/customization":1,"apiReferral/userCustomization":1,"apiReferral/rebate/historicalRecord":1,"apiReferral/kickback/historicalRecord":1,"broker/subAccount":1,"broker/subAccount/margin":1,"broker/subAccount/futures":1,"broker/subAccountApi":1,"broker/subAccountApi/permission":1,"broker/subAccountApi/commission":1,"broker/subAccountApi/commission/futures":1,"broker/subAccountApi/commission/coinFutures":1,"broker/transfer":1,"broker/transfer/futures":1,"broker/rebate/historicalRecord":1,"broker/subAccount/bnbBurn/spot":1,"broker/subAccount/bnbBurn/marginInterest":1,"broker/subAccount/blvt":1,"broker/subAccountApi/ipRestriction":1,"broker/subAccountApi/ipRestriction/ipList":1,"broker/universalTransfer":1,"broker/subAccountApi/permission/universalTransfer":1,"broker/subAccountApi/permission/vanillaOptions":1},put:{userDataStream:1,"userDataStream/isolated":1},delete:{"account/apiRestrictions/ipRestriction/ipList":1,"margin/openOrders":1,"margin/order":1,"margin/orderList":1,"margin/isolated/account":1,userDataStream:1,"userDataStream/isolated":1,"broker/subAccountApi":1,"broker/subAccountApi/ipRestriction/ipList":1}},wapi:{post:{withdraw:1,"sub-account/transfer":1},get:{depositHistory:1,withdrawHistory:1,depositAddress:1,accountStatus:1,systemStatus:1,apiTradingStatus:1,userAssetDribbletLog:1,tradeFee:1,assetDetail:1,"sub-account/list":1,"sub-account/transfer/history":1,"sub-account/assets":1}},dapiPublic:{get:{ping:1,time:1,exchangeInfo:1,depth:{cost:2,byLimit:[[50,2],[100,5],[500,10],[1e3,20]]},trades:1,historicalTrades:20,aggTrades:20,premiumIndex:10,fundingRate:1,klines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},continuousKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},indexPriceKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},markPriceKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},"ticker/24hr":{cost:1,noSymbol:40},"ticker/price":{cost:1,noSymbol:2},"ticker/bookTicker":{cost:1,noSymbol:2},openInterest:1}},dapiData:{get:{openInterestHist:1,topLongShortAccountRatio:1,topLongShortPositionRatio:1,globalLongShortAccountRatio:1,takerBuySellVol:1,basis:1}},dapiPrivate:{get:{"positionSide/dual":30,order:1,openOrder:1,openOrders:{cost:1,noSymbol:5},allOrders:{cost:20,noSymbol:40},balance:1,account:5,"positionMargin/history":1,positionRisk:1,userTrades:{cost:20,noSymbol:40},income:20,leverageBracket:1,forceOrders:{cost:20,noSymbol:50},adlQuantile:5},post:{"positionSide/dual":1,order:4,batchOrders:5,countdownCancelAll:10,leverage:1,marginType:1,positionMargin:1,listenKey:1},put:{listenKey:1},delete:{order:1,allOpenOrders:1,batchOrders:5,listenKey:1}},dapiPrivateV2:{get:{leverageBracket:1}},fapiPublic:{get:{ping:1,time:1,exchangeInfo:1,depth:{cost:2,byLimit:[[50,2],[100,5],[500,10],[1e3,20]]},trades:1,historicalTrades:20,aggTrades:20,klines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},continuousKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},markPriceKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},indexPriceKlines:{cost:1,byLimit:[[99,1],[499,2],[1e3,5],[1e4,10]]},fundingRate:1,premiumIndex:1,"ticker/24hr":{cost:1,noSymbol:40},"ticker/price":{cost:1,noSymbol:2},"ticker/bookTicker":{cost:1,noSymbol:2},openInterest:1,indexInfo:1,apiTradingStatus:{cost:1,noSymbol:10},lvtKlines:1}},fapiData:{get:{openInterestHist:1,topLongShortAccountRatio:1,topLongShortPositionRatio:1,globalLongShortAccountRatio:1,takerlongshortRatio:1}},fapiPrivate:{get:{forceOrders:{cost:20,noSymbol:50},allOrders:5,openOrder:1,openOrders:1,order:1,account:5,balance:5,leverageBracket:1,"positionMargin/history":1,positionRisk:5,"positionSide/dual":30,userTrades:5,income:30,commissionRate:20,apiTradingStatus:1,multiAssetsMargin:30,"apiReferral/ifNewUser":1,"apiReferral/customization":1,"apiReferral/userCustomization":1,"apiReferral/traderNum":1,"apiReferral/overview":1,"apiReferral/tradeVol":1,"apiReferral/rebateVol":1,"apiReferral/traderSummary":1,adlQuantile:5},post:{batchOrders:5,"positionSide/dual":1,positionMargin:1,marginType:1,order:4,leverage:1,listenKey:1,countdownCancelAll:10,multiAssetsMargin:1,"apiReferral/customization":1,"apiReferral/userCustomization":1},put:{listenKey:1},delete:{batchOrders:1,order:1,allOpenOrders:1,listenKey:1}},fapiPrivateV2:{get:{account:1,balance:1,positionRisk:1}},public:{get:{ping:1,time:1,depth:{cost:1,byLimit:[[100,1],[500,5],[1e3,10],[5e3,50]]},trades:1,aggTrades:1,historicalTrades:5,klines:1,"ticker/24hr":{cost:1,noSymbol:40},"ticker/price":{cost:1,noSymbol:2},"ticker/bookTicker":{cost:1,noSymbol:2},exchangeInfo:10},put:{userDataStream:1},post:{userDataStream:1},delete:{userDataStream:1}},private:{get:{allOrderList:10,openOrderList:3,orderList:2,order:2,openOrders:{cost:3,noSymbol:40},allOrders:10,account:10,myTrades:10,"rateLimit/order":20},post:{"order/oco":1,order:4,"order/test":1},delete:{openOrders:1,orderList:1,order:1}}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001")},future:{trading:{feeSide:"quote",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000400"),maker:this.parseNumber("0.000200"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000400")],[this.parseNumber("250"),this.parseNumber("0.000400")],[this.parseNumber("2500"),this.parseNumber("0.000350")],[this.parseNumber("7500"),this.parseNumber("0.000320")],[this.parseNumber("22500"),this.parseNumber("0.000300")],[this.parseNumber("50000"),this.parseNumber("0.000270")],[this.parseNumber("100000"),this.parseNumber("0.000250")],[this.parseNumber("200000"),this.parseNumber("0.000220")],[this.parseNumber("400000"),this.parseNumber("0.000200")],[this.parseNumber("750000"),this.parseNumber("0.000170")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000200")],[this.parseNumber("250"),this.parseNumber("0.000160")],[this.parseNumber("2500"),this.parseNumber("0.000140")],[this.parseNumber("7500"),this.parseNumber("0.000120")],[this.parseNumber("22500"),this.parseNumber("0.000100")],[this.parseNumber("50000"),this.parseNumber("0.000080")],[this.parseNumber("100000"),this.parseNumber("0.000060")],[this.parseNumber("200000"),this.parseNumber("0.000040")],[this.parseNumber("400000"),this.parseNumber("0.000020")],[this.parseNumber("750000"),this.parseNumber("0")]]}}},delivery:{trading:{feeSide:"base",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000500"),maker:this.parseNumber("0.000100"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000500")],[this.parseNumber("250"),this.parseNumber("0.000450")],[this.parseNumber("2500"),this.parseNumber("0.000400")],[this.parseNumber("7500"),this.parseNumber("0.000300")],[this.parseNumber("22500"),this.parseNumber("0.000250")],[this.parseNumber("50000"),this.parseNumber("0.000240")],[this.parseNumber("100000"),this.parseNumber("0.000240")],[this.parseNumber("200000"),this.parseNumber("0.000240")],[this.parseNumber("400000"),this.parseNumber("0.000240")],[this.parseNumber("750000"),this.parseNumber("0.000240")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000100")],[this.parseNumber("250"),this.parseNumber("0.000080")],[this.parseNumber("2500"),this.parseNumber("0.000050")],[this.parseNumber("7500"),this.parseNumber("0.0000030")],[this.parseNumber("22500"),this.parseNumber("0")],[this.parseNumber("50000"),this.parseNumber("-0.000050")],[this.parseNumber("100000"),this.parseNumber("-0.000060")],[this.parseNumber("200000"),this.parseNumber("-0.000070")],[this.parseNumber("400000"),this.parseNumber("-0.000080")],[this.parseNumber("750000"),this.parseNumber("-0.000090")]]}}}},commonCurrencies:{BCC:"BCC",YOYO:"YOYOW"},options:{fetchCurrencies:!0,defaultTimeInForce:"GTC",defaultType:"spot",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,fetchPositions:"positionRisk",recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,newOrderRespType:{market:"FULL",limit:"FULL"},quoteOrderQty:!0,broker:{spot:"x-R4BD3S82",margin:"x-R4BD3S82",future:"x-xcKtGhcu",delivery:"x-xcKtGhcu"},accountsByType:{main:"MAIN",spot:"MAIN",funding:"FUNDING",margin:"MARGIN",future:"UMFUTURE",delivery:"CMFUTURE",mining:"MINING"},typesByAccount:{MAIN:"spot",FUNDING:"funding",MARGIN:"margin",UMFUTURE:"future",CMFUTURE:"delivery",MINING:"mining"},networks:{ERC20:"ETH",TRC20:"TRX",BEP2:"BNB",BEP20:"BSC",OMNI:"OMNI",EOS:"EOS",SPL:"SOL"},reverseNetworks:{"tronscan.org":"TRC20","etherscan.io":"ERC20","bscscan.com":"BSC","explorer.binance.org":"BEP2","bithomp.com":"XRP","bloks.io":"EOS","stellar.expert":"XLM","blockchair.com/bitcoin":"BTC","blockchair.com/bitcoin-cash":"BCH","blockchair.com/ecash":"XEC","explorer.litecoin.net":"LTC","explorer.avax.network":"AVAX","solscan.io":"SOL","polkadot.subscan.io":"DOT","dashboard.internetcomputer.org":"ICP","explorer.chiliz.com":"CHZ","cardanoscan.io":"ADA","mainnet.theoan.com":"AION","algoexplorer.io":"ALGO","explorer.ambrosus.com":"AMB","viewblock.io/zilliqa":"ZIL","viewblock.io/arweave":"AR","explorer.ark.io":"ARK","atomscan.com":"ATOM","www.mintscan.io":"CTK","explorer.bitcoindiamond.org":"BCD","btgexplorer.com":"BTG","bts.ai":"BTS","explorer.celo.org":"CELO","explorer.nervos.org":"CKB","cerebro.cortexlabs.ai":"CTXC","chainz.cryptoid.info":"VIA","explorer.dcrdata.org":"DCR","digiexplorer.info":"DGB","dock.subscan.io":"DOCK","dogechain.info":"DOGE","explorer.elrond.com":"EGLD","blockscout.com":"ETC","explore-fetchhub.fetch.ai":"FET","filfox.info":"FIL","fio.bloks.io":"FIO","explorer.firo.org":"FIRO","neoscan.io":"NEO","ftmscan.com":"FTM","explorer.gochain.io":"GO","block.gxb.io":"GXS","hash-hash.info":"HBAR","www.hiveblockexplorer.com":"HIVE","explorer.helium.com":"HNT","tracker.icon.foundation":"ICX","www.iostabc.com":"IOST","explorer.iota.org":"IOTA","iotexscan.io":"IOTX","irishub.iobscan.io":"IRIS","kava.mintscan.io":"KAVA","scope.klaytn.com":"KLAY","kmdexplorer.io":"KMD","kusama.subscan.io":"KSM","explorer.lto.network":"LTO","polygonscan.com":"POLYGON","explorer.ont.io":"ONT","minaexplorer.com":"MINA","nanolooker.com":"NANO","explorer.nebulas.io":"NAS","explorer.nbs.plus":"NBS","explorer.nebl.io":"NEBL","nulscan.io":"NULS","nxscan.com":"NXS","explorer.harmony.one":"ONE","explorer.poa.network":"POA","qtum.info":"QTUM","explorer.rsk.co":"RSK","www.oasisscan.com":"ROSE","ravencoin.network":"RVN","sc.tokenview.com":"SC","secretnodes.com":"SCRT","explorer.skycoin.com":"SKY","steemscan.com":"STEEM","explorer.stacks.co":"STX","www.thetascan.io":"THETA","scan.tomochain.com":"TOMO","explore.vechain.org":"VET","explorer.vite.net":"VITE","www.wanscan.org":"WAN","wavesexplorer.com":"WAVES","wax.eosx.io":"WAXP","waltonchain.pro":"WTC","chain.nem.ninja":"XEM","verge-blockchain.info":"XVG","explorer.yoyow.org":"YOYOW","explorer.zcha.in":"ZEC","explorer.zensystem.io":"ZEN"},impliedNetworks:{ETH:{ERC20:"ETH"},TRX:{TRC20:"TRX"}},legalMoney:{MXN:!0,UGX:!0,SEK:!0,CHF:!0,VND:!0,AED:!0,DKK:!0,KZT:!0,HUF:!0,PEN:!0,PHP:!0,USD:!0,TRY:!0,EUR:!0,NGN:!0,PLN:!0,BRL:!0,ZAR:!0,KES:!0,ARS:!0,RUB:!0,AUD:!0,NOK:!0,CZK:!0,GBP:!0,UAH:!0,GHS:!0,HKD:!0,CAD:!0,INR:!0,JPY:!0,NZD:!0}},exceptions:{exact:{"System is under maintenance.":w,"System abnormality":s,"You are not authorized to execute this request.":p,"API key does not exist":l,"Order would trigger immediately.":v,"Stop price would trigger immediately.":v,"Order would immediately match and take.":v,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n,"You don't have permission.":p,"Market is closed.":n,"Too many requests. Please try again later.":d,"-1000":n,"-1001":n,"-1002":l,"-1003":f,"-1013":h,"-1015":f,"-1016":n,"-1020":g,"-1021":u,"-1022":l,"-1100":g,"-1101":g,"-1102":g,"-1103":g,"-1104":g,"-1105":g,"-1106":g,"-1111":g,"-1112":h,"-1114":g,"-1115":g,"-1116":g,"-1117":g,"-1118":g,"-1119":g,"-1120":g,"-1121":y,"-1125":l,"-1127":g,"-1128":g,"-1130":g,"-1131":g,"-2008":l,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l,"-2019":o,"-3005":o,"-3006":o,"-3008":o,"-3010":s,"-3015":s,"-3022":b,"-4028":g,"-3020":o,"-3041":o,"-5013":o,"-11008":o,"-4051":o},broad:{"has no operation privilege":p,MAX_POSITION:h}}})}costToPrecision(e,t){return this.decimalToPrecision(t,k,this.markets[e].precision.quote,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return void 0!==this.safeValue(this.currencies[e],"precision")?this.decimalToPrecision(t,k,this.currencies[e].precision,this.precisionMode,this.paddingMode):this.numberToString(t)}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchTime(e={}){const t=this.safeString2(this.options,"fetchTime","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type");let s="publicGetTime";"future"===i?s="fapiPublicGetTime":"delivery"===i&&(s="dapiPublicGetTime");const a=await this[s](r);return this.safeInteger(a,"serverTime")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options.timeDifference=i-t,this.options.timeDifference}async fetchCurrencies(e={}){if(!this.safeValue(this.options,"fetchCurrencies"))return;if(!this.checkRequiredCredentials(!1))return;if(void 0!==this.safeString(this.urls,"apiBackup"))return;const t=await this.sapiGetCapitalConfigGetall(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"coin"),a=this.safeString(r,"name"),n=this.safeCurrencyCode(s),o=void 0;let c=!0,h=!0;const d=this.safeValue(r,"networkList",[]),u={};let l;for(let e=0;e<d.length;e++){const t=d[e],i=this.safeString(t,"network"),r=this.safeNumber(t,"withdrawFee"),s=this.safeValue(t,"depositEnable"),a=this.safeValue(t,"withdrawEnable");h=h||s,c=c||a,u[i]=r,(this.safeValue(t,"isDefault")||void 0===l)&&(l=r)}const f=this.safeValue(r,"trading"),p=c&&h&&f;i[n]={id:s,name:a,code:n,precision:o,info:r,active:p,networks:d,fee:l,fees:u,limits:this.limits}}return i}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type");if("spot"!==i&&"future"!==i&&"margin"!==i&&"delivery"!==i)throw new s(this.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'delivery' or 'future'");let a="publicGetExchangeInfo";"future"===i?a="fapiPublicGetExchangeInfo":"delivery"===i&&(a="dapiPublicGetExchangeInfo");const n=await this[a](r);this.options.adjustForTimeDifference&&await this.loadTimeDifference();const o=this.safeValue(n,"symbols",[]),c=[];for(let e=0;e<o.length;e++){const t=o[e],r="spot"===i,s="future"===i,a="delivery"===i,n=this.safeString(t,"symbol"),h=this.safeStringLower(t,"symbol"),d=this.safeString(t,"baseAsset"),u=this.safeString(t,"quoteAsset"),l=this.safeCurrencyCode(d),f=this.safeCurrencyCode(u),p=this.safeString(t,"contractType");let m,g;(s||a)&&"PERPETUAL"!==p?(m=n,g=this.safeInteger(t,"deliveryDate")):m=l+"/"+f;const y=this.safeValue(t,"filters",[]),b=this.indexBy(y,"filterType"),v={base:this.safeInteger(t,"baseAssetPrecision"),quote:this.safeInteger(t,"quotePrecision"),amount:this.safeInteger(t,"quantityPrecision"),price:this.safeInteger(t,"pricePrecision")},w="TRADING"===this.safeString2(t,"status","contractStatus"),k=this.safeValue(t,"isMarginTradingAllowed",!1);let S,_=this.fees;(s||a)&&(S=this.safeString(t,"contractSize","1"),_=this.fees[i]);const M=_.trading.maker,T=_.trading.taker,O=this.safeString(t,"marginAsset"),x=this.safeCurrencyCode(O),I={id:n,lowercaseId:h,symbol:m,base:l,quote:f,baseId:d,quoteId:u,info:t,spot:r,type:i,margin:k,future:s,delivery:a,linear:s,inverse:a,expiry:g,expiryDatetime:this.iso8601(g),settleId:O,settle:x,active:w,precision:v,contractSize:S,maker:M,taker:T,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}};if("PRICE_FILTER"in b){const e=this.safeValue(b,"PRICE_FILTER",{}),t=this.safeString(e,"tickSize");I.precision.price=this.precisionFromString(t),I.limits.price={min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},I.precision.price=this.precisionFromString(e.tickSize)}if("LOT_SIZE"in b){const e=this.safeValue(b,"LOT_SIZE",{}),t=this.safeString(e,"stepSize");I.precision.amount=this.precisionFromString(t),I.limits.amount={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in b){const e=this.safeValue(b,"MARKET_LOT_SIZE",{});I.limits.market={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in b){const e=this.safeValue(b,"MIN_NOTIONAL",{});I.limits.cost.min=this.safeNumber2(e,"minNotional","notional")}c.push(I)}return c}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t);let r="privateGetAccount";if("future"===i){const e=this.safeValue(this.options,i,{}),t=this.safeValue(e,"fetchBalance",{});r=this.safeString(t,"method","fapiPrivateV2GetAccount")}else if("delivery"===i){const e=this.safeValue(this.options,i,{}),t=this.safeValue(e,"fetchBalance",{});r=this.safeString(t,"method","dapiPrivateGetAccount")}else"margin"===i?r="sapiGetMarginAccount":"savings"===i?r="sapiGetLendingUnionAccount":"funding"===i&&(r="sapiPostAssetGetFundingAsset");const s=this.omit(e,"type"),a=await this[r](s),n={info:a};let o;if("spot"===i||"margin"===i){o=this.safeInteger(a,"updateTime");const e=this.safeValue2(a,"balances","userAssets",[]);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),a=this.account();a.free=this.safeString(i,"free"),a.used=this.safeString(i,"locked"),n[s]=a}}else if("savings"===i){const e=this.safeValue(a,"positionAmountVos");for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),a=this.account(),o=this.safeString(i,"amount");a.total=o,a.used=o,n[s]=a}}else if("funding"===i)for(let e=0;e<a.length;e++){const t=a[e],i=this.account(),r=this.safeString(t,"asset"),s=this.safeCurrencyCode(r);i.free=this.safeString(t,"free");const o=this.safeString(t,"freeze"),c=this.safeString(t,"withdrawing"),h=this.safeString(t,"locked");i.used=S.stringAdd(o,S.stringAdd(h,c)),n[s]=i}else{let e=a;Array.isArray(a)||(e=this.safeValue(a,"assets",[]));for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),a=this.account();a.free=this.safeString(i,"availableBalance"),a.used=this.safeString(i,"initialMargin"),a.total=this.safeString2(i,"marginBalance","balance"),n[s]=a}}return n.timestamp=o,n.datetime=this.iso8601(o),this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r.id};void 0!==t&&(s.limit=t);let a="publicGetDepth";r.linear?a="fapiPublicGetDepth":r.inverse&&(a="dapiPublicGetDepth");const n=await this[a](this.extend(s,i)),o=this.safeInteger(n,"T"),c=this.parseOrderBook(n,e,o);return c.nonce=this.safeInteger(n,"lastUpdateId"),c}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"lastPrice");let n,o;return"baseVolume"in e?(n=this.safeNumber(e,"baseVolume"),o=this.safeNumber(e,"volume")):(n=this.safeNumber(e,"volume"),o=this.safeNumber(e,"quoteVolume")),this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:this.safeNumber(e,"openPrice"),close:a,last:a,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:void 0,baseVolume:n,quoteVolume:o,info:e},t)}async fetchStatus(e={}){const t=await this.sapiGetSystemStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="0"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id};let s="publicGetTicker24hr";i.linear?s="fapiPublicGetTicker24hr":i.inverse&&(s="dapiPublicGetTicker24hr");const a=await this[s](this.extend(r,t));if(Array.isArray(a)){const e=this.safeValue(a,0,{});return this.parseTicker(e,i)}return this.parseTicker(a,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchBidsAsks","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let a;a="future"===r?"fapiPublicGetTickerBookTicker":"delivery"===r?"dapiPublicGetTickerBookTicker":"publicGetTickerBookTicker";const n=await this[a](s);return this.parseTickers(n,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchTickers","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let a;a="future"===r?"fapiPublicGetTicker24hr":"delivery"===r?"dapiPublicGetTicker24hr":"publicGetTicker24hr";const n=this.safeString(this.options,"fetchTickersMethod",a),o=await this[n](s);return this.parseTickers(o,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(s,"price");s=this.omit(s,"price"),r=void 0===r?500:Math.min(r,1500);const o={interval:this.timeframes[t],limit:r};"index"===n?o.pair=a.id:o.symbol=a.id,void 0!==i&&(o.startTime=i);let c="publicGetKlines";"mark"===n?c=a.inverse?"dapiPublicGetMarkPriceKlines":"fapiPublicGetMarkPriceKlines":"index"===n?c=a.inverse?"dapiPublicGetIndexPriceKlines":"fapiPublicGetIndexPriceKlines":a.linear?c="fapiPublicGetKlines":a.inverse&&(c="dapiPublicGetKlines");const h=await this[c](this.extend(o,s));return this.parseOHLCVs(h,a,t,i,r)}async fetchMarkOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"mark"},s))}async fetchIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}parseTrade(e,t){if("isDustTrade"in e)return this.parseDustTrade(e,t);const i=this.safeInteger2(e,"T","time"),r=this.safeString2(e,"p","price"),s=this.safeString2(e,"q","qty"),a=this.safeString2(e,"quoteQty","baseQty"),n=this.safeString(e,"symbol"),o=this.safeSymbol(n,t);let c,h=this.safeString2(e,"t","a");h=this.safeString2(e,"id","tradeId",h);const d=this.safeString(e,"orderId");let u,l;return"m"in e?c=e.m?"sell":"buy":"isBuyerMaker"in e?c=e.isBuyerMaker?"sell":"buy":"side"in e?c=this.safeStringLower(e,"side"):"isBuyer"in e&&(c=e.isBuyer?"buy":"sell"),"commission"in e&&(u={cost:this.safeString(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))}),"isMaker"in e&&(l=e.isMaker?"maker":"taker"),"maker"in e&&(l=e.maker?"maker":"taker"),this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,id:h,order:d,type:void 0,side:c,takerOrMaker:l,price:r,amount:s,cost:a,fee:u},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=this.safeString2(this.options,"fetchTrades","defaultType","spot"),o=this.safeString(r,"type",n),c=this.omit(r,"type");let h;h="future"===o?"fapiPublicGetAggTrades":"delivery"===o?"dapiPublicGetAggTrades":"publicGetAggTrades";let d=this.safeString(this.options,"fetchTradesMethod",h);"publicGetAggTrades"===d?(void 0!==t&&(a.startTime=t,a.endTime=this.sum(t,36e5)),"future"===o?d="fapiPublicGetAggTrades":"delivery"===o&&(d="dapiPublicGetAggTrades")):"publicGetHistoricalTrades"===d&&("future"===o?d="fapiPublicGetHistoricalTrades":"delivery"===o&&(d="dapiPublicGetHistoricalTrades")),void 0!==i&&(a.limit=i);const u=await this[d](this.extend(a,c));return this.parseTrades(u,s,t,i)}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeString(e,"executedQty","0");let n,o;"time"in e?n=this.safeInteger(e,"time"):"transactTime"in e?n=this.safeInteger(e,"transactTime"):"updateTime"in e&&"open"===i&&(S.stringGt(a,"0")?o=this.safeInteger(e,"updateTime"):n=this.safeInteger(e,"updateTime"));const c=this.safeString(e,"avgPrice"),h=this.safeString(e,"price"),d=this.safeString(e,"origQty");let u=this.safeString2(e,"cummulativeQuoteQty","cumQuote");u=this.safeString(e,"cumBase",u);const l=this.safeString(e,"orderId");let f=this.safeStringLower(e,"type");const p=this.safeStringLower(e,"side"),m=this.safeValue(e,"fills",[]),g=this.safeString(e,"clientOrderId"),y=this.safeString(e,"timeInForce"),b="limit_maker"===f||"GTX"===y;"limit_maker"===f&&(f="limit");const v=this.safeString(e,"stopPrice"),w=this.parseNumber(this.omitZero(v));return this.safeOrder2({info:e,id:l,clientOrderId:g,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:o,symbol:s,type:f,timeInForce:y,postOnly:b,side:p,price:h,stopPrice:w,amount:d,cost:u,average:c,filled:a,remaining:void 0,status:i,fee:void 0,trades:m},t)}async createReduceOnlyOrder(e,t,i,r,s,a={}){return await this.createOrder(e,t,i,r,s,this.extend({reduceOnly:!0},a))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeString2(this.options,"createOrder","defaultType","spot"),c=this.safeString(a,"type",o),d=this.safeString2(a,"newClientOrderId","clientOrderId"),u=this.safeValue(a,"postOnly",!1);if(a=this.omit(a,["type","newClientOrderId","clientOrderId","postOnly"]),void 0!==this.safeValue(a,"reduceOnly")&&"future"!==c&&"delivery"!==c)throw new h(this.id+" createOrder() does not support reduceOnly for "+c+" orders, reduceOnly orders are supported for futures and perpetuals only");let l="privatePostOrder";"future"===c?l="fapiPrivatePostOrder":"delivery"===c?l="dapiPrivatePostOrder":"margin"===c&&(l="sapiPostMarginOrder"),n.spot&&(this.safeValue(a,"test",!1)&&(l+="Test"),a=this.omit(a,"test"),u&&(t="LIMIT_MAKER"));const f=t.toUpperCase(),p=this.safeValue(n.info,"orderTypes");if(!this.inArray(f,p))throw new h(this.id+" "+t+" is not a valid order type in market "+e);const m={symbol:n.id,type:f,side:i.toUpperCase()};if(void 0===d){const e=this.safeValue(this.options,"broker");if(void 0!==e){const t=this.safeString(e,c);void 0!==t&&(m.newClientOrderId=t+this.uuid22())}}else m.newClientOrderId=d;m.newOrderRespType="spot"===c||"margin"===c?this.safeValue(this.options.newOrderRespType,t,"RESULT"):"RESULT";let g=!1,y=!1,b=!1,v=!1;if("MARKET"===f)if(this.safeValue(this.options,"quoteOrderQty",!1)){const e=this.safeNumber(a,"quoteOrderQty"),t=n.precision.price;void 0!==e?(m.quoteOrderQty=this.decimalToPrecision(e,k,t,this.precisionMode),a=this.omit(a,"quoteOrderQty")):void 0!==s?m.quoteOrderQty=this.decimalToPrecision(r*s,k,t,this.precisionMode):v=!0}else v=!0;else if("LIMIT"===f)y=!0,g=!0,v=!0;else if("STOP_LOSS"===f||"TAKE_PROFIT"===f)b=!0,v=!0,(n.linear||n.inverse)&&(y=!0);else if("STOP_LOSS_LIMIT"===f||"TAKE_PROFIT_LIMIT"===f)v=!0,b=!0,y=!0,g=!0;else if("LIMIT_MAKER"===f)y=!0,v=!0;else if("STOP"===f)v=!0,b=!0,y=!0;else if("STOP_MARKET"===f||"TAKE_PROFIT_MARKET"===f)void 0===this.safeValue(a,"closePosition")&&(v=!0),b=!0;else if("TRAILING_STOP_MARKET"===f&&(v=!0,void 0===this.safeNumber(a,"callbackRate")))throw new h(this.id+" createOrder() requires a callbackRate extra param for a "+t+" order");if(v&&(m.quantity=this.amountToPrecision(e,r)),y){if(void 0===s)throw new h(this.id+" createOrder() requires a price argument for a "+t+" order");m.price=this.priceToPrecision(e,s)}if(g&&(m.timeInForce=this.options.defaultTimeInForce),b){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new h(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");a=this.omit(a,"stopPrice"),m.stopPrice=this.priceToPrecision(e,i)}const w=await this[l](this.extend(m,a));return this.parseOrder(w,n)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOrder","defaultType","spot"),n=this.safeString(i,"type",s);let o="privateGetOrder";"future"===n?o="fapiPrivateGetOrder":"delivery"===n?o="dapiPrivateGetOrder":"margin"===n&&(o="sapiGetMarginOrder");const c={symbol:r.id},h=this.safeValue2(i,"origClientOrderId","clientOrderId");void 0!==h?c.origClientOrderId=h:c.orderId=e;const d=this.omit(i,["type","clientOrderId","origClientOrderId"]),u=await this[o](this.extend(c,d));return this.parseOrder(u,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=this.safeString2(this.options,"fetchOrders","defaultType","spot"),o=this.safeString(r,"type",n);let c="privateGetAllOrders";"future"===o?c="fapiPrivateGetAllOrders":"delivery"===o?c="dapiPrivateGetAllOrders":"margin"===o&&(c="sapiGetMarginAllOrders");const h={symbol:s.id};void 0!==t&&(h.startTime=t),void 0!==i&&(h.limit=i);const d=this.omit(r,"type"),u=await this[c](this.extend(h,d));return this.parseOrders(u,s,t,i)}async fetchOpenOrders(e,t,i,r={}){let a,n,o;await this.loadMarkets();const c={};if(void 0!==e){a=this.market(e),c.symbol=a.id;const t=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot"),i="type"in a?a.type:t;o=this.safeString(r,"type",i),n=this.omit(r,"type")}else{if(this.options.warnOnFetchOpenOrdersWithoutSymbol){const e=this.symbols.length,t=parseInt(e/2);throw new s(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+t.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}{const e=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(r,"type",e),n=this.omit(r,"type")}}let h="privateGetOpenOrders";"future"===o?h="fapiPrivateGetOpenOrders":"delivery"===o?h="dapiPrivateGetOpenOrders":"margin"===o&&(h="sapiGetMarginOpenOrders");const d=await this[h](this.extend(c,n));return this.parseOrders(d,a,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot"),n=this.safeString(i,"type",s),o=this.safeValue2(i,"origClientOrderId","clientOrderId"),c={symbol:r.id};void 0===o?c.orderId=e:c.origClientOrderId=o;let h="privateDeleteOrder";"future"===n?h="fapiPrivateDeleteOrder":"delivery"===n?h="dapiPrivateDeleteOrder":"margin"===n&&(h="sapiDeleteMarginOrder");const d=this.omit(i,["type","origClientOrderId","clientOrderId"]),u=await this[h](this.extend(c,d));return this.parseOrder(u,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=this.safeString2(this.options,"cancelAllOrders","defaultType","spot"),n=this.safeString(t,"type",s),o=this.omit(t,"type");let c="privateDeleteOpenOrders";"margin"===n?c="sapiDeleteMarginOpenOrders":"future"===n?c="fapiPrivateDeleteAllOpenOrders":"delivery"===n&&(c="dapiPrivateDeleteAllOpenOrders");const h=await this[c](this.extend(r,o));return Array.isArray(h)?this.parseOrders(h,i):h}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o=this.safeString(s,"type",n.type);if(s=this.omit(s,"type"),"spot"!==o)throw new m(this.id+" fetchOrderTrades() supports spot markets only");const c={orderId:e};return await this.fetchMyTrades(t,i,r,this.extend(c,s))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=this.safeString(r,"type",s.type);let o;r=this.omit(r,"type"),"spot"===n?o="privateGetMyTrades":"margin"===n?o="sapiGetMarginMyTrades":"future"===n?o="fapiPrivateGetUserTrades":"delivery"===n&&(o="dapiPrivateGetUserTrades");const c={symbol:s.id};void 0!==t&&(c.startTime=t),void 0!==i&&(c.limit=i);const h=await this[o](this.extend(c,r));return this.parseTrades(h,s,t,i)}async fetchMyDustTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.startTime=t,s.endTime=this.sum(t,7776e6));const a=await this.sapiGetAssetDribblet(this.extend(s,r)),n=this.safeValue(a,"userAssetDribblets",[]),o=this.safeInteger(a,"total",0),c=[];for(let e=0;e<o;e++){const t=this.safeValue(n[e],"userAssetDribbletDetails",[]);for(let e=0;e<t.length;e++)t[e].isDustTrade=!0,c.push(t[e])}const h=this.parseTrades(c,void 0,t,i);return this.filterBySinceLimit(h,t,i)}parseDustTrade(e,t){const i=this.safeString(e,"transId"),r=this.safeInteger(e,"operateTime"),s=this.safeString(e,"fromAsset"),a=this.safeCurrencyCode(s),n=this.currency("BNB").code,o=n+"/"+a;let c=!1;o in this.markets&&(c=!0);const h=this.safeString(e,"serviceChargeAmount"),d={currency:n,cost:this.parseNumber(h)};let u,l,f,p,m;c?(u=o,l=this.safeString(e,"transferedAmount"),f=this.safeString(e,"amount"),p="buy"):(u=a+"/"+n,l=this.safeString(e,"amount"),f=this.safeString(e,"transferedAmount"),p="sell"),void 0!==f&&l&&(m=S.stringDiv(f,l));const g=this.parseNumber(l),y=this.parseNumber(m),b=this.parseNumber(f);return{id:void 0,timestamp:r,datetime:this.iso8601(r),symbol:u,order:i,type:void 0,takerOrMaker:void 0,side:p,amount:g,price:y,cost:b,fee:d,info:e}}async fetchDeposits(e,t,i,r={}){let s,a;await this.loadMarkets();const n={};if(e in this.safeValue(this.options,"legalMoney",{})){void 0!==e&&(s=this.currency(e)),n.transactionType=0,void 0!==t&&(n.beginTime=t);const i=await this.sapiGetFiatOrders(this.extend(n,r));a=this.safeValue(i,"data")}else void 0!==e&&(s=this.currency(e),n.coin=s.id),void 0!==t&&(n.startTime=t,n.endTime=this.sum(t,7776e6)),void 0!==i&&(n.limit=i),a=await this.sapiGetCapitalDepositHisrec(this.extend(n,r));return this.parseTransactions(a,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a,n;if(e in this.safeValue(this.options,"legalMoney",{})){void 0!==e&&(n=this.currency(e)),s.transactionType=1,void 0!==t&&(s.beginTime=t);const i=await this.sapiGetFiatOrders(this.extend(s,r));a=this.safeValue(i,"data")}else void 0!==e&&(n=this.currency(e),s.coin=n.id),void 0!==t&&(s.startTime=t,s.endTime=this.sum(t,7776e6)),void 0!==i&&(s.limit=i),a=await this.sapiGetCapitalWithdrawHistory(this.extend(s,r));return this.parseTransactions(a,n,t,i)}parseTransactionStatusByType(e,t){const i=this.safeValue({deposit:{0:"pending",1:"ok",Processing:"pending",Failed:"failed",Successful:"ok",Refunding:"canceled",Refunded:"canceled","Refund Failed":"failed"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok",Processing:"pending",Failed:"failed",Successful:"ok",Refunding:"canceled",Refunded:"canceled","Refund Failed":"failed"}},t,{});return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","orderNo"),r=this.safeString(e,"address");let s=this.safeString(e,"addressTag");void 0!==s&&s.length<1&&(s=void 0);let a=this.safeString(e,"txId");void 0!==a&&a.indexOf("Internal transfer ")>=0&&(a=a.slice(18));const n=this.safeString2(e,"coin","fiatCurrency"),o=this.safeCurrencyCode(n,t);let c;const h=this.safeInteger2(e,"insertTime","createTime"),d=this.parse8601(this.safeString(e,"applyTime"));let u=this.safeString(e,"type");void 0===u&&(void 0!==h&&void 0===d?(u="deposit",c=h):void 0===h&&void 0!==d&&(u="withdrawal",c=d));const l=this.parseTransactionStatusByType(this.safeString(e,"status"),u),f=this.safeNumber(e,"amount"),p=this.safeNumber2(e,"transactionFee","totalFee");let m;void 0!==p&&(m={currency:o,cost:p});const g=this.safeInteger2(e,"successTime","updateTime");let y=this.safeInteger(e,"transferType",!1);return y=!!y,{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:u,amount:f,currency:o,status:l,updated:g,internal:y,fee:m}}parseTransferStatus(e){return this.safeString({CONFIRMED:"ok"},e,e)}parseTransfer(e,t){const i=this.safeString(e,"tranId"),r=this.safeString(e,"asset"),s=this.safeCurrencyCode(r,t),a=this.safeNumber(e,"amount"),n=this.safeString(e,"type");let o,c;const h=this.safeValue(this.options,"typesByAccount",{});if(void 0!==n){const e=n.split("_");o=this.safeValue(e,0),c=this.safeValue(e,1),o=this.safeString(h,o,o),c=this.safeString(h,c,c)}const d=this.safeInteger(e,"timestamp"),u=this.parseTransferStatus(this.safeString(e,"status"));return{info:e,id:i,timestamp:d,datetime:this.iso8601(d),currency:s,amount:a,fromAccount:o,toAccount:c,status:u}}parseIncome(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"income"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a),o=this.safeString(e,"tranId"),c=this.safeInteger(e,"time");return{info:e,symbol:r,code:n,timestamp:c,datetime:this.iso8601(c),id:o,amount:s}}parseIncomes(e,t,i,r){const s=[];for(let i=0;i<e.length;i++){const r=e[i],a=this.parseIncome(r,t);s.push(a)}const a=this.sortBy(s,"timestamp");return this.filterBySinceLimit(a,i,r)}async transfer(e,t,i,r,a={}){await this.loadMarkets();const n=this.currency(e);let o=this.safeString(a,"type");if(void 0===o){const e=this.safeValue(this.options,"accountsByType",{});i=i.toLowerCase(),r=r.toLowerCase();const t=this.safeString(e,i),a=this.safeString(e,r);if(void 0===t){const t=Object.keys(e);throw new s(this.id+" fromAccount must be one of "+t.join(", "))}if(void 0===a){const t=Object.keys(e);throw new s(this.id+" toAccount must be one of "+t.join(", "))}o=t+"_"+a}const c={asset:n.id,amount:this.currencyToPrecision(e,t),type:o},h=await this.sapiPostAssetTransfer(this.extend(c,a)),d=this.parseTransfer(h,n);return this.extend(d,{amount:t,currency:e,fromAccount:i,toAccount:r})}async fetchTransfers(e,t,i,r={}){let a;await this.loadMarkets(),void 0!==e&&(a=this.currency(e));const n=this.safeString2(this.options,"fetchTransfers","defaultType","spot"),o=this.safeString(r,"fromAccount",n),c="future"===o?"spot":"future",h=this.safeString(r,"toAccount",c);let d=this.safeString(r,"type");const u=this.safeValue(this.options,"accountsByType",{}),l=this.safeString(u,o),f=this.safeString(u,h);if(void 0===d){if(void 0===l){const e=Object.keys(u);throw new s(this.id+" fromAccount parameter must be one of "+e.join(", "))}if(void 0===f){const e=Object.keys(u);throw new s(this.id+" toAccount parameter must be one of "+e.join(", "))}d=l+"_"+f}const p={type:d};void 0!==t&&(p.startTime=t),void 0!==i&&(p.size=i);const m=await this.sapiGetAssetTransfer(this.extend(p,r)),g=this.safeValue(m,"rows",[]);return this.parseTransfers(g,a,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={coin:this.currency(e).id},r=this.safeValue(this.options,"networks",{});let s=this.safeStringUpper(t,"network");s=this.safeString(r,s,s),void 0!==s&&(i.network=s,t=this.omit(t,"network"));const a=await this.sapiGetCapitalDepositAddress(this.extend(i,t)),n=this.safeString(a,"address"),o=this.safeString(a,"url");let c;if(void 0!==o){const t=this.safeValue(this.options,"reverseNetworks",{}),i=o.split("/");let r=this.safeString(i,2);if("blockchair.com"===r||"viewblock.io"===r){const e=this.safeString(i,3);void 0!==e&&(r=r+"/"+e)}c=this.safeString(t,r);const s=this.safeValue(this.options,"impliedNetworks",{ETH:{ERC20:"ETH"},TRX:{TRC20:"TRX"}});if(e in s){const t=this.safeValue(s,e,{});c=this.safeString(t,c,c)}}let h=this.safeString(a,"tag","");return 0===h.length&&(h=void 0),this.checkAddress(n),{currency:e,address:n,tag:h,network:c,info:a}}async fetchFundingFees(e,t={}){await this.loadMarkets();const i=await this.sapiGetCapitalConfigGetall(t),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"coin"),a=this.safeCurrencyCode(s),n=this.safeValue(t,"networkList");r[a]={};for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"network"),s=this.safeCurrencyCode(i),o=this.safeNumber(t,"withdrawFee");r[a][s]=o}}return{withdraw:r,deposit:{},info:i}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={coin:this.currency(e).id,address:i,amount:t};void 0!==r&&(a.addressTag=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeString(n,o,o),void 0!==o&&(a.network=o,s=this.omit(s,"network"));const c=await this.sapiPostCapitalWithdrawApply(this.extend(a,s));return{info:c,id:this.safeString(c,"id")}}parseTradingFee(e,t){const i=this.safeString(e,"symbol");return{info:e,symbol:this.safeSymbol(i),maker:this.safeNumber(e,"makerCommission"),taker:this.safeNumber(e,"takerCommission")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i={symbol:this.market(e).id},r=await this.sapiGetAssetTradeFee(this.extend(i,t)),s=this.safeValue(r,0,{});return this.parseTradingFee(s)}async fetchTradingFees(e={}){let t;await this.loadMarkets();const i=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),r=this.safeString(e,"type",i),s=this.omit(e,"type");"spot"===r||"margin"===r?t="sapiGetAssetTradeFee":"future"===r?t="fapiPrivateGetAccount":"delivery"===r&&(t="dapiPrivateGetAccount");const a=await this[t](s);if("spot"===r||"margin"===r){const e={};for(let t=0;t<a.length;t++){const i=this.parseTradingFee(a[t]);e[i.symbol]=i}return e}if("future"===r){const e=Object.keys(this.markets),t={},i=this.safeInteger(a,"feeTier"),s=this.fees[r].trading.tiers,n=s.maker[i][1],o=s.taker[i][1];for(let r=0;r<e.length;r++){const s=e[r];t[s]={info:{feeTier:i},symbol:s,maker:n,taker:o}}return t}if("delivery"===r){const e=Object.keys(this.markets),t={},i=this.safeInteger(a,"feeTier"),s=this.fees[r].trading.tiers,n=s.maker[i][1],o=s.taker[i][1];for(let r=0;r<e.length;r++){const s=e[r];t[s]={info:{feeTier:i},symbol:s,maker:n,taker:o}}return t}}async futuresTransfer(e,t,i,r={}){if(i<1||i>4)throw new a(this.id+" type must be between 1 and 4");await this.loadMarkets();const s=this.currency(e),n={asset:s.id,amount:t,type:i},o=await this.sapiPostFuturesTransfer(this.extend(n,r));return this.parseTransfer(o,s)}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id};let s;if(i.linear)s="fapiPublicGetPremiumIndex";else{if(!i.inverse)throw new m(this.id+" fetchFundingRate() supports linear and inverse contracts only");s="dapiPublicGetPremiumIndex"}let a=await this[s](this.extend(r,t));return i.inverse&&(a=a[0]),this.parseFundingRate(a,i)}async fetchFundingRateHistory(e,t,i,r={}){await this.loadMarkets();const s={};let a;const n=this.safeString2(this.options,"fetchFundingRateHistory","defaultType","future"),o=this.safeString(r,"type",n);if(r=this.omit(r,"type"),"future"===o?a="fapiPublicGetFundingRate":"delivery"===o&&(a="dapiPublicGetFundingRate"),void 0!==e){const t=this.market(e);s.symbol=t.id,t.linear?a="fapiPublicGetFundingRate":t.inverse&&(a="dapiPublicGetFundingRate")}if(void 0===a)throw new m(this.id+" fetchFundingRateHistory() not supported for "+o+" markets");void 0!==t&&(s.startTime=t);const c=this.safeInteger(r,"till"),h=this.safeString(r,"endTime",c);r=this.omit(r,["endTime","till"]),void 0!==h&&(s.endTime=h),void 0!==i&&(s.limit=i);const d=await this[a](this.extend(s,r)),u=[];for(let e=0;e<d.length;e++){const t=d[e],i=this.safeInteger(t,"fundingTime");u.push({info:t,symbol:this.safeSymbol(this.safeString(t,"symbol")),fundingRate:this.safeNumber(t,"fundingRate"),timestamp:i,datetime:this.iso8601(i)})}const l=this.sortBy(u,"timestamp");return this.filterBySymbolSinceLimit(l,e,t,i)}async fetchFundingRates(e,t={}){let i;await this.loadMarkets();const r=this.safeString2(this.options,"fetchFundingRates","defaultType","future"),s=this.safeString(t,"type",r),a=this.omit(t,"type");if("future"===s)i="fapiPublicGetPremiumIndex";else{if("delivery"!==s)throw new m(this.id+" fetchFundingRates() supports linear and inverse contracts only");i="dapiPublicGetPremiumIndex"}const n=await this[i](a),o=[];for(let e=0;e<n.length;e++){const t=n[e],i=this.parseFundingRate(t);o.push(i)}return this.filterByArray(o,"symbol",e)}parseFundingRate(e,t){const i=this.safeInteger(e,"time"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"markPrice"),n=this.safeNumber(e,"indexPrice"),o=this.safeNumber(e,"interestRate"),c=this.safeNumber(e,"estimatedSettlePrice"),h=this.safeNumber(e,"lastFundingRate"),d=this.safeInteger(e,"nextFundingTime"),u=d-288e5;return{info:e,symbol:s,markPrice:a,indexPrice:n,interestRate:o,estimatedSettlePrice:c,timestamp:i,datetime:this.iso8601(i),previousFundingRate:void 0,nextFundingRate:h,previousFundingTimestamp:u,nextFundingTimestamp:d,previousFundingDatetime:this.iso8601(u),nextFundingDatetime:this.iso8601(d)}}parseAccountPositions(e){const t=this.safeValue(e,"positions"),i=this.safeValue(e,"assets"),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"asset"),a=this.safeCurrencyCode(s),n=this.safeString(t,"crossWalletBalance"),o=this.safeString(t,"crossUnPnl");r[a]={crossMargin:S.stringAdd(n,o),crossWalletBalance:n}}const s=[];for(let e=0;e<t.length;e++){const i=t[e],a=this.safeString(i,"symbol"),n=this.safeMarket(a),o="future"===this.options.defaultType?n.quote:n.base;if(o in r){const e=this.parseAccountPosition(this.extend(i,{crossMargin:r[o].crossMargin,crossWalletBalance:r[o].crossWalletBalance}),n);s.push(e)}}return s}parseAccountPosition(e,t){const i=this.safeString(e,"symbol"),r=(t=this.safeMarket(i,t)).symbol,s=this.safeString(e,"leverage"),a=parseInt(s),n=this.safeString(e,"initialMargin"),o=this.parseNumber(n);let c=S.stringDiv("1",s,8);1e3%a==0||(c=S.stringDiv(S.stringAdd(c,"1e-8"),"1",8));const h="notional"in e,d=this.safeString(e,"maintMargin"),u=this.parseNumber(d),l=this.safeString(e,"entryPrice");let f=this.parseNumber(l);const p=this.safeString2(e,"notional","notionalValue"),m=S.stringAbs(p),g=parseFloat(p),y=parseFloat(m),b=this.parseNumber(S.stringAbs(p));let v=this.safeString(e,"positionAmt"),w=S.stringAbs(v);if(void 0===v){const e=S.stringMul(S.stringMul(s,n),l);v=S.stringDiv(e,t.contractSize),w=S.stringDiv(S.stringAdd(v,"0.5"),"1",0)}const k=this.parseNumber(w),_=this.safeValue(this.options,"leverageBrackets",{}),M=this.safeValue(_,r,[]);let T;for(let e=0;e<M.length;e++){const t=M[e];if(y<t[0])break;T=t[1]}const O=this.parseNumber(T),x=this.safeString(e,"unrealizedProfit"),I=this.parseNumber(x);let C,A,E,N=this.safeInteger(e,"updateTime");0===N&&(N=void 0),this.safeValue(e,"isolated")?(C="isolated",E=this.safeString(e,"isolatedWallet"),A=S.stringAdd(E,x)):(C="cross",E=this.safeString(e,"crossWalletBalance"),A=this.safeString(e,"crossMargin"));const P=this.parseNumber(A);let B,R,L,V,D;if(0===g)f=void 0;else{if(R=g<0?"short":"long",B=this.parseNumber(S.stringDiv(S.stringAdd(S.stringDiv(d,A),"5e-5"),"1",4)),L=this.parseNumber(S.stringMul(S.stringDiv(x,n,4),"100")),h){let e,t=l;"short"===R?e=S.stringAdd("1",T):(e=S.stringAdd("-1",T),t=S.stringMul("-1",t));const i=S.stringDiv(E,S.stringMul(w,e)),r=S.stringDiv(t,e);V=S.stringAdd(i,r)}else{let e,i=l;"short"===R?e=S.stringSub("1",T):(e=S.stringSub("-1",T),i=S.stringMul("-1",i));const r=S.stringMul(w,t.contractSize),s=S.stringMul(r,e),a=S.stringSub(S.stringMul(S.stringDiv("1",i),r),E);V=S.stringDiv(s,a)}const e=t.precision.price,i=(e+1).toString(),r=new S("5e-"+i).toString(),s=S.stringAdd(r,V);let a=S.stringDiv(s,"1",e);"-"===a[0]&&(a=void 0),D=this.parseNumber(a)}const q="BOTH"!==this.safeString(e,"positionSide");return{info:e,symbol:r,timestamp:N,datetime:this.iso8601(N),initialMargin:o,initialMarginPercentage:this.parseNumber(c),maintenanceMargin:u,maintenanceMarginPercentage:O,entryPrice:f,notional:b,leverage:this.parseNumber(s),unrealizedPnl:I,contracts:k,contractSize:this.parseNumber(t.contractSize),marginRatio:B,liquidationPrice:D,markPrice:void 0,collateral:P,marginType:C,side:R,hedged:q,percentage:L}}parsePositionRisk(e,t){const i=this.safeString(e,"symbol"),r=(t=this.safeMarket(i,t)).symbol,s=this.safeValue(this.options,"leverageBrackets",{}),a=this.safeValue(s,r,[]),n=this.safeString2(e,"notional","notionalValue"),o=S.stringAbs(n),c=parseFloat(o),h=parseFloat(n);let d;for(let e=0;e<a.length;e++){const t=a[e];if(c<t[0])break;d=t[1]}const u=this.parseNumber(o),l=S.stringAbs(this.safeString(e,"positionAmt")),f=this.parseNumber(l),p=this.safeString(e,"unRealizedProfit"),m=this.parseNumber(p),g=this.safeString(e,"leverage"),y=parseInt(g),b=this.omitZero(this.safeString(e,"liquidationPrice")),v=this.parseNumber(b);let w;const k=this.safeString(e,"marginType");let _;h>0?_="long":h<0&&(_="short");const M=this.safeString(e,"entryPrice"),T=this.parseNumber(M);if("cross"===k)if(t.linear){let e,i=M;"short"===_?(e=S.stringAdd("1",d),i=S.stringMul("-1",i)):e=S.stringAdd("-1",d);const r=S.stringMul(b,e),s=S.stringAdd(r,i);w=S.stringDiv(S.stringMul(s,l),"1",t.precision.quote)}else{let e,i=M;"short"===_?e=S.stringSub("1",d):(e=S.stringSub("-1",d),i=S.stringMul("-1",i));const r=S.stringMul(l,t.contractSize),s=S.stringSub(S.stringDiv("1",i),S.stringDiv(e,b));w=S.stringDiv(S.stringMul(r,s),"1",t.precision.base)}else w=this.safeString(e,"isolatedMargin");w=void 0===w?"0":w;const O=parseFloat(w),x=this.parseNumber(w),I=this.parseNumber(this.omitZero(this.safeString(e,"markPrice")));let C=this.safeInteger(e,"updateTime");0===C&&(C=void 0);const A=this.parseNumber(d),E=S.stringMul(d,o),N=this.parseNumber(E);let P=S.stringDiv("1",g,8);1e3%y==0||(P=S.stringAdd(P,"1e-8"));const B=S.stringDiv(S.stringMul(o,P),"1",8),R=this.parseNumber(B);let L,V;0!==O&&(L=this.parseNumber(S.stringDiv(S.stringAdd(S.stringDiv(E,w),"5e-5"),"1",4)),V=this.parseNumber(S.stringMul(S.stringDiv(p,B,4),"100")));const D="BOTH"!==this.safeString(e,"positionSide");return{info:e,symbol:r,contracts:f,contractSize:this.parseNumber(t.contractSize),unrealizedPnl:m,leverage:this.parseNumber(g),liquidationPrice:v,collateral:x,notional:u,markPrice:I,entryPrice:T,timestamp:C,initialMargin:R,initialMarginPercentage:this.parseNumber(P),maintenanceMargin:N,maintenanceMarginPercentage:A,marginRatio:L,datetime:this.iso8601(C),marginType:k,side:_,hedged:D,percentage:V}}async loadLeverageBrackets(e=!1,t={}){if(await this.loadMarkets(),void 0===this.safeValue(this.options,"leverageBrackets")||e){let e;const i=this.safeString(this.options,"defaultType","future"),r=this.safeString(t,"type",i),s=this.omit(t,"type");if("future"===r)e="fapiPrivateGetLeverageBracket";else{if("delivery"!==r)throw new m(this.id+" loadLeverageBrackets() supports linear and inverse contracts only");e="dapiPrivateV2GetLeverageBracket"}const a=await this[e](s);this.options.leverageBrackets={};for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"symbol"),r=this.safeSymbol(i),s=this.safeValue(t,"brackets"),n=[];for(let e=0;e<s.length;e++){const t=s[e],i=this.safeFloat2(t,"notionalFloor","qtyFloor"),r=this.safeString(t,"maintMarginRatio");n.push([i,r])}this.options.leverageBrackets[r]=n}}return this.options.leverageBrackets}async fetchPositions(e,t={}){const i=this.safeString(this.options,"fetchPositions","positionRisk");if("positionRisk"===i)return await this.fetchPositionsRisk(e,t);if("account"===i)return await this.fetchAccountPositions(e,t);throw new m(this.id+'.options["fetchPositions"] = "'+i+'" is invalid, please choose between "account" and "positionRisk"')}async fetchAccountPositions(e,t={}){if(void 0!==e&&!Array.isArray(e))throw new a(this.id+" fetchPositions requires an array argument for symbols");let i;await this.loadMarkets(),await this.loadLeverageBrackets();const r=this.safeString(this.options,"defaultType","future"),s=this.safeString(t,"type",r),n=this.omit(t,"type");if("future"===s)i="fapiPrivateGetAccount";else{if("delivery"!==s)throw new m(this.id+" fetchPositions() supports linear and inverse contracts only");i="dapiPrivateGetAccount"}const o=await this[i](n),c=this.parseAccountPositions(o);return this.filterByArray(c,"symbol",e,!1)}async fetchPositionsRisk(e,t={}){if(void 0!==e&&!Array.isArray(e))throw new a(this.id+" fetchPositions requires an array argument for symbols");await this.loadMarkets(),await this.loadLeverageBrackets();let i,r="future";r=this.safeString(this.options,"defaultType",r);const s=this.safeString(t,"type",r);if(t=this.omit(t,"type"),"future"===s||"linear"===s)i="fapiPrivateGetPositionRisk";else{if("delivery"!==s&&"inverse"!==s)throw m(this.id+" fetchIsolatedPositions() supports linear and inverse contracts only");i="dapiPrivateGetPositionRisk"}const n=await this[i](this.extend({},t)),o=[];for(let e=0;e<n.length;e++){const t=this.parsePositionRisk(n[e]);o.push(t)}return this.filterByArray(o,"symbol",e,!1)}async fetchFundingHistory(e,t,i,r={}){let s,a;await this.loadMarkets();let n="future";const o={incomeType:"FUNDING_FEE"};if(void 0!==e)if(s=this.market(e),o.symbol=s.id,s.linear)n="future";else{if(!s.inverse)throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");n="delivery"}void 0!==t&&(o.startTime=t),void 0!==i&&(o.limit=i),n=this.safeString2(this.options,"fetchFundingHistory","defaultType",n);const c=this.safeString(r,"type",n);if(r=this.omit(r,"type"),"future"===c||"linear"===c)a="fapiPrivateGetIncome";else{if("delivery"!==c&&"inverse"!==c)throw m(this.id+" fetchFundingHistory() supports linear and inverse contracts only");a="dapiPrivateGetIncome"}const h=await this[a](this.extend(o,r));return this.parseIncomes(h,s,t,i)}async setLeverage(e,t,i={}){if(void 0===t)throw new a(this.id+" setLeverage() requires a symbol argument");if(e<1||e>125)throw new g(this.id+" leverage should be between 1 and 125");await this.loadMarkets();const r=this.market(t);let s;if(r.linear)s="fapiPrivatePostLeverage";else{if(!r.inverse)throw new m(this.id+" setLeverage() supports linear and inverse contracts only");s="dapiPrivatePostLeverage"}const n={symbol:r.id,leverage:e};return await this[s](this.extend(n,i))}async setMarginMode(e,t,i={}){if("ISOLATED"!==(e=e.toUpperCase())&&"CROSSED"!==e)throw new g(this.id+" marginType must be either isolated or crossed");await this.loadMarkets();const r=this.market(t);let s;if(r.linear)s="fapiPrivatePostMarginType";else{if(!r.inverse)throw m(this.id+" setMarginMode() supports linear and inverse contracts only");s="dapiPrivatePostMarginType"}const a={symbol:r.id,marginType:e};return await this[s](this.extend(a,i))}async setPositionMode(e,t,i={}){const r=this.safeString(this.options,"defaultType","future"),s=this.safeString(i,"type",r);let a;i=this.omit(i,["type"]),a=e?"true":"false";const n={dualSidePosition:a};let o;return o="delivery"===s?"dapiPrivatePostPositionSideDual":"fapiPrivatePostPositionSideDual",await this[o](this.extend(n,i))}sign(e,t="public",i="GET",r={},s,a){if(!(t in this.urls.api))throw new m(this.id+" does not have a testnet/sandbox URL for "+t+" endpoints");let n=this.urls.api[t];if(n+="/"+e,"wapi"===t&&(n+=".html"),"historicalTrades"===e){if(!this.apiKey)throw new l(this.id+" historicalTrades endpoint requires `apiKey` credential");s={"X-MBX-APIKEY":this.apiKey}}if("userDataStream"===e||"listenKey"===e){if(!this.apiKey)throw new l(this.id+" userDataStream endpoint requires `apiKey` credential");s={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"},"GET"!==i&&(a=this.urlencode(r))}else if("private"===t||"sapi"===t||"wapi"===t&&"systemStatus"!==e||"dapiPrivate"===t||"dapiPrivateV2"===t||"fapiPrivate"===t||"fapiPrivateV2"===t){let o;this.checkRequiredCredentials();const c=this.safeInteger(this.options,"recvWindow",5e3);o="sapi"===t&&"asset/dust"===e?this.urlencodeWithArrayRepeat(this.extend({timestamp:this.nonce(),recvWindow:c},r)):"batchOrders"===e||e.indexOf("sub-account")>=0?this.rawencode(this.extend({timestamp:this.nonce(),recvWindow:c},r)):this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:c},r)),o+="&signature="+this.hmac(this.encode(o),this.encode(this.secret)),s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i||"wapi"===t?n+="?"+o:(a=o,s["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,u){if(418===e||429===e)throw new d(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new h(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new h(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new h(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(void 0===o)return;const l=this.safeValue(o,"success",!0);if(!l){const e=this.safeString(o,"msg");let t;if(void 0!==e){try{t=JSON.parse(e)}catch(e){t=void 0}void 0!==t&&(o=t)}}const f=this.safeString(o,"msg");void 0!==f&&(this.throwExactlyMatchedException(this.exceptions.exact,f,this.id+" "+f),this.throwBroadlyMatchedException(this.exceptions.broad,f,this.id+" "+f));const p=this.safeString(o,"code");if(void 0!==p){if("200"===p||S.stringEquals(p,"0"))return;if("-2015"===p&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new d(this.id+" temporary banned: "+n);const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,p,e),new s(e)}if(!l)throw new s(this.id+" "+n)}calculateRateLimiterCost(e,t,i,r,s={},a={}){if("noSymbol"in s&&!("symbol"in r))return s.noSymbol;if("noPoolId"in s&&!("poolId"in r))return s.noPoolId;if("byLimit"in s&&"limit"in r){const e=r.limit,t=s.byLimit;for(let i=0;i<t.length;i++){const r=t[i];if(e<=r[0])return r[1]}}return this.safeInteger(s,"cost",1)}async request(e,t="public",i="GET",r={},s,a,n={},o={}){const c=await this.fetch2(e,t,i,r,s,a,n,o);return"private"!==t&&"wapi"!==t||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),c}async modifyMarginHelper(e,t,i,r={}){let s=this.safeString(this.options,"defaultType","future");"spot"===s&&(s="future");const a=this.safeString(r,"type",s);if("margin"===a||"spot"===a)throw new m(this.id+" add / reduce margin only supported with type future or delivery");await this.loadMarkets();const n=this.market(e),o={type:i,symbol:n.id,amount:t};let c,h;"future"===a?(c="fapiPrivatePostPositionMargin",h=n.quote):(c="dapiPrivatePostPositionMargin",h=n.base);const d=await this[c](this.extend(o,r)),u=1===this.safeInteger(d,"type")?"add":"reduce",l=this.safeNumber(d,"amount"),f="200"===this.safeString(d,"code")?"ok":"failed";return{info:d,type:u,amount:l,code:h,symbol:n.symbol,status:f}}async reduceMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,2,i)}async addMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,1,i)}async fetchBorrowRate(e,t={}){await this.loadMarkets();const i={asset:this.currency(e).id},r=await this.sapiGetMarginInterestRateHistory(this.extend(i,t)),s=this.safeValue(r,0),a=this.safeNumber(s,"timestamp");return{currency:e,rate:this.safeNumber(s,"dailyInterestRate"),period:864e5,timestamp:a,datetime:this.iso8601(a),info:r}}async fetchBorrowRateHistory(e,t,i,r={}){if(await this.loadMarkets(),void 0===i)i=93;else if(i>93)throw new g(this.id+" fetchBorrowRateHistory limit parameter cannot exceed 92");const s={asset:this.currency(e).id,limit:i};if(void 0!==t){s.startTime=t;const e=this.sum(t,864e5*i)-1,r=this.milliseconds();s.endTime=Math.min(e,r)}const a=await this.sapiGetMarginInterestRateHistory(this.extend(s,r)),n=[];for(let t=0;t<a.length;t++){const i=a[t],r=this.safeNumber(i,"timestamp");n.push({currency:e,rate:this.safeNumber(i,"dailyInterestRate"),timestamp:r,datetime:this.iso8601(r),info:i})}return n}}},42483:(e,t,i)=>{"use strict";const r=i(96056);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binancecoinm",name:"Binance COIN-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/delivery/en/","https://binance-docs.github.io/apidocs/spot/en"]},options:{defaultType:"delivery",leverageBrackets:void 0}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,3,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,4,i)}}},3393:(e,t,i)=>{"use strict";const r=i(96056);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceus",name:"Binance US",countries:["US"],certified:!1,pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/65177307-217b7c80-da5f-11e9-876e-0b748ba0a358.jpg",api:{web:"https://www.binance.us",sapi:"https://api.binance.us/sapi/v1",wapi:"https://api.binance.us/wapi/v3",public:"https://api.binance.us/api/v3",private:"https://api.binance.us/api/v3"},www:"https://www.binance.us",referral:"https://www.binance.us/?ref=35005074",doc:"https://github.com/binance-us/binance-official-api-docs",fees:"https://www.binance.us/en/fee/schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001")}},options:{fetchCurrencies:!1,quoteOrderQty:!1}})}async fetchCurrencies(e={}){}}},12137:(e,t,i)=>{"use strict";const r=i(96056);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceusdm",name:"Binance USD-M",urls:{logo:"https://user-images.githubusercontent.com/1294454/117738721-668c8d80-b205-11eb-8c49-3fad84c4a07f.jpg",doc:["https://binance-docs.github.io/apidocs/futures/en/","https://binance-docs.github.io/apidocs/spot/en"]},options:{defaultType:"future",leverageBrackets:void 0,marginTypes:{}}})}async transferIn(e,t,i={}){return await this.futuresTransfer(e,t,1,i)}async transferOut(e,t,i={}){return await this.futuresTransfer(e,t,2,i)}}},12455:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,ExchangeError:a,InvalidNonce:n,AuthenticationError:o,PermissionDenied:c}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",referral:"https://bit2c.co.il/Aff/63bfed10-e359-420c-ab5a-ad368dab0baf",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS",baseId:"Btc",quoteId:"Nis",type:"spot",spot:!0},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS",baseId:"Eth",quoteId:"Nis",type:"spot",spot:!0},"BCH/NIS":{id:"BchabcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS",baseId:"Bchabc",quoteId:"Nis",type:"spot",spot:!0},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS",baseId:"Ltc",quoteId:"Nis",type:"spot",spot:!0},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS",baseId:"Etc",quoteId:"Nis",type:"spot",spot:!0},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS",baseId:"Btg",quoteId:"Nis",type:"spot",spot:!0},"BSV/NIS":{id:"BchsvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS",baseId:"Bchsv",quoteId:"Nis",type:"spot",spot:!0},"GRIN/NIS":{id:"GrinNis",symbol:"GRIN/NIS",base:"GRIN",quote:"NIS",baseId:"Grin",quoteId:"Nis",type:"spot",spot:!0}},fees:{trading:{maker:this.parseNumber("0.005"),taker:this.parseNumber("0.005")}},options:{fetchTradesMethod:"public_get_exchanges_pair_trades"},exceptions:{exact:{"Please provide valid APIkey":o},broad:{"Please provide valid nonce":n,"please approve new terms of use on site":c}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalanceV2(e),i={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.account(),n=this.currency(s).id.toUpperCase();n in t&&(a.free=this.safeString(t,"AVAILABLE_"+n),a.total=this.safeString(t,n)),i[s]=a}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetExchangesPairOrderbook(this.extend(r,i));return this.parseOrderBook(s,e)}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.milliseconds(),s=this.safeNumber(e,"av"),a=this.safeNumber(e,"a");let n;void 0!==a&&void 0!==s&&(n=a*s);const o=this.safeNumber(e,"ll");return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeNumber(e,"h"),bidVolume:void 0,ask:this.safeNumber(e,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:s,baseVolume:a,quoteVolume:n,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetExchangesPairTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=this.options.fetchTradesMethod,o={pair:s.id};void 0!==t&&(o.date=parseInt(t)),void 0!==i&&(o.limit=i);const c=await this[n](this.extend(o,r));if("string"==typeof c)throw new a(c);return this.parseTrades(c,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePostOrderAddOrder";const o={Amount:r,Pair:this.marketId(e)};"market"===t?n+="MarketPrice"+this.capitalize(i):(o.Price=s,o.Total=r*s,o.IsBid="buy"===i);const c=await this[n](this.extend(o,a));return{info:c,id:c.NewOrder.id}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostOrderCancelOrder(this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={pair:a.id},o=await this.privateGetOrderMyOrders(this.extend(n,r)),c=this.safeValue(o,a.id,{}),h=this.safeValue(c,"ask",[]),d=this.safeValue(c,"bid",[]);return this.parseOrders(this.arrayConcat(h,d),a,t,i)}parseOrder(e,t){const i=this.safeInteger(e,"created"),r=this.safeString(e,"price"),s=this.safeString(e,"amount");let a;void 0!==t&&(a=t.symbol);let n=this.safeValue(e,"type");0===n?n="buy":1===n&&(n="sell");const o=this.safeString(e,"id"),c=this.safeString(e,"status");return this.safeOrder2({id:o,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:c,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:n,price:r,stopPrice:void 0,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0},t)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==i&&(a.take=i),a.take=i,void 0!==t&&(a.toTime=this.yyyymmdd(this.milliseconds(),"."),a.fromTime=this.yyyymmdd(t,".")),void 0!==e&&(s=this.market(e),a.pair=s.id);const n=await this.privateGetOrderOrderHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){let i,r,s,a,n,o,c;const h=this.safeString(e,"reference");if(void 0!==h){i=this.safeTimestamp(e,"ticks"),s=this.safeString(e,"price"),a=this.safeString(e,"firstAmount");const d=h.split("|");if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id[i]?t=this.markets_by_id[i]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}n=d[1],r=d[2],c=this.safeInteger(e,"action"),0===c?c="buy":1===c&&(c="sell");const u=this.safeString(e,"feeAmount");void 0!==u&&(o={cost:u,currency:"NIS"})}else i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeString(e,"price"),a=this.safeString(e,"amount"),c=this.safeValue(e,"isBid"),void 0!==c&&(c=c?"buy":"sell");let d;return void 0!==t&&(d=t.symbol),this.safeTrade({info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:d,order:n,type:void 0,side:c,takerOrMaker:void 0,price:s,amount:a,cost:void 0,fee:o},t)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);if("public"===t)n+=".json";else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({nonce:e},r),o=this.urlencode(t);"GET"===i?Object.keys(t).length&&(n+="?"+o):a=o;const c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:c}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"error");if(void 0!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,d,e),new a(e)}}}},99703:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,InvalidNonce:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:h,PermissionDenied:d,ArgumentsRequired:u}=i(73449),l=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},hostname:"bitbank.cc",urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.{hostname}",private:"https://api.{hostname}",markets:"https://api.{hostname}"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]},markets:{get:["spot/pairs"]}},exceptions:{20001:a,20002:a,20003:a,20005:a,20004:n,40020:c,40021:c,40025:s,40013:h,40014:h,50008:d,50009:h,50010:h,60001:o,60005:c}})}async fetchMarkets(e={}){const t=await this.marketsGetSpotPairs(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"pairs",[]),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"name"),a=this.safeString(t,"base_asset"),n=this.safeString(t,"quote_asset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeNumber(t,"maker_fee_rate_quote"),u=this.safeNumber(t,"taker_fee_rate_quote"),f=this.safeString(t,"price_digits"),p=this.parsePrecision(f),m={price:parseInt(f),amount:this.safeInteger(t,"amount_digits")},g=this.safeValue(t,"is_enabled"),y=this.safeString(t,"unit_amount"),b=l.stringMul(y,p),v={amount:{min:this.safeNumber(t,"unit_amount"),max:this.safeNumber(t,"limit_max_amount")},price:{min:this.parseNumber(p),max:void 0},cost:{min:this.parseNumber(b),max:void 0}};s.push({info:t,id:i,symbol:h,baseId:a,quoteId:n,base:o,quote:c,precision:m,limits:v,type:"spot",spot:!0,active:g,maker:d,taker:u})}return s}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.safeInteger(e,"timestamp"),s=this.safeNumber(e,"last");return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetPairTicker(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTrade(e,t){const i=this.safeInteger(e,"executed_at");let r,s;void 0!==t&&(r=t.symbol,s=t.quote);const a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString2(e,"transaction_id","trade_id"),c=this.safeString(e,"maker_taker");let h;const d=this.safeString(e,"fee_amount_quote");void 0!==d&&(h={currency:s,cost:d});const u=this.safeString(e,"order_id"),l=this.safeString(e,"type"),f=this.safeString(e,"side");return this.safeTrade({timestamp:i,datetime:this.iso8601(i),symbol:r,id:o,order:u,type:l,side:f,takerOrMaker:c,price:a,amount:n,cost:void 0,fee:h,info:e},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetPairTransactions(this.extend(a,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"transactions",[]);return this.parseTrades(c,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,5),this.safeNumber(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4)]}async fetchOHLCV(e,t="5m",i,r,s={}){if(void 0===i)throw new u(this.id+" fetchOHLCV requires a since argument");await this.loadMarkets();const a=this.market(e),n={pair:a.id,candletype:this.timeframes[t],yyyymmdd:this.yyyymmdd(i,"")},o=await this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend(n,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"candlestick",[]),d=this.safeValue(h,0,{}),l=this.safeValue(d,"ohlcv",[]);return this.parseOHLCVs(l,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAssets(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data",{}),s=this.safeValue(r,"assets",[]);for(let e=0;e<s.length;e++){const t=s[e],r=this.safeString(t,"asset"),a=this.safeCurrencyCode(r),n=this.account();n.free=this.safeString(t,"free_amount"),n.used=this.safeString(t,"locked_amount"),n.total=this.safeString(t,"onhand_amount"),i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({UNFILLED:"open",PARTIALLY_FILLED:"open",FULLY_FILLED:"closed",CANCELED_UNFILLED:"canceled",CANCELED_PARTIALLY_FILLED:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeString(e,"pair");let s;r&&!t&&r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0!==t&&(s=t.symbol);const a=this.safeInteger(e,"ordered_at"),n=this.safeString(e,"price"),o=this.safeString(e,"start_amount"),c=this.safeString(e,"executed_amount"),h=this.safeString(e,"remaining_amount"),d=this.safeString(e,"average_price"),u=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeStringLower(e,"type"),f=this.safeStringLower(e,"side");return this.safeOrder2({id:i,clientOrderId:void 0,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:u,symbol:s,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:n,stopPrice:void 0,cost:void 0,average:d,amount:o,filled:c,remaining:h,trades:void 0,fee:void 0,info:e},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={pair:n.id,amount:this.amountToPrecision(e,r),side:i,type:t};"limit"===t&&(o.price=this.priceToPrecision(e,s));const c=await this.privatePostUserSpotOrder(this.extend(o,a)),h=this.safeValue(c,"data");return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e,pair:this.market(t).id},s=await this.privatePostUserSpotCancelOrder(this.extend(r,i));return this.safeValue(s,"data")}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={order_id:e,pair:r.id},a=await this.privateGetUserSpotOrder(this.extend(s,i)),n=this.safeValue(a,"data");return this.parseOrder(n,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.count=i),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privateGetUserSpotActiveOrders(this.extend(a,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a={};void 0!==s&&(a.pair=s.id),void 0!==i&&(a.count=i),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privateGetUserSpotTradeHistory(this.extend(a,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset:i.id},s=await this.privateGetUserWithdrawalAccount(this.extend(r,t)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"accounts",[]),o=this.safeValue(n,0,{});return{currency:i,address:this.safeString(o,"address"),tag:void 0,network:void 0,info:s}}async withdraw(e,t,i,r,a={}){if([r,a]=this.handleWithdrawTagAndParams(r,a),!("uuid"in a))throw new s(this.id+" uuid is required for withdrawal");await this.loadMarkets();const n={asset:this.currency(e).id,amount:t},o=await this.privatePostUserRequestWithdrawal(this.extend(n,a)),c=this.safeValue(o,"data",{});return{info:o,id:this.safeString(c,"txid")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.omit(r,this.extractParams(e)),o=this.implodeHostname(this.urls.api[t])+"/";if("public"===t||"markets"===t)o+=this.implodeParams(e,r),Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const t=this.nonce().toString();let c=t;o+=this.version+"/"+this.implodeParams(e,r),"POST"===i?c+=a=this.json(n):(c+="/"+this.version+"/"+e,Object.keys(n).length&&(n=this.urlencode(n),o+="?"+n,c+="?"+n)),s={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":t,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeInteger(o,"success"),u=this.safeValue(o,"data");if(!d||!u){const e={1e4:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},t=this.exceptions,i=this.safeString(u,"code"),r=this.safeString(e,i,"Error"),a=this.safeValue(t,i);throw void 0!==a?new a(r):new s(this.id+" "+this.json(o))}}}},93528:(e,t,i)=>{"use strict";const r=i(79264);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbay",alias:!0})}}},98875:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InsufficientFunds:n,OrderNotFound:o,BadRequest:c,BadSymbol:h}=i(73449),d=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbns",name:"Bitbns",countries:["IN"],rateLimit:1e3,certified:!1,pro:!1,version:"v2",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:void 0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{},urls:{logo:"https://user-images.githubusercontent.com/1294454/117201933-e7a6e780-adf5-11eb-9d80-98fc2a21c3d6.jpg",api:{www:"https://bitbns.com",v1:"https://api.bitbns.com/api/trade/v1",v2:"https://api.bitbns.com/api/trade/v2"},www:"https://bitbns.com",referral:"https://ref.bitbns.com/1090961",doc:["https://bitbns.com/trade/#/api-trading/"],fees:"https://bitbns.com/fees"},api:{www:{get:["order/fetchMarkets","order/fetchTickers","order/fetchOrderbook","order/getTickerWithVolume","exchangeData/ohlc","exchangeData/orderBook","exchangeData/tradedetails"]},v1:{get:["platform/status","tickers","orderbook/sell/{symbol}","orderbook/buy/{symbol}"],post:["currentCoinBalance/EVERYTHING","getApiUsageStatus/USAGE","getOrderSocketToken/USAGE","currentCoinBalance/{symbol}","orderStatus/{symbol}","depositHistory/{symbol}","withdrawHistory/{symbol}","withdrawHistoryAll/{symbol}","depositHistoryAll/{symbol}","listOpenOrders/{symbol}","listOpenStopOrders/{symbol}","getCoinAddress/{symbol}","placeSellOrder/{symbol}","placeBuyOrder/{symbol}","buyStopLoss/{symbol}","sellStopLoss/{symbol}","placeSellOrder/{symbol}","cancelOrder/{symbol}","cancelStopLossOrder/{symbol}","listExecutedOrders/{symbol}","placeMarketOrder/{symbol}","placeMarketOrderQnty/{symbol}"]},v2:{post:["orders","cancel","getordersnew","marginOrders"]}},fees:{trading:{feeSide:"quote",tierBased:!1,percentage:!0,taker:this.parseNumber("0.0025"),maker:this.parseNumber("0.0025")}},exceptions:{exact:{400:c,409:h,416:n,417:o},broad:{}}})}async fetchStatus(e={}){const t=await this.v1GetPlatformStatus(e);let i=this.safeString(t,"status");return void 0!==i&&(i="1"===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.wwwGetOrderFetchMarkets(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"base"),n=this.safeString(r,"quote"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeValue(r,"precision",{}),u={amount:this.safeInteger(d,"amount"),price:this.safeInteger(d,"price")},l=this.safeValue(r,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g="USDT"===n?a+"_"+n:a;i.push({id:s,uppercaseId:g,symbol:h,base:o,quote:c,baseId:a,quoteId:n,info:r,type:"spot",spot:!0,active:void 0,precision:u,limits:{amount:{min:this.safeNumber(f,"min"),max:this.safeNumber(f,"max")},price:{min:this.safeNumber(p,"min"),max:this.safeNumber(p,"max")},cost:{min:this.safeNumber(m,"min"),max:this.safeNumber(m,"max")}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.wwwGetOrderFetchOrderbook(this.extend(r,i)),a=this.safeInteger(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"last");return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidVolume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askVolume"),vwap:this.safeNumber(e,"vwap"),open:this.safeNumber(e,"open"),close:a,last:a,previousClose:this.safeNumber(e,"previousClose"),change:this.safeNumber(e,"change"),percentage:this.safeNumber(e,"percentage"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.wwwGetOrderFetchTickers(t);return this.parseTickers(i,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1PostCurrentCoinBalanceEVERYTHING(e),i=void 0,r={info:t,timestamp:i,datetime:this.iso8601(i)},s=this.safeValue(t,"data",{}),a=Object.keys(s);for(let e=0;e<a.length;e++){const t=a[e],i=t.split("availableorder");if(i.length>1){const e=this.safeString(i,1);if("Money"!==e){const i=this.safeCurrencyCode(e),a=this.account();a.free=this.safeString(s,t),a.used=this.safeString(s,"inorder"+e),r[i]=a}}}return this.parseBalance(r)}parseOrderStatus(e){return this.safeString({0:"open"},e,e)}parseOrder(e,t){const i=this.safeString2(e,"id","entry_id"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"rate"),o=this.safeString2(e,"amount","btc"),c=this.safeString(e,"filled"),h=this.safeString(e,"remaining"),d=this.safeString(e,"avg_cost"),u=this.safeString(e,"cost");let l=this.safeStringLower(e,"type");"0"===l&&(l="limit");const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeStringLower(e,"side"),m=this.safeNumber(e,"fee");let g;return void 0!==m&&(g={cost:m,currency:void 0}),this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:l,timeInForce:void 0,postOnly:void 0,side:p,price:n,stopPrice:void 0,amount:o,cost:u,average:d,filled:c,remaining:h,status:f,fee:g,trades:void 0},t)}async createOrder(e,t,i,r,a,n={}){if("limit"!==t&&"market"!==t)throw new s(this.id+" allows limit and market orders only");await this.loadMarkets();const o=this.market(e),c={side:i.toUpperCase(),symbol:o.uppercaseId,quantity:this.amountToPrecision(e,r)};let h="v2PostOrders";if("limit"===t)c.rate=this.priceToPrecision(e,a);else{if("market"!==t)throw new s(this.id+" allows limit and market orders only");h="v1PostPlaceMarketOrderQntySymbol",c.market=o.quoteId}const d=await this[h](this.extend(c,n));return this.parseOrder(d,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s="USDT"===r.quoteId?"usdtcancelOrder":"cancelOrder",n={entry_id:e,symbol:r.uppercaseId,side:s},o=await this.v2PostCancel(this.extend(n,i));return this.parseOrder(o,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id,entry_id:e},n=await this.v1PostOrderStatusSymbol(this.extend(s,i)),o=this.safeValue(n,"data",[]),c=this.safeValue(o,0);return this.parseOrder(c,r)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n="USDT"===s.quoteId?"usdtListOpenOrders":"listOpenOrders",o={symbol:s.uppercaseId,side:n,page:0},c=await this.v2PostGetordersnew(this.extend(o,r)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,s,t,i)}parseTrade(e,t){t=this.safeMarket(void 0,t);const i=this.safeString2(e,"id","tradeId");let r=this.parse8601(this.safeString(e,"date"));r=this.safeInteger(e,"timestamp",r);const s=this.safeString2(e,"rate","price");let a=this.safeString(e,"amount"),n=this.safeStringLower(e,"type");void 0!==n&&(n.indexOf("buy")>=0?n="buy":n.indexOf("sell")>=0&&(n="sell"));const o=this.safeString(e,"factor");let c;void 0!==o?a=d.stringDiv(a,o):(a=this.safeString(e,"base_volume"),c=this.safeString(e,"quote_volume"));const h=t.symbol;let u;const l=this.safeString(e,"fee");return void 0!==l&&(u={cost:l,currency:t.quote}),this.safeTrade({info:e,timestamp:r,datetime:this.iso8601(r),symbol:h,id:i,order:i,type:void 0,side:n,takerOrMaker:void 0,price:s,amount:a,cost:c,fee:u},t)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id,page:0};void 0!==t&&(n.since=this.iso8601(t));const o=await this.v1PostListExecutedOrdersSymbol(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}async fetchTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={coin:s.baseId,market:s.quoteId},o=await this.wwwGetExchangeDataTradedetails(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={symbol:s.id,page:0},o=await this.v1PostDepositHistorySymbol(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={symbol:s.id,page:0},o=await this.v1PostWithdrawHistorySymbol(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,s,t,i)}parseTransactionStatusByType(e,t){const i=this.safeValue({deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}},t,{});return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString(e,"unit"),r=this.safeCurrencyCode(i,t),s=this.parse8601(this.safeString(e,"date"));let a,n=this.safeString(e,"type");void 0!==n&&(n.indexOf("deposit")>=0?(n="deposit",a="ok"):n.indexOf("withdraw")>=0&&(n="withdrawal"));const o=this.safeNumber(e,"amount"),c=this.safeNumber(e,"fee");let h;return void 0!==c&&(h={currency:r,cost:c}),{info:e,id:void 0,txid:void 0,timestamp:s,datetime:this.iso8601(s),address:void 0,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:n,amount:o,currency:r,status:a,updated:void 0,internal:void 0,fee:h}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={symbol:this.currency(e).id},r=await this.v1PostGetCoinAddressSymbol(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeString(s,"token"),n=this.safeString(s,"tag");return this.checkAddress(a),{currency:e,address:a,tag:n,network:void 0,info:r}}nonce(){return this.milliseconds()}sign(e,t="www",i="GET",r={},a,n){if(!(t in this.urls.api))throw new s(this.id+" does not have a testnet/sandbox URL for "+t+" endpoints");"www"!==t&&(this.checkRequiredCredentials(),a={"X-BITBNS-APIKEY":this.apiKey});let o=this.implodeHostname(this.urls.api[t])+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e)),h=this.nonce().toString();if("GET"===i)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("POST"===i){const e={timeStamp_nonce:h,body:n=Object.keys(c).length?this.json(c):"{}"},t=this.stringToBase64(this.json(e)),i=this.hmac(t,this.encode(this.secret),"sha512");a["X-BITBNS-PAYLOAD"]=this.decode(t),a["X-BITBNS-SIGNATURE"]=i,a["Content-Type"]="application/x-www-form-urlencoded"}return{url:o,method:i,body:n,headers:a}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"code"),u=this.safeString(o,"msg");if(void 0!==d&&"200"!==d||void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new s(e)}}}},23334:(e,t,i)=>{"use strict";const r=i(28267);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitcoincom",name:"bitcoin.com",countries:["KN"],urls:{logo:"https://user-images.githubusercontent.com/1294454/97296144-514fa300-1861-11eb-952b-3d55d492200b.jpg",api:{public:"https://api.fmfw.io",private:"https://api.fmfw.io"},www:"https://fmfw.io",doc:"https://api.fmfw.io/api/2/explore/",fees:"https://fmfw.io/fees-and-limits",referral:"https://fmfw.io/referral/da948b21d6c92d69"},fees:{trading:{maker:this.parseNumber("0.005"),taker:this.parseNumber("0.005")}}})}}},17965:(e,t,i)=>{"use strict";const r=i(48819),{NotSupported:s,RateLimitExceeded:a,AuthenticationError:n,PermissionDenied:o,ArgumentsRequired:c,ExchangeError:h,ExchangeNotAvailable:d,InsufficientFunds:u,InvalidOrder:l,OrderNotFound:f,InvalidNonce:p,BadSymbol:m}=i(73449),{SIGNIFICANT_DIGITS:g,DECIMAL_PLACES:y,TRUNCATE:b,ROUND:v}=i(62115),w=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,deposit:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:void 0,fetchFundingFees:!0,fetchIndexOHLCV:!1,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!1,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:void 0,transfer:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v2:"https://api-pub.bitfinex.com",public:"https://api.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",referral:"https://www.bitfinex.com/?refcode=P61eYxFL",doc:["https://docs.bitfinex.com/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{feeSide:"get",tierBased:!0,percentage:!0,maker:this.parseNumber("0.001"),taker:this.parseNumber("0.002"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.002")],[this.parseNumber("500000"),this.parseNumber("0.002")],[this.parseNumber("1000000"),this.parseNumber("0.002")],[this.parseNumber("2500000"),this.parseNumber("0.002")],[this.parseNumber("5000000"),this.parseNumber("0.002")],[this.parseNumber("7500000"),this.parseNumber("0.002")],[this.parseNumber("10000000"),this.parseNumber("0.0018")],[this.parseNumber("15000000"),this.parseNumber("0.0016")],[this.parseNumber("20000000"),this.parseNumber("0.0014")],[this.parseNumber("25000000"),this.parseNumber("0.0012")],[this.parseNumber("30000000"),this.parseNumber("0.001")]],maker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("500000"),this.parseNumber("0.0008")],[this.parseNumber("1000000"),this.parseNumber("0.0006")],[this.parseNumber("2500000"),this.parseNumber("0.0004")],[this.parseNumber("5000000"),this.parseNumber("0.0002")],[this.parseNumber("7500000"),this.parseNumber("0")],[this.parseNumber("10000000"),this.parseNumber("0")],[this.parseNumber("15000000"),this.parseNumber("0")],[this.parseNumber("20000000"),this.parseNumber("0")],[this.parseNumber("25000000"),this.parseNumber("0")],[this.parseNumber("30000000"),this.parseNumber("0")]]}},funding:{tierBased:!1,percentage:!1,deposit:{},withdraw:{}}},commonCurrencies:{ALG:"ALGO",AMP:"AMPL",ATO:"ATOM",BCHABC:"XEC",BCHN:"BCH",DAT:"DATA",DOG:"MDOGE",DSH:"DASH",EDO:"PNT",EUS:"EURS",EUT:"EURT",IOT:"IOTA",IQX:"IQ",MNA:"MANA",ORS:"ORS Group",PAS:"PASS",QSH:"QASH",QTM:"QTUM",RBT:"RBTC",SNG:"SNGLS",STJ:"STORJ",TERRAUST:"UST",TSD:"TUSD",YGG:"YEED",YYW:"YOYOW",UDC:"USDC",UST:"USDT",VSY:"VSYS",WAX:"WAXP",XCH:"XCHF",ZBT:"ZB"},exceptions:{exact:{temporarily_unavailable:d,"Order could not be cancelled.":f,"No such order found.":f,"Order price must be positive.":l,"Could not find a key matching the given X-BFX-APIKEY.":n,'Key price should be a decimal number, e.g. "123.456"':l,'Key amount should be a decimal number, e.g. "123.456"':l,ERR_RATE_LIMIT:a,Ratelimit:a,"Nonce is too small.":p,"No summary found.":h,"Cannot evaluate your available balance, please try again":d,"Unknown symbol":m,"Cannot complete transfer. Exchange balance insufficient.":u,"Momentary balance check. Please wait few seconds and try the transfer again.":h},broad:{"Invalid X-BFX-SIGNATURE":n,"This API key does not have permission":o,"not enough exchange balance for ":u,"minimum size for ":l,"Invalid order":l,"The available balance is only":u}},precisionMode:g,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bab",BCI:"bci",BFT:"bft",BSV:"bsv",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",COMP:"comp",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LEO:"let",LINK:"link",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",TUSD:"tsd",USD:"wire",USDC:"udc",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"xtz"},orderTypes:{limit:"exchange limit",market:"exchange market"},accountsByType:{spot:"exchange",margin:"trading",funding:"deposit",exchange:"exchange",trading:"trading",deposit:"deposit",derivatives:"trading"}}})}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostAccountFees(e),i=t.withdraw,r={},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e];r[this.safeCurrencyCode(t)]=this.safeNumber(i,t)}return{info:t,withdraw:r,deposit:r}}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostSummary(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async fetchMarkets(e={}){const t=await this.publicGetSymbols(),i=await this.publicGetSymbolsDetails(),r=[];for(let e=0;e<i.length;e++){const s=i[e];let a,n,o=this.safeString(s,"pair");if(!this.inArray(o,t))continue;if(o=o.toUpperCase(),o.indexOf(":")>=0){const e=o.split(":");a=e[0],n=e[1]}else a=o.slice(0,3),n=o.slice(3,6);const c=this.safeCurrencyCode(a),h=this.safeCurrencyCode(n),d=c+"/"+h,u={price:this.safeInteger(s,"price_precision"),amount:8},l=this.safeString(s,"minimum_order_size"),f=this.safeString(s,"maximum_order_size"),p={amount:{min:this.parseNumber(l),max:this.parseNumber(f)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},m=this.safeValue(s,"margin");r.push({id:o,symbol:d,base:c,quote:h,baseId:a,quoteId:n,active:!0,type:"spot",spot:!0,margin:m,precision:u,limits:p,info:s})}return r}amountToPrecision(e,t){return this.decimalToPrecision(t,b,this.markets[e].precision.amount,y)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,v,this.markets[e].precision.price,this.precisionMode),this.decimalToPrecision(t,b,8,y)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"accountsByType",{}),i=this.safeString(e,"type","exchange"),r=this.safeString(t,i);if(void 0===r){const e=Object.keys(t);throw new h(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const s=this.omit(e,"type"),a=await this.privatePostBalances(s),n={info:a},o="derivatives"===i;for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"type"),s=this.safeStringLower(t,"currency",""),c=s.length-2,h="f0"===s.slice(c),d=!o||h;if(r===i&&d){const e=this.safeCurrencyCode(s);if(!(e in n)){const i=this.account();i.free=this.safeString(t,"available"),i.total=this.safeString(t,"amount"),n[e]=i}}}return this.parseBalance(n)}async transfer(e,t,i,r,s={}){await this.loadMarkets();const a=this.safeValue(this.options,"accountsByType",{}),n=this.safeString(a,i);if(void 0===n){const e=Object.keys(a);throw new h(this.id+" transfer fromAccount must be one of "+e.join(", "))}const o=this.safeString(a,r);if(void 0===o){const e=Object.keys(a);throw new h(this.id+" transfer toAccount must be one of "+e.join(", "))}const c=this.currency(e),d=this.convertDerivativesId(c.id,i),u=this.convertDerivativesId(c.id,r),l=this.currencyToPrecision(e,t),f={amount:l,currency:d,currency_to:u,walletfrom:n,walletto:o},p=await this.privatePostTransfer(this.extend(f,s)),m=this.safeValue(p,0),g=this.safeString(m,"status"),y=this.safeString(m,"message");if(void 0===y)throw new h(this.id+" transfer failed");if("error"===g)throw this.throwExactlyMatchedException(this.exceptions.exact,y,this.id+" "+y),new h(this.id+" "+y);return{info:p,status:g,amount:l,code:e,fromAccount:i,toAccount:r,timestamp:void 0,datetime:void 0}}convertDerivativesId(e,t){const i=e.length-2,r="F0"===e.slice(i);return"derivatives"!==t&&"trading"!==t&&"margin"!==t&&r?e=e.slice(0,i):"derivatives"!==t||r||(e+="F0"),e}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetBookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetPubtickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){let i,r=this.safeNumber(e,"timestamp");if(void 0!==r&&(r*=1e3),r=parseInt(r),void 0!==t)i=t.symbol;else if("pair"in e){const r=this.safeString(e,"pair");if(void 0!==r)if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol;else{const e=r.slice(0,3),t=r.slice(3,6);i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}const s=this.safeNumber(e,"last_price");return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"mid"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e},t)}parseTrade(e,t){const i=this.safeString(e,"tid"),r=this.safeTimestamp(e,"timestamp"),s=this.safeStringLower(e,"type"),a=this.safeString(e,"order_id"),n=this.safeString(e,"price"),o=this.safeString(e,"amount");let c;if("fee_amount"in e){const t=w.stringNeg(this.safeString(e,"fee_amount")),i=this.safeString(e,"fee_currency");c={cost:t,currency:this.safeCurrencyCode(i)}}return this.safeTrade({id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,order:a,side:s,takerOrMaker:void 0,price:n,amount:o,cost:void 0,fee:c},t)}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id,limit_trades:i};void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.publicGetTradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit_trades=i),void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.privatePostMytrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.safeValue(a,"postOnly",!1);a=this.omit(a,["postOnly"]);const o={symbol:this.marketId(e),side:i,amount:this.amountToPrecision(e,r),type:this.safeString(this.options.orderTypes,t,t),ocoorder:!1,buy_price_oco:0,sell_price_oco:0};o.price="market"===t?this.nonce().toString():this.priceToPrecision(e,s),n&&(o.is_postonly=!0);const c=await this.privatePostOrderNew(this.extend(o,a));return this.parseOrder(c)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={order_id:parseInt(e)};void 0!==a&&(o.price=this.priceToPrecision(t,a)),void 0!==s&&(o.amount=this.numberToString(s)),void 0!==t&&(o.symbol=this.marketId(t)),void 0!==r&&(o.side=r),void 0!==i&&(o.type=this.safeString(this.options.orderTypes,i,i));const c=await this.privatePostOrderCancelReplace(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostOrderCancel(this.extend(r,i))}async cancelAllOrders(e,t={}){return await this.privatePostOrderCancelAll(t)}parseOrder(e,t){const i=this.safeString(e,"side"),r=this.safeValue(e,"is_live"),s=this.safeValue(e,"is_cancelled");let a;a=r?"open":s?"canceled":"closed";const n=this.safeStringUpper(e,"symbol"),o=this.safeSymbol(n,t);let c=this.safeString(e,"type","");c.indexOf("exchange ")>=0&&(c=e.type.split(" ")[1]);const h=this.safeTimestamp(e,"timestamp"),d=this.safeString(e,"id");return this.safeOrder2({info:e,id:d,clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:o,type:c,timeInForce:void 0,postOnly:void 0,side:i,price:this.safeString(e,"price"),stopPrice:void 0,average:this.safeString(e,"avg_execution_price"),amount:this.safeString(e,"original_amount"),remaining:this.safeString(e,"remaining_amount"),filled:this.safeString(e,"executed_amount"),status:a,fee:void 0,cost:void 0,trades:void 0},t)}async fetchOpenOrders(e,t,i,r={}){if(await this.loadMarkets(),void 0!==e&&!(e in this.markets))throw new h(this.id+" has no symbol "+e);const s=await this.privatePostOrders(r);let a=this.parseOrders(s,void 0,t,i);return void 0!==e&&(a=this.filterBy(a,"symbol",e)),a}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i);const a=await this.privatePostOrdersHist(this.extend(s,r));let n=this.parseOrders(a,void 0,t,i);return void 0!==e&&(n=this.filterBy(n,"symbol",e)),n=this.filterByArray(n,"status",["closed","canceled"],!1),n}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(s)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const a=this.market(e),n={symbol:"t"+a.id,timeframe:this.timeframes[t],sort:1,limit:r};void 0!==i&&(n.start=i);const o=await this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}getCurrencyName(e){if(e in this.options.currencyNames)return this.options.currencyNames[e];throw new s(this.id+" "+e+" not supported for withdrawal")}async createDepositAddress(e,t={}){return await this.loadMarkets(),await this.fetchDepositAddress(e,this.extend({renew:1},t))}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={method:this.getCurrencyName(e),wallet_name:"exchange",renew:0},r=await this.privatePostDepositNew(this.extend(i,t));let s,a=this.safeValue(r,"address");return"address_pool"in r&&(s=a,a=r.address_pool),this.checkAddress(a),{currency:e,address:a,tag:s,network:void 0,info:r}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=this.safeString(r,"currency");const a=this.omit(r,"currency");let n;if(void 0===s){if(void 0===e)throw new c(this.id+" fetchTransactions() requires a currency `code` argument or a `currency` parameter");n=this.currency(e),s=n.id}a.currency=s,void 0!==t&&(a.since=parseInt(t/1e3));const o=await this.privatePostHistoryMovements(this.extend(a,r));return this.parseTransactions(o,n,t,i)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp_created"),r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=this.safeStringLower(e,"type"),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:void 0,type:n,amount:this.safeNumber(e,"amount"),currency:a,status:o,updated:r,fee:{currency:a,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({SENDING:"pending",CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={withdraw_type:this.getCurrencyName(e),walletselected:"exchange",amount:this.numberToString(t),address:i};void 0!==r&&(a.payment_id=r);const n=(await this.privatePostWithdraw(this.extend(a,s)))[0],o=this.safeString(n,"withdrawal_id"),c=this.safeString(n,"message"),d=this.findBroadlyMatchedKey(this.exceptions.broad,c);if(0===o){if(void 0!==d)throw new(0,this.exceptions.broad[d])(this.id+" "+c);throw new h(this.id+" withdraw returned an id of zero: "+this.json(n))}return{info:n,id:o}}async fetchPositions(e,t={}){return await this.loadMarkets(),await this.privatePostPositions(t)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);n="v2"===t?"/"+t+n:"/"+this.version+n;let o=this.omit(r,this.extractParams(e)),c=this.urls.api[t]+n;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){const e="?"+this.urlencode(o);c+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.nonce();o=this.extend({nonce:e.toString(),request:n},o),a=this.json(o);const t=this.stringToBase64(a),i=this.encode(this.secret),r=this.hmac(t,i,"sha384");s={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(t),"X-BFX-SIGNATURE":r,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0!==n&&e>=400&&"{"===a[0]){const e=this.id+" "+a,t=this.safeString2(n,"message","error");throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new h(e)}}}},5328:(e,t,i)=>{"use strict";const r=i(17965),{ExchangeError:s,InvalidAddress:a,ArgumentsRequired:n,InsufficientFunds:o,AuthenticationError:c,OrderNotFound:h,InvalidOrder:d,BadRequest:u,InvalidNonce:l,BadSymbol:f,OnMaintenance:p,NotSupported:m,PermissionDenied:g,ExchangeNotAvailable:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex2",name:"Bitfinex",countries:["VG"],version:"v2",certified:!1,pro:!1,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:void 0,editOrder:void 0,fetchBalance:!0,fetchClosedOrder:!0,fetchClosedOrders:void 0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:void 0,fetchIndexOHLCV:!1,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:void 0,fetchOrderTrades:!0,fetchStatus:!0,fetchTickers:!0,fetchTime:!1,fetchTradingFee:void 0,fetchTradingFees:void 0,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v1:"https://api.bitfinex.com",public:"https://api-pub.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",doc:["https://docs.bitfinex.com/v2/docs/","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["conf/{config}","conf/pub:{action}:{object}","conf/pub:{action}:{object}:{detail}","conf/pub:map:{object}","conf/pub:map:{object}:{detail}","conf/pub:map:currency:{detail}","conf/pub:map:currency:sym","conf/pub:map:currency:label","conf/pub:map:currency:unit","conf/pub:map:currency:undl","conf/pub:map:currency:pool","conf/pub:map:currency:explorer","conf/pub:map:currency:tx:fee","conf/pub:map:tx:method","conf/pub:list:{object}","conf/pub:list:{object}:{detail}","conf/pub:list:currency","conf/pub:list:pair:exchange","conf/pub:list:pair:margin","conf/pub:list:pair:futures","conf/pub:list:competitions","conf/pub:info:{object}","conf/pub:info:{object}:{detail}","conf/pub:info:pair","conf/pub:info:tx:status","conf/pub:fees","platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}:{side}/last","stats1/{key}:{size}:{symbol}:{side}/hist","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}/last","stats1/{key}:{size}:{symbol}/hist","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}:{period}/{section}","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist","status/{type}","status/deriv","liquidations/hist","rankings/{key}:{timeframe}:{symbol}/{section}","rankings/{key}:{timeframe}:{symbol}/hist","pulse/hist","pulse/profile/{nickname}","funding/stats/{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/wallets/hist","auth/r/orders","auth/r/orders/{symbol}","auth/w/order/submit","auth/w/order/update","auth/w/order/cancel","auth/w/order/multi","auth/w/order/cancel/multi","auth/r/orders/{symbol}/hist","auth/r/orders/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/trades/hist","auth/r/ledgers/{currency}/hist","auth/r/ledgers/hist","auth/r/info/margin/{key}","auth/r/info/margin/base","auth/r/info/margin/sym_all","auth/r/positions","auth/w/position/claim","auth/r/positions/hist","auth/r/positions/audit","auth/r/positions/snap","auth/w/deriv/collateral/set","auth/w/deriv/collateral/limits","auth/r/funding/offers","auth/r/funding/offers/{symbol}","auth/w/funding/offer/submit","auth/w/funding/offer/cancel","auth/w/funding/offer/cancel/all","auth/w/funding/close","auth/w/funding/auto","auth/w/funding/keep","auth/r/funding/offers/{symbol}/hist","auth/r/funding/offers/hist","auth/r/funding/loans","auth/r/funding/loans/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits","auth/r/funding/credits/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/funding/trades/hist","auth/r/info/funding/{key}","auth/r/info/user","auth/r/logins/hist","auth/w/transfer","auth/w/deposit/address","auth/w/deposit/invoice","auth/w/withdraw","auth/r/movements/{currency}/hist","auth/r/movements/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/price:{symbol}:{price}/del","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/w/settings/set","auth/r/settings","auth/w/settings/del"]}},fees:{trading:{feeSide:"get",percentage:!0,tierBased:!0,maker:this.parseNumber("0.001"),taker:this.parseNumber("0.002"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.002")],[this.parseNumber("500000"),this.parseNumber("0.002")],[this.parseNumber("1000000"),this.parseNumber("0.002")],[this.parseNumber("2500000"),this.parseNumber("0.002")],[this.parseNumber("5000000"),this.parseNumber("0.002")],[this.parseNumber("7500000"),this.parseNumber("0.002")],[this.parseNumber("10000000"),this.parseNumber("0.0018")],[this.parseNumber("15000000"),this.parseNumber("0.0016")],[this.parseNumber("20000000"),this.parseNumber("0.0014")],[this.parseNumber("25000000"),this.parseNumber("0.0012")],[this.parseNumber("30000000"),this.parseNumber("0.001")]],maker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("500000"),this.parseNumber("0.0008")],[this.parseNumber("1000000"),this.parseNumber("0.0006")],[this.parseNumber("2500000"),this.parseNumber("0.0004")],[this.parseNumber("5000000"),this.parseNumber("0.0002")],[this.parseNumber("7500000"),this.parseNumber("0")],[this.parseNumber("10000000"),this.parseNumber("0")],[this.parseNumber("15000000"),this.parseNumber("0")],[this.parseNumber("20000000"),this.parseNumber("0")],[this.parseNumber("25000000"),this.parseNumber("0")],[this.parseNumber("30000000"),this.parseNumber("0")]]}},funding:{withdraw:{}}},options:{precision:"R0",exchangeTypes:{"EXCHANGE MARKET":"market","EXCHANGE LIMIT":"limit"},orderTypes:{market:"EXCHANGE MARKET",limit:"EXCHANGE LIMIT"},fiat:{USD:"USD",EUR:"EUR",JPY:"JPY",GBP:"GBP"},v2AccountsByType:{spot:"exchange",exchange:"exchange",funding:"funding",margin:"margin",derivatives:"margin"}},exceptions:{exact:{10001:g,10020:u,10100:c,10114:l,20060:p,temporarily_unavailable:y},broad:{address:a,"available balance is only":o,"not enough exchange balance":o,"Order not found":h,"symbol: invalid":f,"Invalid order":d}}})}isFiat(e){return e in this.options.fiat}getCurrencyId(e){return"f"+e}getCurrencyName(e){if(e in this.options.currencyNames)return this.options.currencyNames[e];throw new m(this.id+" "+e+" not supported for withdrawal")}async fetchStatus(e={}){const t=await this.publicGetPlatformStatus(e),i=1===this.safeInteger(t,0)?"ok":"maintenance";return this.status=this.extend(this.status,{status:i,updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetConfPubListPairFutures(e),i=await this.v1GetSymbolsDetails(e),r=this.safeValue(t,0,[]),s=[];for(let e=0;e<i.length;e++){const t=i[e];let a=this.safeStringUpper(t,"pair"),n=!0;this.inArray(a,r)&&(n=!1);const o=!n,c=n?"spot":"futures";let h,d;if(a.indexOf(":")>=0){const e=a.split(":");h=e[0],d=e[1]}else h=a.slice(0,3),d=a.slice(3,6);const u=this.safeCurrencyCode(h),l=this.safeCurrencyCode(d),f=u+"/"+l;a="t"+a,h=this.getCurrencyId(h),d=this.getCurrencyId(d);const p={price:this.safeInteger(t,"price_precision"),amount:8},m=this.safeString(t,"minimum_order_size"),g=this.safeString(t,"maximum_order_size"),y={amount:{min:this.parseNumber(m),max:this.parseNumber(g)},price:{min:this.parseNumber("1e-8"),max:void 0},cost:{min:void 0,max:void 0}},b=this.safeValue(t,"margin");s.push({id:a,symbol:f,base:u,quote:l,baseId:h,quoteId:d,active:!0,precision:p,limits:y,info:t,type:c,swap:!1,spot:n,margin:b,futures:o})}return s}async fetchCurrencies(e={}){const t={config:["pub:list:currency","pub:map:currency:sym","pub:map:currency:label","pub:map:currency:unit","pub:map:currency:undl","pub:map:currency:pool","pub:map:currency:explorer","pub:map:currency:tx:fee"].join(",")},i=await this.publicGetConfConfig(this.extend(t,e)),r={sym:this.indexBy(this.safeValue(i,1,[]),0),label:this.indexBy(this.safeValue(i,2,[]),0),unit:this.indexBy(this.safeValue(i,3,[]),0),undl:this.indexBy(this.safeValue(i,4,[]),0),pool:this.indexBy(this.safeValue(i,5,[]),0),explorer:this.indexBy(this.safeValue(i,6,[]),0),fees:this.indexBy(this.safeValue(i,7,[]),0)},s=this.safeValue(i,0,[]),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeCurrencyCode(t),n=this.safeValue(r.label,t,[]),o=this.safeString(n,1),c=this.safeValue(r.pool,t,[]),h=this.safeString(c,1),d=this.safeValue(r.fees,t,[]),u=this.safeValue(d,1,[]),l=this.safeNumber(u,1),f=this.safeValue(r.undl,t,[]),p=8,m="f"+t;a[i]={id:m,uppercaseId:t,code:i,info:[t,n,c,d,f],type:h,name:o,active:!0,fee:l,precision:p,limits:{amount:{min:1/Math.pow(10,p),max:void 0},withdraw:{min:l,max:void 0}}}}return a}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"v2AccountsByType",{}),i=this.safeString(e,"type","exchange"),r=this.safeString(t,i);if(void 0===r){const e=Object.keys(t);throw new s(this.id+" fetchBalance type parameter must be one of "+e.join(", "))}const a="derivatives"===i,n=this.omit(e,"type"),o=await this.privatePostAuthRWallets(n),c={info:o};for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,0),s=this.safeStringLower(t,1,""),n=s.length-2,h="f0"===s.slice(n),d=!a||h;if(r===i&&d){const e=this.safeCurrencyCode(s),i=this.account();i.total=this.safeString(t,2),i.free=this.safeString(t,4),c[e]=i}}return this.parseBalance(c)}async transfer(e,t,i,r,a={}){await this.loadMarkets();const n=this.safeValue(this.options,"v2AccountsByType",{}),o=this.safeString(n,i);if(void 0===o){const e=Object.keys(n);throw new s(this.id+" transfer fromAccount must be one of "+e.join(", "))}const c=this.safeString(n,r);if(void 0===c){const e=Object.keys(n);throw new s(this.id+" transfer toAccount must be one of "+e.join(", "))}const h=this.currency(e),d=this.convertDerivativesId(h,i),u=this.convertDerivativesId(h,r),l=this.currencyToPrecision(e,t),f={amount:l,currency:d,currency_to:u,from:o,to:c},p=await this.privatePostAuthWTransfer(this.extend(f,a)),m=this.safeInteger(p,0);if("error"===this.safeString(p,0)){const e=this.safeString(p,2,"");throw this.throwExactlyMatchedException(this.exceptions.exact,e,this.id+" "+e),new s(this.id+" "+e)}const g=this.safeValue(p,4),y=this.safeString(g,1),b=this.safeString(g,2),v=this.safeCurrencyCode(this.safeString(g,5)),w="SUCCESS"===this.safeString(p,6)?"ok":void 0;return{info:p,timestamp:m,datetime:this.iso8601(m),status:w,amount:l,code:v,fromAccount:y,toAccount:b}}convertDerivativesId(e,t){const i=this.safeValue(e,"info"),r=this.safeString(i,0),s=this.safeValue(i,4,[]);let a;if("derivatives"===t){a=this.safeString(s,0,r);const e=a.length-2;"F0"===a.slice(e)||(a+="F0")}else a="margin"!==t?this.safeString(s,1,r):r;return a}async fetchOrder(e,t,i={}){throw new m(this.id+" fetchOrder is not implemented yet")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.safeValue(this.options,"precision","R0"),s={symbol:this.marketId(e),precision:r};void 0!==t&&(s.len=t);const a=this.extend(s,i),n=await this.publicGetBookSymbolPrecision(a),o=this.milliseconds(),c={symbol:e,bids:[],asks:[],timestamp:o,datetime:this.iso8601(o),nonce:void 0},h="R0"===a.precision?1:0;for(let e=0;e<n.length;e++){const t=n[e],i=this.safeNumber(t,h),r=this.safeNumber(t,2),s=Math.abs(r);c[r>0?"bids":"asks"].push([i,s])}return c.bids=this.sortBy(c.bids,0,!0),c.asks=this.sortBy(c.asks,0),c}parseTicker(e,t){const i=this.milliseconds(),r=this.safeSymbol(void 0,t),s=e.length,a=this.safeNumber(e,s-4);return this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,s-2),low:this.safeNumber(e,s-1),bid:this.safeNumber(e,s-10),bidVolume:void 0,ask:this.safeNumber(e,s-8),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeNumber(e,s-6),percentage:100*this.safeNumber(e,s-5),average:void 0,baseVolume:this.safeNumber(e,s-3),quoteVolume:void 0,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.symbols=t.join(",")}else i.symbols="ALL";const r=await this.publicGetTickers(this.extend(i,t)),s={};for(let e=0;e<r.length;e++){const t=r[e],i=t[0];if(i in this.markets_by_id){const e=this.markets_by_id[i];s[e.symbol]=this.parseTicker(t,e)}}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseSymbol(e){if(void 0===e)return e;let t,i;if((e=e.replace("t","")).indexOf(":")>=0){const r=e.split(":");t=r[0],i=r[1]}else t=e.slice(0,3),i=e.slice(3,6);return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}parseTrade(e,t){const i=e.length>5,r=this.safeString(e,0),s=i?4:2;let a,n=this.safeString(e,s);const o=i?5:3,c=this.safeString(e,o);"-"===n[0]?(a="sell",n=n.slice(1)):a="buy";const h=this.parseNumber(n),d=this.parseNumber(c),u=this.parseNumber(b.stringMul(c,n));let l,f,p,m,g;const y=i?2:1,v=this.safeInteger(e,y);if(i){const i=e[1];g=i in this.markets_by_id?(t=this.markets_by_id[i]).symbol:this.parseSymbol(i),l=this.safeString(e,3),f=1===this.safeInteger(e,8)?"maker":"taker";let r=this.safeString(e,9);r=b.stringNeg(r);const s=this.parseNumber(r),a=this.safeString(e,10);m={cost:s,currency:this.safeCurrencyCode(a)};const n=e[6];p=this.safeString(this.options.exchangeTypes,n)}return void 0===g&&void 0!==t&&(g=t.symbol),{id:r,timestamp:v,datetime:this.iso8601(v),symbol:g,order:l,side:a,type:p,takerOrMaker:f,price:d,amount:h,cost:u,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let a="-1";const n={symbol:s.id};void 0!==t&&(n.start=t,a="1"),void 0!==i&&(n.limit=i),n.sort=a;const o=await this.publicGetTradesSymbolHist(this.extend(n,r)),c=this.sortBy(o,1);return this.parseTrades(c,s,void 0,i)}async fetchOHLCV(e,t="1m",i,r=100,s={}){await this.loadMarkets();const a=this.market(e);if(void 0===r&&(r=100),void 0===i){const e=this.parseTimeframe(t);i=this.milliseconds()-e*r*1e3}const n={symbol:a.id,timeframe:this.timeframes[t],sort:1,start:i,limit:r},o=await this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){if(void 0===e)return e;const t=e.split(" "),i=this.safeString(t,0);return this.safeString({ACTIVE:"open",PARTIALLY:"open",EXECUTED:"closed",CANCELED:"canceled",INSUFFICIENT:"canceled",POSTONLY:"canceled",RSN_DUST:"rejected",RSN_PAUSE:"rejected"},i,e)}parseOrder(e,t){const i=this.safeString(e,0);let r;const s=this.safeString(e,3);s in this.markets_by_id?t=this.markets_by_id[s]:r=this.parseSymbol(s),void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeInteger(e,5),n=b.stringAbs(this.safeString(e,6)),o=this.safeString(e,7),c=b.stringAbs(o),h=b.stringLt(o,"0")?"sell":"buy",d=this.safeString(e,8),u=this.safeString(this.safeValue(this.options,"exchangeTypes"),d);let l;const f=this.safeString(e,13);if(void 0!==f){const e=f.split(" @ ");l=this.parseOrderStatus(this.safeString(e,0))}const p=this.safeString(e,16),m=this.safeString(e,17),g=this.safeString(e,2);return this.safeOrder2({info:e,id:i,clientOrderId:g,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:u,timeInForce:void 0,postOnly:void 0,side:h,price:p,stopPrice:void 0,amount:c,cost:void 0,average:m,filled:void 0,remaining:n,status:l,fee:void 0,trades:void 0},t)}async createOrder(e,t,i,r,a,o={}){await this.loadMarkets();const c=this.market(e),h=this.safeValue(this.options,"orderTypes",{}),d=this.safeStringUpper(h,t,t),u=this.safeValue(o,"postOnly",!1);o=this.omit(o,["postOnly"]),r="sell"===i?-r:r;const l={type:d,symbol:c.id,amount:this.numberToString(r)};if(u&&(l.flags=4096),"LIMIT"===d||"EXCHANGE LIMIT"===d)l.price=this.numberToString(a);else if("STOP"===d||"EXCHANGE STOP"===d){const e=this.safeNumber(o,"stopPrice",a);l.price=this.numberToString(e)}else if("STOP LIMIT"===d||"EXCHANGE STOP LIMIT"===d){const e=this.safeNumber(o,"price_aux_limit");let t=this.safeNumber(o,"stopPrice");if(void 0===e){if(void 0===t)throw new n(this.id+" createOrder() requires a stopPrice parameter or a price_aux_limit parameter for a "+d+" order");l.price_aux_limit=this.numberToString(a)}else l.price_aux_limit=this.numberToString(e),void 0===t&&(t=a);l.price=this.numberToString(t)}else if("TRAILING STOP"===d||"EXCHANGE TRAILING STOP"===d){const e=this.safeNumber(o,"price_trailing");l.price_trailing=this.numberToString(e);const t=this.safeNumber(o,"stopPrice",a);l.price=this.numberToString(t)}else"FOK"!==d&&"EXCHANGE FOK"!==d&&"IOC"!==d&&"EXCHANGE IOC"!==d||(l.price=this.numberToString(a));o=this.omit(o,["stopPrice","price_aux_limit","price_trailing"]);const f=this.safeValue2(o,"cid","clientOrderId");void 0!==f&&(l.cid=f,o=this.omit(o,["cid","clientOrderId"]));const p=await this.privatePostAuthWOrderSubmit(this.extend(l,o));if("SUCCESS"!==this.safeString(p,6)){const e=p[5],t=p[7];throw new s(this.id+" "+p[6]+": "+t+" (#"+e+")")}const m=this.safeValue(p,4,[]),g=this.safeValue(m,0);return this.parseOrder(g,c)}async cancelAllOrders(e,t={}){const i=await this.privatePostAuthWOrderCancelMulti(this.extend({all:1},t)),r=this.safeValue(i,4,[]);return this.parseOrders(r)}async cancelOrder(e,t,i={}){const r=this.safeValue2(i,"cid","clientOrderId");let s;if(void 0!==r){const e=this.safeValue(i,"cidDate");if(void 0===e)throw new d(this.id+" canceling an order by clientOrderId ('cid') requires both 'cid' and 'cid_date' ('YYYY-MM-DD')");s={cid:r,cid_date:e},i=this.omit(i,["cid","clientOrderId"])}else s={id:parseInt(e)};const a=await this.privatePostAuthWOrderCancel(this.extend(s,i)),n=this.safeValue(a,4);return this.parseOrder(n)}async fetchOpenOrder(e,t,i={}){const r={id:[parseInt(e)]},s=await this.fetchOpenOrders(t,void 0,void 0,this.extend(r,i)),a=this.safeValue(s,0);if(void 0===a)throw new h(this.id+" order "+e+" not found");return a}async fetchClosedOrder(e,t,i={}){const r={id:[parseInt(e)]},s=await this.fetchClosedOrders(t,void 0,void 0,this.extend(r,i)),a=this.safeValue(s,0);if(void 0===a)throw new h(this.id+" order "+e+" not found");return a}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n;return void 0===e?n=await this.privatePostAuthROrders(this.extend(s,r)):(a=this.market(e),s.symbol=a.id,n=await this.privatePostAuthROrdersSymbol(this.extend(s,r))),this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n;return void 0===e?n=await this.privatePostAuthROrdersHist(this.extend(s,r)):(a=this.market(e),s.symbol=a.id,n=await this.privatePostAuthROrdersSymbolHist(this.extend(s,r))),void 0!==t&&(s.start=t),void 0!==i&&(s.limit=i),this.parseOrders(n,a,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t),o={id:parseInt(e),symbol:a.id},c=await this.privatePostAuthROrderSymbolIdTrades(this.extend(o,s));return this.parseTrades(c,a,i,r)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={end:this.milliseconds()};void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);let n="privatePostAuthRTradesHist";void 0!==e&&(s=this.market(e),a.symbol=s.id,n="privatePostAuthRTradesSymbolHist");const o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}async createDepositAddress(e,t={}){return await this.loadMarkets(),await this.fetchDepositAddress(e,this.extend({op_renew:1},t))}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={method:this.getCurrencyName(e),wallet:"exchange",op_renew:0},r=await this.privatePostAuthWDepositAddress(this.extend(i,t)),s=this.safeValue(r,4,[]),a=this.safeString(s,5),n=void 0===a?this.safeString(s,4):a,o=void 0===a?void 0:this.safeString(s,4);return this.checkAddress(n),{currency:e,address:n,tag:o,network:void 0,info:r}}parseTransactionStatus(e){return this.safeString({SUCCESS:"ok",ERROR:"failed",FAILURE:"failed",CANCELED:"canceled"},e,e)}parseTransaction(e,t){let i,r,s,a,n,o,c,h,d,u,l;if(e.length<9){const r=this.safeValue(e,4,[]);i=this.safeInteger(e,0),void 0!==t&&(s=t.code),d=this.safeNumber(r,8),void 0!==d&&(d=-d),a=this.safeNumber(r,5),n=this.safeValue(r,0),o="ok",0===n&&(n=void 0,o="failed"),c=this.safeString(r,3),h="withdrawal"}else n=this.safeString(e,0),i=this.safeInteger(e,5),r=this.safeInteger(e,6),o=this.parseTransactionStatus(this.safeString(e,9)),a=this.safeNumber(e,12),void 0!==a&&(h=a<0?"withdrawal":"deposit"),d=this.safeNumber(e,13),void 0!==d&&(d=-d),l=this.safeString(e,16),u=this.safeString(e,20);return{info:e,id:n,txid:u,timestamp:i,datetime:this.iso8601(i),addressFrom:void 0,address:l,addressTo:l,tagFrom:void 0,tag:c,tagTo:c,type:h,amount:a,currency:s,status:o,updated:r,fee:{currency:s,cost:d,rate:void 0}}}async fetchTransactions(e,t,i,r={}){let s;await this.loadMarkets();const a={};let n="privatePostAuthRMovementsHist";void 0!==e&&(s=this.currency(e),a.currency=s.uppercaseId,n="privatePostAuthRMovementsCurrencyHist"),void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);const o=await this[n](this.extend(a,r));return this.parseTransactions(o,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={method:this.getCurrencyName(e),wallet:"exchange",amount:this.numberToString(t),address:i};void 0!==r&&(n.payment_id=r);const o=await this.privatePostAuthWWithdraw(this.extend(n,s)),c=this.safeString(o,7);"success"!==c&&this.throwBroadlyMatchedException(this.exceptions.broad,c,c);const h=this.parseTransaction(o,a);return this.extend(h,{address:i})}async fetchPositions(e,t={}){return await this.loadMarkets(),await this.privatePostPositions(t)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));n="v1"===t?t+n:this.version+n;let c=this.urls.api[t]+"/"+n;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t="/api/"+n+e+(a=this.json(o)),i=this.hmac(this.encode(t),this.encode(this.secret),"sha384");s={"bfx-nonce":e,"bfx-apikey":this.apiKey,"bfx-signature":i,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o){if(!Array.isArray(o)){const e=this.safeString2(o,"message","error"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(this.id+" "+n)}}else if(""===o)throw new s(this.id+" returned empty response");if(500===e){const e=this.numberToString(o[1]),t=o[2],i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(this.id+" "+t+" (#"+e+")")}return o}}},85421:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,OrderNotFound:n}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,hostname:"bitflyer.com",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:"emulated",fetchOrder:"emulated",fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.{hostname}",www:"https://bitflyer.com",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralhistory","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}}})}async fetchMarkets(e={}){const t=await this.publicGetGetmarkets(e),i=await this.publicGetGetmarketsUsa(e),r=await this.publicGetGetmarketsEu(e);let s=this.arrayConcat(t,i);s=this.arrayConcat(s,r);const a=[];for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"product_code"),r=i.split("_");let n,o,c,h;const d=r.length;1===d?(n=i.slice(0,3),o=i.slice(3,6)):2===d?(n=r[0],o=r[1]):(n=r[1],o=r[2]),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o);const u=2===d?c+"/"+h:i,l=this.safeValue(this.fees,u,this.fees.trading);let f=this.safeValue(l,"maker",this.fees.trading.maker),p=this.safeValue(l,"taker",this.fees.trading.taker),m=!0,g=!1,y="spot";("alias"in t||"FX"===r[0])&&(y="future",g=!0,m=!1,f=0,p=0),a.push({id:i,symbol:u,base:c,quote:h,baseId:n,quoteId:o,maker:f,taker:p,type:y,spot:m,future:g,info:t})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetbalance(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency_code"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(r,"amount"),n.free=this.safeString(r,"available"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={product_code:this.marketId(e)},s=await this.publicGetGetboard(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","size")}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.parse8601(this.safeString(e,"timestamp")),s=this.safeNumber(e,"ltp");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeNumber(e,"best_bid"),bidVolume:void 0,ask:this.safeNumber(e,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume_by_product"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={product_code:i.id},s=await this.publicGetGetticker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){let i,r=this.safeStringLower(e,"side");if(void 0!==r&&r.length<1&&(r=void 0),void 0!==r){const t=r+"_child_order_acceptance_id";t in e&&(i=e[t])}void 0===i&&(i=this.safeString(e,"child_order_acceptance_id"));const s=this.parse8601(this.safeString(e,"exec_date")),a=this.safeString(e,"price"),n=this.safeString(e,"size"),o=this.safeString(e,"id");let c;return void 0!==t&&(c=t.symbol),this.safeTrade({id:o,info:e,timestamp:s,datetime:this.iso8601(s),symbol:c,order:i,type:void 0,side:r,takerOrMaker:void 0,price:a,amount:n,cost:void 0,fee:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_code:s.id},n=await this.publicGetGetexecutions(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={product_code:this.marketId(e),child_order_type:t.toUpperCase(),side:i.toUpperCase(),price:s,size:r},o=await this.privatePostSendchildorder(this.extend(n,a));return{info:o,id:this.safeString(o,"child_order_acceptance_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a `symbol` argument");await this.loadMarkets();const r={product_code:this.marketId(t),child_order_acceptance_id:e};return await this.privatePostCancelchildorder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"child_order_date")),r=this.safeString(e,"price"),s=this.safeString(e,"size"),a=this.safeString(e,"executed_size"),n=this.safeString(e,"outstanding_size"),o=this.parseOrderStatus(this.safeString(e,"child_order_state")),c=this.safeStringLower(e,"child_order_type"),h=this.safeStringLower(e,"side"),d=this.safeString(e,"product_code"),u=this.safeSymbol(d,t);let l;const f=this.safeNumber(e,"total_commission");void 0!==f&&(l={cost:f,currency:void 0,rate:void 0});const p=this.safeString(e,"child_order_acceptance_id");return this.safeOrder2({id:p,clientOrderId:void 0,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:o,symbol:u,type:c,timeInForce:void 0,postOnly:void 0,side:h,price:r,stopPrice:void 0,cost:void 0,amount:s,filled:a,remaining:n,fee:l,average:void 0,trades:void 0},t)}async fetchOrders(e,t,i=100,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={product_code:s.id,count:i},o=await this.privateGetGetchildorders(this.extend(n,r));let c=this.parseOrders(o,s,t,i);return void 0!==e&&(c=this.filterBy(c,"symbol",e)),c}async fetchOpenOrders(e,t,i=100,r={}){return await this.fetchOrders(e,t,i,this.extend({child_order_state:"ACTIVE"},r))}async fetchClosedOrders(e,t,i=100,r={}){return await this.fetchOrders(e,t,i,this.extend({child_order_state:"COMPLETED"},r))}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a `symbol` argument");const r=await this.fetchOrders(t),s=this.indexBy(r,"id");if(e in s)return s[e];throw new n(this.id+" No order found with id "+e)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={product_code:s.id};void 0!==i&&(n.count=i);const o=await this.privateGetGetexecutions(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchPositions(e,t={}){if(void 0===e)throw new a(this.id+" fetchPositions() requires a `symbols` argument, exactly one symbol in an array");await this.loadMarkets();const i={product_code:this.marketIds(e)};return await this.privateGetpositions(this.extend(i,t))}async withdraw(e,t,i,r,a={}){if(this.checkAddress(i),await this.loadMarkets(),"JPY"!==e&&"USD"!==e&&"EUR"!==e)throw new s(this.id+" allows withdrawing JPY, USD, EUR only, "+e+" is not supported");const n={currency_code:this.currency(e).id,amount:t},o=await this.privatePostWithdraw(this.extend(n,a));return{info:o,id:this.safeString(o,"message_id")}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/";"private"===t&&(n+="me/"),n+=e,"GET"===i&&Object.keys(r).length&&(n+="?"+this.urlencode(r));const o=this.implodeHostname(this.urls.api)+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");Object.keys(r).length&&"GET"!==i&&(t+=a=this.json(r)),s={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":e,"ACCESS-SIGN":this.hmac(this.encode(t),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:o,method:i,body:a,headers:s}}}},52519:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,OrderNotFound:n,InsufficientFunds:o,DDoSProtection:c,PermissionDenied:h,BadSymbol:d,InvalidOrder:u}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitforex",name:"Bitforex",countries:["CN"],rateLimit:500,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:void 0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchTicker:!0,fetchTickers:void 0,fetchTrades:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295553-1160ec00-c50e-11ea-8ea0-df79276a9646.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/githubdev2020/API_Doc_en/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/en/invitationRegister?inviterId=1867438"},api:{public:{get:{"api/v1/market/symbols":20,"api/v1/market/ticker":4,"api/v1/market/depth":4,"api/v1/market/trades":20,"api/v1/market/kline":20}},private:{post:{"api/v1/fund/mainAccount":1,"api/v1/fund/allAccount":30,"api/v1/trade/placeOrder":1,"api/v1/trade/placeMultiOrder":10,"api/v1/trade/cancelOrder":1,"api/v1/trade/cancelMultiOrder":20,"api/v1/trade/cancelAllOrder":20,"api/v1/trade/orderInfo":1,"api/v1/trade/multiOrderInfo":10,"api/v1/trade/orderInfos":20}}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.001"),taker:this.parseNumber("0.001")},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{}}},commonCurrencies:{BKC:"Bank Coin",CAPP:"Crypto Application Token",CREDIT:"TerraCredit",CTC:"Culture Ticket Chain",IQ:"IQ.Cash",MIR:"MIR COIN",NOIA:"METANOIA",TON:"To The Moon"},exceptions:{1003:d,1013:a,1016:a,1017:h,1019:d,3002:o,4002:u,4003:u,4004:n,10204:c}})}async fetchMarkets(e={}){const t=(await this.publicGetApiV1MarketSymbols(e)).data,i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=s.split("-"),n=a[2],o=a[1],c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=!0,l={amount:this.safeInteger(r,"amountPrecision"),price:this.safeInteger(r,"pricePrecision")},f={amount:{min:this.safeNumber(r,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:u,precision:l,limits:f,info:r})}return i}parseTrade(e,t){let i;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"time"),s=this.safeString(e,"tid"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeInteger(e,"direction"),c=this.parseSide(o);return this.safeTrade({info:e,id:s,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:c,price:a,amount:n,cost:void 0,order:void 0,fee:void 0,takerOrMaker:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==i&&(s.size=i);const a=this.market(e),n=await this.publicGetApiV1MarketTrades(this.extend(s,r));return this.parseTrades(n.data,a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostApiV1FundAllAccount(e),i=t.data,r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.used=this.safeString(t,"frozen"),n.free=this.safeString(t,"active"),n.total=this.safeString(t,"fix"),r[a]=n}return this.parseBalance(r)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.markets[e].id},r=await this.publicGetApiV1MarketTicker(this.extend(i,t)),s=r.data,a=this.safeInteger(s,"date");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"buy"),bidVolume:void 0,ask:this.safeNumber(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(s,"last"),last:this.safeNumber(s,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"vol"),quoteVolume:void 0,info:r}}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"vol")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,ktype:this.timeframes[t]};void 0!==r&&(n.size=r);const o=await this.publicGetApiV1MarketKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.size=t);const s=await this.publicGetApiV1MarketDepth(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeInteger(s,"time");return this.parseOrderBook(a,e,n,"bids","asks","price","amount")}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}parseSide(e){return 1===e?"buy":2===e?"sell":void 0}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeNumber(e,"createTime"),s=this.safeNumber(e,"lastTime"),a=t.symbol,n=this.safeInteger(e,"tradeType"),o=this.parseSide(n),c=this.safeString(e,"orderPrice"),h=this.safeString(e,"avgPrice"),d=this.safeString(e,"orderAmount"),u=this.safeString(e,"dealAmount"),l=this.parseOrderStatus(this.safeString(e,"orderState")),f=t["buy"===o?"base":"quote"],p={cost:this.safeNumber(e,"tradeFee"),currency:f};return this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,cost:void 0,average:h,amount:d,filled:u,remaining:void 0,status:l,fee:p,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:this.marketId(t),orderId:e},a=await this.privatePostApiV1TradeOrderInfo(this.extend(s,i));return this.parseOrder(a.data,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:this.marketId(e),state:0},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:this.marketId(e),state:1},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}async createOrder(e,t,i,r,s,a={}){let n;await this.loadMarkets(),"buy"===i?n=1:"sell"===i&&(n=2);const o={symbol:this.marketId(e),price:s,amount:r,tradeType:n},c=await this.privatePostApiV1TradePlaceOrder(this.extend(o,a)),h=c.data;return{info:c,id:this.safeString(h,"orderId")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};void 0!==t&&(r.symbol=this.marketId(t));const s=await this.privatePostApiV1TradeCancelOrder(this.extend(r,i));return{info:s,success:s.success}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let t=this.urlencode({accessKey:this.apiKey});o.nonce=this.milliseconds(),Object.keys(o).length&&(t+="&"+this.urlencode(this.keysort(o)));const i="/"+e+"?"+t;a=t+"&signData="+this.hmac(this.encode(i),this.encode(this.secret)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if("string"==typeof n&&("{"===n[0]||"["===n[0])){const e=this.id+" "+n,t=this.safeValue(o,"success");if(void 0!==t&&!t){const t=this.safeString(o,"code");throw this.throwExactlyMatchedException(this.exceptions,t,e),new s(e)}}}}},20829:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:h,InvalidAddress:d,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:b,RequestTimeout:v,NotSupported:w,BadSymbol:k,RateLimitExceeded:S}=i(73449),{TICK_SIZE:_}=i(62115),M=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitget",name:"Bitget",countries:["SG"],version:"v3",rateLimit:1e3,has:{cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},hostname:"bitget.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/88317935-a8a21c80-cd22-11ea-8e2b-4b9fac5975eb.jpg",api:{data:"https://api.{hostname}",api:"https://api.{hostname}",capi:"https://capi.{hostname}",swap:"https://capi.{hostname}"},www:"https://www.bitget.com",doc:["https://bitgetlimited.github.io/apidoc/en/swap","https://bitgetlimited.github.io/apidoc/en/spot"],fees:"https://www.bitget.cc/zh-CN/rate?tab=1",test:{rest:"https://testnet.bitget.com"},referral:"https://www.bitget.com/expressly?languageType=0&channelCode=ccxt&vipCode=tg9j"},api:{data:{get:["market/history/kline","market/detail/merged","market/tickers","market/allticker","market/depth","market/trade","market/history/trade","market/detail","common/symbols","common/currencys","common/timestamp"]},api:{get:["account/accounts","accounts/{account_id}/balance","order/orders","order/orders/openOrders","order/orders/history","order/deposit_withdraw"],post:["order/orders/place","order/orders/{order_id}/submitcancel","order/orders/batchcancel","order/orders/{order_id}","order/orders/{order_id}/matchresults","order/matchresults"]},capi:{get:["market/time","market/contracts","market/depth","market/tickers","market/ticker","market/trades","market/candles","market/index","market/open_count","market/open_interest","market/price_limit","market/funding_time","market/mark_price","market/open_count","market/historyFundRate"]},swap:{get:["account/accounts","account/account","account/settings","position/allPosition","position/singlePosition","position/holds","order/detail","order/orders","order/fills","order/current","order/currentPlan","order/history","order/historyPlan","trace/closeTrack","trace/currentTrack","trace/historyTrack","trace/summary","trace/profitSettleTokenIdGroup","trace/profitDateGroupList","trace/profitDateList","trace/waitProfitDateList"],post:["account/leverage","account/adjustMargin","account/modifyAutoAppendMargin","order/placeOrder","order/batchOrders","order/cancel_order","order/cancel_batch_orders","order/plan_order","order/cancel_plan","position/changeHoldModel","trace/closeTrackOrder"]}},fees:{spot:{taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")},swap:{taker:this.parseNumber("0.0006"),maker:this.parseNumber("0.0004")}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,"failure to get a peer from the ring-balancer":a,4010:u,4001:s,4002:s,30001:b,30002:b,30003:b,30004:b,30005:p,30006:b,30007:c,30008:v,30009:s,30010:b,30011:u,30012:b,30013:b,30014:l,30015:b,30016:s,30017:s,30018:s,30019:a,30020:c,30021:c,30022:u,30023:c,30024:k,30025:c,30026:l,30027:b,30028:u,30029:h,30030:s,30031:c,30032:k,30033:c,30034:s,30035:s,30036:s,30037:a,30038:n,32001:h,32002:u,32003:m,32004:s,32005:g,32006:g,32007:g,32008:g,32009:g,32010:s,32011:s,32012:s,32013:s,32014:s,32015:s,32016:s,32017:s,32018:s,32019:s,32020:s,32021:s,32022:s,32023:s,32024:s,32025:s,32026:s,32027:s,32028:h,32029:s,32030:g,32031:o,32038:b,32040:s,32044:s,32045:s,32046:s,32047:s,32048:g,32049:s,32050:g,32051:g,32052:s,32053:s,32057:s,32054:s,32055:g,32056:s,32058:s,32059:g,32060:g,32061:g,32062:g,32063:g,32064:s,32065:s,32066:s,32067:s,32068:s,32069:s,32070:s,32071:s,32072:s,32073:s,32074:s,32075:s,32076:s,32077:s,32078:s,32079:s,32080:s,32083:s,33001:u,33002:h,33003:f,33004:s,33005:s,33006:s,33007:s,33008:f,33009:s,33010:s,33011:s,33012:s,33013:g,33014:y,33015:g,33016:s,33017:f,33018:s,33020:s,33021:c,33022:g,33023:s,33024:g,33025:g,33026:s,33027:g,33028:g,33029:g,33034:s,33035:s,33036:s,33037:s,33038:s,33039:s,33040:s,33041:s,33042:s,33043:s,33044:s,33045:s,33046:s,33047:s,33048:s,33049:s,33050:s,33051:s,33059:c,33060:c,33061:s,33062:s,33063:s,33064:s,33065:s,21009:s,34001:u,34002:d,34003:s,34004:s,34005:s,34006:s,34007:s,34008:f,34009:s,34010:s,34011:s,34012:s,34013:s,34014:s,34015:s,34016:u,34017:h,34018:b,34019:u,34020:u,34021:d,34022:s,34023:u,34026:s,34036:s,34037:s,34038:s,34039:s,35001:s,35002:s,35003:s,35004:s,35005:b,35008:g,35010:g,35012:g,35014:g,35015:g,35017:s,35019:g,35020:g,35021:g,35022:s,35024:s,35025:f,35026:s,35029:y,35030:g,35031:g,35032:s,35037:s,35039:s,35040:g,35044:s,35046:f,35047:f,35048:s,35049:g,35050:g,35052:f,35053:s,35055:f,35057:s,35058:s,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:s,35091:s,35092:s,35093:s,35094:s,35095:c,35096:s,35097:s,35098:s,35099:s,36001:c,36002:c,36005:s,36101:b,36102:u,36103:h,36104:u,36105:u,36106:h,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:s,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:s,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g,400:c,401:b,403:u,404:c,405:c,415:c,429:l,500:a,1001:S,1002:s,1003:s,40001:b,40002:b,40003:b,40004:p,40005:p,40006:b,40007:c,40008:p,40009:b,40010:b,40011:b,40012:b,40013:s,40014:u,40015:s,40016:u,40017:s,40018:u,40102:c,40103:c,40104:s,40105:s,40106:s,40107:s,40108:g,40109:y,40200:n,40201:g,40202:s,40203:c,40204:c,40205:c,40206:c,40207:c,40208:c,40209:c,40300:s,40301:u,40302:c,40303:c,40304:c,40305:c,40306:s,40308:n,40309:k,40400:s,40401:s,40402:c,40403:c,40404:c,40405:c,40406:c,40407:s,40408:s,40409:s,40500:g,40501:s,40502:s,40503:s,40504:s,40505:s,40506:b,40507:b,40508:s,40509:s,40600:s,40601:s,40602:s,40603:s,40604:a,40605:s,40606:s,40607:s,40608:s,40609:s,40700:c,40701:s,40702:s,40703:s,40704:s,40705:c,40706:g,40707:c,40708:c,40709:s,40710:s,40711:f,40712:f,40713:s,40714:s,"invalid sign":b,"invalid currency":k,"invalid symbol":k,"invalid period":c,"invalid user":s,"invalid amount":g,"invalid type":g,"invalid orderId":g,"invalid record":s,"invalid accountId":c,"invalid address":c,"accesskey not null":b,"illegal accesskey":b,"sign not null":b,"req_time is too much difference from server time":p,"permissions not right":u,"illegal sign invalid":b,"user locked":h,"Request Frequency Is Too High":S,"more than a daily rate of cash":c,"more than the maximum daily withdrawal amount":c,"need to bind email or mobile":s,"user forbid":u,"User Prohibited Cash Withdrawal":u,"Cash Withdrawal Is Less Than The Minimum Value":c,"Cash Withdrawal Is More Than The Maximum Value":c,"the account with in 24 hours ban coin":u,"order cancel fail":c,"base symbol error":k,"base date error":s,"api signature not valid":b,"gateway internal error":s,"audit failed":s,"order queryorder invalid":c,"market no need price":g,"limit need price":g,"userid not equal to account_id":s,"your balance is low":f,"address invalid cointype":s,"system exception":s,50003:s,50004:k,50006:u,50007:u,50008:v,50009:S,50010:s,50014:g,50015:g,50016:g,50017:g,50018:g,50019:g,50020:f,50021:g,50026:g,"invalid order query time":s,"invalid start time":c,"invalid end time":c,20003:s,"01001":s},broad:{"invalid size, valid range":s}},precisionMode:_,options:{createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","swap"],parseOHLCV:{volume:{spot:"amount",swap:5}},defaultType:"spot",accountId:void 0,timeframes:{spot:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","2h":"120min","4h":"240min","6h":"360min","12h":"720min","1d":"1day","1w":"1week"},swap:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"}}}})}async fetchTime(e={}){const t=await this.dataGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){let t=this.safeValue(this.options,"fetchMarkets");t.length||(t=[this.options.defaultType]);let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"symbol");let i="spot",r=!0,s=!1;const a=this.safeString2(e,"base_currency","coin"),n=this.safeString(e,"quote_currency");void 0!==this.safeNumber(e,"contract_val")&&(i="swap",r=!1,s=!0);const o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let h=t.toUpperCase();r&&(h=o+"/"+c);const d=this.safeString(e,"tick_size"),u=this.safeString(e,"size_increment"),l={amount:this.parseNumber(this.parsePrecision(u)),price:this.parseNumber(this.parsePrecision(d))},f=this.safeNumber2(e,"min_size","base_min_size"),p=this.safeString(e,"status");let m;void 0!==p&&(m="1"===p||"online"===p);const g=this.safeValue2(this.fees,i,"trading",{});return this.extend(g,{id:t,symbol:h,base:o,quote:c,baseId:a,quoteId:n,info:e,type:i,spot:r,swap:s,active:m,precision:l,limits:{amount:{min:f,max:void 0},price:{min:l.price,max:void 0},cost:{min:l.price,max:void 0}}})}async fetchMarketsByType(e,t={}){if("spot"===e){const e=await this.dataGetCommonSymbols(t),i=this.safeValue(e,"data",[]);return this.parseMarkets(i)}if("swap"===e){const e=await this.capiGetMarketContracts(t);return this.parseMarkets(e)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){const t=await this.dataGetCommonCurrencys(e),i={},r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeCurrencyCode(t);i[s]={id:t,code:s,info:t,type:void 0,name:void 0,active:void 0,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r.id};let a;r.spot?(a="dataGetMarketDepth",s.type="step0"):r.swap&&(a="capiGetMarketDepth",s.limit=void 0===t?100:t);const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"data",n),c=this.safeInteger2(o,"timestamp","ts"),h=this.safeInteger(o,"id"),d=this.parseOrderBook(o,e,c);return d.nonce=h,d}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","id");let r;const s=this.safeString2(e,"instrument_id","symbol");if(s in this.markets_by_id)r=(t=this.markets_by_id[s]).symbol;else if(void 0!==s){const e=s.split("_");if(2===e.length){const[t,i]=e;r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}else r=s}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeNumber2(e,"last","close"),n=this.safeNumber(e,"open");let o,c,h=this.safeValue(e,"bid");void 0===h?h=this.safeNumber(e,"best_bid"):(o=this.safeNumber(h,1),h=this.safeNumber(h,0));let d=this.safeValue(e,"ask");void 0===d?d=this.safeNumber(e,"best_ask"):(c=this.safeNumber(d,1),d=this.safeNumber(d,0));const u=this.safeNumber2(e,"amount","volume_24h"),l=this.safeNumber(e,"vol"),f=this.vwap(u,l);return this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:h,bidVolume:o,ask:d,askVolume:c,vwap:f,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:l,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e);let r;i.spot?r="dataGetMarketDetailMerged":i.swap&&(r="capiGetMarketTicker");const s={symbol:i.id},a=await this[r](this.extend(s,t)),n=this.safeValue(a,"data",a);return this.parseTicker(n,i)}async fetchTickersByType(e,t,i={}){let r;await this.loadMarkets(),"spot"===e?r="dataGetMarketTickers":"swap"===e&&(r="capiGetMarketTickers");const s=await this[r](i),a=this.safeValue(s,"data",s);let n;Array.isArray(s)||(n=this.safeInteger(s,"ts"));const o={};for(let e=0;e<a.length;e++){const t=this.parseTicker(this.extend({timestamp:n},a[e]));o[t.symbol]=t}return this.filterByArray(o,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){let i;const r=this.safeString(e,"symbol");let s,a;if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol,s=t.base,a=t.quote;else if(void 0!==r){const e=r.split("_");if(2===e.length){const[t,r]=e;s=this.safeCurrencyCode(t),a=this.safeCurrencyCode(r),i=s+"/"+a}else i=r.toUpperCase()}void 0===i&&void 0!==t&&(i=t.symbol,s=t.base,a=t.quote);let n=this.safeInteger(e,"created_at");n=this.safeInteger2(e,"timestamp","ts",n);const o=this.safeString(e,"price");let c=this.safeString2(e,"filled_amount","order_qty");c=this.safeString2(e,"size","amount",c);let h,d,u=this.safeString2(e,"exec_type","liquidity");"M"===u?u="maker":"T"===u&&(u="taker"),void 0!==this.safeString(e,"type")?(h=this.safeString(e,"type"),d=this.parseOrderType(h),h=this.parseOrderSide(h)):(h=this.safeString2(e,"side","direction"),d=this.parseOrderType(h),h=this.parseOrderSide(h));let l,f=this.safeString(e,"fee");f=void 0===f?this.safeString(e,"filled_fees"):M.stringNeg(f),void 0!==f&&(l={cost:f,currency:"buy"===h?s:a});const p=this.safeString(e,"order_id"),m=this.safeString2(e,"trade_id","id");return this.safeTrade({info:e,timestamp:n,datetime:this.iso8601(n),symbol:i,id:m,order:p,type:d,takerOrMaker:u,side:h,price:o,amount:c,cost:void 0,fee:l},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};let n;s.spot?n="dataGetMarketHistoryTrade":s.swap&&(n="capiGetMarketTrades"),s.spot?void 0!==t&&(a.size=t):s.swap&&(void 0===t&&(t=100),a.limit=t);const o=await this[n](this.extend(a,r));let c;if(Array.isArray(o))c=o;else{const e=this.safeValue(o,"data",{});c=this.safeValue2(e,"data",[])}return this.parseTrades(c,s,i,t)}parseOHLCV(e,t,i="1m"){const r=this.safeValue(this.options,"parseOHLCV",{}),s=this.safeValue(r,"volume",{});if(Array.isArray(e)){const i=this.safeString(s,t.type,"amount");return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,i)]}{const i=this.safeValue(s,t.type,6);return[this.safeInteger(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,i)]}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id};let o;const c=a.type,h=this.safeValue(this.options,"timeframes",{}),d=this.safeValue(h,c,{}),u=this.safeValue(d,this.timeframes[t]);if(a.spot)o="dataGetMarketHistoryKline",n.period=u,void 0!==r&&(n.size=r);else if(a.swap){const e=this.parseTimeframe(t);o="capiGetMarketCandles",n.granularity=u;const s=this.milliseconds();void 0===i?(void 0===r&&(r=1e3),n.start=this.iso8601(s-r*e*1e3),n.end=this.iso8601(s)):(n.start=this.iso8601(i),n.end=void 0===r?this.iso8601(s):this.iso8601(this.sum(i,r*e*1e3)))}const l=await this[o](this.extend(n,s));let f=l;return Array.isArray(l)||(f=this.safeValue(l,"data",[])),this.parseOHLCVs(f,a,t,i,r)}parseSpotBalance(e){const t={info:e},i=this.safeValue(e,"data"),r=this.safeValue(i,"list");for(let e=0;e<r.length;e++){const i=r[e],s=this.safeString(i,"currency"),a=this.safeCurrencyCode(s);if(!(a in t)){const e=this.account();t[a]=e}const n=this.safeValue(i,"type");if("trade"===n)t[a].free=this.safeString(i,"balance");else if("frozen"===n||"lock"===n){const e=this.safeString(t[a],"used");t[a].used=M.stringAdd(e,this.safeString(i,"balance"))}}return this.parseBalance(t)}parseSwapBalance(e){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"symbol");let a=s;s in this.markets_by_id&&(a=this.markets_by_id[s].symbol);const n=this.account();n.total=this.safeString(r,"equity"),n.free=this.safeString(r,"total_avail_balance"),t[a]=n}return this.parseBalance(t)}async fetchAccounts(e={}){const t=await this.apiGetAccountAccounts(this.extend({method:"accounts"},e)),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeStringLower(t,"type");r.push({id:s,type:a,currency:void 0,info:t})}return r}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");if(i.length>1)throw new s(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const r=this.safeString(this.options,"defaultType","margin"),s=this.safeString(e,"type",r);if(e=this.omit(e,"type"),void 0===s)throw new o(this.id+" getAccountId() requires an 'accountId' parameter");return(await this.findAccountByType(s)).id}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a 'type' parameter, one of 'spot', 'swap'");let r;const s=this.omit(e,"type");if("spot"===i){const t=await this.getAccountId(e);r="apiGetAccountsAccountIdBalance",s.account_id=t,s.method="balance"}else"swap"===i&&(r="swapGetAccountAccounts");const a=await this[r](s);return this.parseBalanceByType(i,a)}parseBalanceByType(e,t){if("spot"===e)return this.parseSpotBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}parseOrderStatus(e){return this.safeString({submitted:"open","partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled","-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return this.safeString({"buy-market":"buy","sell-market":"sell","buy-limit":"buy","sell-limit":"sell",1:"long",2:"short",3:"long",4:"short"},e,e)}parseOrderType(e){return this.safeString({"buy-market":"market","sell-market":"market","buy-limit":"limit","sell-limit":"limit",1:"open",2:"open",3:"close",4:"close"},e,e)}parseOrder(e,t){let i=this.safeString(e,"order_id");i=this.safeString2(e,"id","data",i);const r=this.safeInteger2(e,"created_at","createTime");let s=this.safeString(e,"type");const a=this.parseOrderSide(s);let n;s=this.parseOrderType(s);const o=this.safeString(e,"symbol");void 0!==o&&(o in this.markets_by_id?t=this.markets_by_id[o]:n=o.toUpperCase()),void 0===n&&void 0!==t&&(n=t.symbol);const c=this.safeString2(e,"amount","size"),h=this.safeString2(e,"filled_amount","filled_qty"),d=this.safeString(e,"filled_cash_amount"),u=this.safeString(e,"price"),l=this.safeString(e,"price_avg"),f=this.parseOrderStatus(this.safeString2(e,"state","status")),p=this.safeNumber2(e,"filled_fees","fee");let m;void 0!==p&&(m={cost:p,currency:void 0});const g=this.safeString(e,"client_oid");return this.safeOrder2({info:e,id:i,clientOrderId:g,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:s,timeInForce:void 0,postOnly:void 0,side:a,price:u,stopPrice:void 0,average:l,cost:d,amount:c,filled:h,remaining:void 0,status:f,fee:m,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),c={symbol:n.id},h=this.safeString2(a,"client_oid","clientOrderId",this.uuid());let d;if(a=this.omit(a,["client_oid","clientOrderId"]),n.spot){const o=await this.getAccountId({type:n.type});if(d="apiPostOrderOrdersPlace",c.account_id=o,c.method="place",c.type=i+"-"+t,"limit"===t)c.amount=this.amountToPrecision(e,r),c.price=this.priceToPrecision(e,s);else if("market"===t)if("buy"===i){let t=this.safeNumber(a,"amount");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==s)void 0===t&&(t=r*s);else if(void 0===t)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'amount' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?r:t;c.amount=this.costToPrecision(e,t)}else"sell"===i&&(c.amount=this.amountToPrecision(e,r))}else if(n.swap){c.order_type="0",c.client_oid=h;const i=this.safeString(a,"type");if(void 0===i)throw new o(this.id+" createOrder() requires a type parameter, '1' = open long, '2' = open short, '3' = close long, '4' = close short for "+n.type+" orders");c.size=this.amountToPrecision(e,r),c.type=i,"limit"===t?(c.match_price="0",c.price=this.priceToPrecision(e,s)):"market"===t&&(c.match_price="1"),d="swapPostOrderPlaceOrder"}const u=await this[d](this.extend(c,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){let r,s;if(await this.loadMarkets(),void 0===t){const e=this.safeString2(this.options,"cancelOrder","defaultType");if("spot"===this.safeString(i,"type",e)&&void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument for spot orders")}else r=this.market(t),s=r.type;const a=this.omit(i,"type");let n;const c={};"spot"===s?(n="apiPostOrderOrdersOrderIdSubmitcancel",c.order_id=e,c.method="submitcancel"):"swap"===s&&(n="swapPostOrderCancelOrder",c.orderId=e,c.symbol=r.id);const h=await this[n](this.extend(c,a));return this.parseOrder(h,r)}async cancelOrders(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString(i,"type",r.type);if(void 0===s)throw new o(this.id+" cancelOrders() requires a type parameter (one of 'spot', 'swap').");i=this.omit(i,"type");const a={};let n;if("spot"===s){n="apiPostOrderOrdersBatchcancel",a.method="batchcancel";const t=this.json(e).split('"');a.order_ids=t.join("")}else"swap"===s&&(n="swapPostOrderCancelBatchOrders",a.symbol=r.id,a.ids=e);return await this[n](this.extend(a,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString(i,"type",r.type);if(void 0===s)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'swap').");let a;const n={};if("spot"===s){const t=this.safeString(i,"client_oid");void 0!==t?(a="apiPostOrderOrdersClientOid",n.client_oid=t):(a="apiPostOrderOrdersOrderId",n.order_id=e),n.method="getOrder"}else"swap"===s&&(a="swapGetOrderDetail",n.symbol=r.id,n.orderId=e);const c=this.omit(i,"type"),h=await this[a](this.extend(n,c)),d=this.safeValue(h,"data",h);return this.parseOrder(d,r)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.safeString(r,"type",s.type),n={symbol:s.id};let c;"spot"===a?(c="apiGetOrderOrdersOpenOrders",n.method="openOrders",void 0===i&&(n.size=i)):"swap"===a&&(c="swapGetOrderOrders",n.status="3",n.from="1",n.to="1",void 0===i&&(n.limit=100));const h=this.omit(r,"type"),d=await this[c](this.extend(n,h));let u=d;return Array.isArray(d)||(u=this.safeValue(d,"data",[])),this.parseOrders(u,s,void 0,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.safeString(r,"type",s.type),n={symbol:s.id};let c;"spot"===a?(c="apiGetOrderOrdersHistory",void 0!==t&&(n.start_time=t),n.method="openOrders",void 0===i&&(n.size=i)):"swap"===a&&(c="swapGetOrderOrders",n.status="2",n.from="1",n.to="1",void 0===i&&(n.limit=100));const h=this.omit(r,"type"),d=await this[c](this.extend(n,h));let u=d;return Array.isArray(d)||(u=this.safeValue(d,"data",[])),this.parseOrders(u,s,void 0,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={currency:s.id,method:"deposit_withdraw",type:"deposit",size:12},n=await this.apiGetOrderDepositWithdraw(this.extend(a,r)),c=this.safeValue(n,"data",[]);return this.parseTransactions(c,s,t,i,r)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={currency:s.id,method:"deposit_withdraw",type:"withdraw",size:12},n=await this.apiGetOrderDepositWithdraw(this.extend(a,r)),c=this.safeValue(n,"data",[]);return this.parseTransactions(c,s,t,i,r)}parseTransactionStatus(e){return this.safeString({WaitForOperation:"pending",OperationLock:"pending",OperationSuccess:"ok",Cancel:"canceled",Sure:"ok",Fail:"failed",WaitForChainSure:"ok",WAIT_0:"pending",WAIT_1:"pending",DATA_CHANGE:"pending",SUCCESS:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"address_tag"),a=s,n=r;let o=this.safeString(e,"type");"withdraw"===o?o="withdrawal":"deposit"===o&&(o="deposit");const c=this.safeString(e,"currency"),h=this.safeCurrencyCode(c),d=this.safeNumber(e,"amount"),u=this.parseTransactionStatus(this.safeString(e,"state")),l=this.safeString(e,"tx_hash"),f=this.safeInteger(e,"created_at"),p=this.safeInteger(e,"updated_at"),m=this.safeNumber(e,"fee");let g;return void 0!==m&&(g={currency:h,cost:m}),{info:e,id:i,currency:h,amount:d,addressFrom:void 0,addressTo:n,address:r,tagFrom:void 0,tagTo:a,tag:s,status:u,type:o,updated:p,txid:l,timestamp:f,datetime:this.iso8601(f),fee:g}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.safeString(r,"type",s.type),n=this.omit(r,"type");if("swap"===a)throw new o(this.id+" fetchMyTrades() is not supported for "+a+" type");const c={symbol:s.id,method:"matchresults"};if(void 0!==t){c.start_date=this.yyyymmdd(t);const e=this.sum(t,1728e5);c.end_date=this.yyyymmdd(e)}void 0!==i&&(c.size=i);const h=await this.apiPostOrderMatchresults(this.extend(c,n)),d=this.safeValue(h,"data",[]);return this.parseTrades(d,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new o(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t),n=this.safeString(s,"type",a.type);let c;s=this.omit(s,"type");const h={};"spot"===n?(h.order_id=e,h.method="matchresults",c="apiPostOrderOrdersOrderIdMatchresults"):"swap"===n&&(h.orderId=e,h.symbol=a.id,c="swapGetOrderFills");const d=await this[c](this.extend(h,s));let u=d;return Array.isArray(u)||(u=this.safeValue(d,"data",[])),await this.parseTrades(u,a,i,r)}async fetchPosition(e,t={}){await this.loadMarkets();const i={symbol:this.market(e).id};return await this.swapGetPositionSinglePosition(this.extend(i,t))}async fetchPositions(e,t={}){return await this.loadMarkets(),await this.swapGetPositionAllPosition(t)}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);n="capi"===t||"swap"===t?"/api/swap/"+this.version+n:"/"+t+"/v1"+n;let o=this.omit(r,this.extractParams(e)),c=this.implodeHostname(this.urls.api[t])+n;if("data"===t||"capi"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else if("swap"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+n;if("POST"===i)t+=a=this.json(r);else if(Object.keys(r).length){const e=this.urlencode(this.keysort(r));c+="?"+e,t+="?"+e}const o=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":o,"ACCESS-TIMESTAMP":e,"ACCESS-PASSPHRASE":this.password},"POST"===i&&(s["Content-Type"]="application/json")}else if("api"===t){const e=this.milliseconds().toString();let t="";o=this.keysort(o),t=this.rawencode(o);const r=this.hash(this.encode(this.secret),"sha1");let n=t;const h=this.hmac(this.encode(t),this.encode(r),"md5");t.length>0&&(n+="&"),n+="sign="+h+"&req_time="+e+"&accesskey="+this.apiKey,"GET"===i?Object.keys(o).length&&(c+="?"+n):"POST"===i&&(c+="?sign="+h+"&req_time="+e+"&accesskey="+this.apiKey,a=t,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(!o)return;const d=this.safeString(o,"err_msg"),u=this.safeString2(o,"code","err_code"),l=this.id+" "+n,f=void 0!==d&&""!==d;f&&(this.throwExactlyMatchedException(this.exceptions.exact,d,l),this.throwBroadlyMatchedException(this.exceptions.broad,d,l));const p=void 0!==u&&"00000"!==u;if(p&&this.throwExactlyMatchedException(this.exceptions.exact,u,l),p||f)throw new s(l)}}},29202:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,AuthenticationError:n,BadRequest:o,PermissionDenied:c,InvalidAddress:h,ArgumentsRequired:d,InvalidOrder:u}=i(73449),{DECIMAL_PLACES:l,SIGNIFICANT_DIGITS:f,TRUNCATE:p}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchIndexOHLCV:!1,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},hostname:"bithumb.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.{hostname}/public",private:"https://api.{hostname}"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com",fees:"https://en.bithumb.com/customer_support/info_fee"},api:{public:{get:["ticker/{currency}","ticker/all","ticker/ALL_BTC","ticker/ALL_KRW","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all","candlestick/{currency}/{interval}"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","info/order_detail","trade/place","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:this.parseNumber("0.0025"),taker:this.parseNumber("0.0025")}},precisionMode:f,exceptions:{"Bad Request(SSL)":o,"Bad Request(Bad Method)":o,"Bad Request.(Auth Data)":n,"Not Member":n,"Invalid Apikey":n,"Method Not Allowed.(Access IP)":c,"Method Not Allowed.(BTC Adress)":h,"Method Not Allowed.(Access)":c,"Database Fail":a,"Invalid Parameter":o,5600:s,"Unknown Error":s,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":s},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"24h"},options:{quoteCurrencies:{BTC:{limits:{cost:{min:2e-4,max:100}}},KRW:{limits:{cost:{min:500,max:5e9}}}}},commonCurrencies:{FTC:"FTC2",MIR:"MIR COIN",SOC:"Soda Coin"}})}amountToPrecision(e,t){return this.decimalToPrecision(t,p,this.markets[e].precision.amount,l)}async fetchMarkets(e={}){const t=[],i=this.safeValue(this.options,"quoteCurrencies",{}),r=Object.keys(i);for(let s=0;s<r.length;s++){const a=r[s],n=this.safeValue(i,a,{}),o="publicGetTickerALL"+a,c=await this[o](e),h=this.safeValue(c,"data"),d=Object.keys(h);for(let e=0;e<d.length;e++){const i=d[e];if("date"===i)continue;const r=h[i],s=this.safeCurrencyCode(i),o=i+"/"+a;let c=!0;Array.isArray(r)&&0===r.length&&(c=!1);const u=this.deepExtend({id:i,symbol:o,base:s,quote:a,info:r,type:"spot",spot:!0,active:c,precision:{amount:4,price:4},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{}},baseId:void 0,quoteId:void 0},n);t.push(u)}}return t}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfoBalance(this.extend({currency:"ALL"},e)),i={info:t},r=this.safeValue(t,"data"),s=Object.keys(this.currencies);for(let e=0;e<s.length;e++){const t=s[e],a=this.account(),n=this.currency(t),o=this.safeStringLower(n,"id");a.total=this.safeString(r,"total_"+o),a.used=this.safeString(r,"in_use_"+o),a.free=this.safeString(r,"available_"+o),i[t]=a}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currency:r.base+"_"+r.quote};void 0!==t&&(s.count=t);const a=await this.publicGetOrderbookCurrency(this.extend(s,i)),n=this.safeValue(a,"data",{}),o=this.safeInteger(n,"timestamp");return this.parseOrderBook(n,e,o,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeInteger(e,"date"),r=this.safeSymbol(void 0,t),s=this.safeNumber(e,"opening_price"),a=this.safeNumber(e,"closing_price"),n=this.safeNumber(e,"units_traded_24H"),o=this.safeNumber(e,"acc_trade_value_24H"),c=this.vwap(n,o);return this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:c,open:s,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickerAll(t),r={},s=this.safeValue(i,"data",{}),a=this.safeInteger(s,"date"),n=this.omit(s,"date"),o=Object.keys(n);for(let e=0;e<o.length;e++){const t=o[e];let i,s=t;t in this.markets_by_id&&(i=this.markets_by_id[t],s=i.symbol);const c=n[t];Array.isArray(c)||(c.date=a,r[s]=this.parseTicker(c,i))}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.base},s=await this.publicGetTickerCurrency(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={currency:a.base,interval:this.timeframes[t]},o=await this.publicGetCandlestickCurrencyInterval(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){let i;const r=this.safeString(e,"transaction_date");if(void 0!==r){const t=r.split(" ");if(t.length>1){const e=t[0];let r=t[1];r.length<8&&(r="0"+r),i=this.parse8601(e+" "+r)}else i=this.safeIntegerProduct(e,"transaction_date",.001)}void 0!==i&&(i-=324e5);let s=this.safeString(e,"type");s="ask"===s?"sell":"buy";const a=this.safeString(e,"cont_no");let n;void 0!==t&&(n=t.symbol);const o=this.safeString(e,"price"),c=this.safeString2(e,"units_traded","units"),h=this.safeString(e,"total");let d;const u=this.safeString(e,"fee");if(void 0!==u){const t=this.safeString(e,"fee_currency");d={cost:u,currency:this.commonCurrencyCode(t)}}return this.safeTrade({id:a,info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:void 0,side:s,takerOrMaker:void 0,price:o,amount:c,cost:h,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.base};void 0===i&&(a.count=i);const n=await this.publicGetTransactionHistoryCurrency(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={order_currency:n.id,payment_currency:n.quote,units:r};let c="privatePostTradePlace";"limit"===t?(o.price=s,o.type="buy"===i?"bid":"ask"):c="privatePostTradeMarket"+this.capitalize(i);const h=await this[c](this.extend(o,a)),d=this.safeString(h,"order_id");if(void 0===d)throw new u(this.id+" createOrder() did not return an order id");return{info:h,symbol:e,type:t,side:i,id:d}}async fetchOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e,count:1,order_currency:r.base,payment_currency:r.quote},a=await this.privatePostInfoOrderDetail(this.extend(s,i)),n=this.safeValue(a,"data");return this.parseOrder(this.extend(n,{order_id:e}),r)}parseOrderStatus(e){return this.safeString({Pending:"open",Completed:"closed",Cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeIntegerProduct(e,"order_date",.001),r="bid"===this.safeValue2(e,"type","side")?"buy":"sell",s=this.parseOrderStatus(this.safeString(e,"order_status"));let a=this.safeNumber2(e,"order_price","price"),n="limit";0===a&&(a=void 0,n="market");const o=this.safeNumber2(e,"order_qty","units");let c,h=this.safeNumber(e,"units_remaining");void 0===h&&("closed"===s?h=0:"canceled"!==s&&(h=o));const d=this.safeString(e,"order_currency"),u=this.safeString(e,"payment_currency"),l=this.safeCurrencyCode(d),f=this.safeCurrencyCode(u);void 0!==l&&void 0!==f&&(c=l+"/"+f),void 0===c&&void 0!==t&&(c=t.symbol);const p=this.safeString(e,"order_id"),m=this.safeValue(e,"contract",[]),g=this.parseTrades(m,t,void 0,void 0,{side:r,symbol:c,order:p});return this.safeOrder({info:e,id:p,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:c,type:n,timeInForce:void 0,postOnly:void 0,side:r,price:a,stopPrice:void 0,amount:o,cost:void 0,average:void 0,filled:void 0,remaining:h,status:s,fee:void 0,trades:g})}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new d(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e);void 0===i&&(i=100);const a={count:i,order_currency:s.base,payment_currency:s.quote};void 0!==t&&(a.after=t);const n=await this.privatePostInfoOrders(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){if(!("side"in i))throw new d(this.id+" cancelOrder() requires a `side` parameter (sell or buy)");if(void 0===t)throw new d(this.id+" cancelOrder() requires a `symbol` argument");const r=this.market(t),s="buy"===i.side?"bid":"ask";i=this.omit(i,["side","currency"]);const a={order_id:e,type:s,order_currency:r.base,payment_currency:r.quote};return await this.privatePostTradeCancel(this.extend(a,i))}cancelUnifiedOrder(e,t={}){const i={side:e.side};return this.cancelOrder(e.id,e.symbol,this.extend(i,t))}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={units:t,address:i,currency:a.id};if("XRP"===a||"XMR"===a||"EOS"===a||"STEEM"===a){const t=this.safeString(s,"destination");if(void 0===r&&void 0===t)throw new d(this.id+" "+e+" withdraw() requires a tag argument or an extra destination param");void 0!==r&&(n.destination=r)}return{info:await this.privatePostTradeBtcWithdrawal(this.extend(n,s)),id:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.implodeParams(e,r);let o=this.implodeHostname(this.urls.api[t])+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),a=this.urlencode(this.extend({endpoint:n},c));const e=this.nonce().toString(),t=n+"\0"+a+"\0"+e,i=this.hmac(this.encode(t),this.encode(this.secret),"sha512"),r=this.decode(this.stringToBase64(i));s={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":r,"Api-Nonce":e}}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status"),t=this.safeString(o,"message");if(void 0!==e){if("0000"===e)return;if("    "===t)return;const i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new s(i)}}}}},69102:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeNotAvailable:a,AccountSuspended:n,PermissionDenied:o,RateLimitExceeded:c,InvalidNonce:h,InvalidAddress:d,ArgumentsRequired:u,ExchangeError:l,InvalidOrder:f,InsufficientFunds:p,BadRequest:m,OrderNotFound:g,BadSymbol:y,NotSupported:b}=i(73449),{ROUND:v,TICK_SIZE:w,TRUNCATE:k}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmart",name:"BitMart",countries:["US","CN","HK","KR"],rateLimit:250,version:"v1",certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFee:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},hostname:"bitmart.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/129991357-8f47464b-d0f4-41d6-8a82-34122f0d1398.jpg",api:{rest:"https://api-cloud.{hostname}"},www:"https://www.bitmart.com/",doc:"https://developer-pro.bitmart.com/",referral:{url:"http://www.bitmart.com/?r=rQCFLh",discount:.3},fees:"https://www.bitmart.com/fee/en"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{system:{get:{time:5,service:5}},account:{get:{currencies:10}},spot:{get:{currencies:1,symbols:1,"symbols/details":1,ticker:1,steps:1,"symbols/kline":1,"symbols/book":1,"symbols/trades":1}},contract:{get:{tickers:.5}}},private:{account:{get:{wallet:.5,"deposit/address":1,"withdraw/charge":1,"deposit-withdraw/history":1,"deposit-withdraw/detail":1},post:{"withdraw/apply":1}},spot:{get:{wallet:.5,order_detail:.1,orders:.5,trades:.5},post:{submit_order:.1,cancel_order:.1,cancel_orders:.1}}}},timeframes:{"1m":1,"3m":3,"5m":5,"15m":15,"30m":30,"45m":45,"1h":60,"2h":120,"3h":180,"4h":240,"1d":1440,"1w":10080,"1M":43200},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.0025"),maker:this.parseNumber("0.0025"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.0020")],[this.parseNumber("10"),this.parseNumber("0.18")],[this.parseNumber("50"),this.parseNumber("0.0016")],[this.parseNumber("250"),this.parseNumber("0.0014")],[this.parseNumber("1000"),this.parseNumber("0.0012")],[this.parseNumber("5000"),this.parseNumber("0.0010")],[this.parseNumber("25000"),this.parseNumber("0.0008")],[this.parseNumber("50000"),this.parseNumber("0.0006")]],maker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("10"),this.parseNumber("0.0009")],[this.parseNumber("50"),this.parseNumber("0.0008")],[this.parseNumber("250"),this.parseNumber("0.0007")],[this.parseNumber("1000"),this.parseNumber("0.0006")],[this.parseNumber("5000"),this.parseNumber("0.0005")],[this.parseNumber("25000"),this.parseNumber("0.0004")],[this.parseNumber("50000"),this.parseNumber("0.0003")]]}}},precisionMode:w,exceptions:{exact:{3e4:l,30001:s,30002:s,30003:n,30004:s,30005:s,30006:s,30007:s,30008:s,30010:o,30011:s,30012:s,30013:c,30014:a,6e4:m,60001:m,60002:m,60003:l,60004:l,60005:l,60006:l,60007:d,60008:p,60009:l,60010:l,60011:d,60012:l,60020:o,60021:o,60022:o,60030:m,60031:m,60050:l,60051:l,5e4:m,50001:y,50002:m,50003:m,50004:m,50005:g,50006:f,50007:f,50008:f,50009:f,50010:f,50011:f,50012:f,50013:f,50014:m,50015:m,50016:m,50017:m,50018:m,50019:m,50020:p,50021:m,50022:a,50023:y,50029:f,50030:f,53e3:n,53001:n,57001:m,58001:m,59001:l,59002:l,40001:l,40002:l,40003:l,40004:l,40005:l,40006:o,40007:m,40008:h,40009:m,40010:m,40011:m,40012:l,40013:l,40014:y,40015:y,40016:f,40017:f,40018:f,40019:l,40020:f,40021:l,40022:l,40023:l,40024:l,40025:l,40026:l,40027:p,40028:o,40029:f,40030:f,40031:f,40032:f,40033:f,40034:y},broad:{}},commonCurrencies:{COT:"Community Coin",CPC:"CPCoin",DMS:"DimSum",FOX:"Fox Finance",GDT:"Gorilla Diamond",$HERO:"Step Hero",$PAC:"PAC",MIM:"MIM Swarm",MVP:"MVP Coin",ONE:"Menlo One",PLA:"Plair",TCT:"TacoCat Token",TRU:"Truebit"},options:{networks:{TRX:"TRC20",ETH:"ERC20"},defaultNetworks:{USDT:"ERC20"},defaultType:"spot",fetchBalance:{type:"spot"},createMarketBuyOrderRequiresPrice:!0}})}async fetchTime(e={}){const t=await this.publicSystemGetTime(e),i=this.safeValue(t,"data",{});return this.safeInteger(i,"server_time")}async fetchStatus(e={}){const t=this.safeValue(this.options,"fetchBalance",{}),i=this.safeString(this.options,"defaultType");let r=this.safeString(t,"type",i);r=this.safeString(e,"type",r),e=this.omit(e,"type");const s=await this.publicSystemGetService(e),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"service",[]),o=this.indexBy(n,"service_type");"swap"!==r&&"future"!==r||(r="contract");const c=this.safeValue(o,r);let h,d;return void 0!==c&&(2===this.safeInteger(c,"status")?h="ok":(h="maintenance",d=this.safeInteger(c,"end_time"))),this.status=this.extend(this.status,{status:h,updated:this.milliseconds(),eta:d}),this.status}async fetchSpotMarkets(e={}){const t=await this.publicSpotGetSymbolsDetails(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",[]),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"symbol"),a=this.safeInteger(t,"symbol_id"),n=this.safeString(t,"base_currency"),o=this.safeString(t,"quote_currency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=this.safeInteger(t,"price_max_precision"),l={amount:this.safeNumber(t,"base_min_size"),price:this.parseNumber(this.decimalToPrecision(Math.pow(10,-u),v,14))},f=this.safeNumber(t,"min_buy_amount"),p=this.safeNumber(t,"min_sell_amount"),m=Math.max(f,p),g={amount:{min:this.safeNumber(t,"base_min_size"),max:this.safeNumber(t,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:m,max:void 0}};s.push({id:i,numericId:a,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,future:!1,swap:!1,precision:l,limits:g,info:t,active:!0})}return s}async fetchContractMarkets(e={}){const t=await this.publicContractGetContracts(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"contracts",[]),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeValue(t,"contract",{}),a=this.safeString(i,"contract_id"),n=this.safeInteger(i,"contract_id"),o=this.safeString(i,"base_coin"),c=this.safeString(i,"quote_coin"),h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c),u=this.safeString(i,"name"),l={amount:this.safeNumber(i,"vol_unit"),price:this.safeNumber(i,"price_unit")},f={amount:{min:this.safeNumber(i,"min_vol"),max:this.safeNumber(i,"max_vol")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},p=this.safeValue(i,"contract_type");let m=!1,g=!1,y="contract";1===p?(y="swap",g=!0):2===p&&(y="future",m=!0);const b=this.safeValue(t,"fee_config",{}),v=this.safeNumber(b,"maker_fee"),w=this.safeNumber(b,"taker_fee");s.push({id:a,numericId:n,symbol:u,base:h,quote:d,baseId:o,quoteId:c,maker:v,taker:w,type:y,spot:!1,future:m,swap:g,precision:l,limits:f,info:t,active:void 0})}return s}async fetchMarkets(e={}){return await this.fetchSpotMarkets()}async fetchFundingFee(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateAccountGetWithdrawCharge(this.extend(i,t)),s=r.data,a={};return a[e]=this.safeNumber(s,"withdraw_fee"),{info:r,withdraw:a,deposit:{}}}parseTicker(e,t){const i=this.safeTimestamp2(e,"timestamp","s_t",this.milliseconds());let r=this.safeString2(e,"symbol","contract_id");r=this.safeString(e,"contract_symbol",r);const s=this.safeSymbol(r,t),a=this.safeNumber2(e,"close_24h","last_price");let n=this.safeNumber2(e,"fluctuation","rise_fall_rate");void 0!==n&&(n*=100),void 0===n&&(n=this.safeNumber(e,"price_change_percent_24h"));const o=this.safeNumber2(e,"base_coin_volume","base_volume_24h");let c=this.safeNumber2(e,"quote_coin_volume","quote_volume_24h");c=this.safeNumber(e,"volume_24h",c);const h=this.safeNumber2(e,"open_24h","open");let d;void 0!==a&&void 0!==h&&(d=this.sum(a,h)/2),d=this.safeNumber(e,"avg_price",d);const u=this.safeValue(e,"depth_price",e);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high_24h"),low:this.safeNumber2(e,"low","low_24h"),bid:this.safeNumber2(u,"best_bid","bid_price"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber2(u,"best_ask","ask_price"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:void 0,open:this.safeNumber(e,"open_24h"),close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:d,baseVolume:o,quoteVolume:c,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};let s;i.swap||i.future?(s="publicContractGetTickers",r.contractID=i.id):i.spot&&(s="publicSpotGetTicker",r.symbol=i.id);const a=await this[s](this.extend(r,t)),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"tickers",[]),c=this.indexBy(o,"symbol"),h=this.safeValue(c,i.id);return this.parseTicker(h,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options,"defaultType","spot"),r=this.safeString(t,"type",i);let s;t=this.omit(t,"type"),"swap"===r||"future"===r?s="publicContractGetTickers":"spot"===r&&(s="publicSpotGetTicker");const a=await this[s](t),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"tickers",[]),c={};for(let e=0;e<o.length;e++){const t=this.parseTicker(o[e]);c[t.symbol]=t}return this.filterByArray(c,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicAccountGetCurrencies(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currency"),a=this.safeCurrencyCode(i),n=this.safeString(t,"name"),o=this.safeValue(t,"withdraw_enabled"),c=this.safeValue(t,"deposit_enabled"),h=o&&c;s[a]={id:i,code:a,name:n,info:t,active:h,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};let a;r.spot?(a="publicSpotGetSymbolsBook",s.symbol=r.id,void 0!==t&&(s.size=t)):(r.swap||r.future)&&(a="publicContractGetDepth",s.contractID=r.id,void 0!==t&&(s.count=t));const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"data",{});return r.spot?this.parseOrderBook(o,e,void 0,"buys","sells","price","amount"):r.swap||r.future?this.parseOrderBook(o,e,void 0,"buys","sells","price","vol"):void 0}parseTrade(e,t){const i=this.safeString2(e,"trade_id","detail_id");let r=this.safeInteger2(e,"order_time","create_time");void 0===r&&(r=this.safeTimestamp(e,"s_t")),void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));const s=this.safeInteger(e,"way");let a,n=this.safeStringLower2(e,"type","side");void 0===n&&void 0!==s&&(n=s<5?"buy":"sell");const o=this.safeString(e,"exec_type");void 0!==o&&(a="M"===o?"maker":"taker");let c=this.safeString2(e,"price","deal_price");c=this.safeString(e,"price_avg",c);let h=this.safeString2(e,"count","deal_vol");h=this.safeString(e,"size",h);const d=this.safeString2(e,"amount","notional"),u=this.safeInteger(e,"order_id"),l=this.safeString2(e,"contract_id","symbol"),f=this.safeSymbol(l,t,"_"),p=this.safeString(e,"fees");let m;if(void 0!==p){const i=this.safeString(e,"fee_coin_name");let r=this.safeCurrencyCode(i);void 0===r&&void 0!==t&&(r="buy"===n?t.base:t.quote),m={cost:p,currency:r}}return this.safeTrade({info:e,id:i,order:u,timestamp:r,datetime:this.iso8601(r),symbol:f,type:void 0,side:n,price:c,amount:h,cost:d,takerOrMaker:a,fee:m},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};let n;s.spot?(a.symbol=s.id,n="publicSpotGetSymbolsTrades"):(s.swap||s.future)&&(n="publicContractGetTrades",a.contractID=s.id);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"trades",[]);return this.parseTrades(h,s,t,i)}parseOHLCV(e,t){return Array.isArray(e)?[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]:[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=a.type;let o;const c={},h=this.parseTimeframe(t);if("spot"===n){o="publicSpotGetSymbolsKline",c.symbol=a.id,c.step=this.timeframes[t];const e=500;if(void 0===r&&(r=e),r=Math.min(e,r),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-r*h;c.from=t,c.to=e}else{const e=parseInt(i/1e3),t=this.sum(e,r*h);c.from=e,c.to=t}}else if("swap"===n||"future"===n){o="publicContractGetQuote",c.contractID=a.id;const e=500;if(void 0===r&&(r=e),void 0===i){const e=parseInt(this.milliseconds()/1e3),t=e-r*h;c.startTime=t,c.endTime=e}else{const e=parseInt(i/1e3),t=this.sum(e,r*h);c.startTime=e,c.endTime=t}c.unit=this.timeframes[t],c.resolution="M"}const d=await this[o](this.extend(c,s)),u=this.safeValue(d,"data",{});if(Array.isArray(u))return this.parseOHLCVs(u,a,t,i,r);{const e=this.safeValue(u,"klines",[]);return this.parseOHLCVs(e,a,t,i,r)}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new u(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e);let a;const n={};s.spot?(n.symbol=s.id,n.offset=1,void 0===i&&(i=100),n.limit=i,a="privateSpotGetTrades"):(s.swap||s.future)&&(n.contractID=s.id,void 0!==i&&(n.size=i),a="privateContractGetUserTrades");const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"trades",[]);return this.parseTrades(h,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new u(this.id+" fetchOrderTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(t);let n;const o={};a.spot?(o.symbol=a.id,o.order_id=e,n="privateSpotGetTrades"):(a.swap||a.future)&&(o.contractID=a.id,o.orderID=e,n="privateContractGetOrderTrades");const c=await this[n](this.extend(o,s)),h=this.safeValue(c,"data",{}),d=this.safeValue(h,"trades",[]);return this.parseTrades(d,a,i,r)}async fetchBalance(e={}){let t;await this.loadMarkets();const i=this.safeValue(this.options,"fetchBalance",{}),r=this.safeString(this.options,"defaultType","spot");let s=this.safeString(i,"type",r);s=this.safeString(e,"type",s),e=this.omit(e,"type"),"spot"===s?t="privateSpotGetWallet":"account"===s?t="privateAccountGetWallet":"swap"!==s&&"future"!==s&&"contract"!==s||(t="privateContractGetAccounts");const a=await this[t](e),n=this.safeValue(a,"data",{}),o=this.safeValue2(n,"wallet","accounts",[]),c={info:a};for(let e=0;e<o.length;e++){const t=o[e];let i=this.safeString2(t,"id","currency");i=this.safeString(t,"coin_code",i);const r=this.safeCurrencyCode(i),s=this.account();s.free=this.safeString2(t,"available","available_vol"),s.used=this.safeString2(t,"frozen","freeze_vol"),c[r]=s}return this.parseBalance(c)}parseOrder(e,t){let i;"string"==typeof e&&(i=e,e={}),i=this.safeString(e,"order_id",i);let r=this.parse8601(this.safeString(e,"created_at"));r=this.safeInteger(e,"create_time",r);const s=this.safeString2(e,"symbol","contract_id"),a=this.safeSymbol(s,t,"_");let n;void 0!==t&&(n=this.parseOrderStatusByType(t.type,this.safeString(e,"status")));const o=this.safeString2(e,"size","vol"),c=this.safeString2(e,"filled_size","done_vol"),h=this.safeString2(e,"price_avg","done_avg_price"),d=this.safeString(e,"price"),u=this.safeString2(e,"way","side"),l=this.safeInteger(e,"category");let f=this.safeString(e,"type");return 1===l?f="limit":2===l&&(f="market"),this.safeOrder2({id:i,clientOrderId:void 0,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:f,timeInForce:void 0,postOnly:void 0,side:u,price:d,stopPrice:void 0,amount:o,cost:void 0,average:h,filled:c,remaining:void 0,status:n,fee:void 0,trades:void 0},t)}parseOrderStatusByType(e,t){const i=this.safeValue({spot:{1:"failed",2:"open",3:"failed",4:"open",5:"open",6:"closed",7:"canceling",8:"canceled"},swap:{1:"open",2:"open",4:"closed"}},e,{});return this.safeString(i,t,t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={};let c;if(n.spot){if(o.symbol=n.id,o.side=i,o.type=t,c="privateSpotPostSubmitOrder","limit"===t)o.size=this.amountToPrecision(e,r),o.price=this.priceToPrecision(e,s);else if("market"===t)if("buy"===i){let e=this.safeNumber(a,"notional");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new f(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const t=n.precision.price;o.notional=this.decimalToPrecision(e,k,t,this.precisionMode)}else"sell"===i&&(o.size=this.amountToPrecision(e,r))}else(n.swap||n.future)&&(c="privateContractPostSubmitOrder",o.contractID=n.id,"limit"===t?o.category=1:"market"===t&&(o.category=2),o.way=i,o.custom_id=this.nonce(),o.open_type=1,o.leverage=1,o.price=this.priceToPrecision(e,s),o.vol=this.amountToPrecision(e,r));const h=await this[c](this.extend(o,a)),d=this.safeValue(h,"data",{});return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={};let a;r.spot?(a="privateSpotPostCancelOrder",s.order_id=parseInt(e),s.symbol=r.id):(r.swap||r.future)&&(a="privateContractPostCancelOrders",s.contractID=r.id,s.orders=[parseInt(e)]);const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"data");if(!0===o)return this.parseOrder(e,r);const c=this.safeValue(o,"succeed");if(void 0!==c){if(void 0===(e=this.safeString(c,0)))throw new f(this.id+" cancelOrder() failed to cancel "+t+" order id "+e)}else if(!this.safeValue(o,"result"))throw new f(this.id+" cancelOrder() "+t+" order id "+e+" is filled or canceled");const h=this.parseOrder(e,r);return this.extend(h,{id:e})}async cancelAllOrders(e,t={}){if(void 0===e)throw new u(this.id+" cancelAllOrders() requires a symbol argument");const i=this.safeString(t,"side");if(void 0===i)throw new u(this.id+" cancelAllOrders() requires a `side` parameter ('buy' or 'sell')");await this.loadMarkets();const r=this.market(e);if(!r.spot)throw new b(this.id+" cancelAllOrders() does not support "+r.type+" orders, only spot orders are accepted");const s={symbol:r.id,side:i};return await this.privateSpotPostCancelOrders(this.extend(s,t))}async cancelOrders(e,t,i={}){if(void 0===t)throw new u(this.id+" canelOrders() requires a symbol argument");await this.loadMarkets();const r=this.market(t);if(!r.spot)throw new b(this.id+" cancelOrders() does not support "+r.type+" orders, only contract orders are accepted");const s=[];for(let t=0;t<e.length;t++)s.push(parseInt(e[t]));const a={orders:s};return await this.privateContractPostCancelOrders(this.extend(a,i))}async fetchOrdersByStatus(e,t,i,r,s={}){if(void 0===t)throw new u(this.id+" fetchOrdersByStatus() requires a symbol argument");await this.loadMarkets();const a=this.market(t),n={};let o;a.spot?(o="privateSpotGetOrders",n.symbol=a.id,n.offset=1,n.limit=100,n.status="open"===e?9:"closed"===e?6:e):(a.swap||a.future)&&(o="privateContractGetUserOrders",n.contractID=a.id,void 0!==r&&(n.size=r),n.status="open"===e?3:"closed"===e?4:e);const c=await this[o](this.extend(n,s)),h=this.safeValue(c,"data",{}),d=this.safeValue(h,"orders",[]);return this.parseOrders(d,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("open",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("closed",e,t,i,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new u(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e);if(!s.swap&&!s.future)throw new b(this.id+" fetchOrders does not support "+s.type+" markets, only contracts are supported");return await this.fetchOrdersByStatus(0,e,t,i,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={},s=this.market(t);let a;"string"!=typeof e&&(e=e.toString()),s.spot?(r.symbol=s.id,r.order_id=e,a="privateSpotGetOrderDetail"):(s.swap||s.future)&&(r.contractID=s.id,r.orderID=e,a="privateContractGetUserOrderInfo");const n=await this[a](this.extend(r,i)),o=this.safeValue(n,"data");if("orders"in o){const i=this.safeValue(o,"orders",[]),r=this.safeValue(i,0);if(void 0===r)throw new g(this.id+" fetchOrder() could not find "+t+" order id "+e);return this.parseOrder(r,s)}return this.parseOrder(o,s)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id};if("USDT"===e){const r=this.safeValue(this.options,"defaultNetworks"),s=this.safeStringUpper(r,e),a=this.safeValue(this.options,"networks",{});let n=this.safeStringUpper(t,"network",s);n=this.safeString(a,n,n),void 0!==n&&(i.currency+="-"+n,t=this.omit(t,"network"))}const r=await this.privateAccountGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeString(s,"address"),n=this.safeString(s,"address_memo");return this.checkAddress(a),{currency:e,address:a,tag:n,network:void 0,info:r}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a.id,amount:t,destination:"To Digital Address",address:i};if(void 0!==r&&(n.address_memo=r),"USDT"===e){const t=this.safeValue(this.options,"defaultNetworks"),i=this.safeStringUpper(t,e),r=this.safeValue(this.options,"networks",{});let a=this.safeStringUpper(s,"network",i);a=this.safeString(r,a,a),void 0!==a&&(n.currency+="-"+a,s=this.omit(s,"network"))}const o=await this.privateAccountPostWithdrawApply(this.extend(n,s)),c=this.safeValue(o,"data"),h=this.parseTransaction(c,a);return this.extend(h,{code:e,address:i,tag:r})}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets(),void 0===r&&(r=50);const a={operation_type:e,offset:1,limit:r};let n;void 0!==t&&(n=this.currency(t),a.currency=n.id);const o=await this.privateAccountGetDepositWithdrawHistory(this.extend(a,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"records",[]);return this.parseTransactions(h,n,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdraw",e,t,i,r)}parseTransactionStatus(e){return this.safeString({0:"pending",1:"pending",2:"pending",3:"ok",4:"canceled",5:"failed"},e,e)}parseTransaction(e,t){let i;const r=this.safeString(e,"withdraw_id"),s=this.safeString(e,"deposit_id");let a;void 0!==r&&""!==r?(a="withdraw",i=r):void 0!==s&&""!==s&&(a="deposit",i=s);const n=this.safeNumber(e,"arrival_amount"),o=this.safeInteger(e,"apply_time"),c=this.safeString(e,"currency"),h=this.safeCurrencyCode(c,t),d=this.parseTransactionStatus(this.safeString(e,"status")),u=this.safeNumber(e,"fee");let l;void 0!==u&&(l={cost:u,currency:h});let f=this.safeString(e,"tx_id");return""===f&&(f=void 0),{info:e,id:i,currency:h,amount:n,address:this.safeString(e,"address"),addressFrom:void 0,addressTo:void 0,tag:this.safeString(e,"address_memo"),tagFrom:void 0,tagTo:void 0,status:d,type:a,updated:void 0,txid:f,timestamp:o,datetime:this.iso8601(o),fee:l}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.safeString(t,0),o=this.safeString(t,1);let c=this.implodeHostname(this.urls.api.rest)+"/"+o;"system"!==o&&(c+="/"+this.version),c+="/"+this.implodeParams(e,r);const h=this.omit(r,this.extractParams(e));if("system"===o)Object.keys(h).length&&(c+="?"+this.urlencode(h));else if("public"===n)Object.keys(h).length&&(c+="?"+this.urlencode(h));else if("private"===n){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t="";s={"X-BM-KEY":this.apiKey,"X-BM-TIMESTAMP":e},"POST"===i||"PUT"===i?(s["Content-Type"]="application/json",t=a=this.json(h)):Object.keys(h).length&&(t=this.urlencode(h),c+="?"+t);const r=e+"#"+this.uid+"#"+t,n=this.hmac(this.encode(r),this.encode(this.secret));s["X-BM-SIGN"]=n}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0===n)return;const h=this.safeString(n,"message"),d=this.safeString(n,"code");if(void 0!==d&&"1000"!==d||void 0!==h&&"OK"!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,d,e),this.throwExactlyMatchedException(this.exceptions.exact,h,e),this.throwBroadlyMatchedException(this.exceptions.broad,h,e),new l(e)}}}},87763:(e,t,i)=>{"use strict";const r=i(48819),{TICK_SIZE:s}=i(62115),{AuthenticationError:a,BadRequest:n,DDoSProtection:o,ExchangeError:c,ExchangeNotAvailable:h,InsufficientFunds:d,InvalidOrder:u,OrderNotFound:l,PermissionDenied:f,ArgumentsRequired:p}=i(73449),m=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchIndexOHLCV:!1,fetchLedger:!0,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",withdraw:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:{public:"https://testnet.bitmex.com",private:"https://testnet.bitmex.com"},logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:{public:"https://www.bitmex.com",private:"https://www.bitmex.com"},www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/upZpOX"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/executionHistory","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":a,"This key is disabled.":f,"Access Denied":f,"Duplicate clOrdID":u,"orderQty is invalid":u,"Invalid price":u,"Invalid stopPx for ordType":u},broad:{"Signature not valid":a,overloaded:h,"Account has insufficient Available Balance":d,"Service unavailable":h,"Server Error":c,"Unable to cancel order due to existing state":u}},precisionMode:s,options:{"api-expires":5,fetchOHLCVOpenTimestamp:!0}})}async fetchMarkets(e={}){const t=await this.publicGetInstrumentActiveAndIndices(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s="Unlisted"!==r.state,a=r.symbol,n=r.underlying,o=r.quoteCurrency,c=n+o,h=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),u=a===c,l=this.safeString2(r,"positionCurrency","quoteCurrency");let f,p=!1,g=!1;const y=this.safeCurrencyCode(l);let b=a;u?(f="swap",b=h+"/"+d):a.indexOf("B_")>=0?(g=!0,f="prediction"):(p=!0,f="future");const v={amount:void 0,price:void 0},w=this.safeNumber(r,"lotSize"),k=this.safeNumber(r,"tickSize");void 0!==w&&(v.amount=w),void 0!==k&&(v.price=k);const S=this.parseNumber(m.stringDiv("1",this.safeString(r,"initMargin","1"))),_={amount:{min:void 0,max:void 0},price:{min:k,max:this.safeNumber(r,"maxPrice")},cost:{min:void 0,max:void 0},leverage:{max:S}};_[y===d?"cost":"amount"]={min:w,max:this.safeNumber(r,"maxOrderQty")},i.push({id:a,symbol:b,base:h,quote:d,baseId:n,quoteId:o,active:s,precision:v,limits:_,taker:this.safeNumber(r,"takerFee"),maker:this.safeNumber(r,"makerFee"),type:f,spot:!1,swap:u,future:p,prediction:g,info:r})}return i}parseBalanceResponse(e){const t={info:e};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();let o=this.safeString(r,"availableMargin"),c=this.safeString(r,"marginBalance");"BTC"===a&&(o=m.stringDiv(o,"1e8"),c=m.stringDiv(c,"1e8")),n.free=o,n.total=c,t[a]=n}return this.parseBalance(t)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserMargin(this.extend({currency:"all"},e));return this.parseBalanceResponse(t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.depth=t);const s=await this.publicGetOrderBookL2(this.extend(r,i)),a={symbol:e,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let e=0;e<s.length;e++){const t=s[e],i="Sell"===t.side?"asks":"bids",r=this.safeNumber(t,"size"),n=this.safeNumber(t,"price");void 0!==n&&a[i].push([n,r])}return a.bids=this.sortBy(a.bids,0,!0),a.asks=this.sortBy(a.asks,0),a}async fetchOrder(e,t,i={}){const r={filter:{orderID:e}},s=await this.fetchOrders(t,void 0,void 0,this.deepExtend(r,i));if(1===s.length)return s[0];throw new l(this.id+": The order "+e+" not found.")}async fetchOrders(e,t,i,r={}){let s;await this.loadMarkets();let a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.startTime=this.iso8601(t)),void 0!==i&&(a.count=i),a=this.deepExtend(a,r),"filter"in a&&(a.filter=this.json(a.filter));const n=await this.privateGetOrder(a);return this.parseOrders(n,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.deepExtend({filter:{open:!0}},r))}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();let a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.startTime=this.iso8601(t)),void 0!==i&&(a.count=i),a=this.deepExtend(a,r),"filter"in a&&(a.filter=this.json(a.filter));const n=await this.privateGetExecutionTradeHistory(a);return this.parseTrades(n,s,t,i)}parseLedgerEntryType(e){return this.safeString({Withdrawal:"transaction",RealisedPNL:"margin",UnrealisedPNL:"margin",Deposit:"transaction",Transfer:"transfer",AffiliatePayout:"referral"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"transactID"),r=this.safeString(e,"account"),s=this.safeString(e,"tx"),a=this.parseLedgerEntryType(this.safeString(e,"transactType")),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n,t);let c=this.safeNumber(e,"amount");void 0!==c&&(c/=1e8);let h=this.parse8601(this.safeString(e,"transactTime"));void 0===h&&(h=0);let d=this.safeNumber(e,"fee",0);void 0!==d&&(d/=1e8);const u={cost:d,currency:o};let l=this.safeNumber(e,"walletBalance");void 0!==l&&(l/=1e8);const f=this.sum(l,-c);let p;c<0?(p="out",c=Math.abs(c)):p="in";const m=this.parseTransactionStatus(this.safeString(e,"transactStatus"));return{id:i,info:e,timestamp:h,datetime:this.iso8601(h),direction:p,account:r,referenceId:s,referenceAccount:void 0,type:a,currency:o,amount:c,before:f,after:l,status:m,fee:u}}async fetchLedger(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={};void 0!==i&&(a.count=i);const n=await this.privateGetUserWalletHistory(this.extend(a,r));return this.parseLedger(n,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.count=i);const a=await this.privateGetUserWalletHistory(this.extend(s,r)),n=this.filterByArray(a,"transactType",["Withdrawal","Deposit"],!1);let o;return void 0!==e&&(o=this.currency(e)),this.parseTransactions(n,o,t,i)}parseTransactionStatus(e){return this.safeString({Canceled:"canceled",Completed:"ok",Pending:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"transactID"),r=this.parse8601(this.safeString(e,"transactTime")),s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeStringLower(e,"transactType");let n,o,c;"withdrawal"===a&&(n=this.safeString(e,"address"),o=this.safeString(e,"tx"),c=n);let h=this.safeString(e,"amount");h=m.stringDiv(m.stringAbs(h),"1e8");let d=this.safeString(e,"fee");d=m.stringDiv(d,"1e8");const u={cost:this.parseNumber(d),currency:"BTC"};let l=this.safeString(e,"transactStatus");return void 0!==l&&(l=this.parseTransactionStatus(l)),{info:e,id:i,txid:void 0,timestamp:r,datetime:this.iso8601(r),addressFrom:o,address:n,addressTo:c,tagFrom:void 0,tag:void 0,tagTo:void 0,type:a,amount:this.parseNumber(h),currency:"BTC",status:l,updated:s,comment:void 0,fee:u}}async fetchTicker(e,t={}){if(await this.loadMarkets(),!this.market(e).active)throw new c(this.id+": symbol "+e+" is delisted");const i=await this.fetchTickers([e],t),r=this.safeValue(i,e);if(void 0===r)throw new c(this.id+" ticker symbol "+e+" not found");return r}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetInstrumentActiveAndIndices(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]),s=this.safeString(t,"symbol");void 0!==s&&(r[s]=t)}return this.filterByArray(r,"symbol",e)}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"prevPrice24h"),n=this.safeNumber(e,"lastPrice");return this.safeTicker({symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"askPrice"),askVolume:void 0,vwap:this.safeNumber(e,"vwap"),open:a,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"homeNotional24h"),quoteVolume:this.safeNumber(e,"foreignNotional24h"),info:e},t)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,binSize:this.timeframes[t],partial:!0};void 0!==r&&(n.count=r);const o=1e3*this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCVOpenTimestamp",!0);if(void 0!==i){let e=i;c&&(e=this.sum(e,o));const t=this.ymdhms(e);n.startTime=t}else n.reverse=!0;const h=await this.publicGetTradeBucketed(this.extend(n,s)),d=this.parseOHLCVs(h,a,t,i,r);if(c)for(let e=0;e<d.length;e++)d[e][0]=d[e][0]-o;return d}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString2(e,"avgPx","price"),s=this.safeString2(e,"size","lastQty"),a=this.safeString(e,"execCost"),n=m.stringDiv(m.stringAbs(a),"1e8"),o=this.safeString(e,"trdMatchID"),c=this.safeString(e,"orderID"),h=this.safeStringLower(e,"side");let d;const u=m.stringDiv(this.safeString(e,"execComm"),"1e8");if(void 0!==u){const t=this.safeString(e,"settlCurrency");d={cost:u,currency:this.safeCurrencyCode(t),rate:this.safeString(e,"commission")}}const l=this.safeString(e,"execType");let f;void 0!==u&&"Trade"===l&&(f=m.stringLt(u,"0")?"maker":"taker");const p=this.safeString(e,"symbol"),g=this.safeSymbol(p,t),y=this.safeStringLower(e,"ordType");return this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:g,id:o,order:c,type:y,takerOrMaker:f,side:h,price:r,cost:n,amount:s,fee:d},t)}parseOrderStatus(e){return this.safeString({New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"},e,e)}parseTimeInForce(e){return this.safeString({Day:"Day",GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"ordStatus")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.parse8601(this.safeString(e,"timestamp")),n=this.parse8601(this.safeString(e,"transactTime")),o=this.safeString(e,"price"),c=this.safeString(e,"orderQty"),h=this.safeString(e,"cumQty",0),d=this.safeString(e,"avgPx"),u=this.safeString(e,"orderID"),l=this.safeStringLower(e,"ordType"),f=this.safeStringLower(e,"side"),p=this.safeString(e,"clOrdID"),m=this.parseTimeInForce(this.safeString(e,"timeInForce")),g=this.safeNumber(e,"stopPx"),y="ParticipateDoNotInitiate"===this.safeString(e,"execInst");return this.safeOrder2({info:e,id:u,clientOrderId:p,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,symbol:s,type:l,timeInForce:m,postOnly:y,side:f,price:o,stopPrice:g,amount:c,cost:void 0,average:d,filled:h,remaining:void 0,status:i,fee:void 0,trades:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t?a.startTime=this.iso8601(t):a.reverse=!0,void 0!==i&&(a.count=i);const n=await this.publicGetTrade(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.capitalize(t),c={symbol:n.id,side:this.capitalize(i),orderQty:parseFloat(this.amountToPrecision(e,r)),ordType:o};if("Stop"===o||"StopLimit"===o||"MarketIfTouched"===o||"LimitIfTouched"===o){const t=this.safeNumber2(a,"stopPx","stopPrice");if(void 0===t)throw new p(this.id+" createOrder() requires a stopPx or stopPrice parameter for the "+o+" order type");c.stopPx=parseFloat(this.priceToPrecision(e,t)),a=this.omit(a,["stopPx","stopPrice"])}"Limit"!==o&&"StopLimit"!==o&&"LimitIfTouched"!==o||(c.price=parseFloat(this.priceToPrecision(e,s)));const h=this.safeString2(a,"clOrdID","clientOrderId");void 0!==h&&(c.clOrdID=h,a=this.omit(a,["clOrdID","clientOrderId"]));const d=await this.privatePostOrder(this.extend(c,a));return this.parseOrder(d,n)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={},c=this.safeString2(n,"origClOrdID","clientOrderId");if(void 0!==c){o.origClOrdID=c;const e=this.safeString(n,"clOrdID","clientOrderId");void 0!==e&&(o.clOrdID=e),n=this.omit(n,["origClOrdID","clOrdID","clientOrderId"])}else o.orderID=e;void 0!==s&&(o.orderQty=s),void 0!==a&&(o.price=a);const h=await this.privatePutOrder(this.extend(o,n));return this.parseOrder(h)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(i,"clOrdID","clientOrderId"),s={};void 0===r?s.orderID=e:(s.clOrdID=r,i=this.omit(i,["clOrdID","clientOrderId"]));const a=await this.privateDeleteOrder(this.extend(s,i)),n=this.safeValue(a,0,{}),o=this.safeString(n,"error");if(void 0!==o&&o.indexOf("Unable to cancel order due to existing state")>=0)throw new l(this.id+" cancelOrder() failed: "+o);return this.parseOrder(n)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;void 0!==e&&(r=this.market(e),i.symbol=r.id);const s=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(s,r)}async fetchPositions(e,t={}){return await this.loadMarkets(),await this.privateGetPosition(t)}isFiat(e){return"EUR"===e||"PLN"===e}async withdraw(e,t,i,r,s={}){if([r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets(),"BTC"!==e)throw new c(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");const a={currency:"XBt",amount:t,address:i},n=await this.privatePostUserRequestWithdrawal(this.extend(a,s));return{info:n,id:this.safeString(n,"transactID")}}handleErrors(e,t,i,r,s,a,h,d,u){if(void 0!==h){if(429===e)throw new o(this.id+" "+a);if(e>=400){const t=this.safeValue(h,"error",{}),i=this.safeString(t,"message"),r=this.id+" "+a;if(this.throwExactlyMatchedException(this.exceptions.exact,i,r),this.throwBroadlyMatchedException(this.exceptions.broad,i,r),400===e)throw new n(r);throw new c(r)}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+e;if("GET"===i)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{const e=this.safeString(r,"_format");void 0!==e&&(n+="?"+this.urlencode({_format:e}),r=this.omit(r,"_format"))}const o=this.urls.api[t]+n;if(this.apiKey&&this.secret){let e=i+n,t=this.safeInteger(this.options,"api-expires");s={"Content-Type":"application/json","api-key":this.apiKey},t=this.sum(this.seconds(),t),t=t.toString(),e+=t,s["api-expires"]=t,"POST"!==i&&"PUT"!==i&&"DELETE"!==i||Object.keys(r).length&&(e+=a=this.json(r)),s["api-signature"]=this.hmac(this.encode(e),this.encode(this.secret))}return{url:o,method:i,body:a,headers:s}}}},93223:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeError:a,PermissionDenied:n,BadRequest:o,ArgumentsRequired:c,OrderNotFound:h,InsufficientFunds:d,ExchangeNotAvailable:u,DDoSProtection:l,InvalidAddress:f,InvalidOrder:p}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitpanda",name:"Bitpanda Pro",countries:["AT"],rateLimit:300,version:"v1",has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,privateAPI:!0,publicAPI:!0,withdraw:!0},timeframes:{"1m":"1/MINUTES","5m":"5/MINUTES","15m":"15/MINUTES","30m":"30/MINUTES","1h":"1/HOURS","4h":"4/HOURS","1d":"1/DAYS","1w":"1/WEEKS","1M":"1/MONTHS"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87591171-9a377d80-c6f0-11ea-94ac-97a126eac3bc.jpg",api:{public:"https://api.exchange.bitpanda.com/public",private:"https://api.exchange.bitpanda.com/public"},www:"https://www.bitpanda.com/en/pro",doc:["https://developers.bitpanda.com/exchange/"],fees:"https://www.bitpanda.com/en/pro/fees"},api:{public:{get:["currencies","candlesticks/{instrument_code}","fees","instruments","order-book/{instrument_code}","market-ticker","market-ticker/{instrument_code}","price-ticks/{instrument_code}","time"]},private:{get:["account/balances","account/deposit/crypto/{currency_code}","account/deposit/fiat/EUR","account/deposits","account/deposits/bitpanda","account/withdrawals","account/withdrawals/bitpanda","account/fees","account/orders","account/orders/{order_id}","account/orders/{order_id}/trades","account/trades","account/trades/{trade_id}","account/trading-volume"],post:["account/deposit/crypto","account/withdraw/crypto","account/withdraw/fiat","account/fees","account/orders"],delete:["account/orders","account/orders/{order_id}","account/orders/client/{client_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.0015"),maker:this.parseNumber("0.001"),tiers:[{taker:[[this.parseNumber("0"),this.parseNumber("0.0015")],[this.parseNumber("100"),this.parseNumber("0.0013")],[this.parseNumber("250"),this.parseNumber("0.0013")],[this.parseNumber("1000"),this.parseNumber("0.001")],[this.parseNumber("5000"),this.parseNumber("0.0009")],[this.parseNumber("10000"),this.parseNumber("0.00075")],[this.parseNumber("20000"),this.parseNumber("0.00065")]],maker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("100"),this.parseNumber("0.001")],[this.parseNumber("250"),this.parseNumber("0.0009")],[this.parseNumber("1000"),this.parseNumber("0.00075")],[this.parseNumber("5000"),this.parseNumber("0.0006")],[this.parseNumber("10000"),this.parseNumber("0.0005")],[this.parseNumber("20000"),this.parseNumber("0.0005")]]}]}},requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{INVALID_CLIENT_UUID:p,ORDER_NOT_FOUND:h,ONLY_ONE_ERC20_ADDRESS_ALLOWED:f,DEPOSIT_ADDRESS_NOT_USED:f,INVALID_CREDENTIALS:s,MISSING_CREDENTIALS:s,INVALID_APIKEY:s,INVALID_SCOPES:s,INVALID_SUBJECT:s,INVALID_ISSUER:s,INVALID_AUDIENCE:s,INVALID_DEVICE_ID:s,INVALID_IP_RESTRICTION:s,APIKEY_REVOKED:s,APIKEY_EXPIRED:s,SYNCHRONIZER_TOKEN_MISMATCH:s,SESSION_EXPIRED:s,INTERNAL_ERROR:s,CLIENT_IP_BLOCKED:n,MISSING_PERMISSION:n,ILLEGAL_CHARS:o,UNSUPPORTED_MEDIA_TYPE:o,ACCOUNT_HISTORY_TIME_RANGE_TOO_BIG:o,CANDLESTICKS_TIME_RANGE_TOO_BIG:o,INVALID_INSTRUMENT_CODE:o,INVALID_ORDER_TYPE:o,INVALID_UNIT:o,INVALID_PERIOD:o,INVALID_TIME:o,INVALID_DATE:o,INVALID_CURRENCY:o,INVALID_AMOUNT:o,INVALID_PRICE:o,INVALID_LIMIT:o,INVALID_QUERY:o,INVALID_CURSOR:o,INVALID_ACCOUNT_ID:o,INVALID_SIDE:p,INVALID_ACCOUNT_HISTORY_FROM_TIME:o,INVALID_ACCOUNT_HISTORY_MAX_PAGE_SIZE:o,INVALID_ACCOUNT_HISTORY_TIME_PERIOD:o,INVALID_ACCOUNT_HISTORY_TO_TIME:o,INVALID_CANDLESTICKS_GRANULARITY:o,INVALID_CANDLESTICKS_UNIT:o,INVALID_ORDER_BOOK_DEPTH:o,INVALID_ORDER_BOOK_LEVEL:o,INVALID_PAGE_CURSOR:o,INVALID_TIME_RANGE:o,INVALID_TRADE_ID:o,INVALID_UI_ACCOUNT_SETTINGS:o,NEGATIVE_AMOUNT:p,NEGATIVE_PRICE:p,MIN_SIZE_NOT_SATISFIED:p,BAD_AMOUNT_PRECISION:p,BAD_PRICE_PRECISION:p,BAD_TRIGGER_PRICE_PRECISION:p,MAX_OPEN_ORDERS_EXCEEDED:o,MISSING_PRICE:p,MISSING_ORDER_TYPE:p,MISSING_SIDE:p,MISSING_CANDLESTICKS_PERIOD_PARAM:c,MISSING_CANDLESTICKS_UNIT_PARAM:c,MISSING_FROM_PARAM:c,MISSING_INSTRUMENT_CODE:c,MISSING_ORDER_ID:p,MISSING_TO_PARAM:c,MISSING_TRADE_ID:c,INVALID_ORDER_ID:h,NOT_FOUND:h,INSUFFICIENT_LIQUIDITY:d,INSUFFICIENT_FUNDS:d,NO_TRADING:u,SERVICE_UNAVAILABLE:u,GATEWAY_TIMEOUT:u,RATELIMIT:l,CF_RATELIMIT:l,INTERNAL_SERVER_ERROR:a},broad:{}},commonCurrencies:{MIOTA:"IOTA"},options:{fetchTradingFees:{method:"fetchPrivateTradingFees"},fiat:["EUR","CHF"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"epoch_millis")}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"code"),a=this.safeCurrencyCode(s);i[a]={id:s,code:a,name:void 0,info:r,active:void 0,fee:void 0,precision:this.safeInteger(r,"precision"),limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeValue(r,"base",{}),a=this.safeValue(r,"quote",{}),n=this.safeString(s,"code"),o=this.safeString(a,"code"),c=n+"_"+o,h=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),u=h+"/"+d,l={amount:this.safeInteger(r,"amount_precision"),price:this.safeInteger(r,"market_precision")},f={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(r,"min_size"),max:void 0}},p="ACTIVE"===this.safeString(r,"state");i.push({info:r,id:c,symbol:u,base:h,quote:d,baseId:n,quoteId:o,precision:l,limits:f,type:"spot",spot:!0,active:p})}return i}async fetchTradingFees(e={}){let t=this.safeString(e,"method");if(e=this.omit(e,"method"),void 0===t){const e=this.safeValue(this.options,"fetchTradingFees",{});t=this.safeString(e,"method","fetchPrivateTradingFees")}return await this[t](e)}async fetchPublicTradingFees(e={}){await this.loadMarkets();const t=await this.publicGetFees(e),i=this.indexBy(t,"fee_group_id"),r=this.safeValue(this.options,"fee_group_id","default"),s=this.safeValue(i,r,{}),a=this.safeValue(s,"fee_tiers"),n={};for(let e=0;e<this.symbols.length;e++){const t=this.symbols[e],i={info:s,symbol:t,maker:void 0,taker:void 0,percentage:!0,tierBased:!0},r=[],o=[];for(let e=0;e<a.length;e++){const t=a[e],s=this.safeNumber(t,"volume");let n=this.safeNumber(t,"taker_fee"),c=this.safeNumber(t,"maker_fee");n/=100,c/=100,r.push([s,n]),o.push([s,c]),0===e&&(i.taker=n,i.maker=c)}const c={taker:r,maker:o};i.tiers=c,n[t]=i}return n}async fetchPrivateTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccountFees(e),i=this.safeValue(t,"active_fee_tier",{}),r={info:t,maker:this.safeNumber(i,"maker_fee"),taker:this.safeNumber(i,"taker_fee"),percentage:!0,tierBased:!0},s=this.safeValue(t,"fee_tiers"),a=[],n=[];for(let e=0;e<s.length;e++){const t=s[e],i=this.safeNumber(t,"volume");let r=this.safeNumber(t,"taker_fee"),o=this.safeNumber(t,"maker_fee");r/=100,o/=100,a.push([i,r]),n.push([i,o])}const o={taker:a,maker:n};return r.tiers=o,r}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"instrument_code"),s=this.safeSymbol(r,t,"_"),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"price_change_percentage"),o=this.safeNumber(e,"price_change"),c=this.safeNumber(e,"base_volume"),h=this.safeNumber(e,"quote_volume"),d=this.vwap(c,h);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"best_bid"),bidVolume:void 0,ask:this.safeNumber(e,"best_ask"),askVolume:void 0,vwap:d,open:void 0,close:a,last:a,previousClose:void 0,change:o,percentage:n,average:void 0,baseVolume:c,quoteVolume:h,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument_code:i.id},s=await this.publicGetMarketTickerInstrumentCode(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTicker(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument_code:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetOrderBookInstrumentCode(this.extend(r,i)),a=this.parse8601(this.safeString(s,"time"));return this.parseOrderBook(s,e,a,"bids","asks","price","amount")}parseOHLCV(e,t){const i=this.safeValue(e,"granularity"),r=this.safeString(i,"unit"),s=this.safeString(i,"period")+this.safeString({MINUTES:"m",HOURS:"h",DAYS:"d",WEEKS:"w",MONTHS:"M"},r),a=1e3*this.parseTimeframe(s),n=this.parse8601(this.safeString(e,"time")),o=a*parseInt(n/a),c=this.safeValue(this.options,"fetchOHLCV",{}),h=this.safeString(c,"volume","total_amount");return[o,this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,h)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(this.timeframes,t),[o,c]=n.split("/"),h=1e3*this.parseTimeframe(t);void 0===r&&(r=1500);const d={instrument_code:a.id,period:o,unit:c};if(void 0===i){const e=this.milliseconds();d.to=this.iso8601(e),d.from=this.iso8601(e-r*h)}else d.from=this.iso8601(i),d.to=this.iso8601(this.sum(i,r*h));const u=await this.publicGetCandlesticksInstrumentCode(this.extend(d,s));return this.parseOHLCVs(u,a,t,i,r)}parseTrade(e,t){const i=this.safeValue(e,"fee",{});e=this.safeValue(e,"trade",e);let r=this.safeInteger(e,"trade_timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"time")));const s=this.safeStringLower2(e,"side","taker_side"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString(e,"volume"),c=this.safeString(e,"instrument_code"),h=this.safeSymbol(c,t,"_"),d=this.safeString(i,"fee_amount");let u,l;if(void 0!==d){const e=this.safeString(i,"fee_currency");l={cost:d,currency:this.safeCurrencyCode(e),rate:this.safeString(i,"fee_percentage")},u=this.safeStringLower(i,"fee_type")}return this.safeTrade({id:this.safeString2(e,"trade_id","sequence"),order:this.safeString(e,"order_id"),timestamp:r,datetime:this.iso8601(r),symbol:h,type:void 0,side:s,price:a,amount:n,cost:o,takerOrMaker:u,fee:l,info:e},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument_code:s.id};void 0!==t&&(a.from=this.iso8601(t),a.to=this.iso8601(this.sum(t,144e5)));const n=await this.publicGetPriceTicksInstrumentCode(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i=this.safeValue(t,"balances",[]),r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency_code"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"available"),n.used=this.safeString(t,"locked"),r[a]=n}return this.parseBalance(r)}parseDepositAddress(e,t){let i;void 0!==t&&(i=t.code);const r=this.safeString(e,"address"),s=this.safeString(e,"destination_tag");return this.checkAddress(r),{currency:i,address:r,tag:s,network:void 0,info:e}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privatePostAccountDepositCrypto(this.extend(r,t));return this.parseDepositAddress(s,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency_code:i.id},s=await this.privateGetAccountDepositCryptoCurrencyCode(this.extend(r,t));return this.parseDepositAddress(s,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;if(void 0!==e&&(a=this.currency(e),s.currency_code=a.id),void 0!==i&&(s.max_page_size=i),void 0!==t){if(void 0===this.safeString(r,"to"))throw new c(this.id+' fetchDeposits() requires a "to" iso8601 string param with the since argument is specified');s.from=this.iso8601(t)}const n=await this.privateGetAccountDeposits(this.extend(s,r)),o=this.safeValue(n,"deposit_history",[]);return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;if(void 0!==e&&(a=this.currency(e),s.currency_code=a.id),void 0!==i&&(s.max_page_size=i),void 0!==t){if(void 0===this.safeString(r,"to"))throw new c(this.id+' fetchWithdrawals() requires a "to" iso8601 string param with the since argument is specified');s.from=this.iso8601(t)}const n=await this.privateGetAccountWithdrawals(this.extend(s,r)),o=this.safeValue(n,"withdrawal_history",[]);return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:e,amount:this.currencyToPrecision(e,t)},o=this.safeValue(this.options,"fiat",[]),h=this.inArray(e,o),d=h?"privatePostAccountWithdrawFiat":"privatePostAccountWithdrawCrypto";if(h){if(void 0===this.safeString(s,"payout_account_id"))throw c(this.id+" withdraw() requires a payout_account_id param for fiat "+e+" withdrawals")}else{const e={address:i};void 0!==r&&(e.destination_tag=r),n.recipient=e}const u=await this[d](this.extend(n,s));return this.parseTransaction(u,a)}parseTransaction(e,t){const i=this.safeString(e,"transaction_id"),r=this.safeNumber(e,"amount"),s=this.parse8601(this.safeString(e,"time")),a=this.safeString(e,"currency");t=this.safeCurrency(a,t);const n=this.safeNumber2(e,"fee_amount","fee");let o;const c=this.safeString(e,"recipient"),h=this.safeString(e,"destination_tag");if(void 0!==n){const t=this.safeString(e,"fee_currency",a);o={cost:n,currency:this.safeCurrencyCode(t)}}return{info:e,id:i,currency:t.code,amount:r,address:c,addressFrom:void 0,addressTo:c,tag:h,tagFrom:void 0,tagTo:h,status:"ok",type:void 0,updated:void 0,txid:this.safeString(e,"blockchain_transaction_id"),timestamp:s,datetime:this.iso8601(s),fee:o}}parseOrderStatus(e){return this.safeString({FILLED:"open",FILLED_FULLY:"closed",FILLED_CLOSED:"canceled",FILLED_REJECTED:"rejected",OPEN:"open",REJECTED:"rejected",CLOSED:"canceled",FAILED:"failed",STOP_TRIGGERED:"triggered"},e,e)}parseOrder(e,t){const i=this.safeValue(e,"order",e),r=this.safeString(i,"order_id"),s=this.safeString(i,"client_id"),a=this.parse8601(this.safeString(i,"time")),n=this.parseOrderStatus(this.safeString(i,"status")),o=this.parseOrderStatus(n),c=this.safeString(i,"instrument_code"),h=this.safeSymbol(c,t,"_"),d=this.safeString(i,"price"),u=this.safeString(i,"amount"),l=this.safeString(i,"filled_amount"),f=this.safeStringLower(i,"side"),p=this.safeStringLower(i,"type"),m=this.parseTimeInForce(this.safeString(i,"time_in_force")),g=this.safeNumber(i,"trigger_price"),y=this.safeValue(i,"is_post_only"),b=this.safeValue(e,"trades",[]);return this.safeOrder2({id:r,clientOrderId:s,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:h,type:p,timeInForce:m,postOnly:y,side:f,price:d,stopPrice:g,amount:u,cost:void 0,average:void 0,filled:l,remaining:void 0,status:o,trades:b},t)}parseTimeInForce(e){return this.safeString({GOOD_TILL_CANCELLED:"GTC",GOOD_TILL_TIME:"GTT",IMMEDIATE_OR_CANCELLED:"IOC",FILL_OR_KILL:"FOK"},e,e)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),h={instrument_code:n.id,type:o,side:i.toUpperCase(),amount:this.amountToPrecision(e,r)};let d=!1;if("LIMIT"!==o&&"STOP"!==o||(d=!0),"STOP"===o){const i=this.safeNumber(a,"trigger_price");if(void 0===i)throw new c(this.id+" createOrder() requires a trigger_price param for "+t+" orders");h.trigger_price=this.priceToPrecision(e,i),a=this.omit(a,"trigger_price")}d&&(h.price=this.priceToPrecision(e,s));const u=this.safeString2(a,"clientOrderId","client_id");void 0!==u&&(h.client_id=u,a=this.omit(a,["clientOrderId","client_id"]));const l=await this.privatePostAccountOrders(this.extend(h,a));return this.parseOrder(l,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString2(i,"clientOrderId","client_id");i=this.omit(i,["clientOrderId","client_id"]);let s="privateDeleteAccountOrdersOrderId";const a={};return void 0!==r?(s="privateDeleteAccountOrdersClientClientId",a.client_id=r):a.order_id=e,await this[s](this.extend(a,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.market(e);i.instrument_code=t.id}return await this.privateDeleteAccountOrders(this.extend(i,t))}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={ids:e.join(",")};return await this.privateDeleteAccountOrders(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetAccountOrdersOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;if(void 0!==e&&(a=this.market(e),s.instrument_code=a.id),void 0!==t){if(void 0===this.safeString(r,"to"))throw new c(this.id+' fetchOrders() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');s.from=this.iso8601(t)}void 0!==i&&(s.max_page_size=i);const n=await this.privateGetAccountOrders(this.extend(s,r)),o=this.safeValue(n,"order_history",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOpenOrders(e,t,i,this.extend({with_cancelled_and_rejected:!0},r))}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={order_id:e};void 0!==r&&(a.max_page_size=r);const n=await this.privateGetAccountOrdersOrderIdTrades(this.extend(a,s)),o=this.safeValue(n,"trade_history",[]);let c;return void 0!==t&&(c=this.market(t)),this.parseTrades(o,c,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;if(void 0!==e&&(a=this.market(e),s.instrument_code=a.id),void 0!==t){if(void 0===this.safeString(r,"to"))throw new c(this.id+' fetchMyTrades() requires a "to" iso8601 string param with the since argument is specified, max range is 100 days');s.from=this.iso8601(t)}void 0!==i&&(s.max_page_size=i);const n=await this.privateGetAccountTrades(this.extend(s,r)),o=this.safeValue(n,"trade_history",[]);return this.parseTrades(o,a,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"private"===t&&(this.checkRequiredCredentials(),s={Accept:"application/json",Authorization:"Bearer "+this.apiKey},"POST"===i?(a=this.json(o),s["Content-Type"]="application/json"):Object.keys(o).length&&(n+="?"+this.urlencode(o))),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"error");if(void 0!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,d,e),new a(e)}}}},68120:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:h,DDoSProtection:d,InvalidNonce:u,AuthenticationError:l,RateLimitExceeded:f,PermissionDenied:p,BadRequest:m,BadSymbol:g,AccountSuspended:y,OrderImmediatelyFillable:b,OnMaintenance:v}=i(73449),{TRUNCATE:w}=i(62115),k=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitrue",name:"Bitrue",countries:["SG"],rateLimit:1e3,certified:!1,version:"v1",has:{cancelAllOrders:!1,cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!1,fetchDeposits:!0,fetchFundingFees:!1,fetchFundingHistory:!1,fetchFundingRate:!1,fetchFundingRateHistory:!1,fetchFundingRates:!1,fetchIndexOHLCV:!1,fetchIsolatedPositions:!1,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:"emulated",fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchPositions:!1,fetchPremiumIndexOHLCV:!1,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!1,fetchTransfers:!1,fetchWithdrawals:!0,setLeverage:!1,setMarginMode:!1,transfer:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","1d":"1d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/139516488-243a830d-05dd-446b-91c6-c1f18fe30c63.jpg",api:{v1:"https://www.bitrue.com/api/v1",v2:"https://www.bitrue.com/api/v2",kline:"https://www.bitrue.com/kline-api"},www:"https://www.bitrue.com",referral:"https://www.bitrue.com/activity/task/task-landing?inviteCode=EZWETQE&cn=900000",doc:["https://github.com/Bitrue-exchange/bitrue-official-api-docs"],fees:"https://bitrue.zendesk.com/hc/en-001/articles/4405479952537"},api:{kline:{public:{get:{"public.json":1,"public{currency}.json":1}}},v1:{public:{get:{ping:1,time:1,exchangeInfo:1,depth:{cost:1,byLimit:[[100,1],[500,5],[1e3,10]]},trades:1,historicalTrades:5,aggTrades:1,"ticker/24hr":{cost:1,noSymbol:40},"ticker/price":{cost:1,noSymbol:2},"ticker/bookTicker":{cost:1,noSymbol:2}}},private:{get:{order:1,openOrders:1,allOrders:5,account:5,myTrades:{cost:5,noSymbol:40},"etf/net-value/{symbol}":1,"withdraw/history":1,"deposit/history":1},post:{order:4,"withdraw/commit":1},delete:{order:1}}},v2:{private:{get:{myTrades:5}}}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:this.parseNumber("0.0098"),maker:this.parseNumber("0.0098")},future:{trading:{feeSide:"quote",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000400"),maker:this.parseNumber("0.000200"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000400")],[this.parseNumber("250"),this.parseNumber("0.000400")],[this.parseNumber("2500"),this.parseNumber("0.000350")],[this.parseNumber("7500"),this.parseNumber("0.000320")],[this.parseNumber("22500"),this.parseNumber("0.000300")],[this.parseNumber("50000"),this.parseNumber("0.000270")],[this.parseNumber("100000"),this.parseNumber("0.000250")],[this.parseNumber("200000"),this.parseNumber("0.000220")],[this.parseNumber("400000"),this.parseNumber("0.000200")],[this.parseNumber("750000"),this.parseNumber("0.000170")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000200")],[this.parseNumber("250"),this.parseNumber("0.000160")],[this.parseNumber("2500"),this.parseNumber("0.000140")],[this.parseNumber("7500"),this.parseNumber("0.000120")],[this.parseNumber("22500"),this.parseNumber("0.000100")],[this.parseNumber("50000"),this.parseNumber("0.000080")],[this.parseNumber("100000"),this.parseNumber("0.000060")],[this.parseNumber("200000"),this.parseNumber("0.000040")],[this.parseNumber("400000"),this.parseNumber("0.000020")],[this.parseNumber("750000"),this.parseNumber("0")]]}}},delivery:{trading:{feeSide:"base",tierBased:!0,percentage:!0,taker:this.parseNumber("0.000500"),maker:this.parseNumber("0.000100"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.000500")],[this.parseNumber("250"),this.parseNumber("0.000450")],[this.parseNumber("2500"),this.parseNumber("0.000400")],[this.parseNumber("7500"),this.parseNumber("0.000300")],[this.parseNumber("22500"),this.parseNumber("0.000250")],[this.parseNumber("50000"),this.parseNumber("0.000240")],[this.parseNumber("100000"),this.parseNumber("0.000240")],[this.parseNumber("200000"),this.parseNumber("0.000240")],[this.parseNumber("400000"),this.parseNumber("0.000240")],[this.parseNumber("750000"),this.parseNumber("0.000240")]],maker:[[this.parseNumber("0"),this.parseNumber("0.000100")],[this.parseNumber("250"),this.parseNumber("0.000080")],[this.parseNumber("2500"),this.parseNumber("0.000050")],[this.parseNumber("7500"),this.parseNumber("0.0000030")],[this.parseNumber("22500"),this.parseNumber("0")],[this.parseNumber("50000"),this.parseNumber("-0.000050")],[this.parseNumber("100000"),this.parseNumber("-0.000060")],[this.parseNumber("200000"),this.parseNumber("-0.000070")],[this.parseNumber("400000"),this.parseNumber("-0.000080")],[this.parseNumber("750000"),this.parseNumber("-0.000090")]]}}}},options:{hasAlreadyAuthenticatedSuccessfully:!1,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"FULL"},networks:{SPL:"SOLANA",SOL:"SOLANA",DOGE:"dogecoin",ADA:"Cardano"}},exceptions:{exact:{"System is under maintenance.":v,"System abnormality":s,"You are not authorized to execute this request.":p,"API key does not exist":l,"Order would trigger immediately.":b,"Stop price would trigger immediately.":b,"Order would immediately match and take.":b,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n,"You don't have permission.":p,"Market is closed.":n,"Too many requests. Please try again later.":d,"-1000":n,"-1001":n,"-1002":l,"-1003":f,"-1013":h,"-1015":f,"-1016":n,"-1020":m,"-1021":u,"-1022":l,"-1100":m,"-1101":m,"-1102":m,"-1103":m,"-1104":m,"-1105":m,"-1106":m,"-1111":m,"-1112":h,"-1114":m,"-1115":m,"-1116":m,"-1117":m,"-1118":m,"-1119":m,"-1120":m,"-1121":g,"-1125":l,"-1127":m,"-1128":m,"-1130":m,"-1131":m,"-2008":l,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l,"-2019":o,"-3005":o,"-3006":o,"-3008":o,"-3010":s,"-3015":s,"-3022":y,"-4028":m,"-3020":o,"-3041":o,"-5013":o,"-11008":o,"-4051":o},broad:{"has no operation privilege":p,MAX_POSITION:h}}})}costToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.quote,this.precisionMode,this.paddingMode)}currencyToPrecision(e,t){return void 0!==this.safeValue(this.currencies[e],"precision")?this.decimalToPrecision(t,w,this.currencies[e].precision,this.precisionMode,this.paddingMode):this.numberToString(t)}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchStatus(e={}){const t=await this.v1PublicGetPing(e),i=Object.keys(t).length?"maintenance":"ok";return this.status=this.extend(this.status,{status:i,updated:this.milliseconds()}),this.status}async fetchTime(e={}){const t=await this.v1PublicGetTime(e);return this.safeInteger(t,"serverTime")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options.timeDifference=i-t,this.options.timeDifference}safeNetwork(e){const t=e.toUpperCase();return this.safeString2({Aeternity:"Aeternity",AION:"AION",Algorand:"Algorand",ASK:"ASK",ATOM:"ATOM","AVAX C-Chain":"AVAX C-Chain",bch:"bch",BCH:"BCH",BEP2:"BEP2",BEP20:"BEP20",Bitcoin:"Bitcoin",BRP20:"BRP20",Cardano:"ADA",CasinoCoin:"CasinoCoin","CasinoCoin XRPL":"CasinoCoin XRPL",Contentos:"Contentos",Dash:"Dash",Decoin:"Decoin",DeFiChain:"DeFiChain",DGB:"DGB",Divi:"Divi",dogecoin:"DOGE",EOS:"EOS",ERC20:"ERC20",ETC:"ETC",Filecoin:"Filecoin",FREETON:"FREETON",HBAR:"HBAR","Hedera Hashgraph":"Hedera Hashgraph",HRC20:"HRC20",ICON:"ICON",ICP:"ICP",Ignis:"Ignis","Internet Computer":"Internet Computer",IOTA:"IOTA",KAVA:"KAVA",KSM:"KSM",LiteCoin:"LiteCoin",Luna:"Luna",MATIC:"MATIC","Mobile Coin":"Mobile Coin",MonaCoin:"MonaCoin",Monero:"Monero",NEM:"NEM",NEP5:"NEP5",OMNI:"OMNI",PAC:"PAC",Polkadot:"Polkadot",Ravencoin:"Ravencoin",Safex:"Safex",SOLANA:"SOL",Songbird:"Songbird","Stellar Lumens":"Stellar Lumens",Symbol:"Symbol",Tezos:"XTZ",theta:"theta",THETA:"THETA",TRC20:"TRC20",VeChain:"VeChain",VECHAIN:"VECHAIN",Wanchain:"Wanchain","XinFin Network":"XinFin Network",XRP:"XRP",XRPL:"XRPL",ZIL:"ZIL"},e,t,e)}async fetchCurrencies(e={}){const t=await this.v1PublicGetExchangeInfo(e),i={},r=this.safeValue(t,"coins",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"coin"),a=this.safeString(t,"coinFulName"),n=this.safeCurrencyCode(s),o=this.safeValue(t,"enableDeposit"),c=this.safeValue(t,"enableWithdraw"),h=void 0,d=this.safeValue(t,"chains",[]),u={};for(let e=0;e<d.length;e++){const t=d[e],i=this.safeNetwork(t);u[i]={info:t,id:t,network:i,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0}}}}const l=c&&o;i[n]={id:s,name:a,code:n,precision:h,info:t,active:l,networks:u,fee:this.safeNumber(t,"withdrawFee"),limits:{withdraw:{min:this.safeNumber(t,"minWithdraw"),max:this.safeNumber(t,"maxWithdraw")}}}}return i}async fetchMarkets(e={}){const t=await this.v1PublicGetExchangeInfo(e);this.options.adjustForTimeDifference&&await this.loadTimeDifference();const i=this.safeValue(t,"symbols",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeStringLower(t,"symbol"),n=this.safeString(t,"baseAsset"),o=this.safeString(t,"quoteAsset"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=this.safeValue(t,"filters",[]),l=this.indexBy(u,"filterType"),f={base:this.safeInteger(t,"baseAssetPrecision"),quote:this.safeInteger(t,"quotePrecision"),amount:this.safeInteger(t,"quantityPrecision"),price:this.safeInteger(t,"pricePrecision")},p={id:s,lowercaseId:a,symbol:d,base:c,quote:h,baseId:n,quoteId:o,info:t,spot:!0,type:"spot",margin:!1,future:!1,delivery:!1,linear:!1,inverse:!1,expiry:void 0,expiryDatetime:void 0,active:"TRADING"===this.safeString(t,"status"),precision:f,contractSize:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}};if("PRICE_FILTER"in l){const e=this.safeValue(l,"PRICE_FILTER",{});p.limits.price={min:this.safeNumber(e,"minPrice"),max:this.safeNumber(e,"maxPrice")},p.precision.price=this.safeInteger(e,"priceScale")}if("LOT_SIZE"in l){const e=this.safeValue(l,"LOT_SIZE",{});p.precision.amount=this.safeInteger(e,"volumeScale"),p.limits.amount={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")},p.limits.cost.min=this.safeNumber(e,"minVal")}r.push(p)}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1PrivateGetAccount(e),i={info:t},r=this.safeInteger(t,"updateTime"),s=this.safeValue2(t,"balances",[]);for(let e=0;e<s.length;e++){const t=s[e],r=this.safeString(t,"asset"),a=this.safeCurrencyCode(r),n=this.account();n.free=this.safeString(t,"free"),n.used=this.safeString(t,"locked"),i[a]=n}return i.timestamp=r,i.datetime=this.iso8601(r),this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.v1PublicGetDepth(this.extend(r,i)),a=this.parseOrderBook(s,e);return a.nonce=this.safeInteger(s,"lastUpdateId"),a}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.safeNumber(e,"last");return this.safeTicker({symbol:i,timestamp:void 0,datetime:void 0,high:this.safeNumber(e,"high24hr"),low:this.safeNumber(e,"low24hr"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"percentChange"),average:void 0,baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeStringUpper(i,"baseId"),a=this.safeStringUpper(i,"quoteId"),n={currency:a,command:"returnTicker"},o=await this.klinePublicGetPublicCurrencyJson(this.extend(n,t)),c=this.safeValue(o,"data",{}),h=r+"_"+a,d=this.safeValue(c,h);if(void 0===d)throw new s(this.id+" fetchTicker() could not find the ticker for "+i.symbol);return this.parseTicker(d,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchBidsAsks","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let a;a="future"===r?"fapiPublicGetTickerBookTicker":"delivery"===r?"dapiPublicGetTickerBookTicker":"publicGetTickerBookTicker";const n=await this[a](s);return this.parseTickers(n,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.klinePublicGetPublicJson(this.extend({command:"returnTicker"},t)),r=this.safeValue(i,"data",{}),s=Object.keys(r),a={};for(let e=0;e<s.length;e++){const t=s[e],[i,n]=t.split("_"),o=i+n,c=this.safeMarket(o),h=this.safeValue(r,t),d=this.parseTicker(h,c);a[d.symbol]=d}return a}parseTrade(e,t){const i=this.safeInteger2(e,"T","time"),r=this.safeString2(e,"p","price"),s=this.safeString2(e,"q","qty"),a=this.safeString(e,"symbol"),n=this.safeSymbol(a,t);let o,c=this.safeString2(e,"t","a");c=this.safeString2(e,"id","tradeId",c);const h=this.safeString(e,"orderId");let d,u;return"m"in e?o=e.m?"sell":"buy":"isBuyerMaker"in e?o=e.isBuyerMaker?"sell":"buy":"side"in e?o=this.safeStringLower(e,"side"):"isBuyer"in e&&(o=e.isBuyer?"buy":"sell"),"commission"in e&&(d={cost:this.safeString(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))}),"isMaker"in e&&(u=e.isMaker?"maker":"taker"),"maker"in e&&(u=e.maker?"maker":"taker"),this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,id:c,order:h,type:void 0,side:o,takerOrMaker:u,price:r,amount:s,cost:void 0,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=this.safeString(this.options,"fetchTradesMethod","v1PublicGetAggTrades");void 0!==i&&(a.limit=i);const o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeString(e,"executedQty");let n,o;"time"in e?n=this.safeInteger(e,"time"):"transactTime"in e?n=this.safeInteger(e,"transactTime"):"updateTime"in e&&"open"===i&&(k.stringGt(a,"0")?o=this.safeInteger(e,"updateTime"):n=this.safeInteger(e,"updateTime"));const c=this.safeString(e,"avgPrice"),h=this.safeString(e,"price"),d=this.safeString(e,"origQty"),u=this.safeString2(e,"cummulativeQuoteQty","cumQuote"),l=this.safeString(e,"orderId");let f=this.safeStringLower(e,"type");const p=this.safeStringLower(e,"side"),m=this.safeValue(e,"fills",[]);let g=this.safeString(e,"clientOrderId");""===g&&(g=void 0);const y=this.safeString(e,"timeInForce"),b="limit_maker"===f||"GTX"===y;"limit_maker"===f&&(f="limit");const v=this.safeString(e,"stopPrice"),w=this.parseNumber(this.omitZero(v));return this.safeOrder2({info:e,id:l,clientOrderId:g,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:o,symbol:s,type:f,timeInForce:y,postOnly:b,side:p,price:h,stopPrice:w,amount:d,cost:u,average:c,filled:a,remaining:void 0,status:i,fee:void 0,trades:m},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c=this.safeValue(n.info,"orderTypes");if(!this.inArray(o,c))throw new h(this.id+" "+t+" is not a valid order type in market "+e);const d={symbol:n.id,side:i.toUpperCase(),type:o,quantity:this.amountToPrecision(e,r)},u=this.safeString2(a,"newClientOrderId","clientOrderId");if(void 0!==u&&(a=this.omit(a,["newClientOrderId","clientOrderId"]),d.newClientOrderId=u),"LIMIT"===o){if(void 0===s)throw new h(this.id+" createOrder() requires a price argument");d.price=this.priceToPrecision(e,s)}const l=this.safeNumber(a,"stopPrice");void 0!==l&&(a=this.omit(a,"stopPrice"),d.stopPrice=this.priceToPrecision(e,l));const f=await this.v1PrivatePostOrder(this.extend(d,a));return this.parseOrder(f,n)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id},n=this.safeValue2(i,"origClientOrderId","clientOrderId");void 0!==n?s.origClientOrderId=n:s.orderId=e;const o=this.omit(i,["type","clientOrderId","origClientOrderId"]),c=await this.v1PrivateGetOrder(this.extend(s,o));return this.parseOrder(c,r)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id};void 0!==t&&(n.startTime=t),void 0!==i&&(n.limit=i);const o=await this.v1PrivateGetAllOrders(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id},o=await this.v1PrivateGetOpenOrders(this.extend(n,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeValue2(i,"origClientOrderId","clientOrderId"),n={symbol:r.id};void 0===s?n.orderId=e:n.origClientOrderId=s;const o=this.omit(i,["type","origClientOrderId","clientOrderId"]),c=await this.v1PrivateDeleteOrder(this.extend(n,o));return this.parseOrder(c,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==t&&(s.startTime=t),void 0!==i&&(s.limit=i);const n=await this.v1PrivateGetMyTrades(this.extend(s,r));return this.parseTrades(n,a,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchDeposits requires a code argument");await this.loadMarkets();const s=this.currency(e),n={coin:s.id,status:1};void 0!==t&&(n.startTime=t),void 0!==i&&(n.limit=i);const o=await this.v1PrivateGetDepositHistory(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals requires a code argument");await this.loadMarkets();const s=this.currency(e),n={coin:s.id,status:5};void 0!==t&&(n.startTime=t),void 0!==i&&(n.limit=i);const o=await this.v1PrivateGetWithdrawHistory(this.extend(n,r)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,s)}parseTransactionStatusByType(e,t){const i=this.safeValue({deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",5:"ok",6:"canceled"}},t,{});return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"tagType");let s=this.safeString(e,"addressTo");""===s&&(s=void 0);let a,n,o=this.safeString(e,"addressFrom");if(""===o&&(o=void 0),void 0!==r){if(void 0!==s){const e=s.split("_");s=this.safeString(e,0),a=this.safeString(e,1)}if(void 0!==o){const e=o.split("_");o=this.safeString(e,0),n=this.safeString(e,1)}}let c=this.safeString(e,"txid");""===c&&(c=void 0);const h=this.safeInteger(e,"createdAt"),d=this.safeInteger(e,"updatedAt"),u="payAmount"in e||"ctime"in e?"withdrawal":"deposit",l=this.parseTransactionStatusByType(this.safeString(e,"status"),u),f=this.safeNumber(e,"amount");let p,m=this.safeString(e,"symbol");if(void 0!==m){const e=m.split("_");m=this.safeString(e,0);const t=this.safeString(e,1);void 0!==t&&(p=t.toUpperCase())}const g=this.safeCurrencyCode(m,t),y=this.safeNumber(e,"fee");let b;return void 0!==y&&(b={currency:g,cost:y}),{info:e,id:i,txid:c,timestamp:h,datetime:this.iso8601(h),network:p,address:s,addressTo:s,addressFrom:o,tag:a,tagTo:a,tagFrom:n,type:u,amount:f,currency:g,status:l,updated:d,internal:!1,fee:b}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);let o=this.safeString(s,"chainName");if(void 0===o){const e=this.safeValue(n,"networks",{}),t=this.safeStringUpper(s,"network"),i=this.safeValue(e,t,{});if(o=this.safeString(i,"id"),void 0===o)throw new a(this.id+" withdraw requires a network parameter or a chainName parameter");s=this.omit(s,"network")}const c={coin:n.id.toUpperCase(),amount:t,addressTo:i,chainName:o};void 0!==r&&(c.tag=r);const h=await this.v1PrivatePostWithdrawCommit(this.extend(c,s));return{info:h,id:this.safeString(h,"id")}}sign(e,t="public",i="GET",r={},s,a){const[n,o]=t;let c=this.urls.api[n]+"/"+this.implodeParams(e,r);if(r=this.omit(r,this.extractParams(e)),"private"===o){this.checkRequiredCredentials();const e=this.safeInteger(this.options,"recvWindow",5e3);let t=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:e},r));t+="&signature="+this.hmac(this.encode(t),this.encode(this.secret)),s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i?c+="?"+t:(a=t,s["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(r).length&&(c+="?"+this.urlencode(r));return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,u){if(418===e||429===e)throw new d(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new h(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new h(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new h(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(void 0===o)return;const l=this.safeValue(o,"success",!0);if(!l){const e=this.safeString(o,"msg");let t;if(void 0!==e){try{t=JSON.parse(e)}catch(e){t=void 0}void 0!==t&&(o=t)}}const f=this.safeString(o,"msg");void 0!==f&&(this.throwExactlyMatchedException(this.exceptions.exact,f,this.id+" "+f),this.throwBroadlyMatchedException(this.exceptions.broad,f,this.id+" "+f));const p=this.safeString(o,"code");if(void 0!==p){if("200"===p||k.stringEquals(p,"0"))return;if("-2015"===p&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new d(this.id+" temporary banned: "+n);const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,p,e),new s(e)}if(!l)throw new s(this.id+" "+n)}calculateRateLimiterCost(e,t,i,r,s={},a={}){if("noSymbol"in s&&!("symbol"in r))return s.noSymbol;if("byLimit"in s&&"limit"in r){const e=r.limit,t=s.byLimit;for(let i=0;i<t.length;i++){const r=t[i];if(e<=r[0])return r[1]}}return this.safeInteger(s,"cost",1)}}},25686:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InvalidNonce:a,AuthenticationError:n,OrderNotFound:o}=i(73449),{TICK_SIZE:c}=i(62115),h=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295554-11f98280-c50e-11ea-80d6-15b3bafa8cbf.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees",referral:"https://bitso.com/?ref=itej"},precisionMode:c,options:{precision:{XRP:1e-6,MXN:.01,TUSD:.01},defaultPrecision:1e-8},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":n,104:a}})}async fetchMarkets(e={}){const t=await this.publicGetAvailableBooks(e),i=this.safeValue(t,"payload"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"book"),[a,n]=s.split("_");let o=a.toUpperCase(),c=n.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c,u={amount:{min:this.safeNumber(t,"minimum_amount"),max:this.safeNumber(t,"maximum_amount")},price:{min:this.safeNumber(t,"minimum_price"),max:this.safeNumber(t,"maximum_price")},cost:{min:this.safeNumber(t,"minimum_value"),max:this.safeNumber(t,"maximum_value")}},l=this.safeNumber(this.options.precision,c,this.options.defaultPrecision),f=this.safeNumber(t,"tick_size",l),p={amount:this.safeNumber(this.options.precision,o,this.options.defaultPrecision),price:f},m=this.safeValue(t,"fees",{}),g=this.safeValue(m,"flat_rate",{}),y=this.safeString(g,"maker"),b=this.safeString(g,"taker"),v=this.parseNumber(h.stringDiv(y,"100")),w=this.parseNumber(h.stringDiv(b,"100")),k=this.safeValue(m,"structure",[]),S={taker:w,maker:v,percentage:!0,tierBased:!0},_=[],M=[];for(let e=0;e<k.length;e++){const t=k[e],i=this.safeNumber(t,"volume"),r=this.safeNumber(t,"taker"),s=this.safeNumber(t,"maker");_.push([i,r]),M.push([i,s]),0===e&&(S.taker=r,S.maker=s)}const T={taker:_,maker:M};S.tiers=T,r.push(this.extend({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:t,limits:u,precision:p,type:"spot",spot:!0,active:void 0},S))}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"payload",{}),r=this.safeValue(i,"balances"),s={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currency"),a=this.safeCurrencyCode(i),n=this.account();n.free=this.safeString(t,"available"),n.used=this.safeString(t,"locked"),n.total=this.safeString(t,"total"),s[a]=n}return this.parseBalance(s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={book:this.marketId(e)},s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"payload"),n=this.parse8601(this.safeString(a,"updated_at"));return this.parseOrderBook(a,e,n,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={book:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"payload"),a=this.parse8601(this.safeString(s,"created_at")),n=this.safeNumber(s,"vwap"),o=this.safeNumber(s,"volume");let c;void 0!==o&&void 0!==n&&(c=o*n);const h=this.safeNumber(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:n,open:void 0,close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:s}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"book"),s=this.safeSymbol(r,t,"_"),a=this.safeString2(e,"side","maker_side");let n;n=a===this.safeString(e,"maker_side")?"maker":"taker";let o,c=this.safeString2(e,"amount","major");void 0!==c&&(c=h.stringAbs(c));const d=this.safeString(e,"fees_amount");if(void 0!==d){const t=this.safeString(e,"fees_currency");o={cost:d,currency:this.safeCurrencyCode(t)}}let u=this.safeString(e,"minor");void 0!==u&&(u=h.stringAbs(u));const l=this.safeString(e,"price"),f=this.safeString(e,"oid"),p=this.safeString(e,"tid");return this.safeTrade({id:p,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:f,type:void 0,side:a,takerOrMaker:n,price:l,amount:c,cost:u,fee:o},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={book:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n.payload,s,t,i)}async fetchMyTrades(e,t,i=25,r={}){await this.loadMarkets();const a=this.market(e),n="marker"in r;if(void 0!==t&&!n)throw new s(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(r=this.extend(r,{marker:parseInt(r.marker)}));const o={book:a.id,limit:i},c=await this.privateGetUserTrades(this.extend(o,r));return this.parseTrades(c.payload,a,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={book:this.marketId(e),side:i,type:t,major:this.amountToPrecision(e,r)};"limit"===t&&(n.price=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(n,a));return{info:o,id:this.safeString(o.payload,"oid")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={oid:e};return await this.privateDeleteOrdersOid(this.extend(r,i))}parseOrderStatus(e){return this.safeString({"partial-fill":"open",completed:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"oid"),r=this.safeString(e,"side"),s=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeString(e,"book"),n=this.safeSymbol(a,t,"_"),o=this.safeString(e,"type"),c=this.parse8601(this.safeString(e,"created_at")),h=this.safeString(e,"price"),d=this.safeString(e,"original_amount"),u=this.safeString(e,"unfilled_amount"),l=this.safeString(e,"client_id");return this.safeOrder2({info:e,id:i,clientOrderId:l,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:n,type:o,timeInForce:void 0,postOnly:void 0,side:r,price:h,stopPrice:void 0,amount:d,cost:void 0,remaining:u,filled:void 0,status:s,fee:void 0,average:void 0,trades:void 0},t)}async fetchOpenOrders(e,t,i=25,r={}){await this.loadMarkets();const a=this.market(e),n="marker"in r;if(void 0!==t&&!n)throw new s(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(r=this.extend(r,{marker:parseInt(r.marker)}));const o={book:a.id,limit:i},c=await this.privateGetOpenOrders(this.extend(o,r));return this.parseOrders(c.payload,a,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privateGetOrdersOid({oid:e}),s=this.safeValue(r,"payload");if(Array.isArray(s)&&1===r.payload.length)return this.parseOrder(s[0]);throw new o(this.id+": The order "+e+" not found.")}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a=this.market(t),n={oid:e},o=await this.privateGetOrderTradesOid(this.extend(n,s));return this.parseTrades(o.payload,a)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={fund_currency:this.currency(e).id},r=await this.privateGetFundingDestination(this.extend(i,t));let s,a=this.safeString(r.payload,"account_identifier");if(a.indexOf("?dt=")>=0){const e=a.split("?dt=");a=this.safeString(e,0),s=this.safeString(e,1)}return this.checkAddress(a),{currency:e,address:a,tag:s,network:void 0,info:r}}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"},o=e in n?n[e]:void 0;if(void 0===o)throw new s(this.id+" not valid withdraw coin: "+e);const c={amount:t,address:i,destination_tag:r},h="privatePost"+o+"Withdrawal",d=await this[h](this.extend(c,a));return{info:d,id:this.safeString(d.payload,"wid")}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");"GET"!==i&&Object.keys(o).length&&(t+=a=this.json(o));const r=this.hmac(this.encode(t),this.encode(this.secret));s={Authorization:"Bitso "+this.apiKey+":"+e+":"+r,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"==typeof e&&(e="true"===e||"1"===e),!e){const e=this.id+" "+this.json(o),t=this.safeValue(o,"error");if(void 0===t)throw new s(e);const i=this.safeString(t,"code");throw this.throwExactlyMatchedException(this.exceptions,i,e),new s(e)}}}}},7653:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,BadRequest:a,ExchangeError:n,NotSupported:o,PermissionDenied:c,InvalidNonce:h,OrderNotFound:d,InsufficientFunds:u,InvalidAddress:l,InvalidOrder:f,ArgumentsRequired:p,OnMaintenance:m,ExchangeNotAvailable:g}=i(73449),y=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",userAgent:this.userAgents.chrome,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchIndexOHLCV:!1,fetchLedger:!0,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:{public:"https://www.bitstamp.net/api",private:"https://www.bitstamp.net/api"},www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"259200"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["ohlc/{pair}/","order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","cancel_all_orders/","cancel_all_orders/{pair}/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","btc_withdrawal/","btc_address/","ripple_withdrawal/","ripple_address/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","xlm_withdrawal/","xlm_address/","pax_withdrawal/","pax_address/","link_withdrawal/","link_address/","usdc_withdrawal/","usdc_address/","omg_withdrawal/","omg_address/","dai_withdrawal/","dai_address/","knc_withdrawal/","knc_address/","mkr_withdrawal/","mkr_address/","zrx_withdrawal/","zrx_address/","gusd_withdrawal/","gusd_address/","aave_withdrawal/","aave_address/","bat_withdrawal/","bat_address/","uma_withdrawal/","uma_address/","snx_withdrawal/","snx_address/","uni_withdrawal/","uni_address/","yfi_withdrawal/","yfi_address","audio_withdrawal/","audio_address/","crv_withdrawal/","crv_address/","algo_withdrawal/","algo_address/","comp_withdrawal/","comp_address/","grt_withdrawal","grt_address/","usdt_withdrawal/","usdt_address/","eurt_withdrawal/","eurt_address/","matic_withdrawal/","matic_address/","sushi_withdrawal/","sushi_address/","chz_withdrawal/","chz_address/","enj_withdrawal/","enj_address/","alpha_withdrawal/","alpha_address/","ftt_withdrawal/","ftt_address/","storj_withdrawal/","storj_address/","axs_withdrawal/","axs_address/","sand_withdrawal/","sand_address/","hbar_withdrawal/","hbar_address/","rgt_withdrawal/","rgt_address/","fet_withdrawal/","fet_address/","skl_withdrawal/","skl_address/","cel_withdrawal/","cel_address/","sxp_withdrawal/","sxp_address/","ada_withdrawal/","ada_address/","slp_withdrawal/","slp_address/","ftm_withdrawal/","ftm_address/","perp_withdrawal/","perp_address/","dydx_withdrawal/","dydx_address/","gala_withdrawal/","gala_address/","shib_withdrawal/","shib_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/","btc_unconfirmed/","websockets_token/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.005"),maker:this.parseNumber("0.005"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.005")],[this.parseNumber("20000"),this.parseNumber("0.0025")],[this.parseNumber("100000"),this.parseNumber("0.0024")],[this.parseNumber("200000"),this.parseNumber("0.0022")],[this.parseNumber("400000"),this.parseNumber("0.0020")],[this.parseNumber("600000"),this.parseNumber("0.0015")],[this.parseNumber("1000000"),this.parseNumber("0.0014")],[this.parseNumber("2000000"),this.parseNumber("0.0013")],[this.parseNumber("4000000"),this.parseNumber("0.0012")],[this.parseNumber("20000000"),this.parseNumber("0.0011")],[this.parseNumber("50000000"),this.parseNumber("0.0010")],[this.parseNumber("100000000"),this.parseNumber("0.0007")],[this.parseNumber("500000000"),this.parseNumber("0.0005")],[this.parseNumber("2000000000"),this.parseNumber("0.0003")],[this.parseNumber("6000000000"),this.parseNumber("0.0001")],[this.parseNumber("20000000000"),this.parseNumber("0.00005")],[this.parseNumber("20000000001"),this.parseNumber("0")]],maker:[[this.parseNumber("0"),this.parseNumber("0.005")],[this.parseNumber("20000"),this.parseNumber("0.0025")],[this.parseNumber("100000"),this.parseNumber("0.0024")],[this.parseNumber("200000"),this.parseNumber("0.0022")],[this.parseNumber("400000"),this.parseNumber("0.0020")],[this.parseNumber("600000"),this.parseNumber("0.0015")],[this.parseNumber("1000000"),this.parseNumber("0.0014")],[this.parseNumber("2000000"),this.parseNumber("0.0013")],[this.parseNumber("4000000"),this.parseNumber("0.0012")],[this.parseNumber("20000000"),this.parseNumber("0.0011")],[this.parseNumber("50000000"),this.parseNumber("0.0010")],[this.parseNumber("100000000"),this.parseNumber("0.0007")],[this.parseNumber("500000000"),this.parseNumber("0.0005")],[this.parseNumber("2000000000"),this.parseNumber("0.0003")],[this.parseNumber("6000000000"),this.parseNumber("0.0001")],[this.parseNumber("20000000000"),this.parseNumber("0.00005")],[this.parseNumber("20000000001"),this.parseNumber("0")]]}},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,XLM:0,PAX:0,USD:7.5,EUR:0}}},exceptions:{exact:{"No permission found":c,"API key not found":s,"IP address not allowed":c,"Invalid nonce":h,"Invalid signature":s,"Authentication failed":s,"Missing key, signature and nonce parameters":s,"Your account is frozen":c,"Please update your profile with your FATCA information, before using API.":c,"Order not found":d,"Price is more than 20% below market price.":f,"Bitstamp.net is under scheduled maintenance.":m,"Order could not be placed.":g,"Invalid offset.":a},broad:{"Minimum order size is":f,"Check your account balance for details.":u,"Ensure this value has at least":l}}})}async fetchMarkets(e={}){const t=await this.fetchMarketsFromCache(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"name");let[a,n]=s.split("/");const o=a.toLowerCase(),c=n.toLowerCase();a=this.safeCurrencyCode(a),n=this.safeCurrencyCode(n);const h=a+"/"+n,d=o+"_"+c,u=this.safeString(r,"url_symbol"),l=this.safeString(r,"base_decimals"),f=this.safeString(r,"counter_decimals"),p=this.parsePrecision(l),m=this.parsePrecision(f),g={amount:parseInt(l),price:parseInt(f)},y=this.safeString(r,"minimum_order").split(" ")[0],b="Enabled"===this.safeString(r,"trading");i.push({id:u,symbol:h,base:a,quote:n,baseId:o,quoteId:c,symbolId:d,info:r,type:"spot",spot:!0,active:b,precision:g,limits:{amount:{min:this.parseNumber(p),max:void 0},price:{min:this.parseNumber(m),max:void 0},cost:{min:this.parseNumber(y),max:void 0}}})}return i}constructCurrencyObject(e,t,i,r,s,a){let n="crypto";const o=this.describe();return this.isFiat(t)&&(n="fiat"),{id:e,code:t,info:a,type:n,name:i,active:!0,fee:this.safeNumber(o.fees.funding.withdraw,t),precision:r,limits:{amount:{min:Math.pow(10,-r),max:void 0},price:{min:Math.pow(10,-r),max:void 0},cost:{min:s,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchMarketsFromCache(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetTradingPairsInfo(e);this.options.fetchMarkets=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchMarkets,"response")}async fetchCurrencies(e={}){const t=await this.fetchMarketsFromCache(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"name");let[a,n]=s.split("/");const o=a.toLowerCase(),c=n.toLowerCase();a=this.safeCurrencyCode(a),n=this.safeCurrencyCode(n);const h=this.safeString(r,"description"),[d,u]=h.split(" / "),l=this.safeString(r,"minimum_order").split(" ")[0];if(!(a in i)){const e=this.safeInteger(r,"base_decimals");i[a]=this.constructCurrencyObject(o,a,d,e,void 0,r)}if(!(n in i)){const e=this.safeInteger(r,"counter_decimals");i[n]=this.constructCurrencyObject(c,n,u,e,this.parseNumber(l),r)}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetOrderBookPair(this.extend(r,i)),a=this.safeInteger(s,"microtimestamp"),n=parseInt(a/1e3),o=this.parseOrderBook(s,e,n);return o.nonce=a,o}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),a=this.safeNumber(r,"vwap"),n=this.safeNumber(r,"volume");let o;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:a,open:this.safeNumber(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:r}}getCurrencyIdFromTransaction(e){const t=this.safeStringLower(e,"currency");if(void 0!==t)return t;e=this.omit(e,["fee","price","datetime","type","status","id"]);const i=Object.keys(e);for(let t=0;t<i.length;t++){const r=i[t];if(r.indexOf("_")<0){const t=this.safeNumber(e,r);if(void 0!==t&&0!==t)return r}}}getMarketFromTrade(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);const t=Object.keys(e),i=t.length;if(i>2)throw new n(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===i){let e=t[0]+t[1];if(e in this.markets_by_id)return this.markets_by_id[e];if(e=t[1]+t[0],e in this.markets_by_id)return this.markets_by_id[e]}}getMarketFromTrades(e){const t=this.indexBy(e,"symbol"),i=Object.keys(t);if(1===i.length)return this.markets[i[0]]}parseTrade(e,t){const i=this.safeString2(e,"id","tid");let r,s,a=this.safeString(e,"price"),n=this.safeString(e,"amount");const o=this.safeString(e,"order_id");let c=this.safeString(e,"cost");if(void 0===t){const i=Object.keys(e);for(let e=0;e<i.length;e++)if(i[e].indexOf("_")>=0){const r=i[e].replace("_","");r in this.markets_by_id&&(t=this.markets_by_id[r])}void 0===t&&(t=this.getMarketFromTrade(e))}const h=this.safeString(e,"fee");let d;void 0!==t&&(a=this.safeString(e,t.symbolId,a),n=this.safeString(e,t.baseId,n),c=this.safeString(e,t.quoteId,c),d=t.quote,r=t.symbol);let u,l=this.safeString2(e,"date","datetime");return void 0!==l&&(l.indexOf(" ")>=0?l=this.parse8601(l):(l=parseInt(l),l*=1e3)),"id"in e?void 0!==n&&(y.stringLt(n,"0")?(s="sell",n=y.stringNeg(n)):s="buy"):(s=this.safeString(e,"type"),"1"===s?s="sell":"0"===s&&(s="buy")),void 0!==c&&(c=y.stringAbs(c)),void 0!==h&&(u={cost:h,currency:d}),this.safeTrade({id:i,info:e,timestamp:l,datetime:this.iso8601(l),symbol:r,order:o,type:void 0,side:s,takerOrMaker:void 0,price:a,amount:n,cost:c,fee:u},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id,time:"hour"},n=await this.publicGetTransactionsPair(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,step:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0===r){if(void 0===i)throw new p(this.id+" fetchOHLCV() requires a since argument or a limit argument");{r=1e3;const e=parseInt(i/1e3);n.start=e,n.end=this.sum(e,r*o),n.limit=r}}else{if(void 0!==i){const e=parseInt(i/1e3);n.start=e,n.end=this.sum(e,r*o)}n.limit=Math.min(r,1e3)}const c=await this.publicGetOhlcPair(this.extend(n,s)),h=this.safeValue(c,"data",{}),d=this.safeValue(h,"ohlc",[]);return this.parseOHLCVs(d,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.currency(s).id,n=this.account();n.free=this.safeString(t,a+"_available"),n.used=this.safeString(t,a+"_reserved"),n.total=this.safeString(t,a+"_balance"),i[s]=n}return this.parseBalance(i)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.privatePostBalancePair(this.extend(r,t));return this.parseTradingFee(s,i)}parseTradingFee(e,t){t=this.safeMarket(void 0,t);const i=this.safeString(e,t.id+"_fee"),r=y.stringDiv(i,"100"),s=this.parseNumber(r);return{info:e,symbol:t.symbol,maker:s,taker:s}}parseTradingFees(e){const t={info:e},i=this.symbols;for(let r=0;r<i.length;r++){const s=i[r],a=this.market(s),n=this.parseTradingFee(e,a);t[s]=n}return t}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.parseTradingFees(t)}parseFundingFees(e){const t={},i=Object.keys(e);for(let r=0;r<i.length;r++){const s=i[r];if(s.indexOf("_withdrawal_fee")>=0){const i=s.split("_")[0];t[this.safeCurrencyCode(i)]=this.safeNumber(e,s)}}return{info:e,withdraw:t,deposit:{}}}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e);return this.parseFundingFees(t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o="privatePost"+this.capitalize(i);const c={pair:n.id,amount:this.amountToPrecision(e,r)};"market"===t?o+="Market":"instant"===t?o+="Instant":c.price=this.priceToPrecision(e,s),o+="Pair";const h=this.safeString2(a,"client_order_id","clientOrderId");void 0!==h&&(c.client_order_id=h,a=this.omit(a,["client_order_id","clientOrderId"]));const d=await this[o](this.extend(c,a)),u=this.parseOrder(d,n);return this.extend(u,{type:t})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}async cancelAllOrders(e,t={}){let i;await this.loadMarkets();const r={};let s="privatePostCancelAllOrders";return void 0!==e&&(i=this.market(e),r.pair=i.id,s="privatePostCancelAllOrdersPair"),await this[s](this.extend(r,t))}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"client_order_id","clientOrderId"),s={};void 0!==r?(s.client_order_id=r,i=this.omit(i,["client_order_id","clientOrderId"])):s.id=e;const a=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrderStatus(this.safeString(a,"status"))}async fetchOrder(e,t,i={}){let r;await this.loadMarkets(),void 0!==t&&(r=this.market(t));const s=this.safeValue2(i,"client_order_id","clientOrderId"),a={};void 0!==s?(a.client_order_id=s,i=this.omit(i,["client_order_id","clientOrderId"])):a.id=e;const n=await this.privatePostOrderStatus(this.extend(a,i));return this.parseOrder(n,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="privatePostUserTransactions";void 0!==e&&(a=this.market(e),s.pair=a.id,n+="Pair"),void 0!==i&&(s.limit=i);const o=await this[n](this.extend(s,r)),c=this.filterBy(o,"type","2");return this.parseTrades(c,a,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i);const a=await this.privatePostUserTransactions(this.extend(s,r));let n;void 0!==e&&(n=this.currency(e));const o=this.filterByArray(a,"type",["0","1"],!1);return this.parseTransactions(o,n,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};s.timedelta=void 0!==t?this.milliseconds()-t:5e7;const a=await this.privatePostWithdrawalRequests(this.extend(s,r));return this.parseTransactions(a,void 0,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"datetime")),r=this.safeString(e,"id"),s=this.getCurrencyIdFromTransaction(e),a=this.safeCurrencyCode(s,t),n=this.safeNumber(e,"fee");let o,c;"amount"in e?c=this.safeNumber(e,"amount"):void 0!==t?(c=this.safeNumber(e,t.id,c),o=t.code):void 0!==a&&void 0!==s&&(c=this.safeNumber(e,s,c),o=a),void 0!==c&&(c=Math.abs(c));let h,d="ok";if("status"in e&&(d=this.parseTransactionStatus(this.safeString(e,"status"))),"type"in e){const t=this.safeString(e,"type");"0"===t?h="deposit":"1"===t&&(h="withdrawal")}else h="withdrawal";const u=this.safeString(e,"transaction_id");let l,f=this.safeString(e,"address");if(void 0!==f){const e=f.split("?dt=");e.length>1&&(f=e[0],l=e[1])}const p=f,m=l;let g;return void 0!==n&&(g={currency:o,cost:n,rate:void 0}),{info:e,id:r,txid:u,timestamp:i,datetime:this.iso8601(i),addressFrom:void 0,addressTo:p,address:f,tagFrom:void 0,tagTo:m,tag:l,type:h,amount:c,currency:a,status:d,updated:void 0,fee:g}}parseTransactionStatus(e){return this.safeString({0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"client_order_id");let s=this.safeString(e,"type");void 0!==s&&(s="1"===s?"sell":"buy");const a=this.parse8601(this.safeString(e,"datetime")),n=this.safeStringLower(e,"currency_pair");let o=this.safeSymbol(n,t,"/");const c=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeNumber(e,"amount"),d=this.safeValue(e,"transactions",[]),u=this.parseTrades(d,t);u.length&&(o=u[0].symbol);const l=this.safeNumber(e,"price");return this.safeOrder({id:i,clientOrderId:r,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:c,symbol:o,type:void 0,timeInForce:void 0,postOnly:void 0,side:s,price:l,stopPrice:void 0,cost:void 0,amount:h,filled:void 0,remaining:void 0,trades:u,fee:void 0,info:e,average:void 0})}parseLedgerEntryType(e){return this.safeString({0:"transaction",1:"transaction",2:"trade",14:"transfer"},e,e)}parseLedgerEntry(e,t){const i=this.parseLedgerEntryType(this.safeString(e,"type"));if("trade"===i){const t=this.parseTrade(e);let r;const s=Object.keys(e);for(let e=0;e<s.length;e++)if(s[e].indexOf("_")>=0){const t=s[e].replace("_","");t in this.markets_by_id&&(r=this.markets_by_id[t])}void 0===r&&(r=this.getMarketFromTrade(e));const a="buy"===t.side?"in":"out";return{id:t.id,info:e,timestamp:t.timestamp,datetime:t.datetime,direction:a,account:void 0,referenceId:t.order,referenceAccount:void 0,type:i,currency:r.base,amount:t.amount,before:void 0,after:void 0,status:"ok",fee:t.fee}}{const r=this.parseTransaction(e,t);let s;if("amount"in e)s=this.safeNumber(e,"amount")>0?"in":"out";else if("currency"in r&&void 0!==r.currency){const t=r.currency,i=this.safeString(this.currencies_by_id,t,t);s=this.safeNumber(e,i)>0?"in":"out"}return{id:r.id,info:e,timestamp:r.timestamp,datetime:r.datetime,direction:s,account:void 0,referenceId:r.txid,referenceAccount:void 0,type:i,currency:r.currency,amount:r.amount,before:void 0,after:void 0,status:r.status,fee:r.fee}}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i);const a=await this.privatePostUserTransactions(this.extend(s,r));let n;return void 0!==e&&(n=this.currency(e)),this.parseLedger(a,n,t,i)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a=await this.privatePostOpenOrdersAll(r);return this.parseOrders(a,s,t,i,{status:"open",type:"limit"})}getCurrencyName(e){return e.toLowerCase()}isFiat(e){return"USD"===e||"EUR"===e||"GBP"===e}async fetchDepositAddress(e,t={}){if(this.isFiat(e))throw new o(this.id+" fiat fetchDepositAddress() for "+e+" is not supported!");const i=this.getCurrencyName(e),r="privatePost"+this.capitalize(i)+"Address",s=await this[r](t),a=this.safeString(s,"address"),n=this.safeString2(s,"memo_id","destination_tag");return this.checkAddress(a),{currency:e,address:a,tag:n,network:void 0,info:s}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a={amount:t};let n;if(this.isFiat(e)){n="privatePostWithdrawalOpen";const t=this.currency(e);a.iban=i,a.account_currency=t.id}else{const t=this.getCurrencyName(e);n="privatePost"+this.capitalize(t)+"Withdrawal","XRP"===e?void 0!==r&&(a.destination_tag=r):"XLM"!==e&&"HBAR"!==e||void 0!==r&&(a.memo_id=r),a.address=i}const o=await this[n](this.extend(a,s));return{info:o,id:this.safeString(o,"id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";n+=this.version+"/",n+=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e="BITSTAMP "+this.apiKey,t=this.uuid(),r=this.milliseconds().toString(),c="v2";let h="";s={"X-Auth":e,"X-Auth-Nonce":t,"X-Auth-Timestamp":r,"X-Auth-Version":c},"POST"===i&&(Object.keys(o).length?(a=this.urlencode(o),h="application/x-www-form-urlencoded",s["Content-Type"]=h):(a=this.urlencode({foo:"bar"}),h="application/x-www-form-urlencoded",s["Content-Type"]=h));const d=a||"",u=e+i+n.replace("https://","")+h+t+r+c+d,l=this.hmac(this.encode(u),this.encode(this.secret));s["X-Auth-Signature"]=l}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,o,c,h,d){if(void 0===c)return;const u=this.safeString(c,"status"),l=this.safeValue(c,"error");if("error"===u||void 0!==l){let e=[];if("string"==typeof l)e.push(l);else if(void 0!==l){const t=Object.keys(l);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeValue(l,r);Array.isArray(s)?e=this.arrayConcat(e,s):e.push(s)}}const t=this.safeValue(c,"reason",{});if("string"==typeof t)e.push(t);else{const i=this.safeValue(t,"__all__",[]);for(let t=0;t<i.length;t++)e.push(i[t])}if("API0005"===this.safeString(c,"code"))throw new s(this.id+" invalid signature, use the uid for the main account if you have subaccounts");const i=this.id+" "+o;for(let t=0;t<e.length;t++){const r=e[t];this.throwExactlyMatchedException(this.exceptions.exact,r,i),this.throwBroadlyMatchedException(this.exceptions.broad,r,i)}throw new n(i)}}}},12554:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,ExchangeError:a,NotSupported:n}=i(73449),o=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp1",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOrder:void 0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.005,taker:.005,type:"spot",spot:!0},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",maker:.005,taker:.005,type:"spot",spot:!0},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",baseId:"eur",quoteId:"usd",maker:.005,taker:.005,type:"spot",spot:!0},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"xrp",quoteId:"usd",maker:.005,taker:.005,type:"spot",spot:!0},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"xrp",quoteId:"eur",maker:.005,taker:.005,type:"spot",spot:!0},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",maker:.005,taker:.005,type:"spot",spot:!0},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"ltc",quoteId:"usd",maker:.005,taker:.005,type:"spot",spot:!0},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"ltc",quoteId:"eur",maker:.005,taker:.005,type:"spot",spot:!0},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.005,taker:.005,type:"spot",spot:!0},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"eth",quoteId:"usd",maker:.005,taker:.005,type:"spot",spot:!0},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"eth",quoteId:"eur",maker:.005,taker:.005,type:"spot",spot:!0},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.005,taker:.005,type:"spot",spot:!0}}})}async fetchOrderBook(e,t,i={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchOrderBook doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const r=await this.publicGetOrderBook(i),s=this.safeTimestamp(r,"timestamp");return this.parseOrderBook(r,e,s)}async fetchTicker(e,t={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchTicker doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeTimestamp(i,"timestamp"),s=this.safeNumber(i,"vwap"),n=this.safeNumber(i,"volume");let o;void 0!==n&&void 0!==s&&(o=n*s);const c=this.safeNumber(i,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"bid"),bidVolume:void 0,ask:this.safeNumber(i,"ask"),askVolume:void 0,vwap:s,open:this.safeNumber(i,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:i}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","datetime"),r=0===e.type?"buy":"sell",s=this.safeString(e,"order_id");"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]);const a=this.safeString(e,"tid"),n=this.safeString(e,"price"),c=this.safeString(e,"amount"),h=this.parseNumber(n),d=this.parseNumber(c),u=this.parseNumber(o.stringMul(n,c));let l;return void 0!==t&&(l=t.symbol),{id:a,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,order:s,type:void 0,side:r,takerOrMaker:void 0,price:h,amount:d,cost:u,fee:void 0}}async fetchTrades(e,t,i,r={}){if("BTC/USD"!==e)throw new s(this.id+" "+this.version+" fetchTrades doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const a=this.market(e),n=await this.publicGetTransactions(this.extend({time:"minute"},r));return this.parseTrades(n,a,t,i)}async fetchBalance(e={}){const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.currency(s).id,n=this.account();n.free=this.safeString(t,a+"_available"),n.used=this.safeString(t,a+"_reserved"),n.total=this.safeString(t,a+"_balance"),i[s]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new a(this.id+" "+this.version+" accepts limit orders only");if("BTC/USD"!==e)throw new a(this.id+" v1 supports BTC/USD orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c={amount:r,price:s},h=await this[o](this.extend(c,n));return{info:h,id:this.safeString(h,"id")}}async cancelOrder(e,t,i={}){return await this.privatePostCancelOrder({id:e})}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrderStatus(s)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a={id:s?s.id:"all"},n=await this.privatePostOpenOrdersId(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchOrder(e,t,i={}){throw new n(this.id+" fetchOrder is not implemented yet")}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),a=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&"error"===this.safeString(o,"status"))throw new a(this.id+" "+this.json(o))}}},9461:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,ExchangeError:a,ExchangeNotAvailable:n,AuthenticationError:o,InvalidOrder:c,InsufficientFunds:h,OrderNotFound:d,DDoSProtection:u,PermissionDenied:l,AddressPending:f,OnMaintenance:p,BadRequest:m,InvalidAddress:g}=i(73449),{TRUNCATE:y,DECIMAL_PLACES:b}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v3",rateLimit:1500,certified:!1,pro:!0,has:{margin:!1,swap:!1,future:!1,cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRateHistory:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"MINUTE_1","5m":"MINUTE_5","1h":"HOUR_1","1d":"DAY_1"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/51840849/87153921-edf53180-c2c0-11ea-96b9-f2a9a95a455b.jpg",api:{public:"https://api.bittrex.com",private:"https://api.bittrex.com"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/v3"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"],referral:"https://bittrex.com/Account/Register?referralCode=1ZE-G0G-M3B"},api:{public:{get:["ping","currencies","currencies/{symbol}","markets","markets/tickers","markets/summaries","markets/{marketSymbol}","markets/{marketSymbol}/summary","markets/{marketSymbol}/orderbook","markets/{marketSymbol}/trades","markets/{marketSymbol}/ticker","markets/{marketSymbol}/candles/{candleInterval}/recent","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}/{day}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}/{month}","markets/{marketSymbol}/candles/{candleInterval}/historical/{year}"]},private:{get:["account","account/volume","addresses","addresses/{currencySymbol}","balances","balances/{currencySymbol}","deposits/open","deposits/closed","deposits/ByTxId/{txId}","deposits/{depositId}","orders/closed","orders/open","orders/{orderId}","orders/{orderId}/executions","ping","subaccounts/{subaccountId}","subaccounts","withdrawals/open","withdrawals/closed","withdrawals/ByTxId/{txId}","withdrawals/{withdrawalId}","withdrawals/whitelistAddresses","conditional-orders/{conditionalOrderId}","conditional-orders/closed","conditional-orders/open","transfers/sent","transfers/received","transfers/{transferId}"],post:["addresses","orders","subaccounts","withdrawals","conditional-orders","transfers"],delete:["orders/open","orders/{orderId}","withdrawals/{withdrawalId}","conditional-orders/{conditionalOrderId}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:this.parseNumber("0.0075"),taker:this.parseNumber("0.0075")},funding:{tierBased:!1,percentage:!1}},exceptions:{exact:{BAD_REQUEST:m,STARTDATE_OUT_OF_RANGE:m,APISIGN_NOT_PROVIDED:o,APIKEY_INVALID:o,INVALID_SIGNATURE:o,INVALID_CURRENCY:a,INVALID_PERMISSION:o,INSUFFICIENT_FUNDS:h,INVALID_CEILING_MARKET_BUY:c,INVALID_FIAT_ACCOUNT:c,INVALID_ORDER_TYPE:c,QUANTITY_NOT_PROVIDED:c,MIN_TRADE_REQUIREMENT_NOT_MET:c,NOT_FOUND:d,ORDER_NOT_OPEN:d,INVALID_ORDER:c,UUID_INVALID:d,RATE_NOT_PROVIDED:c,INVALID_MARKET:s,WHITELIST_VIOLATION_IP:l,DUST_TRADE_DISALLOWED_MIN_VALUE:c,RESTRICTED_MARKET:s,"We are down for scheduled maintenance, but well be back up shortly.":p},broad:{throttled:u,problem:n}},options:{fetchTicker:{method:"publicGetMarketsMarketSymbolTicker"},fetchTickers:{method:"publicGetMarketsTickers"},parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0},subaccountId:void 0,fetchClosedOrdersFilterBySince:!0},commonCurrencies:{BIFI:"Bifrost Finance",MER:"Mercury",PROS:"Pros.Finance",REPV2:"REP",TON:"Tokamak Network"}})}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e].precision.price,b)}feeToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e].precision.price,b)}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"baseCurrencySymbol"),a=this.safeString(r,"quoteCurrencySymbol"),n=this.safeString(r,"symbol"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:8,price:this.safeInteger(r,"precision",8)},u="ONLINE"===this.safeString(r,"status");i.push({id:n,symbol:h,base:o,quote:c,baseId:s,quoteId:a,type:"spot",spot:!0,active:u,info:r,precision:d,limits:{amount:{min:this.safeNumber(r,"minTradeSize"),max:void 0},price:{min:1/Math.pow(10,d.price),max:void 0},cost:{min:void 0,max:void 0},leverage:{max:1}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},r=this.indexBy(t,"currencySymbol"),s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeCurrencyCode(t),n=this.account(),o=r[t];n.free=this.safeString(o,"available"),n.total=this.safeString(o,"total"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketSymbol:this.marketId(e)};if(void 0!==t){if(1!==t&&25!==t&&500!==t)throw new m(this.id+" fetchOrderBook() limit argument must be undefined, 1, 25 or 500, default is 25");r.depth=t}const s=await this.publicGetMarketsMarketSymbolOrderbook(this.extend(r,i)),a=this.safeInteger(this.last_response_headers,"Sequence"),n=this.parseOrderBook(s,e,void 0,"bid","ask","rate","quantity");return n.nonce=a,n}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n=8,o=this.safeNumber(r,"txFee"),c=this.safeString(r,"status");i[a]={id:s,code:a,address:this.safeString(r,"baseAddress"),info:r,type:this.safeString(r,"coinType"),name:this.safeString(r,"name"),active:"ONLINE"===c,fee:o,precision:n,limits:{amount:{min:1/Math.pow(10,n),max:void 0},withdraw:{min:o,max:void 0}}}}return i}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"updatedAt")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"-"),a=this.safeNumber(e,"percentChange"),n=this.safeNumber(e,"lastTradeRate");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bidRate"),bidVolume:void 0,ask:this.safeNumber(e,"askRate"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),r=this.safeString(i,"method","publicGetMarketsTickers"),s=this.safeString(t,"method",r);t=this.omit(t,"method");const a=await this[s](t),n=[];for(let e=0;e<a.length;e++){const t=this.parseTicker(a[e]);n.push(t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketSymbol:i.id},s=this.safeValue(this.options,"fetchTicker",{}),a=this.safeString(s,"method","publicGetMarketsMarketSymbolTicker"),n=this.safeString(t,"method",a);t=this.omit(t,"method");const o=await this[n](this.extend(r,t));return this.parseTicker(o,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"executedAt")),r=this.safeString(e,"id"),s=this.safeString(e,"orderId"),a=this.safeString(e,"marketSymbol");t=this.safeMarket(a,t,"-");const n=this.safeString(e,"rate"),o=this.safeString(e,"quantity");let c;const h=this.safeValue(e,"isTaker");let d;void 0!==h&&(c=h?"taker":"maker");const u=this.safeString(e,"commission");void 0!==u&&(d={cost:u,currency:t.quote});const l=this.safeStringLower(e,"takerSide");return this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,id:r,order:s,takerOrMaker:c,type:void 0,side:l,price:n,amount:o,cost:void 0,fee:d},t)}async fetchTime(e={}){const t=await this.publicGetPing(e);return this.safeInteger(t,"serverTime")}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={marketSymbol:this.marketId(e)},n=await this.publicGetMarketsMarketSymbolTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"startsAt")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=a.baseId+"-"+a.quoteId,o={candleInterval:this.timeframes[t],marketSymbol:n};let c="publicGetMarketsMarketSymbolCandlesCandleIntervalRecent";if(void 0!==i){const e=this.milliseconds(),r=Math.abs(e-i),s=this.yyyymmdd(i).split("-"),a=this.safeInteger(s,0),n=this.safeInteger(s,1),h=this.safeInteger(s,2);"1d"===t?r>316224e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYear",o.year=a):"1h"===t?r>26784e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonth",o.year=a,o.month=n):r>864e5&&(c="publicGetMarketsMarketSymbolCandlesCandleIntervalHistoricalYearMonthDay",o.year=a,o.month=n,o.day=h)}const h=await this[c](this.extend(o,s));return this.parseOHLCVs(h,a,t,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.marketSymbol=a.id);const n=await this.privateGetOrdersOpen(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={orderId:e},n=await this.privateGetOrdersOrderIdExecutions(this.extend(a,s));let o;return void 0!==t&&(o=this.market(t)),this.parseTrades(n,o,i,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c={marketSymbol:n.baseId+"-"+n.quoteId,direction:i.toUpperCase(),type:o},h="CEILING_LIMIT"===o,d="CEILING_MARKET"===o;if(h||d){let t;h?(c.limit=this.priceToPrecision(e,s),t=this.safeNumber2(a,"ceiling","cost",r)):d&&(t=this.safeNumber2(a,"ceiling","cost"),void 0===t&&(t=void 0===s?r:r*s)),a=this.omit(a,["ceiling","cost"]),c.ceiling=this.costToPrecision(e,t),c.timeInForce="IMMEDIATE_OR_CANCEL"}else c.quantity=this.amountToPrecision(e,r),"LIMIT"===o?(c.limit=this.priceToPrecision(e,s),c.timeInForce="GOOD_TIL_CANCELLED"):c.timeInForce="IMMEDIATE_OR_CANCEL";const u=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateDeleteOrdersOrderId(this.extend(r,i));return this.extend(this.parseOrder(s),{id:e,info:s,status:"canceled"})}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;void 0!==e&&(r=this.market(e),i.marketSymbol=r.id);const s=await this.privateDeleteOrdersOpen(this.extend(i,t)),a=[];for(let e=0;e<s.length;e++){const t=this.safeValue(s[e],"result",{});a.push(t)}return this.parseOrders(a,r)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currencySymbol=a.id);const n=await this.privateGetDepositsClosed(this.extend(s,r));return this.parseTransactions(n,a,void 0,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currencySymbol=a.id);const n=await this.privateGetWithdrawalsClosed(this.extend(s,r));return this.parseTransactions(n,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"quantity"),s=this.safeString(e,"cryptoAddress"),a=this.safeString(e,"txId"),n=this.parse8601(this.safeString(e,"updatedAt")),o=this.parse8601(this.safeString(e,"createdAt")),c=o||n,h=void 0===o?"deposit":"withdrawal",d=this.safeString(e,"currencySymbol"),u=this.safeCurrencyCode(d,t);let l="pending";if("deposit"===h)l="ok";else{const t=this.safeString(e,"status");"ERROR_INVALID_ADDRESS"===t?l="failed":"CANCELLED"===t?l="canceled":"PENDING"===t?l="pending":("COMPLETED"===t||"AUTHORIZED"===t&&void 0!==a)&&(l="ok")}let f=this.safeNumber(e,"txCost");return void 0===f&&"deposit"===h&&(f=0),{info:e,id:i,currency:u,amount:r,address:s,tag:void 0,status:l,type:h,updated:n,txid:a,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseTimeInForce(e){return this.safeString({GOOD_TIL_CANCELLED:"GTC",IMMEDIATE_OR_CANCEL:"IOC",FILL_OR_KILL:"FOK",POST_ONLY_GOOD_TIL_CANCELLED:"PO"},e,e)}parseOrder(e,t){const i=this.safeString(e,"marketSymbol"),r=(t=this.safeMarket(i,t,"-")).symbol,s=t.quote,a=this.safeStringLower(e,"direction"),n=this.safeString(e,"createdAt"),o=this.safeString(e,"updatedAt"),c=this.safeString(e,"closedAt"),h=this.safeString(e,"clientOrderId");let d;void 0!==c?d=this.parse8601(c):o&&(d=this.parse8601(o));const u=this.parse8601(n),l=this.safeStringLower(e,"type"),f=this.safeString(e,"quantity"),p=this.safeString(e,"limit"),m=this.safeString(e,"fillQuantity"),g=this.safeNumber(e,"commission"),y=this.safeString(e,"proceeds"),b=this.safeStringLower(e,"status"),v=this.parseTimeInForce(this.safeString(e,"timeInForce")),w="PO"===v;return this.safeOrder2({id:this.safeString(e,"id"),clientOrderId:h,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:d,symbol:r,type:l,timeInForce:v,postOnly:w,side:a,price:p,stopPrice:void 0,cost:y,average:void 0,amount:f,filled:m,remaining:void 0,status:b,fee:{cost:g,currency:s},info:e,trades:void 0},t)}parseOrders(e,t,i,r,s={}){return this.options.fetchClosedOrdersFilterBySince?super.parseOrders(e,t,i,r,s):super.parseOrders(e,t,void 0,r,s)}parseOrderStatus(e){return this.safeString({CLOSED:"closed",OPEN:"open",CANCELLED:"canceled",CANCELED:"canceled"},e,e)}async fetchOrder(e,t,i={}){let r;await this.loadMarkets();try{const t={orderId:e};r=await this.privateGetOrdersOrderId(this.extend(t,i))}catch(e){if(this.last_json_response&&"UUID_INVALID"===this.safeString(this.last_json_response,"message"))throw new d(this.id+" fetchOrder() error: "+this.last_http_response);throw e}return this.parseOrder(r)}orderToTrade(e){const t=this.safeInteger2(e,"lastTradeTimestamp","timestamp");return{id:this.safeString(e,"id"),side:this.safeString(e,"side"),order:this.safeString(e,"id"),type:this.safeString(e,"type"),price:this.safeNumber(e,"average"),amount:this.safeNumber(e,"filled"),cost:this.safeNumber(e,"cost"),symbol:this.safeString(e,"symbol"),timestamp:t,datetime:this.iso8601(t),fee:this.safeValue(e,"fee"),info:e,takerOrMaker:void 0}}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.orderToTrade(e[i]));return t}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==i&&(s.pageSize=i),void 0!==t&&(s.startDate=this.ymdhms(t,"T")+"Z"),void 0!==e&&(a=this.market(e),s.marketSymbol=a.base+"-"+a.quote);const n=await this.privateGetOrdersClosed(this.extend(s,r)),o=this.parseOrders(n,a),c=this.ordersToTrades(o);return this.filterBySymbolSinceLimit(c,e,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==i&&(s.pageSize=i),void 0!==t&&(s.startDate=this.ymdhms(t,"T")+"Z"),void 0!==e&&(a=this.market(e),s.marketSymbol=a.base+"-"+a.quote);const n=await this.privateGetOrdersClosed(this.extend(s,r));return this.parseOrders(n,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencySymbol:i.id},s=await this.privatePostAddresses(this.extend(r,t));let a=this.safeString(s,"cryptoAddress");const n=this.safeString(s,"status");if(!a||"REQUESTED"===n)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(s,"cryptoAddressTag");return void 0===o&&i.type in this.options.tag&&(o=a,a=i.address),this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currencySymbol:i.id},s=await this.privateGetAddressesCurrencySymbol(this.extend(r,t));let a=this.safeString(s,"cryptoAddress");const n=this.safeString(s,"status");if(!a||"REQUESTED"===n)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=this.safeString(s,"cryptoAddressTag");return void 0===o&&i.type in this.options.tag&&(o=a,a=i.address),this.checkAddress(a),{currency:e,address:a,tag:o,network:void 0,info:s}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currencySymbol:this.currency(e).id,quantity:t,cryptoAddress:i};void 0!==r&&(a.cryptoAddressTag=r);const n=await this.privatePostWithdrawals(this.extend(a,s));return{info:n,id:this.safeString(n,"id")}}sign(e,t="v3",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("private"===t){n+=this.version+"/",this.checkRequiredCredentials(),n+=this.implodeParams(e,r),r=this.omit(r,this.extractParams(e));let t="";"POST"===i?t=a=this.json(r):Object.keys(r).length&&(n+="?"+this.rawencode(r));const o=this.hash(this.encode(t),"sha512","hex"),c=this.milliseconds().toString();let h=c+n+i+o;const d=this.safeValue(this.options,"subaccountId");void 0!==d&&(h+=d);const u=this.hmac(this.encode(h),this.encode(this.secret),"sha512");s={"Api-Key":this.apiKey,"Api-Timestamp":c,"Api-Content-Hash":o,"Api-Signature":u},void 0!==d&&(s["Api-Subaccount-Id"]=d),"POST"===i&&(s["Content-Type"]="application/json")}else"public"===t&&(n+=this.version+"/"),n+=this.implodeParams(e,r),r=this.omit(r,this.extractParams(e)),Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,c,h,l){if(void 0!==c&&"{"===n[0]){const e=this.id+" "+n;let t=this.safeValue(c,"success");if(void 0===t){const t=this.safeString(c,"code");if("NOT_FOUND"===t&&i.indexOf("addresses")>=0)throw new g(e);return void(void 0!==t&&(this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e)))}if("string"==typeof t&&(t="true"===t),!t){const t=this.safeString(c,"message");if("APIKEY_INVALID"===t)throw this.options.hasAlreadyAuthenticatedSuccessfully?new u(e):new o(e);if("INVALID_ORDER"===t){const e="cancel";if(i.indexOf(e)>=0){const e=i.split("?");if(e.length>1){const t=e[1].split("&"),i=t.length;let r;for(let e=0;e<i;e++){const i=t[e].split("=");if("uuid"===i[0]){r=i[1];break}}throw new d(void 0!==r?this.id+" cancelOrder "+r+" "+this.json(c):this.id+" cancelOrder "+this.json(c))}}}throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),void 0!==t&&this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new a(e)}}}}},54253:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,BadSymbol:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:h,OrderNotFound:d,InvalidAddress:u,BadRequest:l,RateLimitExceeded:f,PermissionDenied:p,ExchangeNotAvailable:m,AccountSuspended:g,OnMaintenance:y}=i(73449),{SIGNIFICANT_DIGITS:b,DECIMAL_PLACES:v,TRUNCATE:w,ROUND:k}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitvavo",name:"Bitvavo",countries:["NL"],rateLimit:60.1,version:"v2",certified:!0,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,privateAPI:!0,publicAPI:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83165440-2f1cf200-a116-11ea-9046-a255d09fb2ed.jpg",api:{public:"https://api.bitvavo.com",private:"https://api.bitvavo.com"},www:"https://bitvavo.com/",doc:"https://docs.bitvavo.com/",fees:"https://bitvavo.com/en/fees",referral:"https://bitvavo.com/?a=24F34952F7"},api:{public:{get:{time:1,markets:1,assets:1,"{market}/book":1,"{market}/trades":5,"{market}/candles":1,"ticker/price":1,"ticker/book":1,"ticker/24h":{cost:1,noMarket:25}}},private:{get:{order:1,orders:5,ordersOpen:{cost:1,noMarket:25},trades:5,balance:5,deposit:1,depositHistory:5,withdrawalHistory:5},post:{order:1,withdrawal:1},put:{order:1},delete:{order:1,orders:1}}},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.0025"),maker:this.parseNumber("0.002"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.0025")],[this.parseNumber("50000"),this.parseNumber("0.0024")],[this.parseNumber("100000"),this.parseNumber("0.0022")],[this.parseNumber("250000"),this.parseNumber("0.0020")],[this.parseNumber("500000"),this.parseNumber("0.0018")],[this.parseNumber("1000000"),this.parseNumber("0.0016")],[this.parseNumber("2500000"),this.parseNumber("0.0014")],[this.parseNumber("5000000"),this.parseNumber("0.0012")],[this.parseNumber("10000000"),this.parseNumber("0.0010")]],maker:[[this.parseNumber("0"),this.parseNumber("0.0020")],[this.parseNumber("50000"),this.parseNumber("0.0015")],[this.parseNumber("100000"),this.parseNumber("0.0010")],[this.parseNumber("250000"),this.parseNumber("0.0006")],[this.parseNumber("500000"),this.parseNumber("0.0003")],[this.parseNumber("1000000"),this.parseNumber("0.0001")],[this.parseNumber("2500000"),this.parseNumber("-0.0001")],[this.parseNumber("5000000"),this.parseNumber("-0.0003")],[this.parseNumber("10000000"),this.parseNumber("-0.0005")]]}}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{101:s,102:l,103:f,104:f,105:p,107:m,108:m,109:m,110:l,200:l,201:l,202:l,203:a,204:l,205:l,206:l,210:c,211:c,212:c,213:c,214:c,215:c,216:o,217:c,230:s,231:s,232:l,233:c,234:c,235:s,236:l,240:d,300:n,301:n,302:n,303:n,304:n,305:n,306:n,307:p,308:n,309:n,310:p,311:p,312:p,315:l,317:g,400:s,401:s,402:p,403:p,404:y,405:s,406:l,407:s,408:o,409:u,410:s,411:l,412:u,413:u,414:s},broad:{"start parameter is invalid":l,"symbol parameter is invalid":a,"amount parameter is invalid":c,"orderId parameter is invalid":c}},options:{"BITVAVO-ACCESS-WINDOW":1e4,fetchCurrencies:{expires:1e3}},precisionMode:b,commonCurrencies:{MIOTA:"IOTA"}})}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}amountToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.amount,v)}priceToPrecision(e,t){return t=this.decimalToPrecision(t,k,this.markets[e].precision.price,this.precisionMode),this.decimalToPrecision(t,w,8,v)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"time")}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=await this.fetchCurrenciesFromCache(e),r=this.indexBy(i,"symbol"),s=[];for(let e=0;e<t.length;e++){const i=t[e],a=this.safeString(i,"market"),n=this.safeString(i,"base"),o=this.safeString(i,"quote"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u="trading"===this.safeString(i,"status"),l=this.safeValue(r,n);let f;void 0!==l&&(f=this.safeInteger(l,"decimals",8));const p={price:this.safeInteger(i,"pricePrecision"),amount:f};s.push({id:a,symbol:d,base:c,quote:h,baseId:n,quoteId:o,info:i,type:"spot",spot:!0,active:u,precision:p,limits:{amount:{min:this.safeNumber(i,"minOrderInBaseAsset"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(i,"minOrderInQuoteAsset"),max:void 0}}})}return s}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetAssets(e);this.options.fetchCurrencies=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchCurrencies,"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n="OK"===this.safeValue(r,"depositStatus"),o="OK"===this.safeValue(r,"withdrawalStatus"),c=n&&o,h=this.safeString(r,"name"),d=this.safeInteger(r,"decimals",8);i[a]={id:s,info:r,code:a,name:h,active:c,fee:this.safeNumber(r,"withdrawalFee"),precision:d,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(r,"withdrawalMinAmount"),max:void 0}}}}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTicker24h(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeInteger(e,"timestamp"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"volume"),o=this.safeNumber(e,"volumeQuote"),c=this.vwap(n,o),h=this.safeNumber(e,"open");return this.safeTicker({symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:c,open:h,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24h(t);return this.parseTickers(i,e)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.start=t);const n=await this.publicGetMarketTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"price"),r=this.safeString(e,"amount"),s=this.safeInteger(e,"timestamp"),a=this.safeString(e,"side"),n=this.safeString2(e,"id","fillId"),o=this.safeInteger(e,"market"),c=this.safeSymbol(o,t,"-"),h=this.safeValue(e,"taker");let d;void 0!==h&&(d=h?"taker":"maker");const u=this.safeString(e,"fee");let l;if(void 0!==u){const t=this.safeString(e,"feeCurrency");l={cost:u,currency:this.safeCurrencyCode(t)}}const f=this.safeString(e,"orderId");return this.safeTrade({info:e,id:n,symbol:c,timestamp:s,datetime:this.iso8601(s),order:f,type:void 0,side:a,takerOrMaker:d,price:i,amount:r,cost:void 0,fee:l},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetMarketBook(this.extend(r,i)),a=this.parseOrderBook(s,e);return a.nonce=this.safeInteger(s,"nonce"),a}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,interval:this.timeframes[t]};if(void 0!==i){const e=this.parseTimeframe(t);n.start=i,void 0===r&&(r=1440),n.end=this.sum(i,r*e*1e3)}void 0!==r&&(n.limit=r);const o=await this.publicGetMarketCandles(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"available"),n.used=this.safeString(r,"inOrder"),i[a]=n}return this.parseBalance(i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={symbol:this.currency(e).id},r=await this.privateGetDeposit(this.extend(i,t)),s=this.safeString(r,"address"),a=this.safeString(r,"paymentId");return this.checkAddress(s),{currency:e,address:s,tag:a,network:void 0,info:r}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={market:n.id,side:i,orderType:t},c="stopLossLimit"===t||"takeProfitLimit"===t,d="stopLoss"===t||"takeProfit"===t;if("market"===t){let t;if(t=void 0!==s?r*s:this.safeNumber2(a,"cost","amountQuote"),void 0!==t){const e=n.precision.price;o.amountQuote=this.decimalToPrecision(t,w,e,this.precisionMode)}else o.amount=this.amountToPrecision(e,r);a=this.omit(a,["cost","amountQuote"])}else if("limit"===t)o.price=this.priceToPrecision(e,s),o.amount=this.amountToPrecision(e,r);else if(d||c){let i=this.safeNumber2(a,"stopPrice","triggerAmount");if(void 0===i){if(c)throw new h(this.id+" createOrder requires a stopPrice parameter for a "+t+" order");if(d){if(void 0===s)throw new h(this.id+" createOrder requires a price argument or a stopPrice parameter for a "+t+" order");i=s}}c&&(o.price=this.priceToPrecision(e,s)),a=this.omit(a,["stopPrice","triggerAmount"]),o.triggerAmount=this.priceToPrecision(e,i),o.triggerType="price",o.amount=this.amountToPrecision(e,r)}const u=await this.privatePostOrder(this.extend(o,a));return this.parseOrder(u,n)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t);let c={};const d=this.safeNumber(n,"amountRemaining");if(n=this.omit(n,"amountRemaining"),void 0!==a&&(c.price=this.priceToPrecision(t,a)),void 0!==s&&(c.amount=this.amountToPrecision(t,s)),void 0!==d&&(c.amountRemaining=this.amountToPrecision(t,d)),c=this.extend(c,n),Object.keys(c).length){c.orderId=e,c.market=o.id;const t=await this.privatePutOrder(this.extend(c,n));return this.parseOrder(t,o)}throw new h(this.id+" editOrder() requires an amount argument, or a price argument, or non-empty params")}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={orderId:e,market:r.id},a=await this.privateDeleteOrder(this.extend(s,i));return this.parseOrder(a,r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;void 0!==e&&(r=this.market(e),i.market=r.id);const s=await this.privateDeleteOrders(this.extend(i,t));return this.parseOrders(s,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={orderId:e,market:r.id},a=await this.privateGetOrder(this.extend(s,i));return this.parseOrder(a,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);const n=await this.privateGetOrders(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.privateGetOrdersOpen(this.extend(s,r));return this.parseOrders(n,a,t,i)}parseOrderStatus(e){return this.safeString({new:"open",canceled:"canceled",canceledAuction:"canceled",canceledSelfTradePrevention:"canceled",canceledIOC:"canceled",canceledFOK:"canceled",canceledMarketProtection:"canceled",canceledPostOnly:"canceled",filled:"closed",partiallyFilled:"open",expired:"canceled",rejected:"canceled",awaitingTrigger:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeInteger(e,"created"),s=this.safeString(e,"market"),a=(t=this.safeMarket(s,t,"-")).symbol,n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"side"),c=this.safeString(e,"orderType"),h=this.safeString(e,"price"),d=this.safeString(e,"amount"),u=this.safeString(e,"amountRemaining"),l=this.safeString(e,"filledAmount"),f=this.safeString(e,"filledAmountQuote");let p;const m=this.safeNumber(e,"feePaid");if(void 0!==m){const t=this.safeString(e,"feeCurrency");p={cost:m,currency:this.safeCurrencyCode(t)}}const g=this.safeValue(e,"fills",[]),y=this.safeString(e,"timeInForce"),b=this.safeValue(e,"postOnly"),v=this.safeNumber(e,"triggerPrice");return this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:c,timeInForce:y,postOnly:b,side:o,price:h,stopPrice:v,amount:d,cost:f,average:void 0,filled:l,remaining:u,status:n,fee:p,trades:g},t)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);const n=await this.privateGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={symbol:a.id,amount:this.currencyToPrecision(e,t),address:i};void 0!==r&&(n.paymentId=r);const o=await this.privatePostWithdrawal(this.extend(n,s));return this.parseTransaction(o,a)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.symbol=a.id),void 0!==t&&(s.start=t),void 0!==i&&(s.limit=i);const n=await this.privateGetWithdrawalHistory(this.extend(s,r));return this.parseTransactions(n,a,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.symbol=a.id),void 0!==t&&(s.start=t),void 0!==i&&(s.limit=i);const n=await this.privateGetDepositHistory(this.extend(s,r));return this.parseTransactions(n,a,t,i)}parseTransactionStatus(e){return this.safeString({awaiting_processing:"pending",awaiting_email_confirmation:"pending",awaiting_bitvavo_inspection:"pending",approved:"pending",sending:"pending",in_mempool:"pending",processed:"pending",completed:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),s=this.safeCurrencyCode(r,t),a=this.parseTransactionStatus(this.safeString(e,"status")),n=this.safeNumber(e,"amount"),o=this.safeString(e,"address"),c=this.safeString(e,"txId");let h;const d=this.safeNumber(e,"fee");let u;void 0!==d&&(h={cost:d,currency:s}),u="success"in e?"withdrawal":void 0===a?"deposit":"withdrawal";const l=this.safeString(e,"paymentId");return{info:e,id:void 0,txid:c,timestamp:i,datetime:this.iso8601(i),addressFrom:void 0,address:o,addressTo:o,tagFrom:void 0,tag:l,tagTo:l,type:u,amount:n,currency:s,status:a,updated:void 0,fee:h}}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o="/"+this.version+"/"+this.implodeParams(e,r);const c="GET"===i||"DELETE"===i;if(c&&Object.keys(n).length&&(o+="?"+this.urlencode(n)),"private"===t){this.checkRequiredCredentials();let e="";c||Object.keys(n).length&&(e=a=this.json(n));const t=this.milliseconds().toString(),r=t+i+o+e,h=this.hmac(this.encode(r),this.encode(this.secret)),d=this.safeString(this.options,"BITVAVO-ACCESS-WINDOW","10000");s={"BITVAVO-ACCESS-KEY":this.apiKey,"BITVAVO-ACCESS-SIGNATURE":h,"BITVAVO-ACCESS-TIMESTAMP":t,"BITVAVO-ACCESS-WINDOW":d},c||(s["Content-Type"]="application/json")}return o=this.urls.api[t]+o,{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"errorCode"),u=this.safeString(o,"error");if(void 0!==d){const e=this.id+" "+n;throw this.throwBroadlyMatchedException(this.exceptions.broad,u,e),this.throwExactlyMatchedException(this.exceptions.exact,d,e),new s(e)}}calculateRateLimiterCost(e,t,i,r,s={},a={}){return"noMarket"in s&&!("market"in r)?s.noMarket:this.safeValue(s,"cost",1)}}},85480:(e,t,i)=>{"use strict";const r=i(48819),s=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:"https://bl3p.eu",doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR",maker:.0025,taker:.0025,type:"spot",spot:!0},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR",maker:.0025,taker:.0025,type:"spot",spot:!0}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGENMKTMoneyInfo(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"wallets"),s={info:i},a=Object.keys(this.currencies);for(let e=0;e<a.length;e++){const t=a[e],i=this.currency(t).id,n=this.safeValue(r,i,{}),o=this.safeValue(n,"available",{}),c=this.safeValue(n,"balance",{}),h=this.account();h.free=this.safeString(o,"value"),h.total=this.safeString(c,"value"),s[t]=h}return this.parseBalance(s)}parseBidAsk(e,t=0,i=1){return[this.safeNumber(e,t)/1e5,this.safeNumber(e,i)/1e8]}async fetchOrderBook(e,t,i={}){const r={market:this.market(e).id},s=await this.publicGetMarketOrderbook(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrderBook(a,e,void 0,"bids","asks","price_int","amount_int")}async fetchTicker(e,t={}){const i={market:this.marketId(e)},r=await this.publicGetMarketTicker(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),a=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r.volume,"24h"),quoteVolume:void 0,info:r}}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeInteger(e,"date");let a=this.safeString(e,"price_int");a=s.stringDiv(a,"100000");let n=this.safeString(e,"amount_int");n=s.stringDiv(n,"100000000");const o=this.parseNumber(a),c=this.parseNumber(n),h=this.parseNumber(s.stringMul(a,n));let d;return void 0!==t&&(d=t.symbol),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:o,amount:c,cost:h,fee:void 0}}async fetchTrades(e,t,i,r={}){const s=this.market(e),a=await this.publicGetMarketTrades(this.extend({market:s.id},r));return this.parseTrades(a.data.trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){const n=this.market(e),o={market:n.id,amount_int:parseInt(1e8*r),fee_currency:n.quote,type:"buy"===i?"bid":"ask"};"limit"===t&&(o.price_int=parseInt(1e5*s));const c=await this.privatePostMarketMoneyOrderAdd(this.extend(o,a));return{info:c,id:this.safeString(c.data,"order_id")}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostMarketMoneyOrderCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){const n=this.implodeParams(e,r);let o=this.urls.api+"/"+this.version+"/"+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},c));const t=this.base64ToBinary(this.secret),i=n+"\0"+a,r=this.hmac(this.encode(i),t,"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":r}}return{url:o,method:i,body:a,headers:s}}}},66492:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,DDoSProtection:n,InvalidOrder:o,InsufficientFunds:c}=i(73449),h=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:void 0,fetchTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")},funding:{withdraw:{}}},commonCurrencies:{CBC:"Cashbery"},exceptions:{exact:{},broad:{"Out of balance":c}}})}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"name"),a=this.safeString(r,"currency1"),n=this.safeString(r,"currency2"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,u=this.safeString(r,"price_precision"),l=this.parsePrecision(u),f={amount:8,price:parseInt(u)},p=this.safeString(r,"minimum_order_size");i.push({id:s,symbol:d,base:o,quote:c,type:"spot",spot:!0,active:!0,precision:f,limits:{amount:{min:this.parseNumber(p),max:this.safeNumber(r,"maximum_order_size")},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.parseNumber(h.stringMul(l,p)),max:void 0}},info:r,baseId:void 0,quoteId:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair_name:this.marketId(e)};t&&(r.limit_sell=t,r.limit_buy=t);const s=await this.publicGetOrderbookPairName(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy","sell","price","amount")}parseBidsAsks(e,t=0,i=1){const r=[];for(let s=0;s<e.length;s++){const a=e[s];a&&r.push(this.parseBidAsk(a,t,i))}return r}parseTrade(e,t){let i;void 0===t&&(t=this.safeValue(this.markets_by_id,e.pair)),void 0!==t&&(i=t.symbol);const r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.safeString(e,"id"),o=this.safeString2(e,"my_side","type");return this.safeTrade({id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:n,type:"limit",side:o,takerOrMaker:void 0,price:s,amount:a,cost:void 0,fee:void 0},t)}async fetchTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.pair=s.id),void 0!==i&&(a.limit=i);const n=await this.publicGetExchanges(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,type:this.timeframes[t]};void 0!==r&&(n.limit=r),void 0!==i&&(n.since=parseInt(i/1e3));const o=await this.publicGetChartsPairTypeChart(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.used=this.safeString(r,"reserve"),n.total=this.safeString(r,"balance"),i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({1:"open",2:"canceled",3:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"pair"),r=(t=this.safeMarket(i,t,"_")).symbol;let s;s=this.safeValue(e,"success",!1)?this.safeTimestamp(e,"date"):this.safeInteger(e,"date");const a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString(e,"amount_filled"),c=this.safeString(e,"amount_original"),h=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString2(e,"oid","id"),u=this.safeValue(e,"trades"),l=this.safeString2(e,"my_side","type");return this.safeOrder2({id:d,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,status:h,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:l,price:a,stopPrice:void 0,cost:void 0,amount:c,filled:o,remaining:n,trades:u,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),c={pair:n.id,type:i,amount:r,price:this.priceToPrecision(e,s)},h=await this.privatePostOrder(this.extend(c,a));if(!h.success)throw new o(this.id+" "+this.json(h));const d=this.parseOrder(h,n);return r=d.amount>0?d.amount:r,this.extend(d,{amount:r})}async cancelOrder(e,t,i={}){const r={order:e};return await this.privatePostOrderCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.pair=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetOrdersOwn(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"1"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"3"},r))}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s.pair=t.id}void 0!==i&&(s.limit=i);const a=await this.privateGetExchangesOwn(this.extend(s,r));return this.parseTrades(a,void 0,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.urlencode(this.keysort(this.omit(r,this.extractParams(e))));let o=this.urls.api+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,r),s={Accept:"application/json"},"public"===t)n.length&&(o+="?"+n);else{this.checkRequiredCredentials();let e=this.apiKey;"POST"===i?(s["Content-Type"]="application/x-www-form-urlencoded",e+=a=n):n.length&&(o+="?"+n),s["X-KEY"]=this.apiKey,s["X-SIGN"]=this.hmac(this.encode(e),this.encode(this.secret)),s["X-NONCE"]=this.nonce().toString()}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,o,c,h,d,u){if(void 0===h)return;const l=this.safeString(h,"error"),f=this.id+" "+c;if(void 0!==l&&(this.throwExactlyMatchedException(this.exceptions.exact,l,f),this.throwBroadlyMatchedException(this.exceptions.broad,l,f)),401===e||403===e)throw new a(f);if(429===e)throw new n(f);if(!(e<400))throw new s(f)}}},6142:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InsufficientFunds:a,InvalidOrder:n,AuthenticationError:o,PermissionDenied:c,InvalidNonce:h,OrderNotFound:d,DDoSProtection:u}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:void 0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87327317-98c55400-c53c-11ea-9a11-81f7d951cc74.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://blog.btcbox.jp/en/archives/8762",fees:"https://support.btcbox.co.jp/hc/en-us/articles/360001235694-Fees-introduction"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",taker:5e-4,maker:5e-4,type:"spot",spot:!0},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy",taker:.001,maker:.001,type:"spot",spot:!0},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy",taker:.001,maker:.001,type:"spot",spot:!0},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy",taker:.001,maker:.001,type:"spot",spot:!0}},exceptions:{104:o,105:c,106:h,107:n,200:a,201:n,202:n,203:d,401:d,402:u}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.currency(s).id,n=a+"_balance";if(n in t){const e=this.account(),r=a+"_lock";e.free=this.safeString(t,n),e.used=this.safeString(t,r),i[s]=e}}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};this.symbols.length>1&&(s.coin=r.baseId);const a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a,e)}parseTicker(e,t){const i=this.milliseconds();let r;void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};this.symbols.length>1&&(r.coin=i.baseId);const s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"tid"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString(e,"type");return this.safeTrade({info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:o,takerOrMaker:void 0,price:a,amount:n,cost:void 0,fee:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={};this.symbols.length>1&&(a.coin=s.baseId);const n=await this.publicGetOrders(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={amount:r,price:s,type:i,coin:n.baseId},c=await this.privatePostTradeAdd(this.extend(o,a));return this.parseOrder(c,n)}async cancelOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s={id:e,coin:r.baseId},a=await this.privatePostTradeCancel(this.extend(s,i));return this.parseOrder(a,r)}parseOrderStatus(e){return this.safeString({part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r;void 0!==this.safeString(e,"datetime")&&(r=this.parse8601(e.datetime+"+09:00"));const s=this.safeNumber(e,"amount_original"),a=this.safeNumber(e,"amount_outstanding"),n=this.safeNumber(e,"price");let o,c=this.parseOrderStatus(this.safeString(e,"status"));void 0===c&&void 0!==a&&0===a&&(c="closed"),void 0!==t&&(o=t.symbol);const h=this.safeString(e,"type");return this.safeOrder({id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:s,remaining:a,filled:void 0,side:h,type:void 0,timeInForce:void 0,postOnly:void 0,status:c,symbol:o,price:n,stopPrice:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0})}async fetchOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s=this.extend({id:e,coin:r.baseId},i),a=await this.privatePostTradeView(this.extend(s,i));return this.parseOrder(a,r)}async fetchOrdersByType(e,t,i,r,s={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const a=this.market(t),n={type:e,coin:a.baseId},o=await this.privatePostTradeList(this.extend(n,s)),c=this.parseOrders(o,a,i,r);if("open"===e)for(let e=0;e<c.length;e++)c[e].status="open";return c}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByType("all",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByType("open",e,t,i,r)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.extend({key:this.apiKey,nonce:e},r),i=this.urlencode(t),n=this.hash(this.encode(this.secret));t.signature=this.hmac(this.encode(i),this.encode(n)),a=this.urlencode(t),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;if(e>=400)return;const d=this.safeValue(o,"result");if(void 0===d||!0===d)return;const u=this.safeValue(o,"code"),l=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,u,l),new s(l)}async request(e,t="public",i="GET",r={},a,n,o={},c={}){let h=await this.fetch2(e,t,i,r,a,n,o,c);if("string"==typeof h){if(h=this.strip(h),!this.isJsonEncodedObject(h))throw new s(this.id+" "+h);h=JSON.parse(h)}return h}}},69284:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,ExchangeError:a,OrderNotFound:n,InvalidOrder:o,InsufficientFunds:c,DDoSProtection:h,BadRequest:d}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:"emulated",fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/89731817-b3fb8480-da52-11ea-817f-783b08aaf32b.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net"},www:"https://btcmarkets.net",doc:["https://api.btcmarkets.net/doc/v3","https://github.com/BTCMarkets/API"]},api:{public:{get:["markets","markets/{marketId}/ticker","markets/{marketId}/trades","markets/{marketId}/orderbook","markets/{marketId}/candles","markets/tickers","markets/orderbooks","time"]},private:{get:["orders","orders/{id}","batchorders/{ids}","trades","trades/{id}","withdrawals","withdrawals/{id}","deposits","deposits/{id}","transfers","transfers/{id}","addresses","withdrawal-fees","assets","accounts/me/trading-fees","accounts/me/withdrawal-limits","accounts/me/balances","accounts/me/transactions","reports/{id}"],post:["orders","batchorders","withdrawals","reports"],delete:["orders","orders/{id}","batchorders/{ids}"],put:["orders/{id}"]}},timeframes:{"1m":"1m","1h":"1h","1d":"1d"},exceptions:{3:o,6:h,InsufficientFund:c,InvalidPrice:o,InvalidAmount:o,MissingArgument:o,OrderAlreadyCancelled:o,OrderNotFound:n,OrderStatusIsFinal:o,InvalidPaginationParameter:d},fees:{percentage:!0,tierBased:!0,maker:this.parseNumber("-0.0005"),taker:this.parseNumber("0.0020")},options:{fees:{AUD:{maker:.0085,taker:.0085}}}})}async fetchTransactionsWithMethod(e,t,i,r,s={}){await this.loadMarkets();const a={};let n;void 0!==r&&(a.limit=r),void 0!==i&&(a.after=i),void 0!==t&&(n=this.currency(t));const o=await this[e](this.extend(a,s));return this.parseTransactions(o,n,i,r)}async fetchTransactions(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetTransfers",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetDeposits",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetWithdrawals",e,t,i,r)}parseTransactionStatus(e){return this.safeString({Complete:"ok"},e,e)}parseTransactionType(e){return this.safeString({Withdraw:"withdrawal",Deposit:"deposit"},e,e)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),r=this.parse8601(this.safeString(e,"lastUpdate"));let s=this.parseTransactionType(this.safeStringLower(e,"type"));"withdraw"===s&&(s="withdrawal");const a=this.safeValue(e,"paymentDetail",{}),n=this.safeString(a,"txId");let o,c=this.safeString(a,"address");if(void 0!==c){const e=c.split("?dt=");e.length>1&&(c=e[0],o=e[1])}const h=c,d=o,u=this.safeNumber(e,"fee"),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeString(e,"assetName"),p=this.safeCurrencyCode(f);let m=this.safeNumber(e,"amount");return u&&(m-=u),{id:this.safeString(e,"id"),txid:n,timestamp:i,datetime:this.iso8601(i),address:c,addressTo:h,addressFrom:void 0,tag:o,tagTo:d,tagFrom:void 0,type:s,amount:m,currency:p,status:l,updated:r,fee:{currency:p,cost:u},info:e}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"baseAssetName"),a=this.safeString(r,"quoteAssetName"),n=this.safeString(r,"marketId"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),h=o+"/"+c,d=this.safeValue(this.safeValue(this.options,"fees",{}),c,this.fees),u=this.safeInteger(r,"priceDecimals"),l=this.safeInteger(r,"amountDecimals"),f=this.safeNumber(r,"minOrderAmount"),p=this.safeNumber(r,"maxOrderAmount");let m;"AUD"===c&&(m=Math.pow(10,-u));const g={amount:l,price:u},y={amount:{min:f,max:p},price:{min:m,max:void 0},cost:{min:void 0,max:void 0}};i.push({info:r,id:n,symbol:h,base:o,quote:c,baseId:s,quoteId:a,type:"spot",spot:!0,active:void 0,maker:d.maker,taker:d.taker,limits:y,precision:g})}return i}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.parse8601(this.safeString(t,"timestamp"))}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsMeBalances(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"assetName"),a=this.safeCurrencyCode(s),n=this.account();n.used=this.safeString(r,"locked"),n.total=this.safeString(r,"balance"),i[a]=n}return this.parseBalance(i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,0)),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={marketId:a.id,timeWindow:this.timeframes[t]};void 0!==i&&(n.from=this.iso8601(i)),void 0!==r&&(n.limit=r);const o=await this.publicGetMarketsMarketIdCandles(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketId:this.market(e).id},s=await this.publicGetMarketsMarketIdOrderbook(this.extend(r,i)),a=this.safeIntegerProduct(s,"snapshotId",.001),n=this.parseOrderBook(s,e,a);return n.nonce=this.safeInteger(s,"snapshotId"),n}parseTicker(e,t){let i;const r=this.safeString(e,"marketId");if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"lastPrice"),n=this.safeNumber(e,"volume24h"),o=this.safeNumber(e,"volumeQte24h"),c=this.vwap(n,o),h=this.safeNumber(e,"price24h"),d=this.safeNumber(e,"pricePct24h");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bestBid"),bidVolume:void 0,ask:this.safeNumber(e,"bestAsk"),askVolume:void 0,vwap:c,open:void 0,close:a,last:a,previousClose:void 0,change:h,percentage:d,average:void 0,baseVolume:n,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketId:i.id},s=await this.publicGetMarketsMarketIdTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTicker2(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetMarketIdTick(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"marketId");let s,a,n,o;if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");a=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t),s=a+"/"+n}void 0===s&&void 0!==t&&(s=t.symbol,a=t.base,n=t.quote),o="AUD"===n?n:a;let c=this.safeString(e,"side");"Bid"===c?c="buy":"Ask"===c&&(c="sell");const h=this.safeString(e,"id"),d=this.safeString(e,"price"),u=this.safeString(e,"amount"),l=this.safeString(e,"orderId");let f;const p=this.safeString(e,"fee");void 0!==p&&(f={cost:p,currency:o});const m=this.safeStringLower(e,"liquidityType");return this.safeTrade({info:e,id:h,timestamp:i,datetime:this.iso8601(i),order:l,symbol:s,type:void 0,side:c,price:d,amount:u,cost:void 0,takerOrMaker:m,fee:f},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={marketId:s.id},n=await this.publicGetMarketsMarketIdTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const o=this.market(e),c={marketId:o.id,amount:this.amountToPrecision(e,r),side:"buy"===i?"Bid":"Ask"},h=t.toLowerCase(),d=this.safeValue(this.options,"orderTypes",{limit:"Limit",market:"Market",stop:"Stop","stop limit":"Stop Limit","take profit":"Take Profit"});c.type=this.safeString(d,h,t);let u=!1,l=!1;if("limit"===h?u=!0:"stop limit"===h?(l=!0,u=!0):("take profit"===h||"stop"===h)&&(l=!0),u){if(void 0===a)throw new s(this.id+" createOrder() requires a price argument for a "+t+"order");c.price=this.priceToPrecision(e,a)}if(l){const i=this.safeNumber(n,"triggerPrice");if(n=this.omit(n,"triggerPrice"),void 0===i)throw new s(this.id+" createOrder() requires a triggerPrice parameter for a "+t+"order");c.triggerPrice=this.priceToPrecision(e,i)}const f=this.safeString(n,"clientOrderId");void 0!==f&&(c.clientOrderId=f),n=this.omit(n,"clientOrderId");const p=await this.privatePostOrders(this.extend(c,n));return this.parseOrder(p,o)}async cancelOrders(e,t,i={}){await this.loadMarkets();for(let t=0;t<e.length;t++)e[t]=parseInt(e[t]);const r={ids:e};return await this.privateDeleteBatchordersIds(this.extend(r,i))}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privateDeleteOrdersId(this.extend(r,i))}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a];let h,d;return"AUD"===o.quote?(h=o.quote,d=parseFloat(this.costToPrecision(e,r*s))):(h=o.base,d=parseFloat(this.amountToPrecision(e,r))),{type:a,currency:h,rate:c,cost:parseFloat(this.feeToPrecision(e,c*d))}}parseOrderStatus(e){return this.safeString({Accepted:"open",Placed:"open","Partially Matched":"open","Fully Matched":"closed",Cancelled:"canceled","Partially Cancelled":"canceled",Failed:"rejected"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"creationTime")),r=this.safeString(e,"marketId");let s;if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===s&&void 0!==t&&(s=t.symbol);let a=this.safeString(e,"side");"Bid"===a?a="buy":"Ask"===a&&(a="sell");const n=this.safeStringLower(e,"type"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),h=this.safeString(e,"openAmount"),d=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"orderId"),l=this.safeString(e,"clientOrderId"),f=this.safeString(e,"timeInForce"),p=this.safeNumber(e,"triggerPrice"),m=this.safeValue(e,"postOnly");return this.safeOrder2({info:e,id:u,clientOrderId:l,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:s,type:n,timeInForce:f,postOnly:m,side:a,price:o,stopPrice:p,cost:void 0,amount:c,filled:void 0,remaining:h,average:void 0,status:d,trades:void 0,fee:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={status:"all"};let a;void 0!==e&&(a=this.market(e),s.marketId=a.id),void 0!==t&&(s.after=t),void 0!==i&&(s.limit=i);const n=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"open"},r))}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.marketId=a.id),void 0!==t&&(s.after=t),void 0!==i&&(s.limit=i);const n=await this.privateGetTrades(this.extend(s,r));return this.parseTrades(n,a,t,i)}lookupSymbolFromMarketId(e){let t,i;if(void 0!==e)if(e in this.markets_by_id)t=this.markets_by_id[e];else{const[t,r]=e.split("-");i=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(r)}return void 0===i&&void 0!==t&&(i=t.symbol),i}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+this.implodeParams(e,r);const o=this.keysort(this.omit(r,this.extractParams(e)));if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.encode(this.secret));let r=i+n+e;"GET"===i||"DELETE"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):r+=a=this.json(o);const c=this.hmac(this.encode(r),t,"sha512","base64");s={Accept:"application/json","Accept-Charset":"UTF-8","Content-Type":"application/json","BM-AUTH-APIKEY":this.apiKey,"BM-AUTH-TIMESTAMP":e,"BM-AUTH-SIGNATURE":c}}else"public"===t&&Object.keys(o).length&&(n+="?"+this.urlencode(o));return{url:this.urls.api[t]+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o){if("success"in o&&!o.success){const e=this.safeString(o,"errorCode"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}if(e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new a(i)}}}}},20233:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a}=i(73449),n=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,signIn:!0},urls:{referral:"https://btc-trade.com.ua/registration/22689",logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah",type:"spot",spot:!0},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{price:1},limits:{amount:{min:1e-10}},type:"spot",spot:!0},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"dash",quoteId:"btc",type:"spot",spot:!0},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH",baseId:"dash",quoteId:"uah",type:"spot",spot:!0},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc",type:"spot",spot:!0},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH",baseId:"doge",quoteId:"uah",type:"spot",spot:!0},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah",type:"spot",spot:!0},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH",baseId:"iti",quoteId:"uah",type:"spot",spot:!0},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH",baseId:"krb",quoteId:"uah",type:"spot",spot:!0},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",type:"spot",spot:!0},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH",baseId:"ltc",quoteId:"uah",type:"spot",spot:!0},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC",baseId:"nvc",quoteId:"btc",type:"spot",spot:!0},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH",baseId:"nvc",quoteId:"uah",type:"spot",spot:!0},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC",baseId:"ppc",quoteId:"btc",type:"spot",spot:!0},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH",baseId:"sib",quoteId:"uah",type:"spot",spot:!0},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH",baseId:"xmr",quoteId:"uah",type:"spot",spot:!0},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH",baseId:"zec",quoteId:"uah",type:"spot",spot:!0}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}async signIn(e={}){return await this.privatePostAuth(e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.safeValue(t,"accounts");for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(t,"balance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id},s=await this.publicGetTradesBuySymbol(this.extend(r,i)),a=await this.publicGetTradesSellSymbol(this.extend(r,i)),n={bids:[],asks:[]};return s&&"list"in s&&(n.bids=s.list),a&&"list"in a&&(n.asks=a.list),this.parseOrderBook(n,e,void 0,"bids","asks","price","currency_trade")}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetJapanStatHighSymbol(this.extend(i,t)),s=this.safeValue(r,"trades"),a=this.milliseconds(),n={symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s},o=s.length;if(o>0){for(let e=Math.max(o-48,0);e<s.length;e++){const t=s[e];void 0===n.open&&(n.open=this.safeNumber(t,1));const i=this.safeNumber(t,2);(void 0===n.high||void 0!==i&&n.high<i)&&(n.high=i);const r=this.safeNumber(t,3);(void 0===n.low||void 0!==r&&n.low>r)&&(n.low=r);const a=this.safeNumber(t,5);void 0===n.baseVolume?n.baseVolume=a:n.baseVolume=this.sum(n.baseVolume,a)}const e=o-1;n.last=this.safeNumber(s[e],4),n.close=n.last}return n}convertMonthNameToString(e){return this.safeString({Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sept:"09",Oct:"10",Nov:"11",Dec:"12"},e)}parseExchangeSpecificDatetime(e){const t=e.split(" ");let i=t[0],r=t[1].replace(",","");r.length<2&&(r="0"+r);const a=t[2].replace(",","");if(i=i.replace(",",""),i=i.replace(".",""),i=this.convertMonthNameToString(i),!i)throw new s(this.id+" parseTrade() unrecognized month name: "+e);const n=t[3].split(":");let o=this.safeString(n,0),c="00";const h=this.safeString(t,4);if("noon"===o)o="12";else{let e=parseInt(o);void 0!==h&&"p"===h[0]&&(e=12+e,e>23&&(e=0)),o=e.toString(),o.length<2&&(o="0"+o),c=this.safeString(n,1,"00"),c.length<2&&(c="0"+c)}const d=[a,i,r].join("-")+"T"+o+":"+c+":00",u=this.parse8601(d),l=parseInt(c);return l<11||l>2?u-72e5:u-108e5}parseTrade(e,t){const i=this.parseExchangeSpecificDatetime(this.safeString(e,"pub_date")),r=this.safeString(e,"id"),s=this.safeString(e,"type"),a=this.safeString(e,"price"),o=this.safeString(e,"amnt_trade"),c=this.parseNumber(a),h=this.parseNumber(o),d=this.parseNumber(n.stringMul(a,o));let u;return void 0!==t&&(u=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,type:"limit",side:s,order:void 0,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetDealsSymbol(this.extend(a,r)),o=[];for(let e=0;e<n.length;e++)this.safeInteger(n[e],"id")%2&&o.push(n[e]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i)+"Id",h={count:r,currency1:o.quoteId,currency:o.baseId,price:a};return this[c](this.extend(h,n))}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostRemoveOrderId(this.extend(r,i))}parseOrder(e,t){const i=this.milliseconds(),r=this.safeSymbol(void 0,t),s=this.safeString(e,"type"),a=this.safeString(e,"price"),n=this.safeString(e,"amnt_trade"),o=this.safeString(e,"amnt_trade");return this.safeOrder2({id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:"open",symbol:r,type:void 0,timeInForce:void 0,postOnly:void 0,side:s,price:a,stopPrice:void 0,amount:n,filled:void 0,remaining:o,trades:void 0,info:e,cost:void 0,average:void 0,fee:void 0},t)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id},o=await this.privatePostMyOrdersSymbol(this.extend(n,r)),c=this.safeValue(o,"your_open_orders");return this.parseOrders(c,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+=this.implodeParams(e,o));else{this.checkRequiredCredentials();const e=this.nonce(),t=(a=this.urlencode(this.extend({out_order_id:e,nonce:e},o)))+this.secret;s={"public-key":this.apiKey,"api-sign":this.hash(this.encode(t),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}}},51899:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InsufficientFunds:a,InvalidOrder:n}=i(73449),o=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:100,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153926-efbef500-c2c0-11ea-9842-05b63612c4b9.jpg",api:{public:"https://api.btcturk.com/api/v2",private:"https://api.btcturk.com/api/v1",graph:"https://graph-api.btcturk.com/v1"},www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:{orderbook:1,ticker:.1,trades:1,"server/exchangeinfo":1}},private:{get:{"users/balances":1,openOrders:1,allOrders:1,"users/transactions/trade":1},post:{order:1,cancelOrder:1},delete:{order:1}},graph:{get:{ohlcs:1}}},fees:{trading:{maker:this.parseNumber("0.0005"),taker:this.parseNumber("0.0009")}},exceptions:{exact:{FAILED_ORDER_WITH_OPEN_ORDERS:a,FAILED_LIMIT_ORDER:n,FAILED_MARKET_ORDER:n}}})}async fetchMarkets(e={}){const t=await this.publicGetServerExchangeinfo(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"symbols",[]),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"name"),a=this.safeString(t,"numerator"),n=this.safeString(t,"denominator"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeValue(t,"filters");let u,l,f,p,m;for(let e=0;e<d.length;e++){const t=d[e];"PRICE_FILTER"===this.safeString(t,"filterType")&&(u=this.safeNumber(t,"minPrice"),l=this.safeNumber(t,"maxPrice"),f=this.safeNumber(t,"minAmount"),p=this.safeNumber(t,"maxAmount"),m=this.safeNumber(t,"minExchangeValue"))}const g="TRADING"===this.safeString(t,"status"),y={price:{min:u,max:l},amount:{min:f,max:p},cost:{min:m,max:void 0}},b={price:this.safeInteger(t,"denominatorScale"),amount:this.safeInteger(t,"numeratorScale")};s.push({info:t,symbol:h,id:i,base:o,quote:c,baseId:a,quoteId:n,limits:y,precision:b,type:"spot",spot:!0,active:g})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUsersBalances(e),i=this.safeValue(t,"data",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"asset"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(t,"balance"),n.free=this.safeString(t,"free"),n.used=this.safeString(t,"locked"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pairSymbol:this.market(e).id},s=await this.publicGetOrderbook(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks",0,1)}parseTicker(e,t){const i=this.safeString(e,"pair"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"timestamp"),a=this.safeNumber(e,"last");return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"daily"),percentage:this.safeNumber(e,"dailyPercent"),average:this.safeNumber(e,"average"),baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeValue(i,"data");return this.parseTickers(r,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeInteger2(e,"date","timestamp"),r=this.safeString2(e,"tid","id"),s=this.safeString(e,"orderId"),a=this.safeString(e,"price"),n=o.stringAbs(this.safeString(e,"amount")),c=this.safeString(e,"pair"),h=this.safeSymbol(c,t),d=this.safeString2(e,"side","orderType");let u;const l=this.safeString(e,"fee");if(void 0!==l){const t=this.safeString(e,"denominatorSymbol");u={cost:o.stringAbs(l),currency:this.safeCurrencyCode(t)}}return this.safeTrade({info:e,id:r,order:s,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:d,takerOrMaker:void 0,price:a,amount:n,cost:void 0,fee:u},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pairSymbol:s.id};void 0!==i&&(a.last=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id};void 0!==r&&(n.last=r);const o=await this.graphGetOhlcs(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={orderType:i,orderMethod:t,pairSymbol:n.id,quantity:this.amountToPrecision(e,r)};"market"!==t&&(o.price=this.priceToPrecision(e,s)),"clientOrderId"in a?o.newClientOrderId=a.clientOrderId:"newClientOrderId"in a||(o.newClientOrderId=this.uuid());const c=await this.privatePostOrder(this.extend(o,a)),h=this.safeValue(c,"data");return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteOrder(this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.pairSymbol=a.id);const n=await this.privateGetOpenOrders(this.extend(s,r)),o=this.safeValue(n,"data"),c=this.safeValue(o,"bids",[]),h=this.safeValue(o,"asks",[]);return this.parseOrders(this.arrayConcat(c,h),a,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pairSymbol:s.id};void 0!==i&&(a.last=i),void 0!==t&&(a.startTime=Math.floor(t/1e3));const n=await this.privateGetAllOrders(this.extend(a,r)),o=this.safeValue(n,"data");return this.parseOrders(o,s,t,i)}parseOrderStatus(e){return this.safeString({Untouched:"open",Partial:"open",Canceled:"canceled",Closed:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"price"),s=this.safeString2(e,"amount","quantity"),a=o.stringAbs(s),n=this.safeString(e,"leftAmount"),c=this.safeNumber(e,"pairSymbol"),h=this.safeSymbol(c,t),d=this.safeString(e,"type"),u=this.safeString(e,"method"),l=this.safeString(e,"orderClientId"),f=this.safeInteger2(e,"updateTime","datetime"),p=this.safeString(e,"status"),m=this.parseOrderStatus(p);return this.safeOrder2({info:e,id:i,price:r,amount:a,remaining:n,filled:void 0,cost:void 0,average:void 0,status:m,side:d,type:u,clientOrderId:l,timestamp:f,datetime:this.iso8601(f),symbol:h,fee:void 0},t)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a=await this.privateGetUsersTransactionsTrade(),n=this.safeValue(a,"data");return this.parseTrades(n,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},a,n){if("btctrader"===this.id)throw new s(this.id+" is an abstract base API for BTCExchange, BTCTurk");let o=this.urls.api[t]+"/"+e;if("GET"===i||"DELETE"===i?Object.keys(r).length&&(o+="?"+this.urlencode(r)):n=this.json(r),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret),i=this.apiKey+e;a={"X-PCK":this.apiKey,"X-Stamp":e,"X-Signature":this.hmac(this.encode(i),t,"sha256","base64"),"Content-Type":"application/json"}}return{url:o,method:i,body:n,headers:a}}handleErrors(e,t,i,r,a,n,o,c,h){const d=this.safeString(o,"code","0"),u=this.safeString(o,"message"),l=void 0===u?n:u;if(this.throwExactlyMatchedException(this.exceptions.exact,u,this.id+" "+l),"0"!==d)throw new s(this.id+" "+l)}}},64875:(e,t,i)=>{"use strict";const r=i(48819),{AddressPending:s,AuthenticationError:a,ExchangeError:n,NotSupported:o,PermissionDenied:c,ArgumentsRequired:h}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:void 0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:a,forbidden:c,invalid_record:n,not_found:n,parameter_missing:n,bad_parameter:n}})}async fetchCurrencyInfo(e,t){if(!t){const e=await this.publicGetCurrencies();t=this.safeValue(e,"currencies")}for(let i=0;i<t.length;i++){const r=t[i];if(r.id===e)return r}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"markets"),r=await this.publicGetCurrencies(),s=this.safeValue(r,"currencies"),a=[];for(let e=0;e<i.length;e++){const t=i[e],r=this.safeString(t,"id"),n=this.safeString(t,"base_currency"),o=this.safeString(t,"quote_currency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=await this.fetchCurrencyInfo(n,s),u=await this.fetchCurrencyInfo(o,s),l=c+"/"+h,f=this.safeString(u,"input_decimals"),p=this.parsePrecision(f),m={amount:this.safeInteger(d,"input_decimals"),price:parseInt(f)},g=this.safeValue(t,"minimum_order_amount",[]),y={amount:{min:this.safeNumber(g,0),max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}};a.push({id:r,symbol:l,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:!0,precision:m,limits:y,info:t})}return a}async fetchCurrencies(e={}){const t=(await this.publicGetCurrencies()).currencies,i={};for(let e=0;e<t.length;e++){const r=t[e];if(!r.managed)continue;const s=this.safeString(r,"id"),a=this.safeCurrencyCode(s),n=this.safeNumber(r,"input_decimals"),o=Math.pow(10,-n);i[a]={id:s,code:a,info:r,name:void 0,active:!0,fee:void 0,precision:n,limits:{amount:{min:o,max:void 0},deposit:{min:parseFloat(r.deposit_minimum[0]),max:void 0},withdraw:{min:parseFloat(r.withdrawal_minimum[0])}}}}return i}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={},s={};void 0===e&&(e=Object.keys(this.currencies));for(let t=0;t<e.length;t++){const a=e[t],n={currency:this.currency(a).id},o=await this.publicGetCurrenciesCurrencyFeesWithdrawal(n),c=await this.publicGetCurrenciesCurrencyFeesDeposit(n);i[a]=this.parseFundingFee(o.fee),r[a]=this.parseFundingFee(c.fee),s[a]={withdraw:o,deposit:c}}return{withdraw:i,deposit:r,info:s}}parseFundingFee(e,t){return void 0===t&&(t=e.name),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e.base[1],rate:e.percent,cost:parseFloat(e.base[0])}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetMarketsMarketTicker(this.extend(r,t)),a=this.safeValue(s,"ticker");return this.parseTicker(a,i)}parseTicker(e,t){const i=this.milliseconds();let r;void 0!==t&&(r=t.symbol);const s=parseFloat(e.last_price[0]),a=parseFloat(e.price_variation_24h),n=parseFloat(this.priceToPrecision(r,s/(a+1))),o=s-n,c=this.sum(s,n)/2;return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:parseFloat(e.max_bid[0]),bidVolume:void 0,ask:parseFloat(e.min_ask[0]),askVolume:void 0,vwap:void 0,open:n,close:s,last:s,previousClose:n,change:o,percentage:100*a,average:c,baseVolume:parseFloat(e.volume[0]),quoteVolume:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketsMarketTrades(this.extend(a,r));return this.parseTrades(n.trades.entries,s,t,i)}parseTrade(e,t){let i,r,s,a,n,o;return t&&(o=t.symbol),Array.isArray(e)&&(i=this.safeInteger(e,0),s=this.safeString(e,1),a=this.safeString(e,2),r=this.safeString(e,3),n=this.safeString(e,4)),this.safeTrade({id:n,order:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:r,takerOrMaker:void 0,price:s,amount:a,cost:void 0,fee:void 0},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id},s=await this.publicGetMarketsMarketOrderBook(this.extend(r,i)),a=this.safeValue(s,"order_book");return this.parseOrderBook(a,e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===i&&(i=this.milliseconds()-864e5);const n={symbol:a.id,resolution:this.timeframes[t],from:i/1e3,to:this.seconds()},o=await this.publicGetTvHistory(this.extend(n,s));return this.parseTradingViewOHLCV(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},r=this.safeValue(t,"balances");for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"id"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t.available_amount,0),n.total=this.safeString(t.amount,0),i[a]=n}return this.parseBalance(i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrdersId(this.extend(r,i)),a=this.safeValue(s,"order");return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a={market:s.id,per:i},n=await this.privateGetMarketsMarketOrders(this.extend(a,r)),o=this.safeValue(n,"orders");return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"pending"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"traded"},r))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),i="buy"===i?"Bid":"Ask";const n={market:this.marketId(e),price_type:t,type:i,amount:this.amountToPrecision(e,r)};"limit"===t&&(n.limit=this.priceToPrecision(e,s));const o=await this.privatePostMarketsMarketOrders(this.extend(n,a)),c=this.safeValue(o,"order");return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e),state:"canceling"},s=await this.privatePutOrdersId(this.extend(r,i)),a=this.safeValue(s,"order");return this.parseOrder(a)}parseOrderStatus(e){return this.safeString({traded:"closed",received:"open",canceling:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.iso8601(r),a=this.safeString(e,"market_id"),n=this.safeSymbol(a,t,"-"),o=this.safeString(e,"price_type"),c=this.safeStringLower(e,"type"),h=this.parseOrderStatus(this.safeString(e,"state")),d=this.safeValue(e,"original_amount",[]),u=this.safeString(d,0),l=this.safeValue(e,"amount",[]),f=this.safeString(l,0),p=this.safeValue(e,"traded_amount",[]),m=this.safeString(p,0),g=this.safeValue(e,"totalExchanged",[]),y=this.safeString(g,0),b=this.safeValue(e,"limit",[]);let v=this.safeString(b,0);void 0===v&&void 0!==b&&(v=b);const w=this.safeValue(e,"paid_fee",[]),k=this.safeString(w,0);let S;if(void 0!==k){const e=this.safeString(w,1);S={cost:k,code:this.safeCurrencyCode(e)}}return this.safeOrder2({info:e,id:i,clientOrderId:void 0,datetime:s,timestamp:r,lastTradeTimestamp:void 0,status:h,symbol:n,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:v,stopPrice:void 0,average:void 0,cost:y,amount:u,filled:m,remaining:f,trades:void 0,fee:S},t)}isFiat(e){return this.safeValue({ARS:!0,CLP:!0,COP:!0,PEN:!0},e,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+" fetchDepositAddress() for fiat "+e+" is not supported");const r={currency:i.id},a=await this.privateGetCurrenciesCurrencyReceiveAddresses(this.extend(r,t)),n=this.safeValue(a,"receive_addresses"),c=[];for(let e=1;e<n.length;e++){const t=n[e];if(t.ready){const e=t.address;this.checkAddress(e),c.push(e)}}if(c.length<1)throw new s(this.id+": there are no addresses ready for receiving "+e+", retry again later)");return{currency:e,address:c[0],tag:void 0,network:void 0,info:n}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+": fiat fetchDepositAddress() for "+e+" is not supported");const r={currency:i.id},s=await this.privatePostCurrenciesCurrencyReceiveAddresses(this.extend(r,t));return{currency:e,address:this.safeString(s.receive_address,"address"),tag:void 0,info:s}}parseTransactionStatus(e){return this.safeString({rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=parseFloat(e.amount[0]),o=parseFloat(e.fee[0]),c=e.fee[1],h=this.parseTransactionStatus(this.safeString(e,"state")),d="deposit_data"in e?"deposit":"withdrawal",u=this.safeValue(e,d+"_data",{}),l=this.safeValue(u,"target_address"),f=this.safeString(u,"tx_hash"),p=this.parse8601(this.safeString(u,"updated_at"));return{info:e,id:i,txid:f,timestamp:r,datetime:this.iso8601(r),address:l,type:d,amount:n,currency:a,status:h,updated:p,fee:{cost:o,rate:c}}}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new h(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),a={currency:s.id,per:i},n=await this.privateGetCurrenciesCurrencyDeposits(this.extend(a,r)),o=this.safeValue(n,"deposits");return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new h(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),a={currency:s.id,per:i},n=await this.privateGetCurrenciesCurrencyWithdrawals(this.extend(a,r)),o=this.safeValue(n,"withdrawals");return this.parseTransactions(o,s,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,withdrawal_data:{target_address:i}},n=await this.privatePostCurrenciesCurrencyWithdrawals(this.extend(a,s)),o=this.safeValue(n,"withdrawal");return this.parseTransaction(o)}nonce(){return this.microseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));Object.keys(o).length&&("GET"===i?n+="?"+this.urlencode(o):a=this.json(o));const c=this.urls.api+"/"+this.version+"/"+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=[i,"/api/"+this.version+"/"+n];if(a){const e=this.stringToBase64(a);t.push(this.decode(e))}t.push(e);const r=t.join(" "),o=this.hmac(this.encode(r),this.encode(this.secret),"sha384");s={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":o,"X-SBTC-NONCE":e,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0!==o&&e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message",a),i=this.id+" "+t;if(void 0!==e)throw this.throwExactlyMatchedException(this.exceptions,e,i),new n(i)}}}},41520:(e,t,i)=>{"use strict";const r=i(48819),{RateLimitExceeded:s,BadSymbol:a,OrderNotFound:n,ExchangeError:o,AuthenticationError:c,ArgumentsRequired:h,ExchangeNotAvailable:d}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bw",name:"BW",countries:["CN"],rateLimit:1500,version:"v1",has:{cancelAllOrders:void 0,cancelOrder:!0,cancelOrders:void 0,CORS:void 0,createDepositAddress:void 0,createLimitOrder:!0,createMarketOrder:void 0,createOrder:!0,deposit:void 0,editOrder:void 0,fetchBalance:!0,fetchBidsAsks:void 0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:void 0,fetchL2OrderBook:void 0,fetchLedger:void 0,fetchMarkets:!0,fetchMyTrades:void 0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:void 0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:void 0,fetchTradingFees:void 0,fetchTradingLimits:void 0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:void 0},timeframes:{"1m":"1M","5m":"5M","15m":"15M","30m":"30M","1h":"1H","1w":"1W"},hostname:"bw.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/69436317-31128c80-0d52-11ea-91d1-eb7bb5818812.jpg",api:"https://www.{hostname}",www:"https://www.bw.com",doc:"https://github.com/bw-exchange/api_docs_en/wiki",fees:"https://www.bw.com/feesRate",referral:"https://www.bw.com/regGetCommission/N3JuT1R3bWxKTE0"},requiredCredentials:{apiKey:!0,secret:!0},fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")},funding:{}},exceptions:{exact:{999:c,1e3:d,2012:n,5017:a,10001:s}},api:{public:{get:["api/data/v1/klines","api/data/v1/ticker","api/data/v1/tickers","api/data/v1/trades","api/data/v1/entrusts","exchange/config/controller/website/marketcontroller/getByWebId","exchange/config/controller/website/currencycontroller/getCurrencyList"]},private:{get:["exchange/entrust/controller/website/EntrustController/getEntrustById","exchange/entrust/controller/website/EntrustController/getUserEntrustRecordFromCacheWithPage","exchange/entrust/controller/website/EntrustController/getUserEntrustList","exchange/fund/controller/website/fundwebsitecontroller/getwithdrawaddress","exchange/fund/controller/website/fundwebsitecontroller/getpayoutcoinrecord","exchange/entrust/controller/website/EntrustController/getUserEntrustList"],post:["exchange/fund/controller/website/fundcontroller/getPayinAddress","exchange/fund/controller/website/fundcontroller/getPayinCoinRecord","exchange/fund/controller/website/fundcontroller/findbypage","exchange/entrust/controller/website/EntrustController/addEntrust","exchange/entrust/controller/website/EntrustController/cancelEntrust"]}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteMarketcontrollerGetByWebId(e),i=this.safeValue(t,"datas",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"marketId"),a=parseInt(s),n=this.safeStringUpper(t,"name");let[o,c]=n.split("_");o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const h=this.safeString(t,"sellerCurrencyId"),d=this.safeString(t,"buyerCurrencyId"),u=parseInt(h),l=parseInt(d),f=o+"/"+c,p=1===this.safeInteger(t,"state"),m=this.safeNumber(t,"defaultFee");r.push({id:s,numericId:a,symbol:f,base:o,quote:c,baseId:h,quoteId:d,baseNumericId:u,quoteNumericId:l,type:"spot",spot:!0,active:p,maker:m,taker:m,info:t,precision:{amount:this.safeInteger(t,"amountDecimal"),price:this.safeInteger(t,"priceDecimal")},limits:{amount:{min:this.safeNumber(t,"minAmount"),max:void 0},price:{min:0,max:void 0},cost:{min:0,max:void 0}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteCurrencycontrollerGetCurrencyList(e),i=this.safeValue(t,"datas",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currencyId"),a=this.safeCurrencyCode(this.safeStringUpper(t,"name")),n=1===this.safeInteger(t,"state");r[a]={id:s,code:a,info:t,name:a,active:n,fee:this.safeNumber(t,"drawFee"),precision:void 0,limits:{amount:{min:this.safeNumber(t,"limitAmount",0),max:void 0},withdraw:{min:void 0,max:this.safeNumber(t,"onceDrawLimit")}}}}return r}parseTicker(e,t){const i=this.safeString(e,0),r=this.safeSymbol(i,t),s=this.milliseconds(),a=this.safeNumber(e,1),n=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,2),low:this.safeNumber(e,3),bid:this.safeNumber(e,7),bidVolume:this.safeNumber(n,"quantity"),ask:this.safeNumber(e,8),askVolume:this.safeNumber(o,"quantity"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeNumber(e,5),percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,4),quoteVolume:this.safeNumber(e,9),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketId:i.id},s=await this.publicGetApiDataV1Ticker(this.extend(r,t)),a=this.safeValue(s,"datas",[]);return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetApiDataV1Tickers(t),r=this.safeValue(i,"datas",[]),s={};for(let t=0;t<r.length;t++){const i=this.parseTicker(r[t]),a=i.symbol;(void 0===e||this.inArray(a,e))&&(s[a]=i)}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketId:this.market(e).id};void 0!==t&&(r.dataSize=t);const s=await this.publicGetApiDataV1Entrusts(this.extend(r,i)),a=this.safeValue(s,"datas",[]),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTrade(e,t){const i=this.safeTimestamp(e,2),r=this.safeString(e,5),s=this.safeString(e,6),a=this.safeString(e,1);let n;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{const t=this.safeString(e,3),[i,r]=t.split("_");n=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}void 0===n&&void 0!==t&&(n=t.symbol);const o="ask"===this.safeString(e,4)?"sell":"buy";return this.safeTrade({id:void 0,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:"limit",side:o,takerOrMaker:void 0,price:r,amount:s,cost:void 0,fee:void 0,info:e},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.dataSize=i);const n=await this.publicGetApiDataV1Trades(this.extend(a,r)),o=this.safeValue(n,"datas",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,3),this.safeNumber(e,4),this.safeNumber(e,5),this.safeNumber(e,6),this.safeNumber(e,7),this.safeNumber(e,8)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={marketId:a.id,type:this.timeframes[t],dataSize:500};void 0!==r&&(n.dataSize=r);const o=await this.publicGetApiDataV1Klines(this.extend(n,s)),c=this.safeValue(o,"datas",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostExchangeFundControllerWebsiteFundcontrollerFindbypage(e),i=this.safeValue(t,"datas",{}),r=this.safeValue(i,"list",[]),s={info:t};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currencyTypeId"),a=this.safeCurrencyCode(i),n=this.account();n.free=this.safeString(t,"amount"),n.used=this.safeString(t,"freeze"),s[a]=n}return this.parseBalance(s)}async createOrder(e,t,i,r,s,a={}){if(void 0===s)throw new o(this.id+" allows limit orders only");await this.loadMarkets();const n=this.market(e),c={amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s),type:"buy"===i?1:0,rangeType:0,marketId:n.id},h=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerAddEntrust(this.extend(c,a)),d=this.safeValue(h,"datas");return{id:this.safeString(d,"entrustId"),info:h,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:"open",fee:void 0,trades:void 0,clientOrderId:void 0}}parseOrderStatus(e){return this.safeString({"-3":"canceled","-2":"canceled","-1":"canceled",0:"open",1:"canceled",2:"closed",3:"open",4:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"marketId"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"createTime");let a=this.safeString(e,"type");"0"===a?a="sell":"1"===a&&(a="buy");const n=this.safeString(e,"amount"),o=this.safeString(e,"price"),c=this.safeString(e,"completeAmount"),h=this.safeString2(e,"availabelAmount","availableAmount"),d=this.safeString(e,"totalMoney"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder2({info:e,id:this.safeString(e,"entrustId"),clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:r,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,amount:n,cost:d,average:void 0,filled:c,remaining:h,status:u,fee:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={marketId:r.id,entrustId:e},a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetEntrustById(this.extend(s,i)),n=this.safeValue(a,"datas",{});return this.parseOrder(n,r)}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r={marketId:this.market(t).id,entrustId:e};return{info:await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerCancelEntrust(this.extend(r,i)),id:e}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.pageSize=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustRecordFromCacheWithPage(this.extend(a,r)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.pageSize=i),void 0!==t&&(a.startDateTime=t);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,r)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==t&&(a.startDateTime=t),void 0!==i&&(a.pageSize=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,r)),o=this.safeValue(n,"datas",{}),c=this.safeValue(o,"entrustList",[]);return this.parseOrders(c,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeHostname(this.urls.api)+"/"+e;if("GET"===i?Object.keys(r).length&&(n+="?"+this.urlencode(r)):a=this.json(r),"private"===t){const e=this.milliseconds().toString();let t="";if("GET"===i){const e=this.keysort(r),i=Object.keys(e);for(let r=0;r<i.length;r++){const s=i[r];t+=s+e[s].toString()}}else t=a;const n=this.apiKey+e+t+this.secret,o=this.hash(this.encode(n),"md5");s||(s={}),s.Apiid=this.apiKey,s.Timestamp=e,s.Sign=o}return{url:n,method:i,body:a,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currencyTypeName:this.currency(e).name},r=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinAddress(this.extend(i,t)),s=this.safeValue(r,"datas",{}),a=this.safeString(s,"address"),n=this.safeString(s,"memo");return this.checkAddress(a),{currency:e,address:this.checkAddress(a),tag:n,network:void 0,info:r}}parseTransactionStatus(e){return this.safeString({"-1":"canceled",0:"pending",1:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"depositId","withdrawalId"),r=this.safeString2(e,"depositAddress","withdrawalAddress"),s=this.safeString2(e,"currencyId","currencyTypeId");let a;s in this.currencies_by_id&&(t=this.currencies_by_id[s]),void 0===a&&void 0!==t&&(a=t.code);const n="depositId"in e?"deposit":"withdrawal",o=this.safeNumber2(e,"actuallyAmount","amount"),c=this.parseTransactionStatus(this.safeString2(e,"verifyStatus","state")),h=this.safeInteger(e,"createTime"),d=this.safeString(e,"txId");let u;const l=this.safeNumber(e,"fees");return void 0!==l&&(u={cost:l,currency:a}),{info:e,id:i,txid:d,timestamp:h,datetime:this.iso8601(h),addressFrom:void 0,address:r,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:o,currency:a,status:c,updated:void 0,fee:u}}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s={currencyTypeName:this.currency(e).name};void 0!==i&&(s.pageSize=i);const a=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(this.extend(s,r)),n=this.safeValue(a,"datas",{}),o=this.safeValue(n,"list",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s={currencyId:this.currency(e).id};void 0!==i&&(s.pageSize=i);const a=await this.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(this.extend(s,r)),n=this.safeValue(a,"datas",{}),o=this.safeValue(n,"list",[]);return this.parseTransactions(o,e,t,i)}handleErrors(e,t,i,r,s,a,n,c,h){if(!n)return;const d=this.safeValue(n,"resMsg"),u=this.safeString(d,"code");if("1"!==u){const e=this.id+" "+this.json(n);throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),new o(e)}}}},73803:(e,t,i)=>{"use strict";const r=i(48819),{TICK_SIZE:s}=i(62115),{AuthenticationError:a,ExchangeError:n,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:h,OrderNotFound:d,InsufficientFunds:u,BadRequest:l,RateLimitExceeded:f,InvalidNonce:p}=i(73449),m=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bybit",name:"Bybit",countries:["VG"],version:"v2",userAgent:void 0,rateLimit:100,hostname:"bybit.com",has:{margin:!1,swap:!0,future:!0,cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchDeposits:!0,fetchFundingRate:!0,fetchFundingRateHistory:!1,fetchIndexOHLCV:!0,fetchLedger:!0,fetchMarkets:!0,fetchMarkOHLCV:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,setLeverage:!0,setMarginMode:!0},timeframes:{"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"D","1w":"W","1M":"M","1y":"Y"},urls:{test:{spot:"https://api-testnet.{hostname}",futures:"https://api-testnet.{hostname}",v2:"https://api-testnet.{hostname}",public:"https://api-testnet.{hostname}",private:"https://api-testnet.{hostname}"},logo:"https://user-images.githubusercontent.com/51840849/76547799-daff5b80-649e-11ea-87fb-3be9bac08954.jpg",api:{spot:"https://api.{hostname}",futures:"https://api.{hostname}",v2:"https://api.{hostname}",public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://www.bybit.com",doc:["https://bybit-exchange.github.io/docs/inverse/","https://bybit-exchange.github.io/docs/linear/","https://github.com/bybit-exchange"],fees:"https://help.bybit.com/hc/en-us/articles/360039261154",referral:"https://www.bybit.com/app/register?ref=X7Prm"},api:{spot:{public:{get:["symbols"]},quote:{get:["depth","depth/merged","trades","kline","ticker/24hr","ticker/price","ticker/book_ticker"]},private:{get:["order","open-orders","history-orders","myTrades","account","time"],post:["order"],delete:["order","order/fast"]},order:{delete:["batch-cancel","batch-fast-cancel","batch-cancel-by-ids"]}},futures:{private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},v2:{public:{get:["orderBook/L2","kline/list","tickers","trading-records","symbols","liq-records","mark-price-kline","index-price-kline","premium-index-kline","open-interest","big-deal","account-ratio","time","announcement","funding/prev-funding-rate","risk-limit/list"]},private:{get:["order/list","order","stop-order/list","stop-order","position/list","execution/list","trade/closed-pnl/list","funding/prev-funding-rate","funding/prev-funding","funding/predicted-funding","account/api-key","account/lcp","wallet/balance","wallet/fund/records","wallet/withdraw/list","exchange-order/list"],post:["order/create","order/cancel","order/cancelAll","order/replace","stop-order/create","stop-order/cancel","stop-order/cancelAll","stop-order/replace","position/change-position-margin","position/trading-stop","position/leverage/save","position/switch-mode","position/switch-isolated","position/risk-limit"]}},public:{linear:{get:["kline","recent-trading-records","funding/prev-funding-rate","mark-price-kline","index-price-kline","premium-index-kline","risk-limit"]}},private:{linear:{get:["order/list","order/search","stop-order/list","stop-order/search","position/list","trade/execution/list","trade/closed-pnl/list","funding/predicted-funding","funding/prev-funding"],post:["order/create","order/cancel","order/cancel-all","order/replace","stop-order/create","stop-order/cancel","stop-order/cancel-all","stop-order/replace","position/set-auto-add-margin","position/switch-isolated","tpsl/switch-mode","position/add-margin","position/set-leverage","position/trading-stop","position/set-risk"]}}},httpExceptions:{403:f},exceptions:{exact:{"-2015":a,10001:l,10002:p,10003:a,10004:a,10005:c,10006:f,10007:a,10010:c,10017:l,10018:f,20001:d,20003:h,20004:h,20005:h,20006:h,20007:h,20008:h,20009:h,20010:h,20011:h,20012:h,20013:h,20014:h,20015:h,20016:h,20017:h,20018:h,20019:h,20020:h,20021:h,20022:l,20023:l,20031:l,20070:l,20071:l,20084:l,30001:l,30003:h,30004:h,30005:h,30007:h,30008:h,30009:n,30010:u,30011:c,30012:c,30013:c,30014:h,30015:h,30016:n,30017:h,30018:h,30019:h,30020:h,30021:h,30022:h,30023:h,30024:h,30025:h,30026:h,30027:h,30028:h,30029:h,30030:h,30031:u,30032:h,30033:f,30034:d,30035:f,30036:n,30037:h,30041:n,30042:u,30043:h,30044:h,30045:h,30049:u,30050:n,30051:n,30052:n,30054:n,30057:n,30063:n,30067:u,30068:n,30074:h,30075:h,33004:a,34026:n},broad:{"unknown orderInfo":d,"invalid api_key":a}},precisionMode:s,options:{marketTypes:{"BTC/USDT":"linear","ETH/USDT":"linear","BNB/USDT":"linear","ADA/USDT":"linear","DOGE/USDT":"linear","XRP/USDT":"linear","DOT/USDT":"linear","UNI/USDT":"linear","BCH/USDT":"linear","LTC/USDT":"linear","SOL/USDT":"linear","LINK/USDT":"linear","MATIC/USDT":"linear","ETC/USDT":"linear","FIL/USDT":"linear","EOS/USDT":"linear","AAVE/USDT":"linear","XTZ/USDT":"linear","SUSHI/USDT":"linear","XEM/USDT":"linear","BTC/USD":"inverse","ETH/USD":"inverse","EOS/USD":"inverse","XRP/USD":"inverse"},defaultType:"linear",code:"BTC",cancelAllOrders:{},recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:75e-5,maker:-25e-5},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}}})}nonce(){return this.milliseconds()-this.options.timeDifference}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options.timeDifference=i-t,this.options.timeDifference}async fetchTime(e={}){const t=await this.v2PublicGetTime(e);return this.safeTimestamp(t,"time_now")}async fetchMarkets(e={}){this.options.adjustForTimeDifference&&await this.loadTimeDifference();const t=await this.v2PublicGetSymbols(e),i=this.safeValue(t,"result",[]),r=this.safeValue(this.options,"fetchMarkets",{}),s=this.safeValue(r,"linear",{USDT:!0}),a=[];for(let e=0;e<i.length;e++){const t=i[e],r=this.safeString2(t,"name","symbol"),n=this.safeString(t,"base_currency"),o=this.safeString(t,"quote_currency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=h in s,u=!d;let l=c+"/"+h,f="swap";c+h!==r&&(l=r,f="futures");const p=this.safeValue(t,"lot_size_filter",{}),m=this.safeValue(t,"price_filter",{}),g={amount:this.safeNumber(p,"qty_step"),price:this.safeNumber(m,"tick_size")},y=this.safeValue(t,"leverage_filter",{}),b=this.safeString(t,"status");let v;void 0!==b&&(v="Trading"===b);const w="spot"===f,k="swap"===f,S="futures"===f,_="option"===f;a.push({id:r,symbol:l,base:c,quote:h,active:v,precision:g,taker:this.safeNumber(t,"taker_fee"),maker:this.safeNumber(t,"maker_fee"),type:f,spot:w,swap:k,futures:S,option:_,linear:d,inverse:u,limits:{amount:{min:this.safeNumber(p,"min_trading_qty"),max:this.safeNumber(p,"max_trading_qty")},price:{min:this.safeNumber(m,"min_price"),max:this.safeNumber(m,"max_price")},cost:{min:void 0,max:void 0},leverage:{max:this.safeNumber(y,"max_leverage",1)}},info:t})}return a}parseTicker(e,t){const i=void 0,r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"prev_price_24h");let o,c,h=this.safeNumber(e,"price_24h_pcnt");void 0!==h&&(h*=100),void 0!==a&&void 0!==n&&(o=a-n,c=this.sum(n,a)/2);const d=this.safeNumber(e,"turnover_24h"),u=this.safeNumber(e,"volume_24h"),l=this.vwap(d,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price_24h"),low:this.safeNumber(e,"low_price_24h"),bid:this.safeNumber(e,"bid_price"),bidVolume:void 0,ask:this.safeNumber(e,"ask_price"),askVolume:void 0,vwap:l,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:h,average:c,baseVolume:d,quoteVolume:u,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.v2PublicGetTickers(this.extend(r,t)),a=this.safeValue(s,"result",[]),n=this.safeValue(a,0),o=this.safeTimestamp(s,"time_now"),c=this.parseTicker(n,i);return c.timestamp=o,c.datetime=this.iso8601(o),c}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.v2PublicGetTickers(t),r=this.safeValue(i,"result",[]),s={};for(let e=0;e<r.length;e++){const t=this.parseTicker(r[e]);s[t.symbol]=t}return this.filterByArray(s,"symbol",e)}parseOHLCV(e,t){return[this.safeTimestamp2(e,"open_time","start_at"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber2(e,"volume","turnover")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(s,"price");s=this.omit(s,"price");const c={symbol:a.id,interval:this.timeframes[t]},h=this.parseTimeframe(t),d=this.seconds();if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");c.from=d-r*h}else c.from=parseInt(i/1e3);void 0!==r&&(c.limit=r);let u="v2PublicGetKlineList";"mark"===n?u="v2PublicGetMarkPriceKline":"index"===n?u="v2PublicGetIndexPriceKline":"premiumIndex"===n?u="v2PublicGetPremiumIndexKline":a.linear&&(u="publicLinearGetKline");const l=await this[u](this.extend(c,s)),f=this.safeValue(l,"result",{});return this.parseOHLCVs(f,a,t,i,r)}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=i.linear?"publicLinearGetFundingPrevFundingRate":"v2PublicGetFundingPrevFundingRate",a=await this[s](this.extend(r,t)),n=this.safeValue(a,"result"),o=this.safeNumber(n,"funding_rate"),c=1e3*this.safeInteger(n,"funding_rate_timestamp"),h=c+288e5,d=this.milliseconds();return{info:n,symbol:e,markPrice:void 0,indexPrice:void 0,interestRate:void 0,estimatedSettlePrice:void 0,timestamp:d,datetime:this.iso8601(d),previousFundingRate:void 0,nextFundingRate:o,previousFundingTimestamp:c,nextFundingTimestamp:h,previousFundingDatetime:this.iso8601(c),nextFundingDatetime:this.iso8601(h)}}async fetchIndexOHLCV(e,t="1m",i,r,s={}){if(void 0===i&&void 0===r)throw new o(this.id+" fetchIndexOHLCV() requires a since argument or a limit argument");return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}async fetchMarkOHLCV(e,t="1m",i,r,s={}){if(void 0===i&&void 0===r)throw new o(this.id+" fetchMarkOHLCV() requires a since argument or a limit argument");return await this.fetchOHLCV(e,t,i,r,this.extend({price:"mark"},s))}async fetchPremiumIndexOHLCV(e,t="1m",i,r,s={}){if(void 0===i&&void 0===r)throw new o(this.id+" fetchPremiumIndexOHLCV() requires a since argument or a limit argument");return await this.fetchOHLCV(e,t,i,r,this.extend({price:"premiumIndex"},s))}parseTrade(e,t){const i=this.safeString2(e,"id","exec_id"),r=this.safeString(e,"symbol"),s=(t=this.safeMarket(r,t)).symbol,a=this.safeString2(e,"qty","exec_qty"),n=this.safeString2(e,"exec_price","price"),o=this.safeString(e,"exec_value");let c=this.parse8601(this.safeString(e,"time"));void 0===c&&(c=this.safeInteger(e,"trade_time_ms"));const h=this.safeStringLower(e,"side"),d="AddedLiquidity"===this.safeString(e,"last_liquidity_ind")?"maker":"taker",u=this.safeString(e,"exec_fee");let l;return void 0!==u&&(l={cost:u,currency:t.inverse?t.base:t.quote,rate:this.safeString(e,"fee_rate")}),this.safeTrade({id:i,info:e,timestamp:c,datetime:this.iso8601(c),symbol:s,order:this.safeString(e,"order_id"),type:this.safeStringLower(e,"order_type"),side:h,takerOrMaker:d,price:n,amount:a,cost:o,fee:l},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.count=i);const n=s.linear?"publicLinearGetRecentTradingRecords":"v2PublicGetTradingRecords",o=await this[n](this.extend(a,r)),c=this.safeValue(o,"result",{});return this.parseTrades(c,s,t,i)}parseOrderBook(e,t,i,r="Buy",s="Sell",a="price",o="size"){const c=[],h=[];for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"side");if("Buy"===r)c.push(this.parseBidAsk(i,a,o));else{if("Sell"!==r)throw new n(this.id+" parseOrderBook encountered an unrecognized bidask format: "+this.json(i));h.push(this.parseBidAsk(i,a,o))}}return{symbol:t,bids:this.sortBy(c,0,!0),asks:this.sortBy(h,0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id},s=await this.v2PublicGetOrderBookL2(this.extend(r,i)),a=this.safeValue(s,"result",[]),n=this.safeTimestamp(s,"time_now");return this.parseOrderBook(a,e,n,"Buy","Sell","price","size")}async fetchBalance(e={}){await this.loadMarkets();const t={},i=this.safeString(e,"coin"),r=this.safeString(e,"code");if(void 0!==i)t.coin=i;else if(void 0!==r){const e=this.currency(r);t.coin=e.id}const s=await this.v2PrivateGetWalletBalance(this.extend(t,e)),a={info:s},n=this.safeValue(s,"result",{}),o=Object.keys(n);for(let e=0;e<o.length;e++){const t=o[e],i=n[t],r=this.safeCurrencyCode(t),s=this.account();s.free=this.safeString(i,"available_balance"),s.used=this.safeString(i,"used_margin"),s.total=this.safeString(i,"equity"),a[r]=s}return this.parseBalance(a)}parseOrderStatus(e){return this.safeString({Created:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Cancelled:"canceled",PendingCancel:"canceling",Active:"open",Untriggered:"open",Triggered:"closed",Deactivated:"canceled"},e,e)}parseTimeInForce(e){return this.safeString({GoodTillCancel:"GTC",ImmediateOrCancel:"IOC",FillOrKill:"FOK",PostOnly:"PO"},e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=(t=this.safeMarket(i,t)).symbol;let s;const a=this.parse8601(this.safeString(e,"created_at")),n=this.safeString2(e,"order_id","stop_order_id"),o=this.safeStringLower(e,"order_type"),c=this.safeString(e,"price"),h=this.safeString(e,"average_price"),d=this.safeString(e,"qty"),u=this.safeString(e,"cum_exec_value"),l=this.safeString(e,"cum_exec_qty"),f=this.safeString(e,"leaves_qty"),p=this.safeValue(this.options,"marketTypes",{}),g=this.safeString(p,r);void 0!==t&&(s="linear"===g?t.quote:t.base);let y=this.safeTimestamp(e,"last_exec_time");0===y&&(y=void 0);const b=this.parseOrderStatus(this.safeString2(e,"order_status","stop_order_status")),v=this.safeStringLower(e,"side"),w=m.stringAbs(this.safeString(e,"cum_exec_fee"));let k;void 0!==w&&(k={cost:w,currency:s});let S=this.safeString(e,"order_link_id");void 0!==S&&S.length<1&&(S=void 0);const _=this.parseTimeInForce(this.safeString(e,"time_in_force")),M=this.safeNumber2(e,"trigger_price","stop_px"),T="PO"===_;return this.safeOrder2({info:e,id:n,clientOrderId:S,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:y,symbol:r,type:o,timeInForce:_,postOnly:T,side:v,price:c,stopPrice:M,amount:d,cost:u,average:h,filled:l,remaining:f,status:b,fee:k,trades:void 0},t)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id};let a;r.swap?r.linear?a="privateLinearGetOrderSearch":r.inverse&&(a="v2PrivateGetOrder"):r.futures&&(a="futuresPrivateGetOrder"),void 0===this.safeString(i,"stop_order_id")?void 0===this.safeString(i,"order_link_id")&&(s.order_id=e):r.swap?r.linear?a="privateLinearGetStopOrderSearch":r.inverse&&(a="v2PrivateGetStopOrder"):r.futures&&(a="futuresPrivateGetStopOrder");const n=await this[a](this.extend(s,i)),c=this.safeValue(n,"result");return this.parseOrder(c,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let c=this.amountToPrecision(e,r);c=n.inverse?parseInt(c):parseFloat(c);const h={side:this.capitalize(i),symbol:n.id,order_type:this.capitalize(t),qty:c,time_in_force:"GoodTillCancel"};let d=!1;if("limit"===t&&(d=!0),d){if(void 0===s)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");h.price=parseFloat(this.priceToPrecision(e,s))}const u=this.safeString2(a,"order_link_id","clientOrderId");void 0!==u&&(h.order_link_id=u,a=this.omit(a,["order_link_id","clientOrderId"]));const l=this.safeValue2(a,"stop_px","stopPrice"),f=this.safeValue(a,"base_price");let p;if(n.swap?n.linear?(p="privateLinearPostOrderCreate",h.reduce_only=!1,h.close_on_trigger=!1):n.inverse&&(p="v2PrivatePostOrderCreate"):n.futures&&(p="futuresPrivatePostOrderCreate"),void 0!==l){if(void 0===f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");n.swap?n.linear?p="privateLinearPostStopOrderCreate":n.inverse&&(p="v2PrivatePostStopOrderCreate"):n.futures&&(p="futuresPrivatePostStopOrderCreate"),h.stop_px=parseFloat(this.priceToPrecision(e,l)),h.base_price=parseFloat(this.priceToPrecision(e,f)),a=this.omit(a,["stop_px","stopPrice","base_price"])}else if(void 0!==f)throw new o(this.id+" createOrder() requires both the stop_px and base_price params for a conditional "+t+" order");const m=await this[p](this.extend(h,a)),g=this.safeValue(m,"result");return this.parseOrder(g,n)}async editOrder(e,t,i,r,s,a,n={}){if(void 0===t)throw new o(this.id+" editOrder() requires an symbol argument");await this.loadMarkets();const c=this.market(t),h={symbol:c.id};let d;c.swap?c.linear?d="privateLinearPostOrderReplace":c.inverse&&(d="v2PrivatePostOrderReplace"):c.futures&&(d="futuresPrivatePostOrderReplace");const u=this.safeString(n,"stop_order_id");if(void 0!==u?(c.swap?c.linear?d="privateLinearPostStopOrderReplace":c.inverse&&(d="v2PrivatePostStopOrderReplace"):c.futures&&(d="futuresPrivatePostStopOrderReplace"),h.stop_order_id=u,n=this.omit(n,["stop_order_id"])):h.order_id=e,void 0!==s){let e=this.amountToPrecision(t,s);e=c.inverse?parseInt(e):parseFloat(e),h.p_r_qty=e}void 0!==a&&(h.p_r_price=parseFloat(this.priceToPrecision(t,a)));const l=await this[d](this.extend(h,n)),f=this.safeValue(l,"result",{});return{info:l,id:this.safeString2(f,"order_id","stop_order_id"),order_id:this.safeString(f,"order_id"),stop_order_id:this.safeString(f,"stop_order_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id};let a;r.swap?r.linear?a="privateLinearPostOrderCancel":r.inverse&&(a="v2PrivatePostOrderCancel"):r.futures&&(a="futuresPrivatePostOrderCancel"),void 0===this.safeString(i,"stop_order_id")?void 0===this.safeString(i,"order_link_id")&&(s.order_id=e):r.swap?r.linear?a="privateLinearPostStopOrderCancel":r.inverse&&(a="v2PrivatePostStopOrderCancel"):r.futures&&(a="futuresPrivatePostStopOrderCancel");const n=await this[a](this.extend(s,i)),c=this.safeValue(n,"result",{});return this.parseOrder(c,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new o(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=this.safeValue(this.options,"cancelAllOrders",{});let a;i.swap?i.linear?a="privateLinearPostOrderCancelAll":i.inverse&&(a="v2PrivatePostOrderCancelAll"):i.futures&&(a="futuresPrivatePostOrderCancelAll");const n=this.safeString(s,"method",a),c=await this[n](this.extend(r,t)),h=this.safeValue(c,"result",[]);return this.parseOrders(h,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==i&&(s.limit=i);const n=this.safeValue(this.options,"fetchOrders",{}),o=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),h=this.safeString(c,e,o);let d;const u=void 0!==a,l=u&&a.linear||"linear"===h,f=u&&a.swap&&a.inverse||"inverse"===h,p=u&&a.futures||"futures"===h;l?d="privateLinearGetOrderList":f?d="v2PrivateGetOrderList":p&&(d="futuresPrivateGetOrderList");let m=r;if("stop_order_id"in r||"stop_order_status"in r){let e=this.safeValue(r,"stop_order_status");void 0!==e&&(Array.isArray(e)&&(e=e.join(",")),s.stop_order_status=e,m=this.omit(r,"stop_order_status")),l?d="privateLinearGetStopOrderList":f?d="v2PrivateGetStopOrderList":p&&(d="futuresPrivateGetStopOrderList")}const g=this.safeString(n,"method",d),y=await this[g](this.extend(s,m)),b=this.safeValue(y,"result",{}),v=this.safeValue(b,"data",[]);return this.parseOrders(v,a,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=this.safeValue(this.options,"fetchClosedOrders",{});let a=this.safeValue(s,"order_status",["Rejected","Filled","Cancelled"]);Array.isArray(a)&&(a=a.join(","));const n={},o=this.safeValue(r,"stop_order_status");return void 0===o?n.order_status=a:n.stop_order_status=o,await this.fetchOrders(e,t,i,this.extend(n,r))}async fetchOpenOrders(e,t,i,r={}){const s=this.safeValue(this.options,"fetchOpenOrders",{});let a=this.safeValue(s,"order_status",["Created","New","PartiallyFilled","PendingCancel"]);Array.isArray(a)&&(a=a.join(","));const n={},o=this.safeValue(r,"stop_order_status");return void 0===o?n.order_status=a:n.stop_order_status=o,await this.fetchOrders(e,t,i,this.extend(n,r))}async fetchOrderTrades(e,t,i,r,s={}){const a={order_id:e};return await this.fetchMyTrades(t,i,r,this.extend(a,s))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s={};let a;const n=this.safeString(r,"order_id");void 0!==n&&(s.order_id=n,r=this.omit(r,"order_id")),a=this.market(e),s.symbol=a.id,void 0!==t&&(s.start_time=t),void 0!==i&&(s.limit=i);const c=this.safeString(this.options,"defaultType","linear"),h=this.safeValue(this.options,"marketTypes",{}),d=this.safeString(h,e,c),u=void 0!==a,l=u&&a.linear||"linear"===d,f=u&&a.swap&&a.inverse||"inverse"===d,p=u&&a.futures||"futures"===d;let m;l?m="privateLinearGetTradeExecutionList":f?m="v2PrivateGetExecutionList":p&&(m="futuresPrivateGetExecutionList");const g=await this[m](this.extend(s,r)),y=this.safeValue(g,"result",{}),b=this.safeValue2(y,"trade_list","data",[]);return this.parseTrades(b,a,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={wallet_fund_type:"Deposit"};let a;void 0!==e&&(a=this.currency(e),s.coin=a.id),void 0!==t&&(s.start_date=this.yyyymmdd(t)),void 0!==i&&(s.limit=i);const n=await this.v2PrivateGetWalletFundRecords(this.extend(s,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.coin=a.id),void 0!==t&&(s.start_date=this.yyyymmdd(t)),void 0!==i&&(s.limit=i);const n=await this.v2PrivateGetWalletWithdrawList(this.extend(s,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseTransactions(c,a,t,i,{type:"withdrawal"})}parseTransactionStatus(e){return this.safeString({ToBeConfirmed:"pending",UnderReview:"pending",Pending:"pending",Success:"ok",CancelByUser:"canceled",Reject:"rejected",Expire:"expired"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"coin"),r=this.safeCurrencyCode(i,t),s=this.parse8601(this.safeString2(e,"submited_at","exec_time")),a=this.parse8601(this.safeString(e,"updated_at")),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee"),h=this.safeStringLower(e,"type");let d;return void 0!==c&&(d={cost:c,currency:r}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx_id"),timestamp:s,datetime:this.iso8601(s),address:o,addressTo:void 0,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:h,amount:this.safeNumber(e,"amount"),currency:r,status:n,updated:a,fee:d}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.coin=a.id),void 0!==t&&(s.start_date=this.yyyymmdd(t)),void 0!==i&&(s.limit=i);const n=await this.v2PrivateGetWalletFundRecords(this.extend(s,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"data",[]);return this.parseLedger(c,a,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"coin"),r=this.safeCurrencyCode(i,t),s=this.safeNumber(e,"amount"),a=this.safeNumber(e,"wallet_balance"),n=s<0?"out":"in";let o;if(void 0!==a&&void 0!==s){const e="out"===n?s:-s;o=this.sum(a,e)}const c=this.parse8601(this.safeString(e,"exec_time")),h=this.parseLedgerEntryType(this.safeString(e,"type")),d=this.safeString(e,"id"),u=this.safeString(e,"tx_id");return{id:d,currency:r,account:this.safeString(e,"wallet_id"),referenceAccount:void 0,referenceId:u,status:void 0,amount:s,before:o,after:a,fee:void 0,direction:n,timestamp:c,datetime:this.iso8601(c),type:h,info:e}}parseLedgerEntryType(e){return this.safeString({Deposit:"transaction",Withdraw:"transaction",RealisedPNL:"trade",Commission:"fee",Refund:"cashback",Prize:"prize",ExchangeOrderWithdraw:"transaction",ExchangeOrderDeposit:"transaction"},e,e)}async fetchPositions(e,t={}){await this.loadMarkets();const i={};if(Array.isArray(e)){if(1!==e.length)throw new o(this.id+" fetchPositions takes an array with exactly one symbol");i.symbol=this.marketId(e[0])}const r=this.safeString(this.options,"defaultType","linear"),s=this.safeString(t,"type",r);let a;return t=this.omit(t,"type"),"linear"===s?a=await this.privateLinearGetPositionList(this.extend(i,t)):"inverse"===s?a=await this.v2PrivateGetPositionList(this.extend(i,t)):"inverseFuture"===s&&(a=await this.futuresPrivateGetPositionList(this.extend(i,t))),"string"==typeof a&&this.isJsonEncodedObject(a)&&(a=JSON.parse(a)),this.safeValue(a,"result")}sign(e,t="public",i="GET",r={},s,a){const n=this.safeString(t,0);let o=this.safeString(t,1);"spot"===n&&("public"===o?o="v1":o+="/v1");let c=this.implodeHostname(this.urls.api[n]),h="/"+n+"/"+o+"/"+e;if("spot"===n||"quote"===n)Object.keys(r).length&&(h+="?"+this.rawencode(r));else if("public"===o)Object.keys(r).length&&(h+="?"+this.rawencode(r));else if("public"===n)Object.keys(r).length&&(h+="?"+this.rawencode(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend(r,{api_key:this.apiKey,recv_window:this.options.recvWindow,timestamp:e}),n=this.keysort(t),o=this.rawencode(n),c=this.hmac(this.encode(o),this.encode(this.secret));"POST"===i?(a=this.json(this.extend(t,{sign:c})),s={"Content-Type":"application/json"}):h+="?"+this.urlencode(n)+"&sign="+c}return c+=h,{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(!o)return;const d=this.safeString(o,"ret_code");if("0"!==d){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,a,e),new n(e)}}async setMarginMode(e,t,i={}){const r=this.safeValue(i,"leverage");if(void 0===r)throw new o(this.id+".setMarginMode requires a leverage parameter");if("ISOLATED"!==(e=e.toUpperCase())&&"CROSSED"!==e)throw new l(this.id+" marginType must be either isolated or crossed");await this.loadMarkets();const s=this.market(t);let a;const n=this.safeString(this.options,"defaultType","linear"),c=this.safeValue(this.options,"marketTypes",{}),h=this.safeString(c,t,n),d=s.linear||"linear"===h,u=s.swap&&s.inverse||"inverse"===h,f=s.futures||"futures"===h;d?a="privateLinearPostPositionSwitchIsolated":u?a="v2PrivatePostPositionSwitchIsolated":f&&(a="privateFuturesPostPositionSwitchIsolated");const p="ISOLATED"===e,m={symbol:s.id,is_isolated:p,buy_leverage:r,sell_leverage:r};return await this[a](this.extend(m,i))}async setLeverage(e,t,i={}){if(void 0===t)throw new o(this.id+" setLeverage() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString(this.options,"defaultType","linear"),a=this.safeValue(this.options,"marketTypes",{}),n=this.safeString(a,t,s),c=r.linear||"linear"===n,h=r.swap&&r.inverse||"inverse"===n,d=r.futures||"futures"===n;let u;c?u="privateLinearPostPositionSetLeverage":h?u="v2PrivatePostPositionLeverageSave":d&&(u="privateFuturesPostPositionLeverageSave");let f=e,p=e;if(i.buy_leverage&&i.sell_leverage&&c)f=i.buy_leverage,p=i.sell_leverage;else if(!e)throw new o(c?this.id+' setLeverage() requires either the parameter leverage or params["buy_leverage"] and params["sell_leverage"] for linear contracts':this.id+" setLeverage() requires parameter leverage for inverse and futures contracts");if(f<1||f>100||p<1||p>100)throw new l(this.id+" leverage should be between 1 and 100");const m={symbol:r.id,leverage_only:!0};return c?(m.buy_leverage=f,m.sell_leverage=p):m.leverage=f,await this[u](this.extend(m,i))}}},2291:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,AuthenticationError:o,DDoSProtection:c,BadResponse:h}=i(73449),d=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bytetrade",name:"ByteTrade",countries:["HK"],rateLimit:500,requiresWeb3:!0,certified:!1,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:void 0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","5d":"5d","1w":"1w","1M":"1M"},urls:{test:{market:"https://api-v2-test.byte-trade.com",public:"https://api-v2-test.byte-trade.com"},logo:"https://user-images.githubusercontent.com/1294454/67288762-2f04a600-f4e6-11e9-9fd6-c60641919491.jpg",api:{market:"https://api-v2.bttcdn.com",public:"https://api-v2.bttcdn.com"},www:"https://www.byte-trade.com",doc:"https://docs.byte-trade.com/#description"},api:{market:{get:["klines","depth","trades","tickers"]},public:{get:["symbols","currencies","balance","orders/open","orders/closed","orders/all","orders","orders/trades","depositaddress","withdrawals","deposits","transfers"],post:["transaction/createorder","transaction/cancelorder","transaction/withdraw","transaction/transfer"]}},fees:{trading:{taker:8e-4,maker:8e-4}},commonCurrencies:{1:"ByteTrade",44:"ByteHub",48:"Blocktonic",133:"TerraCredit"},exceptions:{"vertify error":o,"verify error":o,"transaction already in network":n,"invalid argument":n},options:{orderExpiration:31536e6}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"code");let a;a=s in this.commonCurrencies?this.commonCurrencies[s]:this.safeString(r,"name");const n=this.safeString(r,"fullname"),o=this.safeValue(r,"active"),c=this.safeValue(r,"limits"),h=this.safeValue(c,"deposit"),d=this.safeInteger(r,"basePrecision");let u=this.safeNumber(h,"max");-1===u&&(u=void 0);const l=this.safeValue(c,"withdraw");let f=this.safeNumber(l,"max");-1===f&&(f=void 0),i[a]={id:s,code:a,name:n,active:o,precision:d,fee:void 0,limits:{amount:{min:void 0,max:void 0},deposit:{min:this.safeNumber(h,"min"),max:u},withdraw:{min:this.safeNumber(l,"min"),max:f}},info:r}}return i}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol");let a=this.safeString(r,"baseName"),n=this.safeString(r,"quoteName");const o=this.safeString(r,"base"),c=this.safeString(r,"quote"),h=a.split("@"+o)[0];let d=n.split("@"+c)[0];"126"===c&&(d="ZAR");const u=h+"/"+d;o in this.commonCurrencies&&(a=this.commonCurrencies[o]),c in this.commonCurrencies&&(n=this.commonCurrencies[c]);const l=a+"/"+n,f=this.safeValue(r,"limits",{}),p=this.safeValue(f,"amount",{}),m=this.safeValue(f,"price",{}),g=this.safeValue(r,"precision",{}),y={id:s,symbol:l,base:a,quote:n,baseId:o,quoteId:c,info:r,type:"spot",spot:!0,active:this.safeString(r,"active"),precision:{amount:this.safeInteger(g,"amount"),price:this.safeInteger(g,"price")},normalSymbol:u,limits:{amount:{min:this.safeNumber(p,"min"),max:this.safeNumber(p,"max")},price:{min:this.safeNumber(m,"min"),max:this.safeNumber(m,"max")},cost:{min:void 0,max:void 0}}};i.push(y)}return i}async fetchBalance(e={}){if(!("userid"in e)&&void 0===this.apiKey)throw new a(this.id+" fetchDeposits() requires this.apiKey or userid argument");await this.loadMarkets();const t={userid:this.apiKey},i=await this.publicGetBalance(this.extend(t,e)),r={info:i};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"code"),a=this.safeCurrencyCode(s,void 0),n=this.account();n.free=this.safeString(t,"free"),n.used=this.safeString(t,"used"),r[a]=n}return this.parseBalance(r,!1)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.marketGetDepth(this.extend(r,i)),a=this.safeValue(s,"timestamp");return this.parseOrderBook(s,e,a)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r;const s=this.safeString(e,"symbol");if(s in this.markets_by_id)t=this.markets_by_id[s];else{const t=this.safeString(e,"base"),i=this.safeString(e,"quote");void 0!==t&&void 0!==i&&(r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i))}return void 0===r&&void 0!==t&&(r=t.symbol),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:this.safeNumber(e,"weightedAvgPrice"),open:this.safeNumber(e,"open"),close:this.safeNumber(e,"close"),last:this.safeNumber(e,"last"),previousClose:void 0,change:this.safeNumber(e,"change"),percentage:this.safeNumber(e,"percentage"),average:void 0,baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetTickers(this.extend(r,t));if(Array.isArray(s)){const e=this.safeValue(s,0);if(void 0===e)throw new h(this.id+" fetchTicker() returned an empty response");return this.parseTicker(e,i)}return this.parseTicker(s,i)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=await this.marketGetDepth(t);return this.parseTickers(i,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t);return this.parseTickers(i,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,timeframe:this.timeframes[t]};void 0!==i&&(n.since=i),void 0!==r&&(n.limit=r);const o=await this.marketGetKlines(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeNumber(e,"price"),s=this.safeNumber(e,"amount"),a=this.safeNumber(e,"cost"),n=this.safeString(e,"id"),o=this.safeString(e,"type"),c=this.safeString(e,"takerOrMaker"),h=this.safeString(e,"side"),d=this.iso8601(i),u=this.safeString(e,"order");let l;if(void 0===t){const i=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,i)}void 0!==t&&(l=t.symbol);const f=this.safeValue(e,"fee"),p=this.safeNumber(f,"cost"),m=this.safeNumber(f,"rate"),g=this.safeString(f,"code");return{info:e,timestamp:i,datetime:d,symbol:l,id:n,order:u,type:o,takerOrMaker:c,side:h,price:r,amount:s,cost:a,fee:{currency:this.safeCurrencyCode(g),cost:p,rate:m}}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.since=t),void 0!==i&&(a.limit=i);const n=await this.marketGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrder(e,t){const i=this.safeString(e,"status");let r;const s=this.safeString(e,"symbol");if(s in this.markets_by_id)t=this.markets_by_id[s];else{const t=this.safeString(e,"base"),i=this.safeString(e,"quote");void 0!==t&&void 0!==i&&(r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i))}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeInteger(e,"timestamp"),n=this.safeString(e,"datetime"),o=this.safeInteger(e,"lastTradeTimestamp"),c=this.safeString(e,"price"),h=this.safeString(e,"amount"),d=this.safeString(e,"filled"),u=this.safeString(e,"remaining"),l=this.safeString(e,"cost"),f=this.safeString(e,"average"),p=this.safeString(e,"id"),m=this.safeString(e,"type"),g=this.safeString(e,"side"),y=this.safeValue(e,"fee"),b=this.safeNumber(y,"cost"),v=this.safeNumber(y,"rate"),w=this.safeString(y,"code"),k={currency:this.safeCurrencyCode(w),cost:b,rate:v};return this.safeOrder2({info:e,id:p,clientOrderId:void 0,timestamp:a,datetime:n,lastTradeTimestamp:o,symbol:r,type:m,timeInForce:void 0,postOnly:void 0,side:g,price:c,stopPrice:void 0,amount:h,cost:l,average:f,filled:d,remaining:u,status:i,fee:k,trades:void 0},t)}async createOrder(e,t,i,r,s,n={}){if(this.checkRequiredDependencies(),void 0===this.apiKey)throw new a("createOrder() requires this.apiKey or userid in params");await this.loadMarkets();const o=this.market(e);let c,h;c="sell"===i?1:2,"limit"===t?h=1:(h=2,s=0);const u=o.normalSymbol,l=o.baseId,f=this.currency(o.base),p=this.amountToPrecision(e,r),m=this.toWei(p,f.precision),g=this.numberToString(m),y=o.quoteId,b=this.currency(o.quote),v=this.priceToPrecision(e,s),w=this.toWei(v,b.precision),k=this.numberToString(w),S=this.milliseconds(),_=this.safeInteger(this.options,"orderExpiration",31536e6),M=this.milliseconds()+_;let T=this.iso8601(S);T=T.split(".")[0];let O=this.iso8601(M);O=O.split(".")[0];const x=this.safeString(n,"dappId","Sagittarius"),I=this.safeString(this.options,"fee","300000000000000"),C=this.safeString(n,"totalFeeRate",8),A=this.safeString(n,"chainFeeRate",1),E=this.safeString(n,"fee",I),N=d.stringPow("2","64"),P=[this.numberToBE(1,32),this.numberToLE(Math.floor(S/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(M/1e3),4),this.numberToLE(1,1),this.numberToLE(32,1),this.numberToLE(0,8),this.numberToLE(E,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(c,1),this.numberToLE(h,1),this.numberToLE(u.length,1),this.stringToBinary(this.encode(u)),this.numberToLE(d.stringDiv(g,N,0),8),this.numberToLE(d.stringMod(g,N),8),this.numberToLE(d.stringDiv(k,N,0),8),this.numberToLE(d.stringMod(k,N),8),this.numberToLE(0,2),this.numberToLE(Math.floor(S/1e3),4),this.numberToLE(Math.floor(M/1e3),4),this.numberToLE(1,1),this.numberToLE(parseInt(A),2),this.numberToLE(1,1),this.numberToLE(parseInt(C),2),this.numberToLE(parseInt(y),4),this.numberToLE(parseInt(l),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE(x.length,1),this.stringToBinary(this.encode(x)),this.numberToLE(0,1)],B=[this.numberToLE(Math.floor(S/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(M/1e3),4),this.numberToLE(1,1),this.numberToLE(32,1),this.numberToLE(0,8),this.numberToLE(E,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(c,1),this.numberToLE(h,1),this.numberToLE(u.length,1),this.stringToBinary(this.encode(u)),this.numberToLE(d.stringDiv(g,N,0),8),this.numberToLE(d.stringMod(g,N),8),this.numberToLE(d.stringDiv(k,N,0),8),this.numberToLE(d.stringMod(k,N),8),this.numberToLE(0,2),this.numberToLE(Math.floor(S/1e3),4),this.numberToLE(Math.floor(M/1e3),4),this.numberToLE(1,1),this.numberToLE(parseInt(A),2),this.numberToLE(1,1),this.numberToLE(parseInt(C),2),this.numberToLE(parseInt(y),4),this.numberToLE(parseInt(l),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE(x.length,1),this.stringToBinary(this.encode(x)),this.numberToLE(0,1)],R=this.binaryConcatArray(B),L=this.hash(R,"sha256","hex").slice(0,40),V=[this.numberToLE(L.length,1),this.stringToBinary(this.encode(L)),this.numberToBE(0,4)],D=this.binaryConcatArray(V),q=this.hash(D,"sha256","hex").slice(0,40),G=this.binaryConcatArray(P),F=this.hash(G,"sha256","hex"),j=this.ecdsa(F,this.secret,"secp256k1",void 0,!0),U=this.binaryToBase16(this.numberToLE(this.sum(j.v,31),1))+j.r+j.s,z={timestamp:T,expiration:O,operations:[[32,{now:T,expiration:O,fee:E,creator:this.apiKey,side:c,order_type:h,market_name:u,amount:m,price:w,use_btt_as_fee:!1,money_id:parseInt(y),stock_id:parseInt(l),custom_no_btt_fee_rate:parseInt(C),custom_btt_fee_rate:parseInt(A)}]],validate_type:0,dapp:x,signatures:[U]},H={trObj:this.json(z)},K=await this.publicPostTransactionCreateorder(H),W=this.milliseconds(),Z="0"===this.safeString(K,"code")?"open":"failed";return{info:K,id:q,timestamp:W,datetime:this.iso8601(W),lastTradeTimestamp:void 0,status:Z,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async fetchOrder(e,t,i={}){if(!("userid"in i)&&void 0===this.apiKey)throw new a("fetchOrder() requires this.apiKey or userid argument");await this.loadMarkets();const r={userid:this.apiKey};let s;void 0!==t&&(s=this.markets[t],r.symbol=s.id),r.id=e;const n=await this.publicGetOrders(this.extend(r,i));return this.parseOrder(n,s)}async fetchOpenOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchOpenOrders() requires this.apiKey or userid argument");await this.loadMarkets();const s={userid:this.apiKey};let n;void 0!==e&&(n=this.market(e),s.symbol=n.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.since=t);const o=await this.publicGetOrdersOpen(this.extend(s,r));return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchClosedOrders() requires this.apiKey or userid argument");let s;await this.loadMarkets();const n={userid:this.apiKey};void 0!==e&&(s=this.market(e),n.symbol=s.id),void 0!==i&&(n.limit=i),void 0!==t&&(n.since=t);const o=await this.publicGetOrdersClosed(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchOrders() requires this.apiKey or userid argument");let s;await this.loadMarkets();const n={userid:this.apiKey};void 0!==e&&(s=this.market(e),n.symbol=s.id),void 0!==i&&(n.limit=i),void 0!==t&&(n.since=t);const o=await this.publicGetOrdersAll(this.extend(n,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===this.apiKey)throw new a("cancelOrder() requires hasAlreadyAuthenticatedSuccessfully");if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.baseId,n=r.quoteId,o=r.normalSymbol,c="300000000000000",h=this.milliseconds();let d=this.iso8601(h);d=d.split(".")[0];let u=this.iso8601(0);u=u.split(".")[0];const l=this.safeString(i,"dappId","Sagittarius"),f=[this.numberToBE(1,32),this.numberToLE(Math.floor(h/1e3),4),this.numberToLE(1,1),this.numberToLE(0,4),this.numberToLE(1,1),this.numberToLE(33,1),this.numberToLE(0,8),this.numberToLE(c,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(o.length,1),this.stringToBinary(this.encode(o)),this.base16ToBinary(e),this.numberToLE(parseInt(n),4),this.numberToLE(parseInt(s),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE(l.length,1),this.stringToBinary(this.encode(l)),this.numberToLE(0,1)],p=this.binaryConcatArray(f),m=this.hash(p,"sha256","hex"),g=this.ecdsa(m,this.secret,"secp256k1",void 0,!0),y=this.binaryToBase16(this.numberToLE(this.sum(g.v,31),1))+g.r+g.s,b={timestamp:d,expiration:u,operations:[[33,{fee:c,creator:this.apiKey,order_id:e,market_name:o,money_id:parseInt(n),stock_id:parseInt(s)}]],validate_type:0,dapp:l,signatures:[y]},v={trObj:this.json(b)},w=await this.publicPostTransactionCancelorder(v),k=this.milliseconds(),S="0"===this.safeString(w,"code")?"canceled":"failed";return{info:w,id:void 0,timestamp:k,datetime:this.iso8601(k),lastTradeTimestamp:void 0,status:S,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async fetchMyTrades(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchMyTrades() requires this.apiKey or userid argument");await this.loadMarkets();const s=this.market(e),n={userid:this.apiKey};void 0!==e&&(n.symbol=s.id),void 0!==i&&(n.limit=i),void 0!==t&&(n.since=t);const o=await this.publicGetOrdersTrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),!("userid"in r)&&void 0===this.apiKey)throw new a("fetchDeposits() requires this.apiKey or userid argument");let s;const n={userid:this.apiKey};void 0!==e&&(s=this.currency(e),n.currency=s.id),void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.publicGetDeposits(this.extend(n,r));return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),!("userid"in r)&&void 0===this.apiKey)throw new a("fetchWithdrawals() requires this.apiKey or userid argument");let s;const n={userid:this.apiKey};void 0!==e&&(s=this.currency(e),n.currency=s.id),void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.publicGetWithdrawals(this.extend(n,r));return this.parseTransactions(o,s,t,i)}parseTransactionStatus(e){return this.safeString({DEPOSIT_FAILED:"failed",FEE_SEND_FAILED:"failed",FEE_FAILED:"failed",PAY_SEND_FAILED:"failed",PAY_FAILED:"failed",BTT_FAILED:"failed",WITHDDRAW_FAILED:"failed",USER_FAILED:"failed",FEE_EXECUED:"pending",PAY_EXECUED:"pending",WITHDDRAW_EXECUTED:"pending",USER_EXECUED:"pending",BTT_SUCCED:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address");let s=this.safeString(e,"tag");void 0!==s&&s.length<1&&(s=void 0);const a=this.safeValue(e,"txid"),n=this.safeString(e,"code"),o=this.safeCurrencyCode(n,t),c=this.safeInteger(e,"timestamp"),h=this.safeString(e,"datetime"),d=this.safeString(e,"type"),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"amount"),f=this.safeValue(e,"fee"),p=this.safeNumber(f,"cost"),m=this.safeString(f,"code");return{info:e,id:i,txid:a,timestamp:c,datetime:h,address:r,tag:s,type:d,amount:l,currency:o,status:u,updated:void 0,fee:{cost:p,currency:this.safeCurrencyCode(m,t)}}}async fetchDepositAddress(e,t={}){if(await this.loadMarkets(),!("userid"in t)&&void 0===this.apiKey)throw new a("fetchDepositAddress() requires this.apiKey or userid argument");const i=this.currency(e),r={userid:this.apiKey,code:i.id},s=await this.publicGetDepositaddress(r),n=this.safeString(s[0],"address"),o=this.safeString(s[0],"tag"),c=this.safeString(s[0],"chainType");return this.checkAddress(n),{currency:e,address:n,tag:o,network:c,info:s}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];return n+="/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r)),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,h,d){if(503===e)throw new c(this.id+" "+e.toString()+" "+t+" "+n);if(void 0!==o&&"code"in o&&"1"===this.safeString(o,"code")){const e=this.safeString(o,"msg"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}}}},89124:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeError:a,PermissionDenied:n,ExchangeNotAvailable:o,OnMaintenance:c,InvalidOrder:h,OrderNotFound:d,InsufficientFunds:u,ArgumentsRequired:l,BadSymbol:f,BadRequest:p,RequestTimeout:m,NetworkError:g}=i(73449),{TRUNCATE:y}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cdax",name:"CDAX",countries:["RU"],rateLimit:100,userAgent:this.userAgents.chrome39,certified:!1,version:"v1",accounts:void 0,accountsById:void 0,hostname:"cdax.io",pro:!1,has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!1,fetchDepositAddressesByNetwork:!1,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/102157692-fd406280-3e90-11eb-8d46-4511b617cd17.jpg",api:{market:"https://{hostname}/api",public:"https://{hostname}/api",private:"https://{hostname}/api"},www:"https://cdax.io",referral:"https://cdax.io/invite?invite_code=esc74",doc:"https://github.com/cloudapidoc/API_Docs",fees:"https://cdax.io/about/fee"},api:{market:{get:{"history/kline":1,"detail/merged":1,depth:1,trade:1,"history/trade":1,detail:1,tickers:1,etp:1}},public:{get:{"common/symbols":1,"common/currencys":1,"common/timestamp":1,"common/exchange":1,"settings/currencys":1}},private:{get:{"account/accounts":.2,"account/accounts/{id}/balance":.2,"account/accounts/{sub-uid}":1,"account/history":4,"cross-margin/loan-info":1,"margin/loan-info":1,"fee/fee-rate/get":1,"order/openOrders":.4,"order/orders":.4,"order/orders/{id}":.4,"order/orders/{id}/matchresults":.4,"order/orders/getClientOrder":.4,"order/history":1,"order/matchresults":1,"query/deposit-withdraw":1,"margin/loan-orders":.2,"margin/accounts/balance":.2,"cross-margin/loan-orders":1,"cross-margin/accounts/balance":1,"points/actions":1,"points/orders":1,"subuser/aggregate-balance":10,"stable-coin/exchange_rate":1,"stable-coin/quote":1},post:{"account/transfer":1,"futures/transfer":1,"order/batch-orders":.4,"order/orders/place":.2,"order/orders/submitCancelClientOrder":.2,"order/orders/batchCancelOpenOrders":.4,"order/orders/{id}/submitcancel":.2,"order/orders/batchcancel":.4,"dw/withdraw/api/create":1,"dw/withdraw-virtual/{id}/cancel":1,"dw/transfer-in/margin":10,"dw/transfer-out/margin":10,"margin/orders":10,"margin/orders/{id}/repay":10,"cross-margin/transfer-in":1,"cross-margin/transfer-out":1,"cross-margin/orders":1,"cross-margin/orders/{id}/repay":1,"stable-coin/exchange":1,"subuser/transfer":10}}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":c,maintain:c},exact:{"bad-request":p,"base-date-limit-error":p,"api-not-support-temp-addr":n,timeout:m,"gateway-internal-error":o,"account-frozen-balance-insufficient-error":u,"invalid-amount":h,"order-limitorder-amount-min-error":h,"order-limitorder-amount-max-error":h,"order-marketorder-amount-min-error":h,"order-limitorder-price-min-error":h,"order-limitorder-price-max-error":h,"order-holding-limit-failed":h,"order-orderprice-precision-error":h,"order-etp-nav-price-max-error":h,"order-orderstate-error":d,"order-queryorder-invalid":d,"order-update-error":o,"api-signature-check-failed":s,"api-signature-not-valid":s,"base-record-invalid":d,"base-symbol-trade-disabled":f,"base-symbol-error":f,"system-maintenance":c,"invalid symbol":f,"symbol trade not open now":f}},options:{defaultNetwork:"ERC20",networks:{ETH:"erc20",TRX:"trc20",HRC20:"hrc20",HECO:"hrc20",HT:"hrc20",ALGO:"algo",OMNI:""},fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"},commonCurrencies:{GET:"Themis",GTC:"Game.com",HIT:"HitChain",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin",BIFI:"Bitcoin File"}})}async fetchTime(e={}){const t=await this.publicGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.publicGetCommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeNumber(e,"limit-order-must-greater-than"),max:this.safeNumber(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e].precision.cost,this.precisionMode)}async fetchMarkets(e={}){const t=this.options.fetchMarketsMethod,i=await this[t](e),r=this.safeValue(i,"data");if(r.length<1)throw new g(this.id+" publicGetCommonSymbols returned empty response: "+this.json(r));const s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"base-currency"),a=this.safeString(t,"quote-currency"),n=i+a,o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:this.safeInteger(t,"amount-precision"),price:this.safeInteger(t,"price-precision"),cost:this.safeInteger(t,"value-precision")},u="OMG"===o?0:.002,l="OMG"===o?0:.002,f=this.safeNumber(t,"min-order-amt",Math.pow(10,-d.amount)),p=this.safeNumber(t,"max-order-amt"),m=this.safeNumber(t,"min-order-value",0),g="online"===this.safeString(t,"state");s.push({id:n,symbol:h,base:o,quote:c,baseId:i,quoteId:a,type:"spot",spot:!0,active:g,precision:d,taker:l,maker:u,limits:{amount:{min:f,max:p},price:{min:Math.pow(10,-d.price),max:void 0},cost:{min:m,max:void 0},leverage:{max:this.safeNumber(t,"leverage-ratio",1),superMax:this.safeNumber(t,"super-margin-leverage-ratio",1)}},info:t})}return s}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.safeInteger(e,"ts");let s,a,n,o;"bid"in e&&(Array.isArray(e.bid)?(s=this.safeNumber(e.bid,0),a=this.safeNumber(e.bid,1)):(s=this.safeNumber(e,"bid"),a=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e.ask)?(n=this.safeNumber(e.ask,0),o=this.safeNumber(e.ask,1)):(n=this.safeNumber(e,"ask"),o=this.safeValue(e,"askSize")));const c=this.safeNumber(e,"open"),h=this.safeNumber(e,"close"),d=this.safeNumber(e,"amount"),u=this.safeNumber(e,"vol"),l=this.vwap(d,u);return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:s,bidVolume:a,ask:n,askVolume:o,vwap:l,open:c,close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:d,quoteVolume:u,info:e},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id,type:"step0"},s=await this.marketGetDepth(this.extend(r,i));if("tick"in s){if(!s.tick)throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(s));const t=this.safeValue(s,"tick"),i=this.safeInteger(t,"ts",this.safeInteger(s,"ts")),r=this.parseOrderBook(t,e,i);return r.nonce=this.safeInteger(t,"version"),r}throw new a(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s))}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetDetailMerged(this.extend(r,t)),a=this.parseTicker(s.tick,i),n=this.safeInteger(s,"ts");return a.timestamp=n,a.datetime=this.iso8601(n),a}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t),r=this.safeValue(i,"data"),s=this.safeInteger(i,"ts"),a={};for(let e=0;e<r.length;e++){const t=this.safeString(r[e],"symbol"),i=this.safeMarket(t),n=i.symbol,o=this.parseTicker(r[e],i);o.timestamp=s,o.datetime=this.iso8601(s),a[n]=o}return this.filterByArray(a,"symbol",e)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeInteger2(e,"ts","created-at"),a=this.safeString(e,"order-id");let n=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){const e=o.split("-");n=e[0],o=e[1]}const c=this.safeString(e,"role"),h=this.safeString(e,"price"),d=this.safeString2(e,"filled-amount","amount");let u,l=this.safeString(e,"filled-fees"),f=this.safeCurrencyCode(this.safeString(e,"fee-currency"));const p=this.safeString(e,"filled-points");void 0!==p&&(void 0!==l&&"0.0"!==l||(l=p,f=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==l&&(u={cost:l,currency:f});const m=this.safeString2(e,"trade-id","tradeId"),g=this.safeString(e,"id",m);return this.safeTrade({id:g,info:e,order:a,timestamp:s,datetime:this.iso8601(s),symbol:r,type:o,side:n,takerOrMaker:c,price:h,amount:d,cost:void 0,fee:u},t)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={id:e},n=await this.privateGetOrderOrdersIdMatchresults(this.extend(a,s));return this.parseTrades(n.data,void 0,i,r)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.size=i),void 0!==t&&(a["start-time"]=t);const n=await this.privateGetOrderMatchresults(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchTrades(e,t,i=1e3,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.size=i);const n=await this.marketGetHistoryTrade(this.extend(a,r)),o=this.safeValue(n,"data");let c=[];for(let e=0;e<o.length;e++){const t=this.safeValue(o[e],"data",[]);for(let e=0;e<t.length;e++){const i=this.parseTrade(t[e],s);c.push(i)}}return c=this.sortBy(c,"timestamp"),this.filterBySymbolSinceLimit(c,e,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};void 0!==r&&(n.size=r);const o=await this.marketGetHistoryKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchAccounts(e={}){return await this.loadMarkets(),(await this.privateGetAccountAccounts(e)).data}async fetchCurrencies(e={}){const t={language:this.options.language},i=await this.publicGetSettingsCurrencys(this.extend(t,e)),r=this.safeValue(i,"data"),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeValue(t,"name"),a=this.safeInteger(t,"withdraw-precision"),n=this.safeCurrencyCode(i),o=this.safeValue(t,"deposit-enabled"),c=this.safeValue(t,"withdraw-enabled"),h=this.safeValue(t,"country-disabled"),d=this.safeValue(t,"visible",!1),u=this.safeString(t,"state"),l=d&&o&&c&&"online"===u&&!h,f=this.safeString(t,"display-name");s[n]={id:i,code:n,type:"crypto",name:f,active:l,fee:void 0,precision:a,limits:{amount:{min:Math.pow(10,-a),max:Math.pow(10,a)},deposit:{min:this.safeNumber(t,"deposit-min-amount"),max:Math.pow(10,a)},withdraw:{min:this.safeNumber(t,"withdraw-min-amount"),max:Math.pow(10,a)}},info:t}}return s}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.options.fetchBalanceMethod,i={id:this.accounts[0].id},r=await this[t](this.extend(i,e)),s=this.safeValue(r.data,"list",[]),a={info:r};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i);let n;n=r in a?a[r]:this.account(),"trade"===t.type&&(n.free=this.safeString(t,"balance")),"frozen"===t.type&&(n.used=this.safeString(t,"balance")),a[r]=n}return this.parseBalance(a)}async fetchOrdersByStates(e,t,i,r,s={}){await this.loadMarkets();const a={states:e};let n;void 0!==t&&(n=this.market(t),a.symbol=n.id);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","private_get_order_orders"),c=await this[o](this.extend(a,s));return this.parseOrders(c.data,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderOrdersId(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"fetchOpenOrdersMethod","fetch_open_orders_v1");return await this[s](e,t,i,r)}async fetchOpenOrdersV1(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchOpenOrdersV1() requires a symbol argument");return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrdersV2(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id);let n=this.safeString(r,"account-id");if(void 0===n){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t.type&&(n=this.safeString(t,"id"),void 0!==n))break}}s["account-id"]=n,void 0!==i&&(s.size=i);const o=this.omit(r,"account-id"),c=await this.privateGetOrderOpenOrders(this.extend(s,o)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,a,t,i)}parseOrderStatus(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r,s;const a=this.parseOrderStatus(this.safeString(e,"state")),n=this.safeString(e,"type");if(void 0!==n){const e=n.split("-");r=this.safeString(e,0),s=this.safeString(e,1)}const o=this.safeString(e,"symbol"),c=(t=this.safeMarket(o,t)).symbol,h=this.safeInteger(e,"created-at"),d=this.safeString(e,"client-order-id"),u=this.safeString2(e,"filled-amount","field-amount"),l=this.safeString(e,"price"),f=this.safeString2(e,"filled-cash-amount","field-cash-amount");let p=this.safeString(e,"amount");"buy-market"===n&&(p=void 0);const m=this.safeString2(e,"filled-fees","field-fees");let g;if(void 0!==m){let e;void 0!==t&&(e="sell"===r?t.quote:t.base),g={cost:m,currency:e}}return this.safeOrder2({info:e,id:i,clientOrderId:d,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:c,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,average:void 0,cost:f,amount:p,filled:u,remaining:void 0,status:a,fee:g,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o={"account-id":this.accounts[0].id,symbol:n.id,type:i+"-"+t},c=this.safeString2(a,"clientOrderId","client-order-id");if(void 0===c){const e=this.safeValue(this.options,"broker",{}),t=this.safeString(e,"id");o["client-order-id"]=t+this.uuid()}else o["client-order-id"]=c;if(a=this.omit(a,["clientOrderId","client-order-id"]),"market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new h(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");o.amount=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}else o.amount=this.costToPrecision(e,r);else o.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t&&"stop-limit"!==t&&"stop-limit-fok"!==t||(o.price=this.priceToPrecision(e,s));const d=this.options.createOrderMethod,u=await this[d](this.extend(o,a)),l=this.milliseconds();return{info:u,id:this.safeString(u,"data"),timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){const r=await this.privatePostOrderOrdersIdSubmitcancel({id:e});return this.extend(this.parseOrder(r),{id:e,status:"canceled"})}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"clientOrderIds","client-order-ids");i=this.omit(i,["clientOrderIds","client-order-ids"]);const s={};return void 0===r?s["order-ids"]=e:s["client-order-ids"]=r,await this.privatePostOrderOrdersBatchcancel(this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.privatePostOrderOrdersBatchCancelOpenOrders(this.extend(i,t))}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}safeNetwork(e){const t=e.length-1;return"1"===e[t]&&(e=e.slice(0,t)),this.safeString({},e,e)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString(e,"addressTag");""===r&&(r=void 0);const s=this.safeString(e,"currency");t=this.safeCurrency(s,t);const a=this.safeCurrencyCode(s,t),n=this.safeString(e,"chain"),o=this.safeValue(t,"networks",{}),c=this.indexBy(o,"id"),h=this.safeValue(c,n,n),d=this.safeString(h,"network");return this.checkAddress(i),{currency:a,address:i,tag:r,network:d,info:e}}async fetchDeposits(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"deposit",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"withdraw",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),r=this.safeInteger(e,"updated-at"),s=this.safeCurrencyCode(this.safeString(e,"currency"));let a=this.safeString(e,"type");"withdraw"===a&&(a="withdrawal");const n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:a,amount:this.safeNumber(e,"amount"),currency:s,status:n,updated:r,fee:{currency:s,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={address:i,amount:t,currency:a.id.toLowerCase()};void 0!==r&&(n["addr-tag"]=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeStringLower(o,c,c),void 0!==c&&(n.chain="erc20"===c?a.id+c:c+a.id,s=this.omit(s,"network"));const h=await this.privatePostDwWithdrawApiCreate(this.extend(n,s));return{info:h,id:this.safeString(h,"data")}}sign(e,t="public",i="GET",r={},s,a){let n="/";"market"===t?n+=t:"public"===t||"private"===t?n+=this.version:"v2Public"!==t&&"v2Private"!==t||(n+="v2"),n+="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t||"v2Private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,this.hostname,n,r].join("\n"),h=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:h}),n+="?"+r,"POST"===i?(a=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+n,{url:n,method:i,body:a,headers:s}}calculateRateLimiterCost(e,t,i,r,s={},a={}){return this.safeInteger(s,"cost",1)}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&"status"in o&&"error"===this.safeString(o,"status")){const e=this.safeString(o,"err-code"),t=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions.broad,n,t),this.throwExactlyMatchedException(this.exceptions.exact,e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions.exact,i,t),new a(t)}}}},74228:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,NullResponse:o,InvalidOrder:c,NotSupported:h,InsufficientFunds:d,InvalidNonce:u,OrderNotFound:l,RateLimitExceeded:f,DDoSProtection:p}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},timeframes:{"1m":"1m","1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_profile","currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/","raw_tx_history"]}},fees:{trading:{maker:this.parseNumber("0.0016"),taker:this.parseNumber("0.0025")},funding:{withdraw:{},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},exceptions:{exact:{},broad:{"Insufficient funds":d,"Nonce must be incremented":u,"Invalid Order":c,"Order not found":l,"limit exceeded":f,"Invalid API key":n,"There was an error while placing your order":c,"Sorry, too many clients already":p}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0,order:{status:{c:"canceled",d:"closed",cd:"canceled",a:"open"}}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencyProfile(e);this.options.fetchCurrencies=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchCurrencies,"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options.currencies={timestamp:this.milliseconds(),response:t};const i=this.safeValue(t,"data",[]),r=this.safeValue(i,"symbols",[]),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"code"),a=this.safeCurrencyCode(i),n=this.safeInteger(t,"precision"),o=!0;s[a]={id:i,code:a,name:i,active:o,precision:n,fee:void 0,limits:{amount:{min:this.safeNumber(t,"minimumCurrencyAmount"),max:void 0},withdraw:{min:this.safeNumber(t,"minimalWithdrawalAmount"),max:void 0}},info:t}}return s}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",[]),s=this.indexBy(r,"code"),a=this.safeValue(i,"pairs",[]),n=await this.publicGetCurrencyLimits(e),o=[],c=this.safeValue(n.data,"pairs");for(let e=0;e<c.length;e++){const t=c[e],i=this.safeString(t,"symbol1"),r=this.safeString(t,"symbol2"),n=i+"/"+r,h=this.safeCurrencyCode(i),d=this.safeCurrencyCode(r),u=h+"/"+d,l=this.safeValue(s,i,{}),f=this.safeValue(s,r,{});let p=this.safeInteger(f,"precision",8);for(let e=0;e<a.length;e++){const t=a[e];t.symbol1===i&&t.symbol2===r&&(p=this.safeInteger(t,"pricePrecision",p))}const m={amount:this.safeInteger(l,"precision",8)-this.safeInteger(l,"scale",0),price:p};o.push({id:n,info:t,symbol:u,base:h,quote:d,baseId:i,quoteId:r,type:"spot",spot:!0,active:void 0,precision:m,limits:{amount:{min:this.safeNumber(t,"minLotSize"),max:this.safeNumber(t,"maxLotSize")},price:{min:this.safeNumber(t,"minPrice"),max:this.safeNumber(t,"maxPrice")},cost:{min:this.safeNumber(t,"minLotSizeS2"),max:void 0}}})}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.omit(t,["username","timestamp"]),s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeValue(r,t,{}),n=this.account();n.free=this.safeString(a,"available"),n.used=this.safeString(a,"orders","0"),i[this.safeCurrencyCode(t)]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetOrderBookPair(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,a)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,a={}){await this.loadMarkets();const n=this.market(e);if(void 0===i)i=this.milliseconds()-864e5;else if(this.options.fetchOHLCVWarning)throw new s(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");const c={pair:n.id,yyyymmdd:this.yyyymmdd(i,"")};try{const e=await this.publicGetOhlcvHdYyyymmddPair(this.extend(c,a)),s="data"+this.timeframes[t],o=this.safeString(e,s),h=JSON.parse(o);return this.parseOHLCVs(h,n,t,i,r)}catch(e){if(e instanceof o)return[]}}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeNumber(e,"volume"),s=this.safeNumber(e,"high"),a=this.safeNumber(e,"low"),n=this.safeNumber(e,"bid"),o=this.safeNumber(e,"ask"),c=this.safeNumber(e,"last");let h;return t&&(h=t.symbol),{symbol:h,timestamp:i,datetime:this.iso8601(i),high:s,low:a,bid:n,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={currencies:Object.keys(this.currencies).join("/")},r=(await this.publicGetTickersCurrencies(this.extend(i,t))).data,s={};for(let e=0;e<r.length;e++){const t=r[e],i=t.pair.replace(":","/"),a=this.markets[i];s[i]=this.parseTicker(t,a)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTickerPair(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeString(e,"type"),a=this.safeString(e,"price"),n=this.safeString(e,"amount");let o;return void 0!==t&&(o=t.symbol),this.safeTrade({info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:s,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:void 0,fee:void 0},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetTradeHistoryPair(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){if("market"===t&&"buy"===i&&this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}await this.loadMarkets();const n={pair:this.marketId(e),type:i,amount:r};"limit"===t?n.price=s:n.order_type=t;const o=await this.privatePostPlaceOrderPair(this.extend(n,a)),h=this.safeNumber(o,"amount"),d=this.safeNumber(o,"pending"),u=this.safeValue(o,"time"),l=this.safeValue(o,"complete")?"closed":"open";let f;return void 0!==h&&void 0!==d&&(f=Math.max(h-d,0)),{id:this.safeString(o,"id"),info:o,clientOrderId:void 0,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,type:t,side:this.safeString(o,"type"),symbol:e,status:l,price:this.safeNumber(o,"price"),amount:h,cost:void 0,average:void 0,remaining:d,filled:f,fee:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i,r=this.safeValue(e,"time");if(r="string"==typeof r&&r.indexOf("T")>=0?this.parse8601(r):parseInt(r),void 0===t){const r=this.safeString(e,"symbol1"),s=this.safeString(e,"symbol2");i=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(s),i in this.markets&&(t=this.market(i))}const s=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeNumber(e,"price");let n=this.safeNumber(e,"amount");void 0!==n&&(n=Math.abs(n));const o=this.safeNumber2(e,"pending","remains"),c=n-o;let h,d;if(void 0!==t){i=t.symbol;const r=this.safeNumber(e,"ta:"+t.quote),s=this.safeNumber(e,"tta:"+t.quote);d=this.sum(r,s);const a="fa:"+t.base,n="tfa:"+t.base,o="fa:"+t.quote,c="tfa:"+t.quote;let u=this.safeNumber(e,"tradingFeeMaker");if(u||(u=this.safeNumber(e,"tradingFeeTaker",u)),u&&(u/=100),a in e||n in e){const i=this.safeNumber2(e,a,n);h={currency:t.base,rate:u,cost:i}}else if(o in e||c in e){const i=this.safeNumber2(e,o,c);h={currency:t.quote,rate:u,cost:i}}}d||(d=a*c);const u=e.type;let l;const f=e.id;if("vtx"in e){l=[];for(let r=0;r<e.vtx.length;r++){const s=e.vtx[r],a=this.safeString(s,"type");if("cancel"===a)continue;const n=this.safeNumber(s,"price");if(void 0===n)continue;if("costsNothing"===a)continue;const o=this.parse8601(this.safeString(s,"time")),c=this.safeNumber(s,"amount"),h=this.safeNumber(s,"fee_amount");let d,u=c<0?-c:c;"sell"===a?(d=u,u=this.sum(h,d)/n):d=u*n,l.push({id:this.safeString(s,"id"),timestamp:o,datetime:this.iso8601(o),order:f,symbol:i,price:n,amount:u,cost:d,side:a,fee:{cost:h,currency:t.quote},info:s,type:void 0,takerOrMaker:void 0})}}return{id:f,clientOrderId:void 0,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:s,symbol:i,type:void 0===a?"market":"limit",timeInForce:void 0,postOnly:void 0,side:u,price:a,stopPrice:void 0,cost:d,amount:n,filled:c,remaining:o,trades:l,fee:h,info:e,average:void 0}}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="privatePostOpenOrders";void 0!==e&&(a=this.market(e),s.pair=a.id,n+="Pair");const o=await this[n](this.extend(s,r));for(let e=0;e<o.length;e++)o[e]=this.extend(o[e],{status:"open"});return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new a(this.id+" fetchClosedOrders() requires a symbol argument");const s=this.market(e),n={pair:s.id},o=await this.privatePostArchivedOrdersPair(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString()},s=await this.privatePostGetOrderTx(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={limit:i,pair:this.market(e).id,dateFrom:t},a=await this.privatePostArchivedOrdersPair(this.extend(s,r)),n=[];for(let e=0;e<a.length;e++){const t=a[e],i=this.parseOrderStatus(this.safeString(t,"status")),r=this.safeString(t,"symbol1"),s=this.safeString(t,"symbol2"),o=this.safeCurrencyCode(r),c=this.safeCurrencyCode(s),h=o+"/"+c,d=this.safeString(t,"type"),u=this.safeNumber(t,"a:"+r+":cds"),l=this.safeNumber(t,"a:"+s+":cds"),f=this.safeNumber(t,"f:"+s+":cds"),p=this.safeNumber(t,"amount"),m=this.safeNumber(t,"price"),g=this.safeNumber(t,"remains"),y=p-g;let b,v,w,k;if(m){const e=this.safeNumber(t,"ta:"+s,0),i=this.safeNumber(t,"tta:"+s,0),r=this.safeNumber(t,"fa:"+s,0),a=this.safeNumber(t,"tfa:"+s,0);v="sell"===d?this.sum(this.sum(e,i),this.sum(r,a)):this.sum(e,i)-this.sum(r,a),k="limit",b=p,w=v/y}else k="market",b=u,v=l,w=b/v;const S=this.safeString(t,"time"),_=this.safeString(t,"lastTxTime"),M=this.parse8601(S);n.push({id:this.safeString(t,"id"),timestamp:M,datetime:this.iso8601(M),lastUpdated:this.parse8601(_),status:i,symbol:h,side:d,price:m,amount:b,average:w,type:k,filled:y,cost:v,remaining:g,fee:{cost:f,currency:c},info:t})}return n}parseOrderStatus(e){return this.safeString(this.options.order.status,e,e)}async editOrder(e,t,i,r,s,n,o={}){if(void 0===s)throw new a(this.id+" editOrder() requires a amount argument");if(void 0===n)throw new a(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c=this.market(t),h={pair:c.id,type:r,amount:s,price:n,order_id:e},d=await this.privatePostCancelReplaceOrderPair(this.extend(h,o));return this.parseOrder(d,c)}async fetchDepositAddress(e,t={}){if("XRP"===e||"XLM"===e)throw new h(this.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostGetAddress(this.extend(i,t)),s=this.safeString(r,"data");return this.checkAddress(s),{currency:e,address:s,tag:void 0,network:void 0,info:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o)),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,c,h,d){if(Array.isArray(c))return c;if("true"!==n){if(void 0===c)throw new o(this.id+" returned "+this.json(c));if((!("e"in c)||!("ok"in c)||"ok"!==c.ok)&&"error"in c){const e=this.safeString(c,"error"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(t)}}}}},62939:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,RateLimitExceeded:o,InvalidNonce:c}=i(73449),h=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents.chrome,headers:{"CB-VERSION":"2018-05-30"},has:{cancelOrder:void 0,CORS:!0,createDepositAddress:!0,createOrder:void 0,deposit:void 0,fetchAccounts:!0,fetchBalance:!0,fetchBidsAsks:void 0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:void 0,fetchCurrencies:!0,fetchDepositAddress:void 0,fetchDeposits:!0,fetchIndexOHLCV:!1,fetchL2OrderBook:!1,fetchLedger:!0,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyBuys:!0,fetchMySells:!0,fetchMyTrades:void 0,fetchOHLCV:!1,fetchOpenOrders:void 0,fetchOrder:void 0,fetchOrderBook:!1,fetchOrders:void 0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:void 0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:void 0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{exact:{two_factor_required:n,param_required:s,validation_error:s,invalid_request:s,personal_details_required:n,identity_verification_required:n,jumio_verification_required:n,jumio_face_match_verification_required:n,unverified_email:n,authentication_error:n,invalid_authentication_method:n,invalid_token:n,revoked_token:n,expired_token:n,invalid_scope:n,not_found:s,rate_limit_exceeded:o,internal_server_error:s},broad:{"request timestamp expired":c}},commonCurrencies:{CGLD:"CELO"},options:{fetchCurrencies:{expires:5e3},accounts:["wallet","fiat"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"data",{});return this.safeTimestamp(i,"epoch")}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(this.extend({limit:100},e)),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeValue(t,"currency",{}),a=this.safeString(s,"code"),n=this.safeCurrencyCode(a);r.push({id:this.safeString(t,"id"),type:this.safeString(t,"type"),code:n,info:t})}return r}async createDepositAddress(e,t={}){let i=this.safeString(t,"account_id");if(t=this.omit(t,"account_id"),void 0===i){await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const r=this.accounts[t];if(r.code===e&&"wallet"===r.type){i=r.id;break}}}if(void 0===i)throw new s(this.id+" createDepositAddress could not find the account with matching currency code, specify an `account_id` extra param");const r={account_id:i},a=await this.privatePostAccountsAccountIdAddresses(this.extend(r,t)),n=this.safeValue(a,"data",{});return{currency:e,tag:this.safeString(n,"destination_tag"),address:this.safeString(n,"address"),info:a}}async fetchMySells(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const a=this.omit(r,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdSells(this.extend(s,a));return this.parseTrades(n.data,void 0,t,i)}async fetchMyBuys(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const a=this.omit(r,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdBuys(this.extend(s,a));return this.parseTrades(n.data,void 0,t,i)}async fetchTransactionsWithMethod(e,t,i,r,s={}){const a=await this.prepareAccountRequestWithCurrencyCode(t,r,s);await this.loadMarkets();const n=this.omit(s,["account_id","accountId"]),o=await this[e](this.extend(a,n));return this.parseTransactions(o.data,void 0,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",e,t,i,r)}parseTransactionStatus(e){return this.safeString({created:"pending",completed:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeValue(e,"subtotal",{}),r=this.safeValue(e,"fee",{}),s=this.safeString(e,"id"),a=this.parse8601(this.safeValue(e,"created_at")),n=this.parse8601(this.safeValue(e,"updated_at")),o=this.safeString(e,"resource"),c=this.safeNumber(i,"amount"),h=this.safeString(i,"currency"),d=this.safeCurrencyCode(h),u=this.safeNumber(r,"amount"),l=this.safeString(r,"currency"),f={cost:u,currency:this.safeCurrencyCode(l)};let p=this.parseTransactionStatus(this.safeString(e,"status"));return void 0===p&&(p=this.safeValue(e,"committed")?"ok":"pending"),{info:e,id:s,txid:s,timestamp:a,datetime:this.iso8601(a),address:void 0,tag:void 0,type:o,amount:c,currency:d,status:p,updated:n,fee:f}}parseTrade(e,t){let i;const r=this.safeValue(e,"total",{}),s=this.safeValue(e,"amount",{}),a=this.safeValue(e,"subtotal",{}),n=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){const e=this.safeString(s,"currency"),t=this.safeString(r,"currency");void 0!==e&&void 0!==t&&(i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t))}const d=this.safeString(e,"resource"),u=this.safeString(a,"amount"),l=this.safeString(s,"amount"),f=this.parseNumber(u),p=this.parseNumber(l),m=this.parseNumber(h.stringDiv(u,l)),g=this.safeNumber(n,"amount"),y=this.safeString(n,"currency"),b={cost:g,currency:this.safeCurrencyCode(y)};return{info:e,id:o,order:void 0,timestamp:c,datetime:this.iso8601(c),symbol:i,type:void 0,side:d,takerOrMaker:void 0,price:m,amount:p,cost:f,fee:b}}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),a=this.indexBy(s,"id"),n=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(n),c=[];for(let e=0;e<o.length;e++){const t=o[e],i=this.safeCurrencyCode(t);if("crypto"==(t in a?"fiat":"crypto"))for(let e=0;e<s.length;e++){const r=s[e],a=this.safeString(r,"id"),n=this.safeCurrencyCode(a),o=i+"/"+n,h=t+"-"+a;c.push({id:h,symbol:o,base:i,quote:n,baseId:t,quoteId:a,type:"spot",spot:!0,active:void 0,info:r,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(r,"min_size"),max:void 0},leverage:{max:1}}})}}return c}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencies(e),r=await this.publicGetExchangeRates(e);this.options.fetchCurrencies=this.extend(t,{currencies:i,exchangeRates:r,timestamp:s})}return this.safeValue(this.options,"fetchCurrencies",{})}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),a=this.indexBy(s,"id"),n=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(n),c={};for(let e=0;e<o.length;e++){const t=o[e],i=t in a?"fiat":"crypto",r=this.safeValue(a,t,{}),s=this.safeString(r,"id",t),n=this.safeString(r,"name"),h=this.safeCurrencyCode(s);c[h]={id:s,code:h,info:r,type:i,name:n,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:this.safeNumber(r,"min_size"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return c}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetExchangeRates(this.extend({},t)),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"rates",{}),a=this.safeString(r,"currency"),n={},o=Object.keys(s);for(let e=0;e<o.length;e++){const t=o[e],i=t+"-"+a,r=this.safeMarket(i,void 0,"-");n[r.symbol]=this.parseTicker(s[t],r)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.extend({symbol:i.id},t),s=await this.publicGetPricesSymbolSpot(r),a=await this.publicGetPricesSymbolBuy(r),n=await this.publicGetPricesSymbolSell(r);return this.parseTicker([s,a,n],i)}parseTicker(e,t){const i=this.safeSymbol(void 0,t);let r,s,a;const n=this.milliseconds();if("string"==typeof e){const t=h.stringDiv("1",e);a=this.parseNumber(t)}else{const[t,i,n]=e,o=this.safeValue(t,"data",{}),c=this.safeValue(i,"data",{}),h=this.safeValue(n,"data",{});a=this.safeNumber(o,"amount"),s=this.safeNumber(c,"amount"),r=this.safeNumber(h,"amount")}return this.safeTicker({symbol:i,timestamp:n,datetime:this.iso8601(n),bid:s,ask:r,last:a,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:e})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(this.extend({limit:100},e)),i=this.safeValue(t,"data"),r=this.safeValue(e,"type",this.options.accounts),s={info:t};for(let e=0;e<i.length;e++){const t=i[e],a=this.safeString(t,"type");if(this.inArray(a,r)){const e=this.safeValue(t,"balance");if(void 0!==e){const t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.safeString(e,"amount"),a=r;let n=this.safeValue(s,i);void 0===n?(n=this.account(),n.free=a,n.total=r):(n.free=h.stringAdd(n.free,r),n.total=h.stringAdd(n.total,r)),s[i]=n}}}return this.parseBalance(s)}async fetchLedger(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.prepareAccountRequestWithCurrencyCode(e,i,r),n=this.omit(r,["account_id","accountId"]),o=await this.privateGetAccountsAccountIdTransactions(this.extend(a,n));return this.parseLedger(o.data,s,t,i)}parseLedgerEntryStatus(e){return this.safeString({completed:"ok"},e,e)}parseLedgerEntryType(e){return this.safeString({buy:"trade",sell:"trade",fiat_deposit:"transaction",fiat_withdrawal:"transaction",exchange_deposit:"transaction",exchange_withdrawal:"transaction",send:"transaction",pro_deposit:"transaction",pro_withdrawal:"transaction"},e,e)}parseLedgerEntry(e,t){const i=this.safeValue(e,"amount",{});let r,s=this.safeNumber(i,"amount");s<0?(r="out",s=-s):r="in";const a=this.safeString(i,"currency"),n=this.safeCurrencyCode(a,t);let o;const c=this.safeValue(e,"network",{}),h=this.safeValue(c,"transaction_fee");if(void 0!==h){const e=this.safeString(h,"currency"),i=this.safeCurrencyCode(e,t);o={cost:this.safeNumber(h,"amount"),currency:i}}const d=this.parse8601(this.safeValue(e,"created_at")),u=this.safeString(e,"id"),l=this.parseLedgerEntryType(this.safeString(e,"type")),f=this.parseLedgerEntryStatus(this.safeString(e,"status")),p=this.safeString(e,"resource_path");let m;if(void 0!==p){const e=p.split("/");e.length>3&&(m=e[3])}return{info:e,id:u,timestamp:d,datetime:this.iso8601(d),direction:r,account:m,referenceId:void 0,referenceAccount:void 0,type:l,currency:n,amount:s,before:void 0,after:void 0,status:f,fee:o}}async findAccountId(e){await this.loadMarkets(),await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const i=this.accounts[t];if(i.code===e)return i.id}}prepareAccountRequest(e,t={}){const i=this.safeString2(t,"account_id","accountId");if(void 0===i)throw new a(this.id+" method requires an account_id (or accountId) parameter");const r={account_id:i};return void 0!==e&&(r.limit=e),r}async prepareAccountRequestWithCurrencyCode(e,t,i={}){let r=this.safeString2(i,"account_id","accountId");if(void 0===r){if(void 0===e)throw new a(this.id+" method requires an account_id (or accountId) parameter OR a currency code argument");if(r=await this.findAccountId(e),void 0===r)throw new s(this.id+" could not find account id for "+e)}const n={account_id:r};return void 0!==t&&(n.limit=t),n}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("private"===t){const e=this.safeString(this.headers,"Authorization");if(void 0!==e)s={Authorization:e,"Content-Type":"application/json"};else if(this.token)s={Authorization:"Bearer "+this.token,"Content-Type":"application/json"};else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(t=a=this.json(o));const r=e+i+n+t,c=this.hmac(this.encode(r),this.encode(this.secret));s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":c,"CB-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.id+" "+n;let u=this.safeString(o,"error");if(void 0!==u){const e=this.safeString(o,"error_description");throw this.throwExactlyMatchedException(this.exceptions.exact,u,d),this.throwBroadlyMatchedException(this.exceptions.broad,e,d),new s(d)}const l=this.safeValue(o,"errors");if(void 0!==l&&Array.isArray(l)&&l.length>0){u=this.safeString(l[0],"id");const e=this.safeString(l[0],"message");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions.exact,u,d),this.throwBroadlyMatchedException(this.exceptions.broad,e,d),new s(d)}if(void 0===this.safeValue(o,"data"))throw new s(this.id+" failed due to a malformed response "+this.json(o))}}},18806:(e,t,i)=>{"use strict";const r=i(51241);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbaseprime",name:"Coinbase Prime",pro:!0,hostname:"exchange.coinbase.com",urls:{test:{public:"https://public.sandbox.exchange.coinbase.com",private:"https://public.sandbox.exchange.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://exchange.coinbase.com",doc:"https://docs.exchange.coinbase.com"}})}}},51241:(e,t,i)=>{"use strict";const r=i(48819),{InsufficientFunds:s,ArgumentsRequired:a,ExchangeError:n,InvalidOrder:o,InvalidAddress:c,AuthenticationError:h,NotSupported:d,OrderNotFound:u,OnMaintenance:l,PermissionDenied:f,RateLimitExceeded:p}=i(73449),{TICK_SIZE:m}=i(62115),g=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbasepro",name:"Coinbase Pro",countries:["US"],rateLimit:100,userAgent:this.userAgents.chrome,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,deposit:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:void 0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},hostname:"pro.coinbase.com",urls:{test:{public:"https://api-public.sandbox.pro.coinbase.com",private:"https://api-public.sandbox.pro.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}"},www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time","products/spark-lines"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","fees","margin/profile_information","margin/buying_power","margin/withdrawal_power","margin/withdrawal_power_all","margin/exit_plan","margin/liquidation_history","margin/position_refresh_amounts","margin/status","oracle","orders","orders/{id}","orders/client:{client_oid}","otc/orders","payment-methods","position","profiles","profiles/{id}","reports/{report_id}","transfers","transfers/{transfer_id}","users/self/exchange-limits","users/self/hold-balances","users/self/trailing-volume","withdrawals/fee-estimate"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","profiles/transfer","reports","withdrawals/coinbase","withdrawals/coinbase-account","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/client:{client_oid}","orders/{id}"]}},commonCurrencies:{CGLD:"CELO"},precisionMode:m,fees:{trading:{tierBased:!0,percentage:!0,maker:.005,taker:.005},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":s,NotFound:u,"Invalid API Key":h,"invalid signature":h,"Invalid Passphrase":h,"Invalid order id":o,"Private rate limit exceeded":p,"Trading pair not available":f,"Product not found":o},broad:{"Order already done":u,"order not found":u,"price too small":o,"price too precise":o,"under maintenance":l,"size is too small":o,"Cancel only mode":l}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"name"),n=this.safeCurrencyCode(s),o=this.safeValue(r,"details",{}),c=this.safeNumber(r,"max_precision"),h="online"===this.safeString(r,"status");i[n]={id:s,code:n,info:r,type:this.safeString(o,"type"),name:a,active:h,fee:void 0,precision:c,limits:{amount:{min:this.safeNumber(o,"min_size"),max:void 0},withdraw:{min:this.safeNumber(o,"min_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"base_currency"),n=this.safeString(r,"quote_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d={min:this.safeNumber(r,"quote_increment"),max:void 0},u={amount:this.safeNumber(r,"base_increment"),price:this.safeNumber(r,"quote_increment")},l="online"===this.safeString(r,"status");i.push(this.extend(this.fees.trading,{id:s,symbol:h,baseId:a,quoteId:n,base:o,quote:c,type:"spot",spot:!0,active:l,precision:u,limits:{amount:{min:this.safeNumber(r,"base_min_size"),max:this.safeNumber(r,"base_max_size")},price:d,cost:{min:this.safeNumber(r,"min_market_funds"),max:this.safeNumber(r,"max_market_funds")}},info:r}))}return i}async fetchAccounts(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"currency"),n=this.safeCurrencyCode(a);i.push({id:s,type:void 0,currency:n,info:r})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"available"),n.used=this.safeString(r,"hold"),n.total=this.safeString(r,"balance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e),level:2},s=await this.publicGetProductsIdBook(this.extend(r,i)),a=this.parseOrderBook(s,e);return a.nonce=this.safeInteger(s,"sequence"),a}parseTicker(e,t){let i,r,s,a,n,o,c,h;const d=void 0===t?void 0:t.symbol;return Array.isArray(e)?(a=this.safeNumber(e,4),i=this.milliseconds()):(i=this.parse8601(this.safeValue(e,"time")),r=this.safeNumber(e,"bid"),s=this.safeNumber(e,"ask"),n=this.safeNumber(e,"high"),o=this.safeNumber(e,"low"),c=this.safeNumber(e,"open"),a=this.safeNumber2(e,"price","last"),h=this.safeNumber(e,"volume")),this.safeTicker({symbol:d,timestamp:i,datetime:this.iso8601(i),high:n,low:o,bid:r,bidVolume:void 0,ask:s,askVolume:void 0,vwap:void 0,open:c,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:h,quoteVolume:void 0,info:e})}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetProductsSparkLines(this.extend({},t)),r={},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeValue(i,t,[]),n=this.safeValue(a,0,[]),o=this.safeMarket(t,void 0,"-");r[o.symbol]=this.parseTicker(n,o)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=this.safeString(this.options,"fetchTickerMethod","publicGetProductsIdTicker"),a=await this[s](this.extend(r,t));return this.parseTicker(a,i)}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"time","created_at")),r=this.safeString(e,"product_id"),s=this.safeSymbol(r,t,"-");let a,n,o,c;if(void 0!==t){const i=this.safeStringLower(t,"quoteId")+"_value";c=this.safeNumber(e,i),n=t.quote;const r=this.safeString(e,"liquidity");void 0!==r&&(o="T"===r?"taker":"maker",a=t[o])}const h={cost:this.safeNumber2(e,"fill_fees","fee"),currency:n,rate:a},d=this.safeString(e,"trade_id");let u="buy"===e.side?"sell":"buy";const l=this.safeString(e,"order_id"),f=this.safeString(e,"maker_order_id"),p=this.safeString(e,"taker_order_id");(void 0!==l||void 0!==f&&void 0!==p)&&(u="buy"===e.side?"buy":"sell");const m=this.safeString(e,"price"),y=this.safeString(e,"size"),b=this.parseNumber(m),v=this.parseNumber(y);return void 0===c&&(c=this.parseNumber(g.stringMul(m,y))),{id:d,order:l,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,takerOrMaker:o,side:u,price:b,amount:v,fee:h,cost:c}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={product_id:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetFills(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetProductsIdTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,3),this.safeNumber(e,2),this.safeNumber(e,1),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.timeframes[t],o={id:a.id,granularity:n};void 0!==i&&(o.start=this.iso8601(i),r=void 0===r?300:Math.min(300,r),o.end=this.iso8601(this.sum((r-1)*n*1e3,i)));const c=await this.publicGetProductsIdCandles(this.extend(o,s));return this.parseOHLCVs(c,a,t,i,r)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"epoch")}parseOrderStatus(e){return this.safeString({pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"product_id");t=this.safeMarket(r,t,"-");let s=this.parseOrderStatus(this.safeString(e,"status"));const a=this.safeString(e,"done_reason");"closed"===s&&"canceled"===a&&(s="canceled");const n=this.safeString(e,"price"),o=this.safeString(e,"filled_size"),c=this.safeString(e,"size",o),h=this.safeString(e,"executed_value"),d=this.safeNumber(e,"fill_fees");let u;if(void 0!==d){let e;void 0!==t&&(e=t.quote),u={cost:d,currency:e,rate:void 0}}const l=this.safeString(e,"id"),f=this.safeString(e,"type"),p=this.safeString(e,"side"),m=this.safeString(e,"time_in_force"),g=this.safeValue(e,"post_only"),y=this.safeNumber(e,"stop_price"),b=this.safeString(e,"client_oid");return this.safeOrder2({id:l,clientOrderId:b,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:s,symbol:t.symbol,type:f,timeInForce:m,postOnly:g,side:p,price:n,stopPrice:y,cost:h,amount:c,filled:o,remaining:void 0,fee:u,average:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOrderId","client_oid");let a;void 0===s?(a="privateGetOrdersId",r.id=e):(a="privateGetOrdersClientClientOid",r.client_oid=s,i=this.omit(i,["clientOrderId","client_oid"]));const n=await this[a](this.extend(r,i));return this.parseOrder(n)}async fetchOrderTrades(e,t,i,r,s={}){let a;await this.loadMarkets(),void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.privateGetFills(this.extend(n,s));return this.parseTrades(o,a,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOpenOrders(e,t,i,this.extend({status:"all"},r))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.product_id=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOpenOrders(e,t,i,this.extend({status:"done"},r))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={type:t,side:i,product_id:n.id},c=this.safeString2(a,"clientOrderId","client_oid");void 0!==c&&(o.client_oid=c);const h=this.safeNumber2(a,"stopPrice","stop_price");void 0!==h&&(o.stop_price=this.priceToPrecision(e,h));const d=this.safeString2(a,"timeInForce","time_in_force");if(void 0!==d&&(o.time_in_force=d),this.safeValue2(a,"postOnly","post_only",!1)&&(o.post_only=!0),a=this.omit(a,["timeInForce","time_in_force","stopPrice","stop_price","clientOrderId","client_oid","postOnly","post_only"]),"limit"===t)o.price=this.priceToPrecision(e,s),o.size=this.amountToPrecision(e,r);else if("market"===t){let t=this.safeNumber2(a,"cost","funds");void 0===t?void 0!==s&&(t=r*s):a=this.omit(a,["cost","funds"]),void 0!==t?o.funds=this.costToPrecision(e,t):o.size=this.amountToPrecision(e,r)}const u=await this.privatePostOrders(this.extend(o,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOrderId","client_oid");let a,n;return void 0===s?(a="privateDeleteOrdersId",r.id=e):(a="privateDeleteOrdersClientClientOid",r.client_oid=s,i=this.omit(i,["clientOrderId","client_oid"])),void 0!==t&&(n=this.market(t),r.product_id=n.symbol),await this[a](this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.product_id=r.symbol),await this.privateDeleteOrders(this.extend(i,t))}async fetchPaymentMethods(e={}){return await this.privateGetPaymentMethods(e)}async deposit(e,t,i,r={}){await this.loadMarkets();const s={currency:this.currency(e).id,amount:t};let a="privatePostDeposits";if("payment_method_id"in r)a+="PaymentMethod";else{if(!("coinbase_account_id"in r))throw new d(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");a+="CoinbaseAccount"}const o=await this[a](this.extend(s,r));if(!o)throw new n(this.id+" deposit() error: "+this.json(o));return{info:o,id:o.id}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t};let o="privatePostWithdrawals";"payment_method_id"in s?o+="PaymentMethod":"coinbase_account_id"in s?o+="CoinbaseAccount":(o+="Crypto",a.crypto_address=i,void 0!==r&&(a.destination_tag=r));const c=await this[o](this.extend(a,s));if(!c)throw new n(this.id+" withdraw() error: "+this.json(c));return{info:c,id:c.id}}parseLedgerEntryType(e){return this.safeString({transfer:"transfer",match:"trade",fee:"fee",rebate:"rebate",conversion:"trade"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r,s=this.safeString(e,"amount");const a=this.safeString(e,"balance"),n=g.stringSub(a,s);g.stringLt(s,"0")?(r="out",s=g.stringAbs(s)):r="in";const o=this.parseNumber(s),c=this.parseNumber(a),h=this.parseNumber(n),d=this.parse8601(this.safeValue(e,"created_at")),u=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeCurrencyCode(void 0,t),f=this.safeValue(e,"details",{});let p,m,y;return"transfer"===u?(p=this.safeString(f,"from"),m=this.safeString(f,"to"),y=this.safeString(f,"profile_transfer_id")):y=this.safeString(f,"order_id"),{id:i,currency:l,account:p,referenceAccount:m,referenceId:y,status:"ok",amount:o,before:h,after:c,fee:void 0,direction:r,timestamp:d,datetime:this.iso8601(d),type:u,info:e}}async fetchLedger(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchLedger() requires a code param");await this.loadMarkets(),await this.loadAccounts();const s=this.currency(e),o=this.indexBy(this.accounts,"currency"),c=this.safeValue(o,e);if(void 0===c)throw new n(this.id+" fetchLedger() could not find account id for "+e);const h={id:c.id};void 0!==t&&(h.start_date=this.iso8601(t)),void 0!==i&&(h.limit=i);const d=await this.privateGetAccountsIdLedger(this.extend(h,r));for(let t=0;t<d.length;t++)d[t].currency=e;return this.parseLedger(d,s,t,i)}async fetchTransactions(e,t,i,r={}){let s;await this.loadMarkets(),await this.loadAccounts();let a=this.safeString(r,"id");if(void 0===a&&void 0!==e){s=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new n(this.id+" fetchTransactions() could not find account id for "+e);a=i.id}const o={};let c;if(void 0!==a&&(o.id=a),void 0!==i&&(o.limit=i),void 0===a){c=await this.privateGetTransfers(this.extend(o,r));for(let e=0;e<c.length;e++){const t=this.safeString(c[e],"account_id"),i=this.safeValue(this.accountsById,t),r=this.safeString(i,"currency");c[e].currency=r}}else{c=await this.privateGetAccountsIdTransfers(this.extend(o,r));for(let t=0;t<c.length;t++)c[t].currency=e}return this.parseTransactions(c,s,t,i)}async fetchDeposits(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"deposit"},r))}async fetchWithdrawals(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"withdraw"},r))}parseTransactionStatus(e){if(this.safeValue(e,"canceled_at"))return"canceled";const t=this.safeValue(e,"processed_at"),i=this.safeValue(e,"completed_at");return i?"ok":t&&!i?"failed":"pending"}parseTransaction(e,t){const i=this.safeValue(e,"details",{}),r=this.safeString(e,"id"),s=this.safeString(i,"crypto_transaction_hash"),a=this.parse8601(this.safeString(e,"created_at")),n=this.parse8601(this.safeString(e,"processed_at")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),h=this.parseTransactionStatus(e);let d=this.safeNumber(e,"amount"),u=this.safeString(e,"type"),l=this.safeString(i,"crypto_address");const f=this.safeString(i,"destination_tag");let p;if(l=this.safeString(e,"crypto_address",l),"withdraw"===u){u="withdrawal",l=this.safeString(i,"sent_to_address",l);const e=this.safeNumber(i,"fee");void 0!==e&&(void 0!==d&&(d-=e),p={cost:e,currency:c})}return{info:e,id:r,txid:s,timestamp:a,datetime:this.iso8601(a),address:l,tag:f,type:u,amount:d,currency:c,status:h,updated:n,fee:p}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeValue(this.options,"coinbaseAccounts");void 0===r&&(r=await this.privateGetCoinbaseAccounts(),this.options.coinbaseAccounts=r,this.options.coinbaseAccountsByCurrencyId=this.indexBy(r,"currency"));const s=i.id,a=this.safeValue(this.options.coinbaseAccountsByCurrencyId,s);if(void 0===a)throw new c(this.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+s+" in this.options['coinbaseAccountsByCurrencyId']");const n={id:a.id},o=await this.privatePostCoinbaseAccountsIdAddresses(this.extend(n,t)),h=this.safeString(o,"address"),d=this.safeString(o,"destination_tag");return{currency:e,address:this.checkAddress(h),tag:d,info:o}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.implodeHostname(this.urls.api[t])+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(t=a=this.json(o));const r=e+i+n+t;let c;try{c=this.base64ToBinary(this.secret)}catch(e){throw new h(this.id+" sign() invalid base64 secret")}const d=this.hmac(this.encode(r),c,"sha256","base64");s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":d,"CB-ACCESS-TIMESTAMP":e,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(400===e||404===e){if("{"===a[0]){const e=this.safeString(o,"message"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new n(t)}throw new n(this.id+" "+a)}}async request(e,t="public",i="GET",r={},s,a,o={},c={}){const h=await this.fetch2(e,t,i,r,s,a,o,c);if("string"!=typeof h&&"message"in h)throw new n(this.id+" "+this.json(h));return h}}},51770:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,ExchangeError:a,AuthenticationError:n}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182088-1d6d6380-c2ec-11ea-9c64-8ab9f9b289f5.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api",fees:["https://coincheck.com/exchange/fee","https://coincheck.com/info/fee"]},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",type:"spot",spot:!0},"ETC/JPY":{id:"etc_jpy",symbol:"ETC/JPY",base:"ETC",quote:"JPY",baseId:"etc",quoteId:"jpy",type:"spot",spot:!0},"FCT/JPY":{id:"fct_jpy",symbol:"FCT/JPY",base:"FCT",quote:"JPY",baseId:"fct",quoteId:"jpy",type:"spot",spot:!0},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy",type:"spot",spot:!0},"ETC/BTC":{id:"etc_btc",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc",type:"spot",spot:!0}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0"),taker:this.parseNumber("0")}},exceptions:{exact:{"disabled API Key":n,"invalid authentication":n},broad:{}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.currency(s).id;if(a in t){const e=this.account(),r=a+"_reserved";e.free=this.safeString(t,a),e.used=this.safeString(t,r),i[s]=e}}return this.parseBalance(i)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a=await this.privateGetExchangeOrdersOpens(r),n=this.safeValue(a,"orders",[]),o=this.parseOrders(n,s,t,i),c=[];for(let e=0;e<o.length;e++)c.push(this.extend(o[e],{status:"open"}));return c}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_type"),s=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"pending_amount"),n=this.safeString(e,"pending_amount"),o=this.safeString(e,"rate"),c=this.safeString(e,"pair"),h=this.safeSymbol(c,t,"_");return this.safeOrder2({id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,amount:a,remaining:n,filled:void 0,side:r,type:void 0,timeInForce:void 0,postOnly:void 0,status:void 0,symbol:h,price:o,stopPrice:void 0,cost:void 0,fee:void 0,info:e,average:void 0,trades:void 0},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.market(e).id},s=await this.publicGetOrderBooks(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){if("BTC/JPY"!==e)throw new s(this.id+" fetchTicker () supports BTC/JPY only");await this.loadMarkets();const i={pair:this.market(e).id},r=await this.publicGetTicker(this.extend(i,t)),a=this.safeTimestamp(r,"timestamp"),n=this.safeNumber(r,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"volume"),quoteVolume:void 0,info:r}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeString(e,"rate"),a=this.safeString(e,"pair");let n,o,c,h,d,u,l,f,p;if(t=this.safeValue(this.markets_by_id,a,t),void 0!==a)if(a in this.markets_by_id)o=(t=this.markets_by_id[a]).baseId,c=t.quoteId,n=t.symbol;else{const e=a.split("_");o=e[0],c=e[1],n=this.safeCurrencyCode(o)+"/"+this.safeCurrencyCode(c)}if(void 0===n&&void 0!==t&&(n=t.symbol),"liquidity"in e){"T"===this.safeString(e,"liquidity")?h="taker":"M"===this.safeString(e,"liquidity")&&(h="maker");const t=this.safeValue(e,"funds",{});d=this.safeString(t,o),u=this.safeString(t,c),f={currency:this.safeString(e,"fee_currency"),cost:this.safeString(e,"fee")},l=this.safeString(e,"side"),p=this.safeString(e,"order_id")}else d=this.safeString(e,"amount"),l=this.safeString(e,"order_type");return this.safeTrade({id:r,info:e,datetime:this.iso8601(i),timestamp:i,symbol:n,type:void 0,side:l,order:p,takerOrMaker:h,price:s,amount:d,cost:u,fee:f},t)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=await this.privateGetExchangeOrdersTransactions(this.extend({},r)),n=this.safeValue(a,"transactions",[]);return this.parseTrades(n,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={pair:this.marketId(e)};if("market"===t){const e=t+"_"+i;n.order_type=e,n[("buy"===i?e+"_":"")+"amount"]=r}else n.order_type=i,n.rate=s,n.amount=r;const o=await this.privatePostExchangeOrders(this.extend(n,a));return{info:o,id:this.safeString(o,"id")}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteExchangeOrdersId(this.extend(r,i))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(t=a=this.urlencode(this.keysort(o)));const r=e+n+t;s={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":e,"ACCESS-SIGNATURE":this.hmac(this.encode(r),this.encode(this.secret))}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&!this.safeValue(o,"success",!0)){const e=this.safeString(o,"error"),t=this.id+" "+this.json(o);throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,n,t),new a(this.id+" "+this.json(o))}}}},78427:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InsufficientFunds:n,OrderNotFound:o,InvalidOrder:c,AuthenticationError:h,PermissionDenied:d,ExchangeNotAvailable:u,RequestTimeout:l}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182089-1e05fa00-c2ec-11ea-8da9-cc73b45abbbc.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",perpetualPublic:"https://api.coinex.com/perpetual",perpetualPrivate:"https://api.coinex.com/perpetual"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/register?refer_code=yw5fz"},api:{public:{get:["common/currency/rate","common/asset/config","market/info","market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/deposit","balance/coin/withdraw","balance/info","future/account","future/config","future/limitprice","future/loan/history","future/market","margin/account","margin/config","margin/loan/history","margin/market","order","order/deals","order/finished","order/finished/{id}","order/pending","order/status","order/status/batch","order/user/deals","sub_account/balance","sub_account/transfer/history"],post:["balance/coin/withdraw","future/flat","future/loan","future/transfer","margin/flat","margin/loan","margin/transfer","order/batchlimit","order/ioc","order/limit","order/market","sub_account/transfer"],delete:["balance/coin/withdraw","order/pending/batch","order/pending"]},perpetualPublic:{get:["ping","time","market/list","market/limit_config","market/ticker","market/ticker/all","market/depth","market/deals","market/funding_history","market/user_deals","market/kline"]},perpetualPrivate:{get:["asset/query","order/pending","order/finished","order/stop_pending","order/status","position/pending","position/funding"],post:["market/adjust_leverage","market/position_expect","order/put_limit","order/put_market","order/put_stop_limit","order/cancel","order/cancel_all","order/cancel_stop","order/cancel_stop_all","order/close_limit","order/close_market","position/adjust_margin"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0},commonCurrencies:{ACM:"Actinium"}})}async fetchMarkets(e={}){const t=await this.publicGetMarketInfo(e),i=this.safeValue(t,"data",{}),r=[],s=Object.keys(i);for(let e=0;e<s.length;e++){const t=i[s[e]],a=this.safeString(t,"name"),n=this.safeString(t,"trading_name"),o=n,c=this.safeString(t,"pricing_name"),h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c);let u=h+"/"+d;n===a&&(u=a);const l={amount:this.safeInteger(t,"trading_decimal"),price:this.safeInteger(t,"pricing_decimal")},f=void 0;r.push({id:a,symbol:u,base:h,quote:d,baseId:o,quoteId:c,type:"spot",spot:!0,active:f,taker:this.safeNumber(t,"taker_fee_rate"),maker:this.safeNumber(t,"maker_fee_rate"),info:t,precision:l,limits:{amount:{min:this.safeNumber(t,"min_amount"),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0}}})}return r}parseTicker(e,t){const i=this.safeInteger(e,"date");let r;void 0!==t&&(r=t.symbol),e=this.safeValue(e,"ticker",{});const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber2(e,"vol","volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetMarketTicker(this.extend(r,t));return this.parseTicker(s.data,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickerAll(t),r=this.safeValue(i,"data"),s=this.safeInteger(r,"date"),a=this.safeValue(r,"ticker"),n=Object.keys(a),o={};for(let e=0;e<n.length;e++){const t=n[e],i=this.safeMarket(t),r=i.symbol,c=this.parseTicker({date:s,ticker:a[t]},i);c.symbol=r,o[r]=c}return this.filterByArray(o,"symbol",e)}async fetchOrderBook(e,t=20,i={}){await this.loadMarkets(),void 0===t&&(t=20);const r={market:this.marketId(e),merge:"0.0000000001",limit:t.toString()},s=await this.publicGetMarketDepth(this.extend(r,i));return this.parseOrderBook(s.data,e)}parseTrade(e,t){let i=this.safeTimestamp(e,"create_time");void 0===i&&(i=this.safeInteger(e,"date_ms"));const r=this.safeString(e,"id"),s=this.safeString(e,"order_id"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString(e,"market"),c=this.safeSymbol(o,t),h=this.safeString(e,"deal_money");let d;const u=this.safeString(e,"fee");if(void 0!==u){const t=this.safeString(e,"fee_asset");d={cost:u,currency:this.safeCurrencyCode(t)}}const l=this.safeString(e,"role"),f=this.safeString(e,"type");return this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,id:r,order:s,type:void 0,side:f,takerOrMaker:l,price:a,amount:n,cost:h,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetMarketDeals(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,type:this.timeframes[t]};void 0!==r&&(n.limit=r);const o=await this.publicGetMarketKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchMarginBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"symbol");let i,r=this.safeString(e,"market");if(void 0!==t)i=this.market(t),r=i.id;else if(void 0===r)throw new a(this.id+" fetching a margin account requires a market parameter or a symbol parameter");e=this.omit(e,["symbol","market"]);const s={market:r},n=await this.privateGetMarginAccount(this.extend(s,e)),o={info:n},c=this.safeValue(n,"data",{}),h=this.safeValue(c,"can_transfer",{}),d=this.safeValue(c,"balance",{}),u=this.account(),l=this.safeString(c,"sell_asset_type"),f=this.safeCurrencyCode(l);u.free=this.safeString(h,"sell_type"),u.total=this.safeString(d,"sell_type"),o[f]=u;const p=this.account(),m=this.safeString(c,"buy_asset_type"),g=this.safeCurrencyCode(m);return p.free=this.safeString(h,"buy_type"),p.total=this.safeString(d,"buy_type"),o[g]=p,this.parseBalance(o)}async fetchSpotBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalanceInfo(e),i={info:t},r=this.safeValue(t,"data",{}),s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeCurrencyCode(t),n=this.safeValue(r,t,{}),o=this.account();o.free=this.safeString(n,"available"),o.used=this.safeString(n,"frozen"),i[a]=o}return this.parseBalance(i)}async fetchBalance(e={}){const t=this.safeString(e,"type","main");return e=this.omit(e,"type"),"margin"===t?await this.fetchMarginBalance(e):await this.fetchSpotBalance(e)}parseOrderStatus(e){return this.safeString({not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeTimestamp(e,"create_time"),r=this.safeString(e,"price"),s=this.safeString(e,"deal_money"),a=this.safeString(e,"amount"),n=this.safeString(e,"deal_amount"),o=this.safeString(e,"avg_price"),c=this.safeString(e,"left");let h;const d=this.safeString(e,"market");t=this.safeMarket(d,t);const u=this.safeString(e,"fee_asset");let l=this.safeCurrencyCode(u);void 0!==t&&(h=t.symbol,void 0===l&&(l=t.quote));const f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"order_type"),m=this.safeString(e,"type");return this.safeOrder2({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:f,symbol:h,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:r,stopPrice:void 0,cost:s,average:o,amount:a,filled:n,remaining:c,trades:void 0,fee:{currency:l,cost:this.safeString(e,"deal_fee")},info:e},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="privatePostOrder"+this.capitalize(t),o=this.market(e),h={market:o.id,type:i};if("market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");h.amount=this.costToPrecision(e,r*s)}else h.amount=this.costToPrecision(e,r);else h.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t||(h.price=this.priceToPrecision(e,s));const d=await this[n](this.extend(h,a)),u=this.safeValue(d,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,market:r.id},a=await this.privateDeleteOrderPending(this.extend(s,i)),n=this.safeValue(a,"data");return this.parseOrder(n,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancellAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.market(e).id,r={account_id:this.safeString(t,"id","0"),market:i};return await this.privateDeleteOrderPending(this.extend(r,t))}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:e,market:r.id},n=await this.privateGetOrder(this.extend(s,i)),o=this.safeValue(n,"data");return this.parseOrder(o,r)}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const a={page:1,limit:r};let n;void 0!==t&&(n=this.market(t),a.market=n.id);const o="privateGetOrder"+this.capitalize(e),c=await this[o](this.extend(a,s)),h=this.safeValue(c,"data"),d=this.safeValue(h,"data",[]);return this.parseOrders(d,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("pending",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("finished",e,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={page:1,limit:i};let a;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.privateGetOrderUserDeals(this.extend(s,r)),o=this.safeValue(n,"data"),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);r&&(i=i+":"+r);const n={coin_type:a.id,coin_address:i,actual_amount:parseFloat(t),transfer_method:"onchain"},o=await this.privatePostBalanceCoinWithdraw(this.extend(n,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}parseTransactionStatus(e){return this.safeString({audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"},e,e)}parseTransaction(e,t){const i=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),r=this.safeString(e,"coin_address");let s=this.safeString(e,"remark");void 0!==s&&s.length<1&&(s=void 0);let a=this.safeValue(e,"tx_id");void 0!==a&&a.length<1&&(a=void 0);const n=this.safeString(e,"coin_type"),o=this.safeCurrencyCode(n,t),c=this.safeTimestamp(e,"create_time"),h="coin_withdraw_id"in e?"withdraw":"deposit",d=this.parseTransactionStatus(this.safeString(e,"status"));let u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"tx_fee");"deposit"===h&&(l=0);const f={cost:l,currency:o};return void 0!==u&&(u-=l),{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:h,amount:u,currency:o,status:d,updated:void 0,fee:f}}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={coin_type:s.id};void 0!==i&&(n.Limit=i);const o=await this.privateGetBalanceCoinWithdraw(this.extend(n,r));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,s,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={coin_type:s.id};void 0!==i&&(n.Limit=i);const o=await this.privateGetBalanceCoinDeposit(this.extend(n,r));let c=this.safeValue(o,"data");return Array.isArray(c)||(c=this.safeValue(c,"data",[])),this.parseTransactions(c,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){e=this.implodeParams(e,r);let n=this.urls.api[t]+"/"+this.version+"/"+e,o=this.omit(r,this.extractParams(e));if("public"===t||"perpetualPublic"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();o=this.extend({access_id:this.apiKey,tonce:e.toString()},o),o=this.keysort(o);const t=this.rawencode(o);s={Authorization:this.hash(this.encode(t+"&secret_key="+this.secret)).toUpperCase(),"Content-Type":"application/json"},"GET"===i||"DELETE"===i?n+="?"+t:a=this.json(o)}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,f,p,m,g){if(void 0===p)return;const y=this.safeString(p,"code"),b=this.safeValue(p,"data"),v=this.safeString(p,"message");if("0"!==y||"Success"!==v&&"Succeeded"!==v&&"Ok"!==v&&!b){const e={23:d,24:h,25:h,34:h,35:u,36:l,107:n,600:o,601:c,602:c,606:c};throw new(this.safeValue(e,y,s))(p.message)}}}},56810:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,RateLimitExceeded:n,ArgumentsRequired:o}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/orders/{id}/trades","user/trades","user/fees","account/withdrawals/{id}","account/withdrawals","account/deposit/{id}","account/deposits","account/deposit_address"],post:["user/orders","account/withdraw"],delete:["user/orders/{id}","account/withdrawals/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data"),r=[];for(let e=0;e<i.length;e++){const t=i[e],[s,a]=t.name.split("-"),n=this.safeCurrencyCode(s),o=this.safeCurrencyCode(a),c=n+"/"+o,h={amount:this.safeInteger(t,"size_precision"),price:this.safeInteger(t,"price_precision")};r.push({id:t.name,symbol:c,base:n,quote:o,baseId:s,quoteId:a,type:"spot",spot:!0,active:!0,precision:h,limits:{amount:{min:Math.pow(10,-h.amount),max:void 0},price:{min:Math.pow(10,-h.price),max:void 0},cost:{min:void 0,max:void 0}},info:t})}return r}parseTicker(e,t){const i=this.safeString(e,"name"),r=this.safeSymbol(i,t,"-"),s=this.milliseconds(),a=this.safeNumber(e,"last_price");return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeNumber(e,"change_in_24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){return await this.loadMarkets(),(await this.fetchTickers(t))[e]}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"data"),s={};for(let e=0;e<r.length;e++){const t=this.parseTicker(r[e]);s[t.symbol]=t}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e),level:"3"},s=await this.publicGetMarketsMarketOrders(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrderBook(a,e,void 0,"bids","asks","price","size")}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"price"),s=this.safeString(e,"size"),a=t.symbol,n=this.safeString(e,"id"),o=this.safeString(e,"side"),c=this.safeString(e,"order_id");let h;const d=this.safeString(e,"fee");if(void 0!==d){const t=this.safeString(e,"fee_currency_code");h={cost:d,currency:this.safeCurrencyCode(t)}}return this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,id:n,order:c,type:void 0,side:o,takerOrMaker:void 0,price:r,amount:s,cost:void 0,fee:h},t)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.start_time=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.privateGetUserTrades(this.extend(a,r)),c=this.safeValue(n,"data",[]);return this.parseTrades(c,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.since=this.iso8601(t));const n=await this.publicGetMarketsMarketTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAccounts(e),i={info:t},r=this.safeValue(t,"data");for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"currency_code"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"available_balance"),n.used=this.safeString(t,"hold_balance"),n.total=this.safeString(t,"balance"),i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({fulfilled:"closed",canceled:"canceled",pending:"open",open:"open",partially_filled:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"price"),n=this.safeString(e,"size"),o=this.safeString(e,"size_filled"),c=this.parseOrderStatus(this.safeString(e,"status"));let h=this.safeString(e,"operation_type");void 0!==h&&(h=h.split("_"),h=h[0]);const d=this.safeString(e,"order_type"),u=this.safeValue(e,"post_only");return this.safeOrder2({id:this.safeString(e,"id"),clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,status:c,symbol:r,type:h,timeInForce:void 0,postOnly:u,side:d,price:a,stopPrice:void 0,cost:void 0,amount:n,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:e,lastTradeTimestamp:void 0,average:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={market:n.id,size:this.amountToPrecision(e,r),order_type:i};"limit"===t&&(s=this.priceToPrecision(e,s),o.price=s.toString()),o.operation_type=t+"_order";const c=await this.privatePostUserOrders(this.extend(o,a)),h=this.safeValue(c,"data",{});return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateDeleteUserOrdersId(this.extend(r,i)),a=this.market(t),n=this.safeValue(s,"data",{});return this.parseOrder(n,a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetUserOrdersId(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.market=a.id),void 0!==t&&(s.since_time=this.iso8601(t));const n=await this.privateGetUserOrders(this.extend(s,r)),o=this.safeValue(n,"data",[]),c=this.filterByArray(o,"status",["pending","open","partially_filled"],!1);return this.parseOrders(c,a,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id.toLowerCase()),void 0!==t&&(s.since_time=this.iso8601(t));const n=await this.privateGetAccountDeposits(this.extend(s,r)),o=this.safeValue(n,"data",[]);return o.reverse(),this.parseTransactions(o,a,void 0,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id.toLowerCase()),void 0!==t&&(s.since_time=this.iso8601(t));const n=await this.privateGetAccountWithdrawals(this.extend(s,r)),o=this.safeValue(n,"data",[]);return o.reverse(),this.parseTransactions(o,a,void 0,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a.id.toLowerCase(),address:i,amount:t};void 0!==r&&(n.tag=r);const o=await this.privatePostAccountWithdraw(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTransaction(c,a)}parseTransactionStatus(e){return this.safeString({completed:"ok",denied:"failed",approval_pending:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"tag"),a=this.safeString(e,"txid"),n=this.safeString(e,"currency_code"),o=this.safeCurrencyCode(n,t);let c=this.safeString(e,"type");"withdraw"===c&&(c="withdrawal");const h=this.parseTransactionStatus(this.safeString(e,"status")),d=this.safeString(e,"amount"),u=this.parseNumber(d),l=this.safeString(e,"fee");let f=0;return void 0!==l&&(f=this.parseNumber(l)),{info:e,id:i,txid:a,timestamp:void 0,datetime:void 0,address:r,tag:s,type:c,amount:u,currency:o,status:h,updated:void 0,fee:{currency:o,cost:f}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):a=this.json(o);const e=this.seconds().toString();let t=[e,i,n].join("|");a&&(t+="|"+a);const r=this.hmac(this.encode(t),this.encode(this.secret));s={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":e,"CF-API-SIGNATURE":r,"Content-Type":"application/json"}}return{url:this.urls.api+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,o,c,h,d,u){if(!(e<400))throw new(this.safeValue({401:a,429:n},e,s))(c)}}},70948:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InvalidOrder:n,OrderNotFound:o,RateLimitExceeded:c,InsufficientFunds:h,AuthenticationError:d}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460806-1c9f3f00-c616-11ea-8c46-a77018a8f3f4.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",fees:"https://coinmate.io/fees",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions","tradingPairs"]},private:{post:["balances","bitcoinCashWithdrawal","bitcoinCashDepositAddresses","bitcoinDepositAddresses","bitcoinWithdrawal","bitcoinWithdrawalFees","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","dashDepositAddresses","dashWithdrawal","ethereumWithdrawal","ethereumDepositAddresses","litecoinWithdrawal","litecoinDepositAddresses","openOrders","order","orderHistory","orderById","pusherAuth","redeemVoucher","replaceByBuyLimit","replaceByBuyInstant","replaceBySellLimit","replaceBySellInstant","rippleDepositAddresses","rippleWithdrawal","sellInstant","sellLimit","transactionHistory","traderFees","tradeHistory","transfer","transferHistory","unconfirmedBitcoinDeposits","unconfirmedBitcoinCashDeposits","unconfirmedDashDeposits","unconfirmedEthereumDeposits","unconfirmedLitecoinDeposits","unconfirmedRippleDeposits"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.0012,taker:.0025,tiers:{taker:[[0,.0025],[1e4,.0023],[1e5,.0021],[25e4,.002],[5e5,.0015],[1e6,.0013],[3e6,.001],[15e6,5e-4]],maker:[[0,.0012],[1e4,.0011],[1e6,.001],[25e4,8e-4],[5e5,5e-4],[1e6,3e-4],[3e6,2e-4],[15e6,0]]}},promotional:{trading:{maker:5e-4,taker:.0015,tiers:{taker:[[0,.0015],[1e4,.14/100],[1e5,.0013],[25e4,.0012],[5e5,.0011],[1e6,.001],[3e6,8e-4],[15e6,5e-4]],maker:[[0,5e-4],[1e4,4e-4],[1e6,3e-4],[25e4,2e-4],[5e5,0],[1e6,0],[3e6,0],[15e6,0]]}}}},options:{promotionalMarkets:["ETH/EUR","ETH/CZK","ETH/BTC","XRP/EUR","XRP/CZK","XRP/BTC","DASH/EUR","DASH/CZK","DASH/BTC","BCH/EUR","BCH/CZK","BCH/BTC"]},exceptions:{exact:{"No order with given ID":o},broad:{"Not enough account balance available":h,"Incorrect order ID":n,"Minimum Order Size ":n,"TOO MANY REQUESTS":c,"Access denied.":d}}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=this.safeValue(t,"data"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"name"),a=this.safeString(t,"firstCurrency"),n=this.safeString(t,"secondCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeValue(this.options,"promotionalMarkets",[]);let u=this.safeValue(this.fees,"trading");if(this.inArray(h,d)){const e=this.safeValue(this.fees,"promotional",{});u=this.safeValue(e,"trading",u)}r.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:void 0,maker:u.maker,taker:u.taker,info:t,precision:{price:this.safeInteger(t,"priceDecimals"),amount:this.safeInteger(t,"lotDecimals")},limits:{amount:{min:this.safeNumber(t,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i=this.safeValue(t,"data"),r={info:t},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeCurrencyCode(t),n=this.safeValue(i,t),o=this.account();o.free=this.safeString(n,"available"),o.used=this.safeString(n,"reserved"),o.total=this.safeString(n,"balance"),r[a]=o}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e),groupByPriceLimit:"False"},s=(await this.publicGetOrderBook(this.extend(r,i))).data,a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,a,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currencyPair:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data"),a=this.safeTimestamp(s,"timestamp"),n=this.safeNumber(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"amount"),quoteVolume:void 0,info:s}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={limit:1e3};if(void 0!==i&&(s.limit=i),void 0!==t&&(s.timestampFrom=t),void 0!==e){const t=this.currency(e);s.currency=t.id}const a=(await this.privatePostTransferHistory(this.extend(s,r))).data;return this.parseTransactions(a,void 0,t,i)}parseTransactionStatus(e){return this.safeString({COMPLETED:"ok"},e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeNumber(e,"amount"),s=this.safeNumber(e,"fee"),a=this.safeString(e,"txid"),n=this.safeString(e,"destination"),o=this.safeString(e,"destinationTag"),c=this.safeString(e,"amountCurrency"),h=this.safeCurrencyCode(c,t),d=this.safeStringLower(e,"transferType"),u=this.parseTransactionStatus(this.safeString(e,"transferStatus"));return{id:this.safeString(e,"transactionId"),timestamp:i,datetime:this.iso8601(i),currency:h,amount:r,type:d,txid:a,address:n,tag:o,status:u,fee:{cost:s,currency:h},info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=1e3);const s={limit:i};if(void 0!==e){const t=this.market(e);s.currencyPair=t.id}void 0!==t&&(s.timestampFrom=t);const a=(await this.privatePostTradeHistory(this.extend(s,r))).data;return this.parseTrades(a,void 0,t,i)}parseTrade(e,t){const i=this.safeString(e,"currencyPair");t=this.safeMarket(i,t,"_");const r=this.safeString(e,"price"),s=this.safeString(e,"amount"),a=this.safeStringLower2(e,"type","tradeType"),n=this.safeStringLower(e,"orderType"),o=this.safeString(e,"orderId"),c=this.safeString(e,"transactionId"),h=this.safeInteger2(e,"timestamp","createdTimestamp");let d;const u=this.safeString(e,"fee");void 0!==u&&(d={cost:u,currency:t.quote});let l=this.safeString(e,"feeType");return l="MAKER"===l?"maker":"taker",this.safeTrade({id:c,info:e,timestamp:h,datetime:this.iso8601(h),symbol:t.symbol,type:n,side:a,order:o,takerOrMaker:l,price:r,amount:s,cost:void 0,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id,minutesIntoHistory:10},n=await this.publicGetTransactions(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){const s=await this.privatePostOpenOrders(this.extend({},r));return this.parseOrders(s.data,void 0,t,i,{status:"open"})}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currencyPair:s.id};void 0!==i&&(n.limit=i);const o=await this.privatePostOrderHistory(this.extend(n,r));return this.parseOrders(o.data,s,t,i)}parseOrderStatus(e){return this.safeString({FILLED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED:"open",OPEN:"open"},e,e)}parseOrderType(e){return this.safeString({LIMIT:"limit",MARKET:"market"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"timestamp"),s=this.safeStringLower(e,"type"),a=this.safeString(e,"price"),n=this.safeString(e,"originalAmount"),o=this.safeString2(e,"remainingAmount","amount"),c=this.parseOrderStatus(this.safeString(e,"status")),h=this.parseOrderType(this.safeString(e,"orderTradeType")),d=this.safeString(e,"avgPrice"),u=this.safeString(e,"currencyPair"),l=this.safeSymbol(u,t,"_"),f=this.safeString(e,"clientOrderId"),p=this.safeNumber(e,"stopPrice");return this.safeOrder2({id:i,clientOrderId:f,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:l,type:h,timeInForce:void 0,postOnly:void 0,side:s,price:a,stopPrice:p,amount:n,cost:void 0,average:d,filled:void 0,remaining:o,status:c,trades:void 0,info:e,fee:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePost"+this.capitalize(i);const o={currencyPair:this.marketId(e)};"market"===t?("buy"===i?o.total=this.amountToPrecision(e,r):o.amount=this.amountToPrecision(e,r),n+="Instant"):(o.amount=this.amountToPrecision(e,r),o.price=this.priceToPrecision(e,s),n+=this.capitalize(t));const c=await this[n](this.extend(o,a));return{info:c,id:this.safeString(c,"data")}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};let s;t&&(s=this.market(t));const a=await this.privatePostOrderById(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n,s)}async cancelOrder(e,t,i={}){const r={orderId:e};return{info:await this.privatePostCancelOrderWithInfo(this.extend(r,i))}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.urlencode(this.extend({clientId:this.uid,nonce:e,publicKey:this.apiKey,signature:i.toUpperCase()},r)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"error"in o&&o.error){const e=this.safeString(o,"errorMessage"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(this.id+" "+this.json(o))}if(e>400){if(n){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,n,e),this.throwBroadlyMatchedException(this.exceptions.broad,n,e),new s(e)}throw new s(this.id+" "+n)}}}},69261:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,BadRequest:a,ExchangeError:n,ArgumentsRequired:o,OrderNotFound:c,OnMaintenance:h}=i(73449),d=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:void 0,fetchDepositAddresses:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/deposit_address/","account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},precision:{price:4,amount:4,cost:8},exceptions:{405:h,104:c,108:s,107:a},commonCurrencies:{SOC:"Soda Coin"}})}async fetchMarkets(e={}){const t=await this.publicGetTicker({currency:"all"}),i=[],r=this.safeCurrencyCode("krw"),s=Object.keys(t);for(let e=0;e<s.length;e++){const a=s[e],n=this.safeValue(t,a,{});if(void 0===this.safeValue(n,"currency"))continue;const o=this.safeCurrencyCode(a);i.push({info:n,id:a,symbol:o+"/"+r,base:o,quote:r,baseId:a,quoteId:"krw",type:"spot",spot:!0,active:!0})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostAccountBalance(e),i={info:t},r=this.omit(t,["errorCode","result","normalWallets"]),s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e],a=r[t],n=this.safeCurrencyCode(t),o=this.account();o.free=this.safeString(a,"avail"),o.total=this.safeString(a,"balance"),i[n]=o}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.market(e).id,format:"json"},s=await this.publicGetOrderbook(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,a,"bid","ask","price","qty")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(this.extend({currency:"all",format:"json"},t)),r={},s=Object.keys(i),a=this.safeTimestamp(i,"timestamp");for(let e=0;e<s.length;e++){const t=s[e];let n,o=t;if(t in this.markets_by_id){n=this.markets_by_id[t],o=n.symbol;const e=i[t];r[o]=this.parseTicker(e,n),r[o].timestamp=a}}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.id,format:"json"},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeNumber(e,"first"),s=this.safeNumber(e,"last"),a=this.safeNumber(e,"yesterday_last"),n=this.safeSymbol(void 0,t);return this.safeTicker({symbol:n,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:r,close:s,last:s,previousClose:a,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0,info:e},t)}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp"),r=void 0!==t?t.symbol:void 0,s=this.safeString(e,"is_ask");let a=this.safeString(e,"type");void 0!==s?"1"===s?a="sell":"0"===s&&(a="buy"):"ask"===a?a="sell":"bid"===a&&(a="buy");const n=this.safeString(e,"price"),o=this.safeString(e,"qty"),c=this.safeString(e,"orderId");let h,u=this.safeString(e,"fee");if(void 0!==u){u=d.stringAbs(u);let i,r=this.safeString(e,"feeRate");r=d.stringAbs(r),void 0!==t&&(i="sell"===a?t.quote:t.base),h={cost:u,currency:i,rate:r}}return this.safeTrade({id:this.safeString(e,"id"),info:e,timestamp:i,datetime:this.iso8601(i),order:c,symbol:r,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:void 0,fee:h},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.id,format:"json"},n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"completeOrders",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new n(this.id+" allows limit orders only");await this.loadMarkets();const o={price:s,currency:this.marketId(e),qty:r},c="privatePostOrder"+this.capitalize(t)+this.capitalize(i),h=await this[c](this.extend(o,a));return this.parseOrder(h)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e,currency:r.id},a=await this.privatePostOrderOrderInfo(this.extend(s,i)),n=this.safeValue(a,"info",{});return n.status=this.safeString(n,"status"),this.parseOrder(n,r)}parseOrderStatus(e){return this.safeString({live:"open",partially_filled:"open",filled:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeString(e,"price"),s=this.safeTimestamp(e,"timestamp");let a=this.safeString(e,"type");"ask"===a?a="sell":"bid"===a&&(a="buy");const n=this.safeString(e,"remainQty"),o=this.safeString(e,"qty");let c,h,u,l=this.safeString(e,"status");"live"===l&&void 0!==n&&void 0!==o&&d.stringLt(n,o)&&(l="canceled"),l=this.parseOrderStatus(l);const f=this.safeStringLower(e,"currency");let p;void 0!==f&&(f in this.markets_by_id?t=this.markets_by_id[f]:(h=this.safeCurrencyCode(f),u="KRW",c=h+"/"+u)),void 0===c&&void 0!==t&&(c=t.symbol,h=t.base,u=t.quote);const m=this.safeString(e,"fee");if(void 0!==m){const t="sell"===a?u:h;p={cost:m,rate:this.safeString(e,"feeRate"),currency:t}}return this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:c,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:r,stopPrice:void 0,cost:void 0,average:void 0,amount:o,filled:void 0,remaining:n,status:l,fee:p,trades:void 0},t)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" allows fetching closed orders with a specific symbol");await this.loadMarkets();const s=this.market(e),a={currency:s.id},o=await this.privatePostOrderLimitOrders(this.extend(a,r)),c=this.safeValue(o,"limitOrders",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currency:s.id},n=await this.privatePostOrderCompleteOrders(this.extend(a,r)),c=this.safeValue(n,"completeOrders",[]);return this.parseTrades(c,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");const r=this.safeNumber(i,"price"),s=this.safeNumber(i,"qty"),a=this.safeInteger(i,"is_ask");if(void 0===r||void 0===s||void 0===a)throw new o(this.id+" cancelOrder() requires {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument.");await this.loadMarkets();const n={order_id:e,price:r,qty:s,is_ask:a,currency:this.marketId(t)};return await this.privatePostOrderCancel(this.extend(n,i))}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privatePostAccountDepositAddress(t),r=this.safeValue(i,"walletAddress",{}),s=Object.keys(r),a={};for(let e=0;e<s.length;e++){const t=s[e],i=r[t];if(!i||"-1"===i)continue;const n=t.split("_"),o=this.safeValue(n,0),c=this.safeValue(n,1),h=this.safeCurrencyCode(o);let d=this.safeValue(a,h);void 0===d&&(d={currency:h,address:void 0,tag:void 0,info:i});const u=this.safeString(d,"address",i);this.checkAddress(u),d.address=u,d.info=u,"tag"!==c&&"memo"!==c||(d.tag=i,d.info=[u,i]),a[h]=d}return a}sign(e,t="public",i="GET",r={},s,a){const n=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));let c=this.urls.api+"/";if("public"===t)c+=n,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+n;const e=this.nonce().toString(),t=this.json(this.extend({access_token:this.apiKey,nonce:e},r)),i=this.stringToBase64(t);a=this.decode(i);const o=this.secret.toUpperCase();s={"Content-Type":"application/json","X-COINONE-PAYLOAD":i,"X-COINONE-SIGNATURE":this.hmac(i,this.encode(o),"sha512")}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0!==o){if(!("result"in o))throw new n(this.id+" "+a);if("success"!==o.result){const e=this.safeString(o,"errorCode"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}}}}},98974:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{cancelOrder:void 0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api",referral:"https://www.coinspot.com.au/register?code=PJURCU"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel","ro/my/balances","ro/my/balances/{cointype}","ro/my/deposits","ro/my/withdrawals","ro/my/transactions","ro/my/transactions/{cointype}","ro/my/transactions/open","ro/my/transactions/{cointype}/open","ro/my/sendreceive","ro/my/affiliatepayments","ro/my/referralpayments"]}},markets:{"BTC/AUD":{id:"btc",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"btc",quoteId:"aud",type:"spot",spot:!0},"ETH/AUD":{id:"eth",symbol:"ETH/AUD",base:"ETH",quote:"AUD",baseId:"eth",quoteId:"aud",type:"spot",spot:!0},"XRP/AUD":{id:"xrp",symbol:"XRP/AUD",base:"XRP",quote:"AUD",baseId:"xrp",quoteId:"aud",type:"spot",spot:!0},"LTC/AUD":{id:"ltc",symbol:"LTC/AUD",base:"LTC",quote:"AUD",baseId:"ltc",quoteId:"aud",type:"spot",spot:!0},"DOGE/AUD":{id:"doge",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD",baseId:"doge",quoteId:"aud",type:"spot",spot:!0},"RFOX/AUD":{id:"rfox",symbol:"RFOX/AUD",base:"RFOX",quote:"AUD",baseId:"rfox",quoteId:"aud",type:"spot",spot:!0},"POWR/AUD":{id:"powr",symbol:"POWR/AUD",base:"POWR",quote:"AUD",baseId:"powr",quoteId:"aud",type:"spot",spot:!0},"NEO/AUD":{id:"neo",symbol:"NEO/AUD",base:"NEO",quote:"AUD",baseId:"neo",quoteId:"aud",type:"spot",spot:!0},"TRX/AUD":{id:"trx",symbol:"TRX/AUD",base:"TRX",quote:"AUD",baseId:"trx",quoteId:"aud",type:"spot",spot:!0},"EOS/AUD":{id:"eos",symbol:"EOS/AUD",base:"EOS",quote:"AUD",baseId:"eos",quoteId:"aud",type:"spot",spot:!0},"XLM/AUD":{id:"xlm",symbol:"XLM/AUD",base:"XLM",quote:"AUD",baseId:"xlm",quoteId:"aud",type:"spot",spot:!0},"RHOC/AUD":{id:"rhoc",symbol:"RHOC/AUD",base:"RHOC",quote:"AUD",baseId:"rhoc",quoteId:"aud",type:"spot",spot:!0},"GAS/AUD":{id:"gas",symbol:"GAS/AUD",base:"GAS",quote:"AUD",baseId:"gas",quoteId:"aud",type:"spot",spot:!0}},commonCurrencies:{DRK:"DASH"},options:{fetchBalance:"private_post_my_balances"}})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(this.options,"fetchBalance","private_post_my_balances"),i=await this[t](e),r={info:i},s=this.safeValue2(i,"balance","balances");if(Array.isArray(s))for(let e=0;e<s.length;e++){const t=s[e],i=Object.keys(t);for(let e=0;e<i.length;e++){const s=i[e],a=t[s],n=this.safeCurrencyCode(s),o=this.account();o.total=this.safeString(a,"balance"),r[n]=o}}else{const e=Object.keys(s);for(let t=0;t<e.length;t++){const i=e[t],a=this.safeCurrencyCode(i),n=this.account();n.total=this.safeString(s,i),r[a]=n}}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={cointype:this.market(e).id},s=await this.privatePostOrders(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buyorders","sellorders","rate","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetLatest(t);let r=this.marketId(e);r=r.toLowerCase();const s=i.prices[r],a=this.milliseconds(),n=this.safeNumber(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeNumber(s,"bid"),bidVolume:void 0,ask:this.safeNumber(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={cointype:s.id},n=await this.privatePostOrdersHistory(this.extend(a,r)),o=this.safeValue(n,"orders",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"rate"),r=this.safeString(e,"amount"),s=this.safeNumber(e,"total"),a=this.safeInteger(e,"solddate"),n=this.safeString(e,"market"),o=this.safeSymbol(n,t,"/");return this.safeTrade({info:e,id:void 0,symbol:o,timestamp:a,datetime:this.iso8601(a),order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:i,amount:r,cost:s,fee:void 0},t)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const o="privatePostMy"+this.capitalize(i);if("market"===t)throw new s(this.id+" allows limit orders only");const c={cointype:this.marketId(e),amount:r,rate:a};return await this[o](this.extend(c,n))}async cancelOrder(e,t,i={}){const r=this.safeString(i,"side");if("buy"!==r&&"sell"!==r)throw new a(this.id+' cancelOrder() requires a side parameter, "buy" or "sell"');i=this.omit(i,"side");const s="privatePostMy"+this.capitalize(r)+"Cancel",n={id:e};return await this[s](this.extend(n,i))}sign(e,t="public",i="GET",r={},s,a){if(!this.apiKey)throw new n(this.id+" requires apiKey for all requests");const o=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();const e=this.nonce();a=this.json(this.extend({nonce:e},r)),s={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:o,method:i,body:a,headers:s}}}},57268:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,BadRequest:a,InvalidNonce:n,RequestTimeout:o,ExchangeNotAvailable:c,InsufficientFunds:h,OrderNotFound:d,InvalidOrder:u,DDoSProtection:l,AuthenticationError:f,BadSymbol:p,AccountSuspended:m}=i(73449),{TICK_SIZE:g}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:void 0,fetchTradingFees:void 0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1mo"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook","ohlcv","tradingFeeSchedules","withdrawalFees","currencyTransport","currenciesWithdrawalFees"]},trading:{get:["orderStatus","orderTrades","activeOrders","orderHistory","tradeHistory","tradingFee","tradeFee"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},precisionMode:g,fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-1e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{ACM:"Actinium",BCC:"BCH",BIT:"BitMoney",BULL:"BuySell",CLC:"CaluraCoin",CREDIT:"TerraCredit",DMS:"Documentchain",EGG:"NestEGG Coin",EPS:"Epanus",FUND:"FUNDChains",GHOST:"GHOSTPRISM",GTC:"GastroCoin",IQ:"IQ.Cash",ONE:"One Hundred Coin",PUT:"PutinCoin",SBTC:"SBTCT",SUPER:"SuperCoin",UNI:"Universe",YOYO:"YOYOW"},options:{networks:{ETH:"ERC20",TRX:"TRC20",BSC:"BEP20"},fetchOrdersMethod:"tradingGetOrderHistory",fetchClosedOrdersMethod:"tradingGetOrderHistory",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":a,"Mandatory parameter 'instrument' is missing.":a,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":a,"Failed to verify request signature.":f,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":n,"Market orders are not supported by the instrument currently.":u,"Parameter 'instrument' contains invalid value.":p,"Trading has been disabled for the account until the verification is passed. To initiate the verification process, please log into your account at crex24.com and proceed to 'My account' -> 'Verification'.":m},broad:{"try again later":c,"API Key":f,"Insufficient funds":h,"has been delisted.":p,"is currently suspended.":p,"Mandatory parameter":a,"can not trade":m}}})}nonce(){return this.milliseconds()}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=await this.publicGetTradingFeeSchedules(e),r=[];for(let e=0;e<t.length;e++){const s=t[e],a=this.safeString(s,"symbol"),n=this.safeString(s,"baseCurrency"),o=this.safeString(s,"quoteCurrency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=this.safeNumber(s,"tickSize"),l=this.safeNumber(s,"minPrice"),f=this.safeNumber(s,"maxPrice"),p=this.safeNumber(s,"minVolume"),m=this.safeNumber(s,"maxVolume"),g=this.safeNumber(s,"minQuoteVolume"),y=this.safeNumber(s,"maxQuoteVolume"),b={amount:p,price:u};let v,w;const k=this.safeString(s,"feeSchedule");for(let e=0;e<i.length;e++)if(this.safeString(i[e],"name")===k){const t=this.safeValue(i[e],"feeRates",[]);for(let e=0;e<t.length;e++)if(0===this.safeNumber(t[e],"volumeThreshold")){v=this.safeNumber(t[e],"maker"),w=this.safeNumber(t[e],"taker");break}break}const S="active"===s.state;r.push({id:a,symbol:d,base:c,quote:h,baseId:n,quoteId:o,info:s,type:"spot",spot:!0,active:S,precision:b,maker:v,taker:w,limits:{amount:{min:p,max:m},price:{min:l,max:f},cost:{min:g,max:y}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n=this.safeInteger(r,"withdrawalPrecision"),o=Math.pow(10,-n),c=this.safeValue(r,"BaseAddress"),h=r.depositsAllowed&&r.withdrawalsAllowed&&!r.isDelisted,d=r.isFiat?"fiat":"crypto";i[a]={id:s,code:a,address:c,info:r,type:d,name:this.safeString(r,"name"),active:h,fee:this.safeNumber(r,"flatWithdrawalFee"),precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},deposit:{min:this.safeNumber(r,"minDeposit"),max:void 0},withdraw:{min:this.safeNumber(r,"minWithdrawal"),max:this.safeNumber(r,"maxWithdrawal")}}}}return i}async fetchFundingFees(e,t={}){await this.loadMarkets();const i=await this.publicGetCurrenciesWithdrawalFees(t),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.safeValue(t,"fees");r[a]={};for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"feeCurrency"),s=this.safeCurrencyCode(i),o=this.safeNumber(t,"amount");r[a][s]=o}}return{withdraw:r,deposit:{},info:i}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.accountGetBalance(this.extend({},e)),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"available"),n.used=this.safeString(r,"reserved"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buyLevels","sellLevels","price","volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"instrument"),s=this.safeSymbol(r,t,"-"),a=this.safeNumber(e,"last");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:this.safeNumber(e,"percentChange"),average:void 0,baseVolume:this.safeNumber(e,"baseVolume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument:i.id},a=await this.publicGetTickers(this.extend(r,t));if(a.length<1)throw new s(this.id+" fetchTicker could not load quotes for symbol "+e);return this.parseTicker(a[0],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.instrument=t.join(",")}const r=await this.publicGetTickers(this.extend(i,t));return this.parseTickers(r,e)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeString(e,"price"),s=this.safeString(e,"volume"),a=this.safeString(e,"id"),n=this.safeString(e,"side"),o=this.safeString(e,"orderId"),c=this.safeString(e,"instrument"),h=this.safeSymbol(c,t,"-");let d;const u=this.safeString(e,"feeCurrency"),l=this.safeCurrencyCode(u),f=this.safeString(e,"fee");return void 0!==f&&(d={cost:f,currency:l}),this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,id:a,order:o,type:void 0,takerOrMaker:void 0,side:n,price:r,cost:void 0,amount:s,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetRecentTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={granularity:this.timeframes[t],instrument:a.id};void 0!==r&&(n.limit=r);const o=await this.publicGetOhlcv(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){const t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"instrument"),s=this.safeSymbol(r,t,"-"),a=this.parse8601(this.safeString(e,"timestamp")),n=this.safeNumber(e,"price"),o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"remainingVolume"),h=this.parse8601(this.safeString(e,"lastUpdate")),d=this.safeString(e,"id"),u=this.safeString(e,"type"),l=this.safeString(e,"side"),f=this.safeString(e,"timeInForce"),p=this.safeNumber(e,"stopPrice");return this.safeOrder({info:e,id:d,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:h,symbol:s,type:u,timeInForce:f,side:l,price:n,stopPrice:p,amount:o,cost:void 0,average:void 0,filled:void 0,remaining:c,status:i,fee:void 0,trades:void 0})}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={instrument:n.id,volume:this.amountToPrecision(e,r),type:t,side:i};let c=!1,h=!1;if("limit"===t?c=!0:"stopLimit"===t&&(c=!0,h=!0),c){if(void 0===s)throw new u(this.id+" createOrder() requires a price argument for a "+t+" order");o.price=this.priceToPrecision(e,s)}if(h){const i=this.safeNumber(a,"stopPrice");if(void 0===i)throw new u(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");o.stopPrice=this.priceToPrecision(e,i),a=this.omit(a,"stopPrice")}const d=await this.tradingPostPlaceOrder(this.extend(o,a));return this.parseOrder(d,n)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.tradingGetOrderStatus(this.extend(r,i));if(s.length<1)throw new d(this.id+" fetchOrder could not fetch order id "+e);return this.parseOrder(s[0])}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==t&&(s.from=this.ymdhms(t,"T")),void 0!==i&&(s.limit=i),void 0!==e){const t=this.market(e);s.instrument=t.id}const a=this.safeString(this.options,"fetchOrdersMethod","tradingGetOrderHistory"),n=await this[a](this.extend(s,r));return this.parseOrders(n)}async fetchOrdersByIds(e,t,i,r={}){await this.loadMarkets();const s={id:e.join(",")},a=await this.tradingGetOrderStatus(this.extend(s,r));return this.parseOrders(a,void 0,t,i)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id);const n=await this.tradingGetActiveOrders(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id),void 0!==t&&(a.from=this.ymdhms(t,"T")),void 0!==i&&(a.limit=i);const n=this.safeString(this.options,"fetchClosedOrdersMethod","tradingGetOrderHistory"),o=await this[n](this.extend(a,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={ids:[parseInt(e)]},s=await this.tradingPostCancelOrdersById(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){return await this.tradingPostCancelAllOrders(t)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id),void 0!==t&&(a.from=this.ymdhms(t,"T")),void 0!==i&&(a.limit=i);const n=await this.tradingGetTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchTransactions(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.currency(e),a.currency=s.id),void 0!==t&&(a.from=this.ymdhms(t,"T"));const n=await this.accountGetMoneyTransfers(this.extend(a,r));return this.parseTransactions(n,s,t,i)}async fetchDeposits(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"deposit"},r))}async fetchWithdrawals(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"withdrawal"},r))}parseTransactionStatus(e){return this.safeString({pending:"pending",success:"ok",failed:"failed"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"paymentId"),a=this.safeValue(e,"txId"),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n,t),c=this.safeString(e,"type"),h=this.parse8601(this.safeString(e,"createdAt")),d=this.parse8601(this.safeString(e,"processedAt")),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"amount"),f={cost:this.safeNumber(e,"fee"),currency:o};return{info:e,id:i,txid:a,timestamp:h,datetime:this.iso8601(h),address:r,tag:s,type:c,amount:l,currency:o,status:u,updated:d,fee:f}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.accountGetDepositAddress(this.extend(i,t)),s=this.safeString(r,"address"),a=this.safeString(r,"paymentId");return{currency:e,address:this.checkAddress(s),tag:a,network:void 0,info:r}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a.id,address:i,amount:parseFloat(this.currencyToPrecision(e,t)),feeCurrency:a.id};void 0!==r&&(n.paymentId=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeString(o,c,c),void 0!==c&&(n.transport=c,s=this.omit(s,"network"));const h=await this.accountPostWithdraw(this.extend(n,s));return this.parseTransaction(h)}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("trading"===t||"account"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret);let o=n+e;s={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":e},"POST"===i&&(s["Content-Type"]="application/json",o+=a=this.json(r)),s["X-CREX24-API-SIGN"]=this.hmac(this.encode(o),t,"sha512","base64")}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,n,h,d,u,p){if(!this.isJsonEncodedObject(h))return;if(e>=200&&e<300)return;const m=this.safeString(d,"errorDescription"),g=this.id+" "+h;if(this.throwExactlyMatchedException(this.exceptions.exact,m,g),this.throwBroadlyMatchedException(this.exceptions.broad,m,g),400===e)throw new a(g);if(401===e)throw new f(g);if(403===e)throw new f(g);if(429===e)throw new l(g);if(500===e)throw new s(g);if(503===e)throw new c(g);if(504===e)throw new o(g);throw new s(g)}}},49610:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:h,DDoSProtection:d,InvalidNonce:u,AuthenticationError:l,BadRequest:f}=i(73449),{TICK_SIZE:p}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"currencycom",name:"Currency.com",countries:["BY"],rateLimit:500,certified:!0,pro:!0,version:"v1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/83718672-36745c00-a63e-11ea-81a9-677b1f789a4d.jpg",api:{public:"https://api-adapter.backend.currency.com/api",private:"https://api-adapter.backend.currency.com/api"},test:{public:"https://demo-api-adapter.backend.currency.com/api",private:"https://demo-api-adapter.backend.currency.com/api"},www:"https://www.currency.com",referral:"https://currency.com/trading/signup?c=362jaimv&pid=referral",doc:["https://currency.com/api"],fees:"https://currency.com/fees-charges"},api:{public:{get:["time","exchangeInfo","depth","aggTrades","klines","ticker/24hr"]},private:{get:["leverageSettings","openOrders","tradingPositions","account","myTrades"],post:["order","updateTradingPosition","updateTradingOrder","closeTradingPosition"],delete:["order"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")}},precisionMode:p,options:{defaultTimeInForce:"GTC",warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT",stop:"RESULT"}},exceptions:{broad:{"FIELD_VALIDATION_ERROR Cancel is available only for LIMIT order":h,"API key does not exist":l,"Order would trigger immediately.":h,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n},exact:{"-1000":n,"-1013":h,"-1021":u,"-1022":l,"-1100":h,"-1104":s,"-1025":l,"-1128":f,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l}},commonCurrencies:{ACN:"Accenture",BNS:"Bank of Nova Scotia",CAR:"Avis Budget Group Inc",EDU:"New Oriental Education & Technology Group Inc",ETN:"Eaton",FOX:"Fox Corporation",IQ:"iQIYI",PLAY:"Dave & Buster's Entertainment"}})}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async loadTimeDifference(e={}){const t=await this.publicGetTime(e),i=this.milliseconds();return this.options.timeDifference=parseInt(i-t.serverTime),this.options.timeDifference}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e);this.options.adjustForTimeDifference&&await this.loadTimeDifference();const i=this.safeValue(t,"symbols"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeString(t,"baseAsset"),n=this.safeString(t,"quoteAsset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let h=o+"/"+c;s.indexOf("/")>=0&&(h=s);const d=this.safeValue(t,"filters",[]),u=this.indexBy(d,"filterType"),l={amount:1/Math.pow(1,this.safeInteger(t,"baseAssetPrecision")),price:this.safeNumber(t,"tickSize")},f="TRADING"===this.safeString(t,"status");let p=this.safeStringLower(t,"marketType");"leverage"===p&&(p="margin");const m={id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:p,spot:"spot"===p,margin:"margin"===p,info:t,active:f,precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:-Math.log10(l.amount),max:void 0}}},g=this.safeNumber2(t,"exchangeFee","tradingFee"),y=this.safeNumber(t,"makerFee",g),b=this.safeNumber(t,"takerFee",g);if(void 0!==y&&(m.maker=y/100),void 0!==b&&(m.taker=b/100),"PRICE_FILTER"in u){const e=this.safeValue(u,"PRICE_FILTER",{});m.precision.price=this.safeNumber(e,"tickSize"),m.limits.price={min:this.safeNumber(e,"minPrice"),max:void 0};const t=this.safeNumber(e,"maxPrice");void 0!==t&&t>0&&(m.limits.price.max=t)}if("LOT_SIZE"in u){const e=this.safeValue(u,"LOT_SIZE",{});m.precision.amount=this.safeNumber(e,"stepSize"),m.limits.amount={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MARKET_LOT_SIZE"in u){const e=this.safeValue(u,"MARKET_LOT_SIZE",{});m.limits.market={min:this.safeNumber(e,"minQty"),max:this.safeNumber(e,"maxQty")}}if("MIN_NOTIONAL"in u){const e=this.safeValue(u,"MIN_NOTIONAL",{});m.limits.cost.min=this.safeNumber(e,"minNotional")}r.push(m)}return r}async fetchAccounts(e={}){const t=await this.privateGetAccount(e),i=this.safeValue(t,"balances",[]),r=[];for(let e=0;e<i.length;e++){const s=i[e],a=this.safeInteger(s,"accountId"),n=this.safeString(s,"asset"),o=this.safeCurrencyCode(n);r.push({id:a,type:void 0,currency:o,info:t})}return r}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return{info:t,maker:this.safeNumber(t,"makerCommission"),taker:this.safeNumber(t,"takerCommission")}}parseBalanceResponse(e){const t={info:e},i=this.safeValue(e,"balances",[]);for(let e=0;e<i.length;e++){const r=i[e],s=this.safeString(r,"asset"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"free"),n.used=this.safeString(r,"locked"),t[a]=n}return this.parseBalance(t)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e);return this.parseBalanceResponse(t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetDepth(this.extend(r,i)),a=this.parseOrderBook(s,e);return a.nonce=this.safeInteger(s,"lastUpdateId"),a}parseTicker(e,t){const i=this.safeInteger(e,"closeTime"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"lastPrice"),n=this.safeNumber(e,"openPrice");let o;return void 0!==n&&void 0!==a&&(o=this.sum(n,a)/2),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPrice"),low:this.safeNumber(e,"lowPrice"),bid:this.safeNumber(e,"bidPrice"),bidVolume:this.safeNumber(e,"bidQty"),ask:this.safeNumber(e,"askPrice"),askVolume:this.safeNumber(e,"askQty"),vwap:this.safeNumber(e,"weightedAvgPrice"),open:n,close:a,last:a,previousClose:this.safeNumber(e,"prevClosePrice"),change:this.safeNumber(e,"priceChange"),percentage:this.safeNumber(e,"priceChangePercent"),average:o,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker24hr(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24hr(t);return this.parseTickers(i,e)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,interval:this.timeframes[t]};void 0!==i&&(n.startTime=i),void 0!==r&&(n.limit=r);const o=await this.publicGetKlines(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger2(e,"T","time"),r=this.safeString2(e,"p","price"),s=this.safeString2(e,"q","qty"),a=this.safeString2(e,"a","id");let n;const o=this.safeString(e,"orderId");let c,h;"m"in e?n=e.m?"sell":"buy":"isBuyerMaker"in e?n=e.isBuyerMaker?"sell":"buy":"isBuyer"in e&&(n=e.isBuyer?"buy":"sell"),"commission"in e&&(c={cost:this.safeString(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))}),"isMaker"in e&&(h=e.isMaker?"maker":"taker");const d=this.safeString(e,"symbol"),u=this.safeSymbol(d,t);return this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:a,order:o,type:void 0,takerOrMaker:h,side:n,price:r,amount:s,cost:void 0,fee:c},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetAggTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"/");let a;"time"in e?a=this.safeInteger(e,"time"):"transactTime"in e&&(a=this.safeInteger(e,"transactTime"));const n=this.safeNumber(e,"price"),o=this.safeNumber(e,"origQty"),c=this.safeNumber(e,"executedQty"),h=this.safeNumber(e,"cummulativeQuoteQty"),d=this.safeString(e,"orderId"),u=this.safeStringLower(e,"type"),l=this.safeStringLower(e,"side");let f;const p=this.safeValue(e,"fills");void 0!==p&&(f=this.parseTrades(p,t));const m=this.safeString(e,"timeInForce");return this.safeOrder({info:e,id:d,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:u,timeInForce:m,side:l,price:n,stopPrice:void 0,amount:o,cost:h,average:void 0,filled:c,remaining:void 0,status:i,fee:void 0,trades:f})}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e);let c;if(o.margin&&(c=this.safeInteger(n,"accountId"),void 0===c))throw new a(this.id+" createOrder() requires an accountId parameter for "+o.type+" market "+e);const h=t.toUpperCase(),d=this.safeValue(this.options.newOrderRespType,t,"RESULT"),u={symbol:o.id,quantity:this.amountToPrecision(e,r),type:h,side:i.toUpperCase(),newOrderRespType:d};"LIMIT"===h?(u.price=this.priceToPrecision(e,s),u.timeInForce=this.options.defaultTimeInForce):"STOP"===h&&(u.price=this.priceToPrecision(e,s));const l=await this.privatePostOrder(this.extend(u,n));return this.parseOrder(l,o)}async fetchOpenOrders(e,t,i,r={}){let a;await this.loadMarkets();const n={};if(void 0!==e)a=this.market(e),n.symbol=a.id;else if(this.options.warnOnFetchOpenOrdersWithoutSymbol){const e=this.symbols.length,t=parseInt(e/2);throw new s(this.id+" fetchOpenOrders() WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+t.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}const o=await this.privateGetOpenOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeValue(i,"origClientOrderId"),n={symbol:r.id};void 0===s?n.orderId=e:n.origClientOrderId=s;const o=await this.privateDeleteOrder(this.extend(n,i));return this.parseOrder(o,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetMyTrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.version+"/"+e;if("historicalTrades"===e&&(s={"X-MBX-APIKEY":this.apiKey}),"private"===t){this.checkRequiredCredentials();let e=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},r));e+="&signature="+this.hmac(this.encode(e),this.encode(this.secret)),s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i?n+="?"+e:(a=e,s["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,u){if(418===e||429===e)throw new d(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new h(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new h(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new h(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(void 0===o)return;const l=this.safeString(o,"code");if(void 0!==l&&"0"!==l){const e=this.id+" "+this.json(o);this.throwExactlyMatchedException(this.exceptions.exact,l,e);const t=this.safeString(o,"msg");throw this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new s(e)}}}},34237:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InsufficientFunds:a,BadRequest:n,BadSymbol:o,InvalidOrder:c,AuthenticationError:h,ArgumentsRequired:d,OrderNotFound:u,ExchangeNotAvailable:l}=i(73449),{TICK_SIZE:f}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"delta",name:"Delta Exchange",countries:["VC"],rateLimit:300,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","1d":"1d","7d":"7d","1w":"1w","2w":"2w","1M":"30d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/99450025-3be60a00-2931-11eb-9302-f4fd8d8589aa.jpg",test:{public:"https://testnet-api.delta.exchange",private:"https://testnet-api.delta.exchange"},api:{public:"https://api.delta.exchange",private:"https://api.delta.exchange"},www:"https://www.delta.exchange",doc:["https://docs.delta.exchange"],fees:"https://www.delta.exchange/fees",referral:"https://www.delta.exchange/app/signup/?code=IULYNB"},api:{public:{get:["assets","settings","indices","products","tickers","tickers/{symbol}","l2orderbook/{symbol}","trades/{symbol}","history/candles","history/sparklines"]},private:{get:["orders","orders/leverage","positions","positions/margined","orders/history","fills","fills/history/download/csv","wallet/balances","wallet/transactions","wallet/transactions/download","deposits/address"],post:["orders","orders/batch","orders/leverage","positions/change_margin"],put:["orders","orders/batch"],delete:["orders","orders/all","orders/batch"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0015,maker:.001,tiers:{taker:[[0,.0015],[100,.0013],[250,.0013],[1e3,.001],[5e3,9e-4],[1e4,75e-5],[2e4,65e-5]],maker:[[0,.001],[100,.001],[250,9e-4],[1e3,75e-5],[5e3,6e-4],[1e4,5e-4],[2e4,5e-4]]}}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{insufficient_margin:a,order_size_exceed_available:c,risk_limits_breached:n,invalid_contract:o,immediate_liquidation:c,out_of_bankruptcy:c,self_matching_disrupted_post_only:c,immediate_execution_post_only:c,bad_schema:n,invalid_api_key:h,invalid_signature:h,open_order_not_found:u,unavailable:l},broad:{}}})}async fetchTime(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{});return this.safeIntegerProduct(i,"server_time",.001)}async fetchStatus(e={}){const t=await this.publicGetSettings(e),i=this.safeValue(t,"result",{}),r="true"===this.safeValue(i,"under_maintenance")?"maintenance":"ok",s=this.safeIntegerProduct(i,"server_time",.001);return this.status=this.extend(this.status,{status:r,updated:s}),this.status}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeInteger(t,"id"),n=this.safeCurrencyCode(s),o=this.safeString(t,"deposit_status"),c="enabled"===this.safeString(t,"withdrawal_status"),h="enabled"===o&&c,d=this.safeInteger(t,"precision");r[n]={id:s,numericId:a,code:n,name:this.safeString(t,"name"),info:t,active:h,fee:this.safeNumber(t,"base_withdrawal_fee"),precision:1/Math.pow(10,d),limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(t,"min_withdrawal_amount"),max:void 0}}}}return r}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);return(void 0===this.safeValue(this.options,"currenciesByNumericId")||e)&&(this.options.currenciesByNumericId=this.indexBy(this.currencies,"numericId")),(void 0===this.safeValue(this.options,"marketsByNumericId")||e)&&(this.options.marketsByNumericId=this.indexBy(this.markets,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=this.safeValue(t,"result",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e];let s=this.safeString(t,"contract_type");const a=this.safeValue(t,"quoting_asset",{}),n=this.safeValue(t,"underlying_asset",{}),o=this.safeString(n,"symbol"),c=this.safeString(a,"symbol"),h=this.safeString(t,"symbol"),d=this.safeInteger(t,"id"),u=this.safeCurrencyCode(o),l=this.safeCurrencyCode(c);let f=h,p=!1,m=!1,g=!1;"perpetual_futures"===s?(s="swap",p=!0,m=!1,g=!1,h.indexOf("_")<0&&(f=u+"/"+l)):"call_options"===s||"put_options"===s||"move_options"===s?(s="option",p=!1,g=!0,m=!1):"futures"===s&&(s="future",p=!1,g=!1,m=!0);const y={amount:1,price:this.safeNumber(t,"tick_size")},b={amount:{min:1,max:this.safeNumber(t,"position_size_limit")},price:{min:y.price,max:void 0},cost:{min:this.safeNumber(t,"min_size"),max:void 0}},v="live"===this.safeString(t,"state"),w=this.safeNumber(t,"maker_commission_rate"),k=this.safeNumber(t,"taker_commission_rate");r.push({id:h,numericId:d,symbol:f,base:u,quote:l,baseId:o,quoteId:c,type:s,spot:!1,option:g,swap:p,future:m,maker:w,taker:k,precision:y,limits:b,info:t,active:v})}return r}parseTicker(e,t){const i=this.safeIntegerProduct(e,"timestamp",.001),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"close"),n=this.safeNumber(e,"open"),o=this.safeNumber(e,"volume"),c=this.safeNumber(e,"turnover"),h=this.vwap(o,c);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:h,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTickersSymbol(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.safeValue(i,"result",[]),s={};for(let e=0;e<r.length;e++){const t=this.parseTicker(r[e]);s[t.symbol]=t}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetL2orderbookSymbol(this.extend(r,i)),a=this.safeValue(s,"result",{});return this.parseOrderBook(a,e,void 0,"buy","sell","price","size")}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_id");let s=this.parse8601(this.safeString(e,"created_at"));s=this.safeIntegerProduct(e,"timestamp",.001,s);const a=this.safeString(e,"price"),n=this.safeString(e,"size"),o=this.safeValue(e,"product",{}),c=this.safeString(o,"symbol"),h=this.safeSymbol(c,t),d=this.safeString(e,"seller_role");let u=this.safeString(e,"side");void 0===u&&("taker"===d?u="sell":"maker"===d&&(u="buy"));const l=this.safeString(e,"role"),f=this.safeValue(e,"meta_data",{});let p=this.safeString(f,"order_type");void 0!==p&&(p=p.replace("_order",""));const m=this.safeString(e,"commission");let g;if(void 0!==m){const e=this.safeValue(o,"settling_asset",{}),t=this.safeString(e,"symbol");g={cost:m,currency:this.safeCurrencyCode(t)}}return this.safeTrade({id:i,order:r,timestamp:s,datetime:this.iso8601(s),symbol:h,type:p,side:u,price:a,amount:n,cost:void 0,takerOrMaker:l,fee:g,info:e},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetTradesSymbol(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,resolution:this.timeframes[t]},o=this.parseTimeframe(t);if(r=r||2e3,void 0===i){const e=this.seconds();n.end=e,n.start=e-r*o}else{const e=parseInt(i/1e3);n.start=e,n.end=this.sum(e,r*o)}const c=await this.publicGetHistoryCandles(this.extend(n,s)),h=this.safeValue(c,"result",[]);return this.parseOHLCVs(h,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i=this.safeValue(t,"result",[]),r={info:t},s=this.safeValue(this.options,"currenciesByNumericId",{});for(let e=0;e<i.length;e++){const t=i[e],a=this.safeString(t,"asset_id"),n=this.safeValue(s,a),o=void 0===n?a:n.code,c=this.account();c.total=this.safeString(t,"balance"),c.free=this.safeString(t,"available_balance"),r[o]=c}return this.parseBalance(r)}async fetchPosition(e,t){await this.loadMarkets();const i={product_id:this.market(e).numericId},r=await this.privateGetPositions(this.extend(i,t));return this.safeValue(r,"result",{})}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPositionsMargined(t);return this.safeValue(i,"result",[])}parseOrderStatus(e){return this.safeString({open:"open",pending:"open",closed:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"client_order_id"),s=this.parse8601(this.safeString(e,"created_at")),a=this.safeString(e,"product_id"),n=this.safeValue(this.options,"marketsByNumericId",{}),o=void 0===(t=this.safeValue(n,a,t))?a:t.symbol,c=this.parseOrderStatus(this.safeString(e,"state")),h=this.safeString(e,"side");let d=this.safeString(e,"order_type");d=d.replace("_order","");const u=this.safeString(e,"limit_price"),l=this.safeString(e,"size"),f=this.safeString(e,"unfilled_size"),p=this.safeString(e,"average_fill_price");let m;const g=this.safeString(e,"paid_commission");if(void 0!==g){let e;if(void 0!==t){const i=this.safeValue(t.info,"settling_asset",{}),r=this.safeString(i,"symbol");e=this.safeCurrencyCode(r)}m={cost:g,currency:e}}return this.safeOrder2({info:e,id:i,clientOrderId:r,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:o,type:d,side:h,price:u,amount:l,cost:void 0,average:p,filled:void 0,remaining:f,status:c,fee:m,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=t+"_order",o=this.market(e),c={product_id:o.numericId,size:this.amountToPrecision(e,r),side:i,order_type:n};"limit"===t&&(c.limit_price=this.priceToPrecision(e,s));const h=this.safeString2(a,"clientOrderId","client_order_id");a=this.omit(a,["clientOrderId","client_order_id"]),void 0!==h&&(c.client_order_id=h);const d=await this.privatePostOrders(this.extend(c,a)),u=this.safeValue(d,"result",{});return this.parseOrder(u,o)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t),c={id:parseInt(e),product_id:o.numericId};void 0!==s&&(c.size=parseInt(this.amountToPrecision(t,s))),void 0!==a&&(c.limit_price=this.priceToPrecision(t,a));const h=await this.privatePutOrders(this.extend(c,n)),d=this.safeValue(h,"result");return this.parseOrder(d,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new d(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:parseInt(e),product_id:r.numericId},a=await this.privateDeleteOrders(this.extend(s,i)),n=this.safeValue(a,"result");return this.parseOrder(n,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new d(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i={product_id:this.market(e).numericId};return this.privateDeleteOrdersAll(this.extend(i,t))}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrdersHistory",e,t,i,r)}async fetchOrdersWithMethod(e,t,i,r,s={}){await this.loadMarkets();const a={};let n;void 0!==t&&(n=this.market(t),a.product_ids=n.numericId),void 0!==i&&(a.start_time=i.toString()+"000"),void 0!==r&&(a.page_size=r);const o=await this[e](this.extend(a,s)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,n,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.product_ids=a.numericId),void 0!==t&&(s.start_time=t.toString()+"000"),void 0!==i&&(s.page_size=i);const n=await this.privateGetFills(this.extend(s,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,a,t,i)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.asset_id=a.numericId),void 0!==i&&(s.page_size=i);const n=await this.privateGetWalletTransactions(this.extend(s,r)),o=this.safeValue(n,"result",[]);return this.parseLedger(o,a,t,i)}parseLedgerEntryType(e){return this.safeString({pnl:"pnl",deposit:"transaction",withdrawal:"transaction",commission:"fee",conversion:"trade",referral_bonus:"referral",commission_rebate:"rebate"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"uuid");let r;const s=this.safeValue(e,"meta_data",{}),a=this.safeString(s,"transaction_id");let n=this.safeString(e,"transaction_type");"deposit"===n||"commission_rebate"===n||"referral_bonus"===n||"pnl"===n||"withdrawal_cancellation"===n||"promo_credit"===n?r="in":"withdrawal"!==n&&"commission"!==n&&"conversion"!==n&&"perpetual_futures_funding"!==n||(r="out"),n=this.parseLedgerEntryType(n);const o=this.safeInteger(e,"asset_id"),c=this.safeValue(this.options,"currenciesByNumericId"),h=void 0===(t=this.safeValue(c,o,t))?void 0:t.code,d=this.safeNumber(e,"amount"),u=this.parse8601(this.safeString(e,"created_at")),l=this.safeNumber(e,"balance");return{info:e,id:i,direction:r,account:void 0,referenceId:a,referenceAccount:void 0,type:n,currency:h,amount:d,before:Math.max(0,l-d),after:l,status:"ok",timestamp:u,datetime:this.iso8601(u),fee:void 0}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={asset_symbol:this.currency(e).id},r=await this.privateGetDepositsAddress(this.extend(i,t)),s=this.safeValue(r,"result",{}),a=this.safeString(s,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,network:void 0,info:r}}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls.api[t]+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.seconds().toString();s={"api-key":this.apiKey,timestamp:e};let t=i+e+n;if("GET"===i||"DELETE"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);t+=e,o+=e}}else t+=a=this.json(c),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret));s.signature=r}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeValue(o,"error",{}),u=this.safeString(d,"code");if(void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new s(e)}}}},41680:(e,t,i)=>{"use strict";const r=i(48819),{TICK_SIZE:s}=i(62115),{AuthenticationError:a,ExchangeError:n,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:h,OrderNotFound:d,DDoSProtection:u,NotSupported:l,ExchangeNotAvailable:f,InsufficientFunds:p,BadRequest:m,InvalidAddress:g,OnMaintenance:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"deribit",name:"Deribit",countries:["NL"],version:"v2",userAgent:void 0,rateLimit:50,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchIndexOHLCV:!1,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchOrderTrades:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","3m":"3","5m":"5","10m":"10","15m":"15","30m":"30","1h":"60","2h":"120","3h":"180","6h":"360","12h":"720","1d":"1D"},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com/v2","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:{url:"https://www.deribit.com/reg-1189.4038",discount:.1}},api:{public:{get:{auth:1,exchange_token:1,fork_token:1,set_heartbeat:1,disable_heartbeat:1,get_time:1,hello:1,test:1,subscribe:1,unsubscribe:1,unsubscribe_all:1,get_announcements:1,get_book_summary_by_currency:1,get_book_summary_by_instrument:1,get_contract_size:1,get_currencies:1,get_delivery_prices:1,get_funding_chart_data:1,get_funding_rate_history:1,get_funding_rate_value:1,get_historical_volatility:1,get_index:1,get_index_price:1,get_index_price_names:1,get_instrument:1,get_instruments:1,get_last_settlements_by_currency:1,get_last_settlements_by_instrument:1,get_last_trades_by_currency:1,get_last_trades_by_currency_and_time:1,get_last_trades_by_instrument:1,get_last_trades_by_instrument_and_time:1,get_mark_price_history:1,get_order_book:1,get_trade_volumes:1,get_tradingview_chart_data:1,get_volatility_index_data:1,ticker:1}},private:{get:{logout:1,enable_cancel_on_disconnect:1,disable_cancel_on_disconnect:1,get_cancel_on_disconnect:1,subscribe:1,unsubscribe:1,unsubscribe_all:1,change_api_key_name:1,change_scope_in_api_key:1,change_subaccount_name:1,create_api_key:1,create_subaccount:1,disable_api_key:1,disable_tfa_for_subaccount:1,enable_affiliate_program:1,enable_api_key:1,get_access_log:1,get_account_summary:1,get_affiliate_program_info:1,get_email_language:1,get_new_announcements:1,get_portfolio_margins:1,get_position:1,get_positions:1,get_subaccounts:1,get_subaccounts_details:1,get_transaction_log:1,list_api_keys:1,remove_api_key:1,remove_subaccount:1,reset_api_key:1,set_announcement_as_read:1,set_api_key_as_default:1,set_email_for_subaccount:1,set_email_language:1,set_password_for_subaccount:1,toggle_notifications_from_subaccount:1,toggle_subaccount_login:1,execute_block_trade:4,get_block_trade:1,get_last_block_trades_by_currency:1,invalidate_block_trade_signature:1,verify_block_trade:4,buy:4,sell:4,edit:4,edit_by_label:4,cancel:4,cancel_all:4,cancel_all_by_currency:4,cancel_all_by_instrument:4,cancel_by_label:4,close_position:4,get_margins:1,get_mmp_config:1,get_open_orders_by_currency:1,get_open_orders_by_instrument:1,get_order_history_by_currency:1,get_order_history_by_instrument:1,get_order_margin_by_ids:1,get_order_state:1,get_stop_order_history:1,get_trigger_order_history:1,get_user_trades_by_currency:1,get_user_trades_by_currency_and_time:1,get_user_trades_by_instrument:1,get_user_trades_by_instrument_and_time:1,get_user_trades_by_order:1,reset_mmp:1,set_mmp_config:1,get_settlement_history_by_instrument:1,get_settlement_history_by_currency:1,cancel_transfer_by_id:1,cancel_withdrawal:1,create_deposit_address:1,get_current_deposit_address:1,get_deposits:1,get_transfers:1,get_withdrawals:1,submit_transfer_to_subaccount:1,submit_transfer_to_user:1,withdraw:1}}},exceptions:{9999:c,1e4:a,10001:n,10002:h,10003:h,10004:d,10005:h,10006:h,10007:h,10008:h,10009:p,10010:d,10011:h,10012:h,10013:c,10014:c,10015:c,10016:c,10017:c,10018:c,10019:c,10020:n,10021:h,10022:h,10023:h,10024:h,10025:h,10026:h,10027:h,10028:u,10029:d,10030:n,10031:n,10032:h,10033:l,10034:h,10035:h,10036:h,10040:f,10041:y,10043:h,10044:h,10045:h,10046:h,10047:u,10048:n,11008:h,11029:m,11030:n,11031:n,11035:u,11036:h,11037:m,11038:h,11039:h,11041:h,11042:c,11043:m,11044:h,11045:m,11046:m,11047:m,11048:n,11049:m,11050:m,11051:y,11052:n,11053:n,11090:g,11091:g,11092:g,11093:u,11094:n,11095:n,11096:n,12e3:a,12001:u,12002:n,12998:a,12003:a,12004:a,12005:a,12100:n,12999:a,13e3:a,13001:a,13002:c,13003:a,13004:a,13005:a,13006:a,13007:a,13008:n,13009:a,13010:m,13011:m,13012:c,13013:m,13014:m,13015:m,13016:m,13017:n,13018:n,13019:n,13020:n,13021:c,13025:n,"-32602":m,"-32601":m,"-32700":m,"-32000":m},precisionMode:s,options:{code:"BTC",fetchBalance:{code:"BTC"}}})}async fetchTime(e={}){const t=await this.publicGetGetTime(e);return this.safeInteger(t,"result")}codeFromOptions(e,t={}){const i=this.safeValue(this.options,"code","BTC"),r=this.safeValue(this.options,e,{}),s=this.safeValue(r,"code",i);return this.safeValue(t,"code",s)}async fetchStatus(e={}){return await this.publicGetTest(this.extend({},e)),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchMarkets(e={}){const t=await this.publicGetGetCurrencies(e),i=this.safeValue(t,"result",[]),r=[];for(let t=0;t<i.length;t++){const s={currency:this.safeString(i[t],"currency")},a=await this.publicGetGetInstruments(this.extend(s,e)),n=this.safeValue(a,"result",[]);for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"instrument_name"),s=this.safeString(t,"base_currency"),a=this.safeString(t,"quote_currency"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),h=this.safeString(t,"kind"),d="future"===h,u="option"===h,l=this.safeValue(t,"is_active"),f=this.safeNumber(t,"min_trade_amount"),p=this.safeNumber(t,"tick_size"),m={amount:f,price:p};r.push({id:i,symbol:i,base:o,quote:c,active:l,precision:m,taker:this.safeNumber(t,"taker_commission"),maker:this.safeNumber(t,"maker_commission"),limits:{amount:{min:f,max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}},type:h,spot:!1,future:d,option:u,info:t})}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=this.codeFromOptions("fetchBalance",e),i={currency:this.currency(t).id},r=await this.privateGetGetAccountSummary(this.extend(i,e)),s={info:r},a=this.safeValue(r,"result",{}),n=this.safeString(a,"currency"),o=this.safeCurrencyCode(n),c=this.account();return c.free=this.safeString(a,"available_funds"),c.used=this.safeString(a,"maintenance_margin"),c.total=this.safeString(a,"equity"),s[o]=c,this.parseBalance(s)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetCreateDepositAddress(this.extend(i,t)),s=this.safeValue(r,"result",{}),a=this.safeString(s,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetGetCurrentDepositAddress(this.extend(i,t)),s=this.safeValue(r,"result",{}),a=this.safeString(s,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,network:void 0,info:r}}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","creation_timestamp"),r=this.safeString(e,"instrument_name"),s=this.safeSymbol(r,t),a=this.safeNumber2(e,"last_price","last"),n=this.safeValue(e,"stats",e);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(n,"high","max_price"),low:this.safeNumber2(n,"low","min_price"),bid:this.safeNumber2(e,"best_bid_price","bid_price"),bidVolume:this.safeNumber(e,"best_bid_amount"),ask:this.safeNumber2(e,"best_ask_price","ask_price"),askVolume:this.safeNumber(e,"best_ask_amount"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(n,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument_name:i.id},s=await this.publicGetTicker(this.extend(r,t)),a=this.safeValue(s,"result");return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchTickers",t),r={currency:this.currency(i).id},s=await this.publicGetGetBookSummaryByCurrency(this.extend(r,t)),a=this.safeValue(s,"result",[]),n={};for(let e=0;e<a.length;e++){const t=this.parseTicker(a[e]);n[t.symbol]=t}return this.filterByArray(n,"symbol",e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={instrument_name:a.id,resolution:this.timeframes[t]},c=this.parseTimeframe(t),h=this.milliseconds();if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a since argument or a limit argument");n.start_timestamp=h-(r-1)*c*1e3,n.end_timestamp=h}else n.start_timestamp=i,n.end_timestamp=void 0===r?h:this.sum(i,r*c*1e3);const d=await this.publicGetGetTradingviewChartData(this.extend(n,s)),u=this.safeValue(d,"result",{}),l=this.convertTradingViewToOHLCV(u,"ticks","open","high","low","close","volume",!0);return this.parseOHLCVs(l,a,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeString(e,"instrument_name"),s=this.safeSymbol(r,t),a=this.safeInteger(e,"timestamp"),n=this.safeString(e,"direction"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),h=this.safeString(e,"liquidity");let d;void 0!==h&&(d="M"===h?"maker":"taker");const u=this.safeString(e,"fee");let l;if(void 0!==u){const t=this.safeString(e,"fee_currency");l={cost:u,currency:this.safeCurrencyCode(t)}}return this.safeTrade({id:i,info:e,timestamp:a,datetime:this.iso8601(a),symbol:s,order:this.safeString(e,"order_id"),type:this.safeString(e,"order_type"),side:n,takerOrMaker:d,price:o,amount:c,cost:void 0,fee:l},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument_name:s.id,include_old:!0},n=void 0===t?"publicGetGetLastTradesByInstrument":"publicGetGetLastTradesByInstrumentAndTime";void 0!==t&&(a.start_timestamp=t),void 0!==i&&(a.count=i);const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"result",{}),h=this.safeValue(c,"trades",[]);return this.parseTrades(h,s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument_name:this.market(e).id};void 0!==t&&(r.depth=t);const s=await this.publicGetGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"result",{}),n=this.safeInteger(a,"timestamp"),o=this.safeInteger(a,"change_id"),c=this.parseOrderBook(a,e,n);return c.nonce=o,c}parseOrderStatus(e){return this.safeString({open:"open",cancelled:"canceled",filled:"closed",rejected:"rejected",untriggered:"open"},e,e)}parseTimeInForce(e){return this.safeString({good_til_cancelled:"GTC",fill_or_kill:"FOK",immediate_or_cancel:"IOC"},e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp"),r=this.safeInteger(e,"last_update_timestamp"),s=this.safeString(e,"order_id"),a=this.safeString(e,"price"),n=this.safeString(e,"average_price"),o=this.safeString(e,"amount"),c=this.safeString(e,"filled_amount");let h;void 0!==c&&b.stringGt(c,"0")&&(h=r);const d=this.parseOrderStatus(this.safeString(e,"order_state")),u=this.safeString(e,"instrument_name");t=this.safeMarket(u,t);const l=this.safeStringLower(e,"direction");let f,p=this.safeString(e,"commission");void 0!==p&&(p=b.stringAbs(p),f={cost:p,currency:t.base});const m=this.safeString(e,"order_type");let g=this.safeValue(e,"trades");void 0!==g&&(g=this.parseTrades(g,t));const y=this.parseTimeInForce(this.safeString(e,"time_in_force")),v=this.safeValue(e,"stop_price"),w=this.safeValue(e,"post_only");return this.safeOrder2({info:e,id:s,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:h,symbol:t.symbol,type:m,timeInForce:y,postOnly:w,side:l,price:a,stopPrice:v,amount:o,cost:void 0,average:n,filled:c,remaining:void 0,status:d,fee:f,trades:g},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetGetOrderState(this.extend(r,i)),a=this.safeValue(s,"result");return this.parseOrder(a)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),c={instrument_name:n.id,amount:this.amountToPrecision(e,r),type:t};let h=!1,d=!1;if("limit"===t?h=!0:"stop_limit"===t&&(h=!0,d=!0),h){if(void 0===s)throw new o(this.id+" createOrder() requires a price argument for a "+t+" order");c.price=this.priceToPrecision(e,s)}if(d){const i=this.safeNumber2(a,"stop_price","stopPrice");if(void 0===i)throw new o(this.id+" createOrder() requires a stop_price or stopPrice param for a "+t+" order");c.stop_price=this.priceToPrecision(e,i),a=this.omit(a,["stop_price","stopPrice"])}const u="privateGet"+this.capitalize(i),l=await this[u](this.extend(c,a)),f=this.safeValue(l,"result",{}),p=this.safeValue(f,"order"),m=this.safeValue(f,"trades",[]);return p.trades=m,this.parseOrder(p,n)}async editOrder(e,t,i,r,s,a,n={}){if(void 0===s)throw new o(this.id+" editOrder() requires an amount argument");if(void 0===a)throw new o(this.id+" editOrder() requires a price argument");await this.loadMarkets();const c={order_id:e,amount:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a)},h=await this.privateGetEdit(this.extend(c,n)),d=this.safeValue(h,"result",{}),u=this.safeValue(d,"order"),l=this.safeValue(d,"trades",[]);return u.trades=l,this.parseOrder(u)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetCancel(this.extend(r,i)),a=this.safeValue(s,"result",{});return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;if(void 0===e)r="privateGetCancelAll";else{r="privateGetCancelAllByInstrument";const t=this.market(e);i.instrument_name=t.id}return await this[r](this.extend(i,t))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n;if(void 0===e){const e=this.codeFromOptions("fetchOpenOrders",r),t=this.currency(e);s.currency=t.id,n="privateGetGetOpenOrdersByCurrency"}else a=this.market(e),s.instrument_name=a.id,n="privateGetGetOpenOrdersByInstrument";const o=await this[n](this.extend(s,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n;if(void 0===e){const e=this.codeFromOptions("fetchClosedOrders",r),t=this.currency(e);s.currency=t.id,n="privateGetGetOrderHistoryByCurrency"}else a=this.market(e),s.instrument_name=a.id,n="privateGetGetOrderHistoryByInstrument";const o=await this[n](this.extend(s,r)),c=this.safeValue(o,"result",[]);return this.parseOrders(c,a,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={order_id:e},n=await this.privateGetGetUserTradesByOrder(this.extend(a,s)),o=this.safeValue(n,"result",{});return this.parseTrades(o,void 0,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={include_old:!0};let a,n;if(void 0===e){const e=this.codeFromOptions("fetchMyTrades",r),i=this.currency(e);s.currency=i.id,void 0===t?n="privateGetGetUserTradesByCurrency":(n="privateGetGetUserTradesByCurrencyAndTime",s.start_timestamp=t)}else a=this.market(e),s.instrument_name=a.id,void 0===t?n="privateGetGetUserTradesByInstrument":(n="privateGetGetUserTradesByInstrumentAndTime",s.start_timestamp=t);void 0!==i&&(s.count=i);const o=await this[n](this.extend(s,r)),c=this.safeValue(o,"result",{}),h=this.safeValue(c,"trades",[]);return this.parseTrades(h,a,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={currency:s.id};void 0!==i&&(a.count=i);const n=await this.privateGetGetDeposits(this.extend(a,r)),c=this.safeValue(n,"result",{}),h=this.safeValue(c,"data",[]);return this.parseTransactions(h,s,t,i,r)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s=this.currency(e),a={currency:s.id};void 0!==i&&(a.count=i);const n=await this.privateGetGetWithdrawals(this.extend(a,r)),c=this.safeValue(n,"result",{}),h=this.safeValue(c,"data",[]);return this.parseTransactions(h,s,t,i,r)}parseTransactionStatus(e){return this.safeString({completed:"ok",unconfirmed:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s=this.safeInteger2(e,"created_timestamp","received_timestamp"),a=this.safeInteger(e,"updated_timestamp"),n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address"),c=this.safeNumber(e,"fee");let h,d="deposit";return void 0!==c&&(d="withdrawal",h={cost:c,currency:r}),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"transaction_id"),timestamp:s,datetime:this.iso8601(s),address:o,addressTo:o,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:d,amount:this.safeNumber(e,"amount"),currency:r,status:n,updated:a,fee:h}}async fetchPosition(e,t={}){await this.loadMarkets();const i={instrument_name:this.market(e).id},r=await this.privateGetGetPosition(this.extend(i,t));return this.safeValue(r,"result")}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.codeFromOptions("fetchPositions",t),r={currency:this.currency(i).id},s=await this.privateGetGetPositions(this.extend(r,t));return this.safeValue(s,"result",[])}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,address:i,amount:t};void 0!==this.twofa&&(a.tfa=this.oath());const n=await this.privateGetWithdraw(this.extend(a,s));return{info:n,id:this.safeString(n,"id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+t+"/"+e;if("public"===t&&Object.keys(r).length&&(n+="?"+this.urlencode(r)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.milliseconds().toString(),a="";Object.keys(r).length&&(n+="?"+this.urlencode(r));const o=t+"\n"+e+"\n"+i+"\n"+n+"\n"+a+"\n",c=this.hmac(this.encode(o),this.encode(this.secret),"sha256");s={Authorization:"deri-hmac-sha256 id="+this.apiKey+",ts="+t+",sig="+c+",nonce="+e}}return{url:this.urls.api+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(!o)return;const d=this.safeValue(o,"error");if(void 0!==d){const e=this.safeString(d,"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}}}},6755:(e,t,i)=>{"use strict";const r=i(48819),{AccountSuspended:s,BadRequest:a,BadResponse:n,NetworkError:o,DDoSProtection:c,AuthenticationError:h,PermissionDenied:d,ExchangeError:u,InsufficientFunds:l,InvalidOrder:f,InvalidNonce:p,OrderNotFound:m,InvalidAddress:g,RateLimitExceeded:y,BadSymbol:b}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"digifinex",name:"DigiFinex",countries:["SG"],version:"v3",rateLimit:900,has:{cancelOrder:!0,cancelOrders:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D","1w":"1W"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443315-01283a00-c5fe-11ea-8628-c2a0feaf07ac.jpg",api:"https://openapi.digifinex.com",www:"https://www.digifinex.com",doc:["https://docs.digifinex.com"],fees:"https://digifinex.zendesk.com/hc/en-us/articles/360000328422-Fee-Structure-on-DigiFinex",referral:"https://www.digifinex.com/en-ww/from/DhOzBg?channelCode=ljaUPp"},api:{public:{get:["{market}/symbols","kline","margin/currencies","margin/symbols","markets","order_book","ping","spot/symbols","time","trades","trades/symbols","ticker","currencies"]},private:{get:["{market}/financelog","{market}/mytrades","{market}/order","{market}/order/detail","{market}/order/current","{market}/order/history","margin/assets","margin/financelog","margin/mytrades","margin/order","margin/order/current","margin/order/history","margin/positions","otc/financelog","spot/assets","spot/financelog","spot/mytrades","spot/order","spot/order/current","spot/order/history","deposit/address","deposit/history","withdraw/history"],post:["{market}/order/cancel","{market}/order/new","{market}/order/batch_new","margin/order/cancel","margin/order/new","margin/position/close","spot/order/cancel","spot/order/new","transfer","withdraw/new","withdraw/cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{exact:{10001:[a,"Wrong request method, please check it's a GET ot POST request"],10002:[h,"Invalid ApiKey"],10003:[h,"Sign doesn't match"],10004:[a,"Illegal request parameters"],10005:[c,"Request frequency exceeds the limit"],10006:[d,"Unauthorized to execute this request"],10007:[d,"IP address Unauthorized"],10008:[p,"Timestamp for this request is invalid, timestamp must within 1 minute"],10009:[o,"Unexist endpoint, please check endpoint URL"],10011:[s,"ApiKey expired. Please go to client side to re-create an ApiKey"],20001:[d,"Trade is not open for this trading pair"],20002:[d,"Trade of this trading pair is suspended"],20003:[f,"Invalid price or amount"],20007:[f,"Price precision error"],20008:[f,"Amount precision error"],20009:[f,"Amount is less than the minimum requirement"],20010:[f,"Cash Amount is less than the minimum requirement"],20011:[l,"Insufficient balance"],20012:[a,"Invalid trade type, valid value: buy/sell)"],20013:[f,"No order info found"],20014:[a,"Invalid date, Valid format: 2018-07-25)"],20015:[a,"Date exceeds the limit"],20018:[d,"Your trading rights have been banned by the system"],20019:[b,'Wrong trading pair symbol. Correct format:"usdt_btc". Quote asset is in the front'],20020:[c,"You have violated the API operation trading rules and temporarily forbid trading. At present, we have certain restrictions on the user's transaction rate and withdrawal rate."],5e4:[u,"Exception error"],20021:[a,"Invalid currency"],20022:[a,"The ending timestamp must be larger than the starting timestamp"],20023:[a,"Invalid transfer type"],20024:[a,"Invalid amount"],20025:[a,"This currency is not transferable at the moment"],20026:[l,"Transfer amount exceed your balance"],20027:[d,"Abnormal account status"],20028:[d,"Blacklist for transfer"],20029:[d,"Transfer amount exceed your daily limit"],20030:[a,"You have no position on this trading pair"],20032:[d,"Withdrawal limited"],20033:[a,"Wrong Withdrawal ID"],20034:[d,"Withdrawal service of this crypto has been closed"],20035:[d,"Withdrawal limit"],20036:[u,"Withdrawal cancellation failed"],20037:[g,"The withdrawal address, Tag or chain type is not included in the withdrawal management list"],20038:[g,"The withdrawal address is not on the white list"],20039:[u,"Can't be canceled in current status"],20040:[y,"Withdraw too frequently; limitation: 3 times a minute, 100 times a day"],20041:[d,"Beyond the daily withdrawal limit"],20042:[b,"Current trading pair does not support API trading"]},broad:{}},options:{defaultType:"spot",types:["spot","margin","otc"]},commonCurrencies:{BHT:"Black House Test",EPS:"Epanus",MBN:"Mobilian Coin",TEL:"TEL666"}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.safeValue(t,"deposit_status",1),o=this.safeValue(t,"withdraw_status",1),c=n&&o,h=this.safeNumber(t,"withdraw_fee_rate");a in r?Array.isArray(r[a].info)?r[a].info.push(t):r[a].info=[r[a].info,t]:r[a]={id:s,code:a,info:t,type:void 0,name:void 0,active:c,fee:h,precision:8,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(t,"min_withdraw_amount"),max:void 0}}}}return r}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeString(t,"method","fetch_markets_v2");return await this[i](e)}async fetchMarketsV2(e={}){const t=await this.publicGetTradesSymbols(e),i=this.safeValue(t,"symbol_list",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeString(t,"base_asset"),n=this.safeString(t,"quote_asset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d={amount:this.safeInteger(t,"amount_precision"),price:this.safeInteger(t,"price_precision")},u={amount:{min:this.safeNumber(t,"minimum_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minimum_value"),max:void 0}},l=!!this.safeInteger(t,"is_allow",1),f="spot",p="spot"===f,m="margin"===f;r.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,active:l,type:f,spot:p,margin:m,precision:d,limits:u,info:t})}return r}async fetchMarketsV1(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"market"),[a,n]=s.split("_"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d={amount:this.safeInteger(t,"volume_precision"),price:this.safeInteger(t,"price_precision")},u={amount:{min:this.safeNumber(t,"min_volume"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"min_amount"),max:void 0}},l=void 0;r.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,active:l,precision:d,limits:u,info:t})}return r}async fetchBalance(e={}){const t=this.safeString(this.options,"defaultType","spot"),i=this.safeString(e,"type",t);e=this.omit(e,"type");const r="privateGet"+this.capitalize(i)+"Assets",s=await this[r](e),a=this.safeValue(s,"list",[]),n={info:s};for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i),s=this.account();s.used=this.safeString(t,"frozen"),s.free=this.safeString(t,"free"),s.total=this.safeString(t,"total"),n[r]=s}return this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeTimestamp(s,"date");return this.parseOrderBook(s,e,a)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=this.safeValue(i,"ticker",[]),a=this.safeInteger(i,"date");for(let e=0;e<s.length;e++){const t=this.extend({date:a},s[e]),i=this.parseTicker(t);r[i.symbol]=i}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker(this.extend(r,t)),a=this.safeInteger(s,"date"),n=this.safeValue(s,"ticker",[]),o=this.safeValue(n,0,{}),c=this.extend({date:a},o);return this.parseTicker(c,i)}parseTicker(e,t){const i=this.safeStringUpper(e,"symbol"),r=this.safeSymbol(i,t,"_"),s=this.safeTimestamp(e,"date"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"change");return{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"base_vol"),info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_id"),s=this.safeTimestamp2(e,"date","timestamp"),a=this.safeString2(e,"type","side"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.safeString(e,"symbol"),h=this.safeSymbol(c,t,"_"),d=this.safeValue(e,"is_maker"),u=this.safeString(e,"fee");let l;if(void 0!==u){const t=this.safeString(e,"fee_currency");l={cost:u,currency:this.safeCurrencyCode(t)}}return this.safeTrade({id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:h,type:void 0,order:r,side:a,price:n,amount:o,cost:void 0,takerOrMaker:d,fee:l},t)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeTimestamp(t,"server_time")}async fetchStatus(e={}){return await this.publicGetPing(e),this.status=this.extend(this.status,{status:"ok",updated:this.milliseconds()}),this.status}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};if(void 0!==i){const e=parseInt(i/1e3);if(n.start_time=e,void 0!==r){const i=this.parseTimeframe(t);n.end_time=this.sum(e,r*i)}}else if(void 0!==r){const e=this.seconds(),i=this.parseTimeframe(t);n.startTime=this.sum(e,-r*i)}const o=await this.publicGetKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeString(this.options,"defaultType","spot"),c=this.safeString(a,"type",o);a=this.omit(a,"type");const h={market:c,symbol:n.id,amount:this.amountToPrecision(e,r)};let d="";"market"===t?d="_market":h.price=this.priceToPrecision(e,s),h.type=i+d;const u=await this.privatePostMarketOrderNew(this.extend(h,a)),l=this.parseOrder(u,n);return this.extend(l,{symbol:e,side:i,type:t,amount:r,price:s})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const a={market:s,order_id:e},n=await this.privatePostMarketOrderCancel(this.extend(a,i));if(1!==this.safeValue(n,"success",[]).length)throw new m(this.id+" cancelOrder "+e+" not found");return n}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const a={market:s,order_id:e.join(",")},n=await this.privatePostCancelOrder(this.extend(a,i));if(this.safeValue(n,"success",[]).length<1)throw new m(this.id+" cancelOrders error");return n}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeTimestamp(e,"created_date"),s=this.safeTimestamp(e,"finished_date");let a,n=this.safeString(e,"type");if(void 0!==n){const e=n.split("_");e.length>1?(n=e[0],a=e[1]):a="limit"}const o=this.parseOrderStatus(this.safeString(e,"status")),c=this.safeString(e,"symbol"),h=this.safeSymbol(c,t,"_"),d=this.safeString(e,"amount"),u=this.safeString(e,"executed_amount"),l=this.safeString(e,"price"),f=this.safeString(e,"avg_price");return this.safeOrder2({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:h,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:l,stopPrice:void 0,amount:d,filled:u,remaining:void 0,cost:void 0,average:f,status:o,fee:void 0,trades:void 0},t)}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);let n;r=this.omit(r,"type"),await this.loadMarkets();const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id);const c=await this.privateGetMarketOrderCurrent(this.extend(o,r)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,n,t,i)}async fetchOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);let n;r=this.omit(r,"type"),await this.loadMarkets();const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id),void 0!==t&&(o.start_time=parseInt(t/1e3)),void 0!==i&&(o.limit=i);const c=await this.privateGetMarketOrderHistory(this.extend(o,r)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,n,t,i)}async fetchOrder(e,t,i={}){const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);let a;i=this.omit(i,"type"),await this.loadMarkets(),void 0!==t&&(a=this.market(t));const n={market:s,order_id:e},o=await this.privateGetMarketOrder(this.extend(n,i)),c=this.safeValue(o,"data",[]),h=this.safeValue(c,0);if(void 0===h)throw new m(this.id+" fetchOrder() order "+e+" not found");return this.parseOrder(h,a)}async fetchMyTrades(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);let n;r=this.omit(r,"type"),await this.loadMarkets();const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id),void 0!==t&&(o.start_time=parseInt(t/1e3)),void 0!==i&&(o.limit=i);const c=await this.privateGetMarketMytrades(this.extend(o,r)),h=this.safeValue(c,"list",[]);return this.parseTrades(h,n,t,i)}parseLedgerEntryType(e){return this.safeString({},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"num"),r=this.parseLedgerEntryType(this.safeString(e,"type")),s=this.safeCurrencyCode(this.safeString(e,"currency_mark"),t),a=this.safeTimestamp(e,"time");return{info:e,id:i,direction:void 0,account:void 0,referenceId:void 0,referenceAccount:void 0,type:r,currency:s,amount:void 0,before:void 0,after:this.safeNumber(e,"balance"),status:"ok",timestamp:a,datetime:this.iso8601(a),fee:void 0}}async fetchLedger(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();const n={market:a};let o;void 0!==e&&(o=this.currency(e),n.currency_mark=o.id),void 0!==t&&(n.start_time=parseInt(t/1e3)),void 0!==i&&(n.limit=i);const c=await this.privateGetMarketFinancelog(this.extend(n,r)),h=this.safeValue(c,"data",{}),d=this.safeValue(h,"finance",[]);return this.parseLedger(d,o,t,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"addressTag"),s=this.safeStringUpper(e,"currency");return{info:e,currency:this.safeCurrencyCode(s),address:i,tag:r,network:void 0}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",[]),a=this.parseDepositAddresses(s),n=this.safeValue(a,e);if(void 0===n)throw new g(this.id+" fetchDepositAddress did not return an address for "+e+" - create the deposit address in the user settings on the exchange website first.");return n}async fetchTransactionsByType(e,t,i,r,s={}){let a;await this.loadMarkets();const n={};void 0!==t&&(a=this.currency(t),n.currency=a.id),void 0!==r&&(n.size=Math.min(500,r));const o="deposit"===e?"privateGetDepositHistory":"privateGetWithdrawHistory",c=await this[o](this.extend(n,s)),h=this.safeValue(c,"data",[]);return this.parseTransactions(h,a,i,r,{type:e})}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdrawal",e,t,i,r)}parseTransactionStatus(e){return this.safeString({0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","withdraw_id"),r=this.safeString(e,"address");let s=this.safeString(e,"memo");void 0!==s&&s.length<1&&(s=void 0);const a=this.safeString(e,"hash"),n=this.safeStringUpper(e,"currency"),o=this.safeCurrencyCode(n,t),c=this.parse8601(this.safeString(e,"created_date")),h=this.parse8601(this.safeString(e,"finished_date")),d=this.parseTransactionStatus(this.safeString(e,"state")),u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"fee");let f;return void 0!==l&&(f={currency:o,cost:l}),{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:void 0,amount:u,currency:o,status:d,updated:h,fee:f}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={address:i,amount:parseFloat(t),currency:a.id};void 0!==r&&(n.memo=r);const o=await this.privatePostWithdrawNew(this.extend(n,s));return this.parseTransaction(o,a)}sign(e,t="public",i="GET",r={},s,a){const n=this.version;let o=this.urls.api+"/"+n+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e)),h=this.urlencode(this.keysort(c));if("private"===t){const e=this.nonce().toString(),t=h,r=this.hmac(this.encode(t),this.encode(this.secret));"GET"===i?h&&(o+="?"+h):"POST"===i&&(s={"Content-Type":"application/x-www-form-urlencoded"},h&&(a=h)),s={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":r,"ACCESS-TIMESTAMP":e}}else h&&(o+="?"+h);return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(!o)return;const d=this.safeString(o,"code");if("0"===d||"200"===d)return;const l=this.id+" "+a;if(void 0===d)throw new n(l);const f=[u,l],[p,m]=this.safeValue(this.exceptions.exact,d,f);throw new p(m)}}},68170:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,BadSymbol:n}=i(73449),o=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"eqonex",name:"EQONEX",countries:["US","SG"],rateLimit:10,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:void 0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":1,"5m":2,"15m":3,"1h":4,"6h":5,"1d":6,"7d":7},urls:{logo:"https://user-images.githubusercontent.com/51840849/122649755-1a076c80-d138-11eb-8f2e-9a9166a03d79.jpg",test:{public:"https://testnet.eqonex.com/api",private:"https://testnet.eqonex.com/api"},api:{public:"https://eqonex.com/api",private:"https://eqonex.com/api"},www:"https://eqonex.com",doc:["https://developer.eqonex.com"],referral:"https://eqonex.com?referredByCode=zpa8kij4ouvBFup3"},api:{public:{get:["health","getInstruments","getInstrumentPairs","getOrderBook","getRisk","getTradeHistory","getFundingRateHistory","getChart","getExchangeInfo"]},private:{post:["logon","order","cancelOrder","cancelReplaceOrder","getOrder","getOrders","getOrderStatus","getOrderHistory","userTrades","getPositions","cancelAll","getUserHistory","getRisk","getDepositAddresses","getDepositHistory","getWithdrawRequests","sendWithdrawRequest","getTransferHistory"]}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},exceptions:{broad:{"symbol not found":n}}})}async fetchMarkets(e={}){const t=await this.publicGetGetInstrumentPairs(this.extend({verbose:!0},e)),i=this.safeValue(t,"instrumentPairs",[]),r=[];for(let e=0;e<i.length;e++){const t=this.parseMarket(i[e]);r.push(t)}return r}parseMarket(e){const t=this.safeString(e,"instrumentId"),i=this.safeString(e,"symbol"),r=this.safeString(e,"assetType"),s="PAIR"===r,a="PERPETUAL_SWAP"===r,n=a?"swap":"spot",o=this.safeString(e,"currency"),c=this.safeString(e,"contAmtCurr"),h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c);return{id:t,uppercaseId:i,symbol:a?i:h+"/"+d,base:h,quote:d,baseId:o,quoteId:c,type:n,spot:s,swap:a,active:1===this.safeInteger(e,"securityStatus"),precision:{amount:this.safeInteger(e,"quantity_scale"),price:this.safeInteger(e,"price_scale")},limits:{amount:{min:this.safeNumber(e,"minTradeVol"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e}}async fetchCurrencies(e={}){const t=await this.publicGetGetInstruments(e),i={},r=this.safeValue(t,"instruments",[]);for(let e=0;e<r.length;e++){const t=this.parseCurrency(r[e]);i[t.code]=t}return i}parseCurrency(e){const t=this.safeString(e,0),i=this.safeString(e,1),r=this.safeCurrencyCode(i),s=this.safeInteger(e,2),a=this.safeInteger(e,3),n=Math.max(s,a),o=this.safeString(e,6),c=1===this.safeInteger(e,4);return{id:t,info:e,uppercaseId:i,code:r,name:o,precision:n,fee:this.safeNumber(e,5),active:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pairId:parseInt(a.id),timespan:this.timeframes[t]};void 0!==r&&(n.limit=r);const o=await this.publicGetGetChart(this.extend(n,s)),c=this.safeValue(o,"chart",[]);return this.parseOHLCVs(c,a,t,i,r)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.parseNumber(this.convertFromScale(this.safeString(e,1),t.precision.price)),this.parseNumber(this.convertFromScale(this.safeString(e,2),t.precision.price)),this.parseNumber(this.convertFromScale(this.safeString(e,3),t.precision.price)),this.parseNumber(this.convertFromScale(this.safeString(e,4),t.precision.price)),this.parseNumber(this.convertFromScale(this.safeString(e,5),t.precision.amount))]}parseBidAsk(e,t=0,i=1,r){if(void 0===r)throw new a(this.id+" parseBidAsk() requires a market argument");const s=this.safeString(e,t),n=this.safeString(e,i);return[this.parseNumber(this.convertFromScale(s,r.precision.price)),this.parseNumber(this.convertFromScale(n,r.precision.amount))]}parseOrderBook(e,t,i,r="bids",s="asks",a=0,n=1,o){const c={timestamp:i,datetime:this.iso8601(i),nonce:void 0},h=[r,s];for(let t=0;t<h.length;t++){const i=h[t],r=[],s=this.safeValue(e,i);for(let e=0;e<s.length;e++)r.push(this.parseBidAsk(s[e],a,n,o));c[i]=r}return c[r]=this.sortBy(c[r],0,!0),c[s]=this.sortBy(c[s],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pairId:parseInt(r.id)},a=await this.publicGetGetOrderBook(this.extend(s,i));return this.parseOrderBook(a,e,void 0,"bids","asks",0,1,r)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pairId:parseInt(s.id)},n=await this.publicGetGetTradeHistory(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i,r)}parseTrade(e,t){let i,r,s,a,n,c,h,d,u;if(Array.isArray(e)){i=this.safeString(e,3),c=this.convertFromScale(this.safeString(e,0),t.precision.price),h=this.convertFromScale(this.safeString(e,1),t.precision.amount),r=this.toMilliseconds(this.safeString(e,2));const s=this.safeInteger(e,4);1===s?n="buy":2===s&&(n="sell")}else{i=this.safeString(e,"execId"),r=this.safeInteger(e,"time");const l=this.safeString(e,"symbol");u=this.safeSymbol(l,t),s=this.safeString(e,"orderId"),n=this.safeStringLower(e,"side"),a=this.parseOrderType(this.safeString(e,"ordType")),c=this.safeString(e,"lastPx"),h=this.safeString(e,"qty");let f=this.safeString(e,"commission");if(void 0!==f){f=o.stringNeg(f);const t=this.safeString(e,"commCurrency");d={cost:f,currency:this.safeCurrencyCode(t)}}}return void 0===u&&void 0!==t&&(u=t.symbol),this.safeTrade({info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:u,order:s,type:a,side:n,takerOrMaker:void 0,price:c,amount:h,cost:void 0,fee:d},t)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetPositions(e),i=this.safeValue(t,"positions",[]),r={info:t};for(let e=0;e<i.length;e++){const t=i[e];if("ASSET"===this.safeString(t,"assetType")){const e=this.safeString(t,"symbol"),i=this.safeCurrencyCode(e),s=this.safeString(t,"quantity"),a=this.safeString(t,"availableQuantity"),n=this.safeInteger(t,"quantity_scale"),o=this.account();o.free=this.convertFromScale(a,n),o.total=this.convertFromScale(s,n),r[i]=o}}return this.parseBalance(r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c="buy"===i?1:2,h=this.getScale(r),d={instrumentId:parseInt(o.id),symbol:o.uppercaseId,side:c,quantity:this.convertToScale(this.numberToString(r),h),quantity_scale:h};if("market"===t)d.ordType=1;else if("limit"===t){d.ordType=2;const e=this.getScale(s);d.price=this.convertToScale(this.numberToString(s),e),d.priceScale=e}else{const e=this.safeNumber2(n,"stopPrice","stopPx");if(n=this.omit(n,["stopPrice","stopPx"]),void 0===e){if("stop"===t){if(void 0===s)throw new a(this.id+" createOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+t+" orders");d.ordType=3,d.stopPx=this.convertToScale(this.numberToString(s),this.getScale(s))}else if("stop limit"===t)throw new a(this.id+" createOrder() requires a stopPrice parameter or a stopPx parameter for "+t+" orders")}else if("stop"===t)d.ordType=3,d.stopPx=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===t){d.ordType=4;const t=this.getScale(s),i=this.getScale(e);d.price_scale=t,d.stopPx_scale=i,d.stopPx=this.convertToScale(this.numberToString(e),i),d.price=this.convertToScale(this.numberToString(s),t)}}const u=await this.privatePostOrder(this.extend(d,n));return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={origOrderId:parseInt(e),instrumentId:parseInt(r.id)},n=await this.privatePostCancelOrder(this.extend(s,i));return this.parseOrder(n,r)}async editOrder(e,t,i,r,s,n,o={}){await this.loadMarkets();const c=this.market(t),h="buy"===r?1:2,d=this.getScale(s),u={origOrderId:e,instrumentId:parseInt(c.id),symbol:c.uppercaseId,side:h,quantity:this.convertToScale(this.numberToString(s),d),quantity_scale:d};if("market"===i)u.ordType=1;else if("limit"===i)u.ordType=2,u.price=this.convertToScale(this.numberToString(n),this.getScale(n));else{const e=this.safeNumber2(o,"stopPrice","stopPx");if(o=this.omit(o,["stopPrice","stopPx"]),void 0===e){if("stop"===i){if(void 0===n)throw new a(this.id+" editOrder() requires a price argument or a stopPrice parameter or a stopPx parameter for "+i+" orders");u.ordType=3,u.stopPx=this.convertToScale(this.numberToString(n),this.getScale(n))}else if("stop limit"===i)throw new a(this.id+" editOrder() requires a stopPrice parameter or a stopPx parameter for "+i+" orders")}else if("stop"===i)u.ordType=3,u.stopPx=this.convertToScale(this.numberToString(e),this.getScale(e));else if("stop limit"===i){u.ordType=4;const t=this.getScale(n),i=this.getScale(e);u.price_scale=t,u.stopPx_scale=i,u.stopPx=this.convertToScale(this.numberToString(e),i),u.price=this.convertToScale(this.numberToString(n),t)}}const l=await this.privatePostOrder(this.extend(u,o));return this.parseOrder(l,c)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:parseInt(e)},s=await this.privatePostGetOrderStatus(this.extend(r,i));return this.parseOrder(s)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({ordStatus:"2"},r))}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({ordStatus:"4"},r))}async fetchOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.instrumentId=parseInt(s.id)),void 0!==i&&(a.limit=i);const n=await this.privatePostGetOrders(this.extend(a,r)),o=this.safeValue(n,"orders",[]);return this.parseOrders(o,s,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.instrumentId=a.id),void 0!==t&&(s.startTime=t);const n=await this.privatePostUserTrades(this.extend(s,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,a,t,i,r)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={instrumentId:parseInt(i.id)},s=await this.privatePostGetDepositAddresses(this.extend(r,t)),a=this.safeValue(s,"addresses",[]),n=this.safeValue(a,0);return this.parseDepositAddress(n,i)}parseDepositAddress(e,t){const i=this.safeString(e,"symbol"),r=this.safeCurrencyCode(i,t),s=this.safeString(e,"address");return this.checkAddress(s),{currency:r,address:s,tag:void 0,network:void 0,info:e}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.instrumentId=parseInt(a.id));const n=await this.privatePostGetDepositHistory(this.extend(s,r)),o=this.safeValue(n,"deposits",[]);return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.instrumentId=parseInt(a.id));const n=await this.privatePostGetWithdrawRequests(this.extend(s,r)),o=this.safeValue(n,"addresses",[]);return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}parseTransaction(e,t){const i=this.safeString(e,"id","transactionId"),r=this.safeString(e,"transactionUuid"),s=this.safeInteger(e,"timestamp");let a=this.safeString(e,"address");"null"===a&&(a=void 0);const n=this.safeString(e,"type");let o=this.safeNumber(e,"balance_change");if(void 0===o){o=this.safeString(e,"quantity");const t=this.safeInteger(e,"quantity_scale");o=this.parseNumber(this.convertFromScale(o,t))}const c=this.safeString(e,"symbol"),h=this.safeCurrencyCode(c,t),d=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:r,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:a,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:o,currency:h,status:d,updated:void 0,comment:void 0,fee:void 0}}parseTransactionStatus(e){return this.safeString({0:"pending",1:"ok"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.getScale(t),o=this.convertToScale(t,n),c={instrumentId:parseInt(a.id),symbol:a.uppercaseId,quantity:o,quantity_scale:n,address:i},h=await this.privatePostSendWithdrawRequest(this.extend(c,s));return this.parseTransaction(h,a)}async fetchTradingFees(e={}){const t=await this.publicGetGetExchangeInfo(e),i=this.safeValue(t,"spotFees",[]),r={},s={};for(let e=0;e<i.length;e++){const t=i[e];void 0!==this.safeString(t,"tier")&&(r[t.tier]=this.safeNumber(t,"taker"),s[t.tier]=this.safeNumber(t,"maker"))}return{info:i,tierBased:!0,maker:s,taker:r}}async fetchTradingLimits(e,t={}){await this.loadMarkets();const i=await this.publicGetGetExchangeInfo(t);return{info:this.safeValue(i,"tradingLimits",[]),limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}async fetchFundingLimits(e={}){const t=await this.publicGetGetExchangeInfo(e);return{info:this.safeValue(t,"withdrawLimits",[]),withdraw:void 0}}parseOrder(e,t){let i=this.safeString2(e,"orderId","id");i=this.safeString(e,"origOrderId",i);const r=this.safeString(e,"clOrdId"),s=this.parseOrderType(this.safeString(e,"ordType")),a=this.parseOrderSide(this.safeString(e,"side")),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),c=this.safeString(e,"instrumentId"),h=this.safeSymbol(c,t),d=this.toMilliseconds(this.safeString(e,"timeStamp"));let u=this.safeString(e,"price");const l=this.safeInteger(e,"price_scale");u=this.convertFromScale(u,l);let f=this.safeString(e,"quantity");const p=this.safeInteger(e,"quantity_scale");f=this.convertFromScale(f,p);let m=this.safeString(e,"cumQty");const g=this.safeInteger(e,"cumQty_scale");m=this.convertFromScale(m,g);let y=this.safeString(e,"leavesQty");const b=this.safeInteger(e,"leavesQty_scale");let v;y=this.convertFromScale(y,b);const w=this.safeInteger(e,"feeInstrumentId"),k=this.safeCurrencyCode(w);let S,_=this.safeString(e,"feeTotal");const M=this.safeInteger(e,"fee_scale");void 0!==_&&(_=o.stringNeg(_),S=this.convertFromScale(_,M)),void 0!==_&&(v={currency:k,cost:S,rate:void 0});let T=this.parseTimeInForce(this.safeString(e,"timeInForce"));"0"===T&&(T=void 0);const O=this.safeInteger(e,"stopPx_scale",0),x=this.parseNumber(this.convertFromScale(this.safeString(e,"stopPx"),O));return this.safeOrder2({info:e,id:i,clientOrderId:r,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:h,type:s,timeInForce:T,postOnly:void 0,side:a,price:u,stopPrice:x,amount:f,cost:void 0,average:void 0,filled:m,remaining:y,status:n,fee:v,trades:void 0},t)}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"open",4:"canceled",5:"canceled",6:"canceling",7:"canceled",8:"rejected",9:"canceled",A:"open",B:"open",C:"expired",D:"open",E:"canceling",F:"open"},e,e)}parseOrderSide(e){return this.safeString({1:"buy",2:"sell"},e,e)}parseOrderType(e){return this.safeString({1:"market",2:"limit",3:"stop",4:"stop limit"},e,e)}parseTimeInForce(e){return this.safeString({1:"GTC",3:"IOC",4:"FOK",5:"GTX",6:"GTD"},e,e)}toMilliseconds(e){if(void 0===e)return e;const t=e.split("-"),i=this.safeString(t,0),r=this.safeString(t,1);if(void 0===i||void 0===r)return;if(8!==i.length)return;const s=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);return this.parse8601(s+" "+r)}convertFromScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}getScale(e){const t=this.numberToString(e);return this.precisionFromString(t)}convertToScale(e,t){if(void 0===e||void 0===t)return;const i=new o(e);i.decimals=i.decimals-t,i.reduce();const r=i.toString();return parseInt(r)}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"error");if(void 0!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,d,e),this.throwBroadlyMatchedException(this.exceptions,n,e),new s(this.id+" "+n)}}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){const e=this.safeValue(r,"format"),t=this.safeValue(r,"type"),i={};void 0!==e&&(i.format=e),void 0!==t&&(i.type=t),Object.keys(i).length&&(n+="?"+this.urlencode(i)),r=this.omit(r,["format","type"]),this.checkRequiredCredentials();const c=this.nonce();o=this.extend(o,{userId:this.uid,nonce:c}),r.nonce=this.nonce(),a=this.json(o);const h=this.hmac(this.encode(a),this.encode(this.secret),"sha384");s={"Content-Type":"application/json",requestToken:this.apiKey,signature:h}}return n=this.urls.api[t]+"/"+n,{url:n,method:i,body:a,headers:s}}}},16159:(e,t,i)=>{"use strict";const r=i(68170);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"equos",name:"EQUOS",urls:{logo:"https://user-images.githubusercontent.com/1294454/107758499-05edd180-6d38-11eb-9e09-0b69602a7a15.jpg"}})}}},74101:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,ExchangeError:a,OrderNotFound:n,AuthenticationError:o,InsufficientFunds:c,InvalidOrder:h,InvalidNonce:d,OnMaintenance:u,RateLimitExceeded:l,BadRequest:f,PermissionDenied:p}=i(73449),m=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"exmo",name:"EXMO",countries:["LT"],rateLimit:350,version:"v1.1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","45m":"45","1h":"60","2h":"120","3h":"180","4h":"240","1d":"D","1w":"W","1M":"M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","currency/list/extended","order_book","pair_settings","ticker","trades","candles_history","required_amount","payments/providers/crypto/list"]},private:{post:["user_info","order_create","order_cancel","stop_market_order_create","stop_market_order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","code_check","wallet_history","wallet_operations","margin/user/order/create","margin/user/order/update","margin/user/order/cancel","margin/user/position/close","margin/user/position/margin_add","margin/user/position/margin_remove","margin/currency/list","margin/pair/list","margin/settings","margin/funding/list","margin/user/info","margin/user/order/list","margin/user/order/history","margin/user/order/trades","margin/user/order/max_quantity","margin/user/position/list","margin/user/position/margin_remove_info","margin/user/position/margin_add_info","margin/user/wallet/list","margin/user/wallet/history","margin/user/trade/list","margin/trades","margin/liquidation/feed"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")},funding:{tierBased:!1,percentage:!1}},options:{networks:{ETH:"ERC20",TRX:"TRC20"}},exceptions:{exact:{40005:o,40009:d,40015:a,40016:u,40017:o,40032:p,40033:p,40034:l,50052:c,50054:c,50304:n,50173:n,50277:h,50319:h,50321:h,50381:h},broad:{"range period is too long":f,"invalid syntax":f,"API rate limit exceeded":l}}})}async fetchTradingFees(e={}){return{maker:this.fees.trading.maker,taker:this.fees.trading.taker}}parseFixedFloatValue(e){if(void 0===e||"-"===e)return;if(""===e)return 0;const t=e.indexOf("%")>=0,i=e.split(" ")[0].replace("%",""),r=parseFloat(i);if(r>0&&t)throw new a(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return r}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.publicGetCurrencyListExtended(e),i=await this.publicGetPaymentsProvidersCryptoList(e),r={info:i,withdraw:{},deposit:{}};for(let e=0;e<t.length;e++){const s=t[e],a=this.safeString(s,"name"),n=this.safeCurrencyCode(a),o=this.safeValue(i,a,[]);for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"type"),s=this.safeString(t,"commission_desc"),a=this.parseFixedFloatValue(s),c=this.safeNumber(r[i],n);(void 0===c||void 0!==a&&a<c)&&(r[i][n]=a)}}return this.options.fundingFees=r,r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencyListExtended(e),i=await this.publicGetPaymentsProvidersCryptoList(e),r={};for(let e=0;e<t.length;e++){const s=t[e],a=this.safeString(s,"name"),n=this.safeString(s,"description"),o=this.safeValue(i,a);let c=!1,h="crypto";const d={deposit:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}};let u;if(void 0===o)c=!0,h="fiat";else for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"type"),r=this.safeNumber(t,"min");let s=this.safeNumber(t,"max");if(0===s&&(s=void 0),this.safeValue(t,"enabled")&&(c=!0,(void 0===d[i].min||r<d[i].min)&&(d[i].min=r,d[i].max=s,"withdraw"===i))){const e=this.safeString(t,"commission_desc");u=this.parseFixedFloatValue(e)}}const l=this.safeCurrencyCode(a);r[l]={id:a,code:l,name:n,type:h,active:c,fee:u,precision:8,limits:d,info:o}}return r}async fetchMarkets(e={}){const t=await this.publicGetPairSettings(e),i=Object.keys(t),r=[];for(let e=0;e<i.length;e++){const s=i[e],a=t[s],n=s.replace("_","/"),[o,c]=n.split("/"),h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c),u=this.safeString(a,"commission_taker_percent"),l=this.safeString(a,"commission_maker_percent"),f=this.parseNumber(m.stringDiv(u,"100")),p=this.parseNumber(m.stringDiv(l,"100"));r.push({id:s,symbol:n,base:h,quote:d,baseId:o,quoteId:c,type:"spot",spot:!0,active:!0,taker:f,maker:p,limits:{amount:{min:this.safeNumber(a,"min_quantity"),max:this.safeNumber(a,"max_quantity")},price:{min:this.safeNumber(a,"min_price"),max:this.safeNumber(a,"max_price")},cost:{min:this.safeNumber(a,"min_amount"),max:this.safeNumber(a,"max_amount")}},precision:{amount:8,price:this.safeInteger(a,"price_precision")},info:a})}return r}async fetchOHLCV(e,t="1m",i,r,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n.id,resolution:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV"),h=this.safeInteger(c,"maxLimit",3e3),d=this.parseTimeframe(t),u=this.milliseconds();if(void 0===i){if(void 0===r)throw new s(this.id+" fetchOHLCV() requires a since argument or a limit argument");if(r>h)throw new f(this.id+" fetchOHLCV will serve "+h.toString()+" candles at most");o.from=parseInt(u/1e3)-r*d-1,o.to=parseInt(u/1e3)}else if(o.from=parseInt(i/1e3)-1,void 0===r)o.to=parseInt(u/1e3);else{if(r>h)throw new f(this.id+" fetchOHLCV will serve "+h.toString()+" candles at most");const e=this.sum(i,r*d*1e3);o.to=parseInt(e/1e3)}const l=await this.publicGetCandlesHistory(this.extend(o,a)),p=this.safeValue(l,"candles",[]);return this.parseOHLCVs(p,n,t,i,r)}parseOHLCV(e,t){return[this.safeInteger(e,"t"),this.safeNumber(e,"o"),this.safeNumber(e,"h"),this.safeNumber(e,"l"),this.safeNumber(e,"c"),this.safeNumber(e,"v")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t},r=this.safeValue(t,"balances",{}),s=this.safeValue(t,"reserved",{}),a=Object.keys(r);for(let e=0;e<a.length;e++){const t=a[e],n=this.safeCurrencyCode(t),o=this.account();t in r&&(o.free=this.safeString(r,t)),t in s&&(o.used=this.safeString(s,t)),i[n]=o}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pair:r.id};void 0!==t&&(s.limit=t);const a=await this.publicGetOrderBook(this.extend(s,i)),n=this.safeValue(a,r.id);return this.parseOrderBook(n,e,void 0,"bid","ask")}async fetchOrderBooks(e,t,i={}){let r;if(await this.loadMarkets(),void 0===e){if(r=this.ids.join(","),r.length>2048){const e=this.ids.length;throw new a(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const s={pair:r};void 0!==t&&(s.limit=t);const n=await this.publicGetOrderBook(this.extend(s,i)),o={},c=Object.keys(n);for(let e=0;e<c.length;e++){const t=c[e];let i=t;t in this.markets_by_id&&(i=this.markets_by_id[t].symbol),o[i]=this.parseOrderBook(n[t],i,void 0,"bid","ask")}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r;void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy_price"),bidVolume:void 0,ask:this.safeNumber(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"vol_curr"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e],a=this.markets_by_id[t],n=a.symbol,o=i[t];r[n]=this.parseTicker(o,a)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.market(e);return this.parseTicker(i[r.id],r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r;const s=this.safeString(e,"trade_id"),a=this.safeString(e,"order_id"),n=this.safeString(e,"price"),o=this.safeString(e,"quantity"),c=this.safeString(e,"amount"),h=this.safeString(e,"type"),d=this.safeString(e,"pair");if(void 0!==d)if(d in this.markets_by_id)t=this.markets_by_id[d];else{const[e,t]=d.split("_");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);const u=this.safeString(e,"exec_type");let l;const f=this.safeString(e,"commission_amount");if(void 0!==f){const t=this.safeString(e,"commission_currency"),i=this.safeCurrencyCode(t);let r=this.safeString(e,"commission_percent");void 0!==r&&(r=m.stringDiv(r,"1000",18)),l={cost:f,currency:i,rate:r}}return this.safeTrade({id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:a,type:void 0,side:h,takerOrMaker:u,price:n,amount:o,cost:c,fee:l},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,s.id,[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument (a single symbol or an array)");let a,n;if(await this.loadMarkets(),Array.isArray(e)){if(e.length<1)throw new s(this.id+" fetchMyTrades() requires a non-empty symbol array");a=this.marketIds(e).join(",")}else n=this.market(e),a=n.id;const o={pair:a};void 0!==i&&(o.limit=i);const c=await this.privatePostUserTrades(this.extend(o,r));let h=[];const d=Object.keys(c);for(let e=0;e<d.length;e++){const r=d[e];let s;if(r in this.markets_by_id)n=this.markets_by_id[r],s=n.symbol;else{const[e,t]=r.split("_");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}const a=c[r],o=this.parseTrades(a,n,t,i,{symbol:s});h=this.arrayConcat(h,o)}return this.filterBySinceLimit(h,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=("market"===t?t+"_":"")+i;let o=s;"market"===t&&void 0===s&&(o=0);const c={pair:this.market(e).id,quantity:this.amountToPrecision(e,r),type:n,price:this.priceToPrecision(e,o)};let d="privatePostOrderCreate",u=this.safeValue2(a,"client_id","clientOrderId");if(void 0!==u){if(u=this.safeInteger2(a,"client_id","clientOrderId"),void 0===u)throw new f(this.id+" createOrder client order id must be an integer / numeric literal");c.client_id=u,a=this.omit(a,["client_id","clientOrderId"])}if("stop"===t||"stop_limit"===t||"trailing_stop"===t){const i=this.safeNumber2(a,"stop_price","stopPrice");if(void 0===i)throw new h(this.id+" createOrder() requires a stopPrice extra param for a "+t+" order");a=this.omit(a,["stopPrice","stop_price"]),c.stop_price=this.priceToPrecision(e,i),d="privatePostMarginUserOrderCreate"}const l=await this[d](this.extend(c,a)),p=this.safeString(l,"order_id"),m=this.milliseconds();return{id:p,info:l,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,status:"open",symbol:e,type:t,side:i,price:s,cost:void 0,amount:r,remaining:r,filled:0,fee:void 0,trades:void 0,clientOrderId:u,average:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostOrderCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e.toString()},s=await this.privatePostOrderTrades(this.extend(r,i)),a=this.parseOrder(s);return this.extend(a,{id:e.toString()})}async fetchOrderTrades(e,t,i,r,s={}){let a;void 0!==t&&(a=this.market(t));const n={order_id:e.toString()},o=await this.privatePostOrderTrades(this.extend(n,s)),c=this.safeValue(o,"trades");return this.parseTrades(c,a,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostUserOpenOrders(r),a=Object.keys(s);let n=[];for(let e=0;e<a.length;e++){const t=a[e];let i;t in this.markets_by_id&&(i=this.markets_by_id[t]);const r=this.parseOrders(s[t],i);n=this.arrayConcat(n,r)}return this.filterBySymbolSinceLimit(n,e,t,i)}parseOrder(e,t){let i,r=this.safeString(e,"order_id"),s=this.safeTimestamp(e,"created");const a=this.safeString(e,"type");if(void 0===t){let i;"pair"in e?i=e.pair:"in_currency"in e&&"out_currency"in e&&(i="buy"===a?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),void 0!==i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}let n=this.safeNumber(e,"quantity");if(void 0===n){const t="buy"===a?"in_amount":"out_amount";n=this.safeNumber(e,t)}let o=this.safeNumber(e,"price"),c=this.safeNumber(e,"amount"),h=0;const d=[],u=this.safeValue(e,"trades",[]);let l,f,p;const m=u.length;if(m>0){l=0;for(let e=0;e<m;e++){const i=this.parseTrade(u[e],t);void 0===r&&(r=i.order),void 0===s&&(s=i.timestamp),s>i.timestamp&&(s=i.timestamp),h=this.sum(h,i.amount),l=this.sum(l,i.fee.cost),d.push(i)}f=d[m-1].timestamp}let g,y,b=this.safeString(e,"status");void 0!==n&&(g=n-h,b=h>=n?"closed":"open"),void 0===t&&(t=this.getMarketFromTrades(d)),void 0!==t&&(i=t.symbol,y=t.quote),void 0===c?void 0!==o&&(c=o*h):h>0&&(void 0===p&&(p=c/h),void 0===o&&(o=c/h));const v={cost:l,currency:y};return{id:r,clientOrderId:this.safeInteger(e,"client_id"),datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:f,status:b,symbol:i,type:"limit",timeInForce:void 0,postOnly:void 0,side:a,price:o,stopPrice:void 0,cost:c,amount:n,filled:h,remaining:g,average:p,trades:d,fee:v,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostDepositAddress(t),r=this.safeString(i,e);let s,a;if(r){const e=r.split(",");s=e[0],e.length>1&&(a=e[1])}return this.checkAddress(s),{currency:e,address:s,tag:a,network:void 0,info:i}}getMarketFromTrades(e){const t=this.indexBy(e,"pair"),i=Object.keys(t);if(1===i.length)return this.markets[i[0]]}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets();const a={amount:t,currency:this.currency(e).id,address:i};void 0!==r&&(a.invoice=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeString(n,o,o),void 0!==o&&(a.transport=o,s=this.omit(s,"network"));const c=await this.privatePostWithdrawCrypt(this.extend(a,s));return{info:c,id:c.task_id}}parseTransactionStatus(e){return this.safeString({transferred:"ok",paid:"ok",pending:"pending",processing:"pending",verifying:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"order_id"),r=this.safeTimestamp2(e,"dt","created"),s=this.safeTimestamp(e,"updated");let a=this.safeNumber(e,"amount");void 0!==a&&(a=Math.abs(a));const n=this.parseTransactionStatus(this.safeStringLower(e,"status"));let o=this.safeString(e,"txid");if(void 0===o){const t=this.safeValue(e,"extra",{}),i=this.safeString(t,"txid");""!==i&&(o=i)}const c=this.safeString(e,"type"),h=this.safeString2(e,"curr","currency"),d=this.safeCurrencyCode(h,t);let u;const l=void 0;let f;const p=this.safeString(e,"account");if("deposit"===c)f=p;else if("withdrawal"===c&&(u=p,void 0!==u)){const e=u.split(":");2===e.length&&(u=this.safeString(e,1),u=u.replace(" ",""))}let m;if(!this.fees.funding.percentage){const t="withdrawal"===c?"withdraw":"deposit";let i=this.safeNumber(e,"commission");void 0===i&&(i=this.safeNumber(this.options.fundingFees[t],d)),"cashback"===this.safeString(e,"provider")&&(i=0),void 0!==i&&("withdrawal"===c&&(a-=i),m={cost:i,currency:d,rate:void 0})}return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),currency:d,amount:a,address:u,addressTo:u,addressFrom:void 0,tag:l,tagTo:l,tagFrom:void 0,status:n,type:c,updated:s,comment:f,txid:o,fee:m}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==t&&(s.date=parseInt(t/1e3)),void 0!==e&&(a=this.currency(e));const n=await this.privatePostWalletHistory(this.extend(s,r));return this.parseTransactions(n.history,a,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;await this.loadMarkets();const a={type:"withdraw"};void 0!==i&&(a.limit=i),void 0!==e&&(s=this.currency(e),a.currency=s.id);const n=await this.privatePostWalletOperations(this.extend(a,r));return this.parseTransactions(n.items,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";if("web"!==t&&(n+=this.version+"/"),n+=e,"public"===t||"web"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&("result"in o||"errmsg"in o)){let e=this.safeValue(o,"result",!1);if("string"==typeof e&&(e="true"===e||"1"===e),!e){let e;const t=this.safeString2(o,"error","errmsg"),i=t.split(":");if(i.length>1){const t=i[0].split(" ");e=t.length>1?t[1]:t[0]}const r=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,r),this.throwBroadlyMatchedException(this.exceptions.broad,t,r),new a(r)}}}}},63513:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s}=i(73449),a=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87443317-01c0d080-c5fe-11ea-95c2-9ebe1a8fafd9.jpg",api:"https://publicapi.flowbtc.com.br",www:"https://www.flowbtc.com.br",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.005}}})}async fetchMarkets(e={}){const t=await this.publicPostGetProductPairs(e),i=this.safeValue(t,"productPairs"),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"name"),a=this.safeString(t,"product1Label"),n=this.safeString(t,"product2Label"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h={amount:this.safeInteger(t,"product1DecimalPlaces"),price:this.safeInteger(t,"product2DecimalPlaces")},d=o+"/"+c;r[d]={id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:void 0,precision:h,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:t}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"currencies"),r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=t.name,a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"balance"),n.total=this.safeString(t,"hold"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={productPair:this.market(e).id},s=await this.publicPostGetOrderBook(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","px","qty")}async fetchTicker(e,t={}){await this.loadMarkets();const i={productPair:this.market(e).id},r=await this.publicPostGetTicker(this.extend(i,t)),s=this.milliseconds(),a=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(r,"volume24hr"),quoteVolume:this.safeNumber(r,"volume24hrProduct2"),info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"unixtime"),r=0===e.incomingOrderSide?"buy":"sell",s=this.safeString(e,"tid"),n=this.safeString(e,"px"),o=this.safeString(e,"qty"),c=this.parseNumber(n),h=this.parseNumber(o),d=this.parseNumber(a.stringMul(n,o));return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,id:s,order:void 0,type:void 0,side:r,price:c,amount:h,cost:d,takerOrMaker:void 0,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={ins:s.id,startIndex:-1},n=await this.publicPostGetTrades(this.extend(a,r));return this.parseTrades(n.trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="market"===t?1:0,o={ins:this.marketId(e),side:i,orderType:n,qty:r,px:this.priceToPrecision(e,s)},c=await this.privatePostCreateOrder(this.extend(o,a));return{info:c,id:c.serverOrderId}}async cancelOrder(e,t,i={}){if(await this.loadMarkets(),"ins"in i){const t={serverOrderId:e};return await this.privatePostCancelOrder(this.extend(t,i))}throw new s(this.id+" cancelOrder() requires an `ins` parameter for cancelling an order")}sign(e,t="public",i="GET",r={},s,a){const n=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(a=this.json(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=e.toString()+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({apiKey:this.apiKey,apiNonce:e,apiSig:i.toUpperCase()},r)),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&!this.safeValue(o,"isAccepted",!0))throw new s(this.id+" "+this.json(o))}}},89636:(e,t,i)=>{"use strict";const r=i(48819),{TICK_SIZE:s}=i(62115),{ExchangeError:a,InvalidOrder:n,BadRequest:o,InsufficientFunds:c,OrderNotFound:h,AuthenticationError:d,RateLimitExceeded:u,ExchangeNotAvailable:l,CancelPending:f,ArgumentsRequired:p,PermissionDenied:m,BadSymbol:g,DuplicateOrderId:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ftx",name:"FTX",countries:["BS"],rateLimit:100,certified:!0,pro:!0,hostname:"ftx.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/67149189-df896480-f2b0-11e9-8816-41593e17f9ec.jpg",www:"https://ftx.com",api:{public:"https://{hostname}",private:"https://{hostname}"},doc:"https://github.com/ftexchange/ftx",fees:"https://ftexchange.zendesk.com/hc/en-us/articles/360024479432-Fees",referral:{url:"https://ftx.com/#a=ccxt",discount:.05}},has:{margin:!0,swap:!0,future:!0,cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBorrowRate:!0,fetchBorrowRateHistory:!1,fetchBorrowRates:!0,fetchClosedOrders:void 0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:void 0,fetchFundingRate:!0,fetchFundingHistory:!0,fetchFundingRateHistory:!0,fetchFundingRates:void 0,fetchIndexOHLCV:!0,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!1,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,setLeverage:!0,setMarginMode:!1,withdraw:!0},timeframes:{"15s":"15","1m":"60","5m":"300","15m":"900","1h":"3600","4h":"14400","1d":"86400","3d":"259200","1w":"604800","2w":"1209600","1M":"2592000"},api:{public:{get:["coins","markets","markets/{market_name}","markets/{market_name}/orderbook","markets/{market_name}/trades","markets/{market_name}/candles","futures","futures/{future_name}","futures/{future_name}/stats","funding_rates","indexes/{index_name}/weights","expired_futures","indexes/{market_name}/candles","wallet/coins","lt/tokens","lt/{token_name}","etfs/rebalance_info","options/requests","options/trades","options/historical_volumes/BTC","stats/24h_options_volume","options/open_interest/BTC","options/historical_open_interest/BTC","spot_margin/history","spot_margin/borrow_summary","nft/nfts","nft/{nft_id}","nft/{nft_id}/trades","nft/all_trades","nft/{nft_id}/account_info","nft/collections","ftxpay/apps/{user_specific_id}/details","pnl/historical_changes"],post:["ftxpay/apps/{user_specific_id}/orders"]},private:{get:["subaccounts","subaccounts/{nickname}/balances","account","positions","wallet/balances","wallet/all_balances","wallet/deposit_address/{coin}","wallet/deposits","wallet/withdrawals","wallet/airdrops","wallet/withdrawal_fee","wallet/saved_addresses","orders","orders/history","orders/{order_id}","orders/by_client_id/{client_order_id}","conditional_orders","conditional_orders/{conditional_order_id}/triggers","conditional_orders/history","fills","funding_payments","lt/balances","lt/creations","lt/redemptions","options/my_requests","options/requests/{request_id}/quotes","options/my_quotes","options/account_info","options/positions","options/fills","staking/stakes","staking/unstake_requests","staking/balances","staking/staking_rewards","otc/quotes/{quoteId}","spot_margin/borrow_rates","spot_margin/lending_rates","spot_margin/market_info","spot_margin/borrow_history","spot_margin/lending_history","spot_margin/offers","spot_margin/lending_info","nft/balances","nft/bids","nft/deposits","nft/withdrawals","nft/fills","nft/gallery/{gallery_id}","nft/gallery_settings","stats/latency_stats"],post:["subaccounts","subaccounts/update_name","subaccounts/transfer","account/leverage","wallet/withdrawals","wallet/saved_addresses","orders","conditional_orders","orders/{order_id}/modify","orders/by_client_id/{client_order_id}/modify","conditional_orders/{order_id}/modify","lt/{token_name}/create","lt/{token_name}/redeem","options/requests","options/requests/{request_id}/quotes","options/quotes/{quote_id}/accept","staking/unstake_requests","srm_stakes/stakes","otc/quotes/{quote_id}/accept","otc/quotes","spot_margin/offers","nft/offer","nft/buy","nft/auction","nft/edit_auction","nft/cancel_auction","nft/bids","nft/redeem","nft/gallery_settings","ftxpay/apps/{user_specific_id}/orders"],delete:["subaccounts","wallet/saved_addresses/{saved_address_id}","orders/{order_id}","orders/by_client_id/{client_order_id}","orders","conditional_orders/{order_id}","options/requests/{request_id}","options/quotes/{quote_id}","staking/unstake_requests/{request_id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:this.parseNumber("0.0002"),taker:this.parseNumber("0.0007"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.0007")],[this.parseNumber("2000000"),this.parseNumber("0.0006")],[this.parseNumber("5000000"),this.parseNumber("0.00055")],[this.parseNumber("10000000"),this.parseNumber("0.0005")],[this.parseNumber("25000000"),this.parseNumber("0.045")],[this.parseNumber("50000000"),this.parseNumber("0.0004")]],maker:[[this.parseNumber("0"),this.parseNumber("0.0002")],[this.parseNumber("2000000"),this.parseNumber("0.00015")],[this.parseNumber("5000000"),this.parseNumber("0.0001")],[this.parseNumber("10000000"),this.parseNumber("0.00005")],[this.parseNumber("25000000"),this.parseNumber("0")],[this.parseNumber("50000000"),this.parseNumber("0")]]}},funding:{withdraw:{}}},exceptions:{exact:{"Please slow down":u,"Size too small for provide":n,"Not enough balances":c,InvalidPrice:n,"Size too small":n,"Size too large":n,"Missing parameter price":n,"Order not found":h,"Order already closed":n,"Trigger price too high":n,"Trigger price too low":n,"Order already queued for cancellation":f,"Duplicate client order ID":y,"Spot orders cannot be reduce-only":n,"Invalid reduce-only order":n,"Account does not have enough balances":c,"Not authorized for subaccount-specific access":m,"Not approved to trade this product":m},broad:{"Not logged in":d,"Account does not have enough margin for order":c,"Invalid parameter":o,"The requested URL was not found on the server":o,"No such coin":o,"No such subaccount":o,"No such future":g,"No such market":g,"Do not send more than":u,"An unexpected error occurred":l,"Please retry request":l,"Please try again":l,"Try again":l,"Only have permissions for subaccount":m}},precisionMode:s,options:{cancelOrder:{method:"privateDeleteOrdersOrderId"},fetchOpenOrders:{method:"privateGetOrders"},fetchOrders:{method:"privateGetOrdersHistory"},sign:{"ftx.com":"FTX","ftx.us":"FTXUS"},networks:{SOL:"sol",SPL:"sol",TRX:"trx",TRC20:"trx",ETH:"erc20",ERC20:"erc20",OMNI:"omni",BEP2:"bep2",BNB:"bep2"}}})}async fetchCurrencies(e={}){const t=await this.publicGetCoins(e),i=this.safeValue(t,"result",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeCurrencyCode(s),n=this.safeString(t,"name");r[a]={id:s,code:a,info:t,type:void 0,name:n,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0},amount:{min:void 0,max:void 0}}}}return r}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[],r=this.safeValue(t,"result",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"name"),a=this.safeString2(t,"baseCurrency","underlying"),n=this.safeString(t,"quoteCurrency","USD"),o=this.safeString(t,"type"),c=this.safeCurrencyCode(a),h=this.safeCurrencyCode(n),d="future"===o?this.safeString(t,"name"):c+"/"+h,u=this.safeValue(t,"enabled"),l=this.safeNumber(t,"sizeIncrement"),f=this.safeNumber(t,"priceIncrement"),p={amount:l,price:f};i.push({id:s,symbol:d,base:c,quote:h,baseId:a,quoteId:n,type:o,future:"future"===o,spot:"spot"===o,active:u,precision:p,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:void 0,max:void 0},leverage:{max:20}},info:t})}return i}parseTicker(e,t){let i;const r=this.safeString(e,"name");if(r in this.markets_by_id)t=this.markets_by_id[r];else if("future"===this.safeString(e,"type"))i=r;else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),r=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));void 0!==t&&void 0!==r&&(i=t+"/"+r)}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.safeNumber(e,"last"),a=this.safeTimestamp(e,"time",this.milliseconds());let n=this.safeNumber(e,"change24h");return void 0!==n&&(n*=100),this.safeTicker({symbol:i,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bidSize"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"askSize"),vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"quoteVolume24h"),info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_name:i.id},s=await this.publicGetMarketsMarketName(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"result",[]);return this.parseTickers(r,e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market_name:this.market(e).id};void 0!==t&&(r.depth=t);const s=await this.publicGetMarketsMarketNameOrderbook(this.extend(r,i)),a=this.safeValue(s,"result",{});return this.parseOrderBook(a,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}getMarketId(e,t,i={}){const r=this.getMarketParams(e,t,i);return this.safeString(r,1,e)}getMarketParams(e,t,i={}){let r,s;return e in this.markets?(r=this.market(e),s=r.id):s=this.safeString(i,t,e),[r,s]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const[a,n]=this.getMarketParams(e,"market_name",s),o={resolution:this.timeframes[t],market_name:n},c=this.safeString(s,"price");s=this.omit(s,"price"),r=void 0===r?1501:r,void 0===i?(o.end_time=this.seconds(),o.limit=r,o.start_time=o.end_time-r*this.parseTimeframe(t)):(o.start_time=parseInt(i/1e3),o.limit=r,o.end_time=this.sum(o.start_time,r*this.parseTimeframe(t)));let h="publicGetMarketsMarketNameCandles";"index"===c&&(e in this.markets&&(o.market_name=a.baseId),h="publicGetIndexesMarketNameCandles");const d=await this[h](this.extend(o,s)),u=this.safeValue(d,"result",[]);return this.parseOHLCVs(u,a,t,i,r)}async fetchIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"liquidity"),s=this.safeString(e,"market");let a;if(s in this.markets_by_id)a=(t=this.markets_by_id[s]).symbol;else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),i=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));a=void 0!==t&&void 0!==i?t+"/"+i:s}const n=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"price"),c=this.safeString(e,"size");void 0===a&&void 0!==t&&(a=t.symbol);const h=this.safeString(e,"side");let d;const u=this.safeString(e,"fee");if(void 0!==u){const t=this.safeString(e,"feeCurrency");d={cost:u,currency:this.safeCurrencyCode(t),rate:this.safeString(e,"feeRate")}}const l=this.safeString(e,"orderId");return this.safeTrade({info:e,timestamp:n,datetime:this.iso8601(n),symbol:a,id:i,order:l,type:void 0,takerOrMaker:r,side:h,price:o,amount:c,cost:void 0,fee:d},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const[s,a]=this.getMarketParams(e,"market_name",r),n={market_name:a};void 0!==t&&(n.start_time=parseInt(t/1e3),n.end_time=this.seconds()),void 0!==i&&(n.limit=i);const o=await this.publicGetMarketsMarketNameTrades(this.extend(n,r)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e),i=this.safeValue(t,"result",{});return{info:t,maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchFundingRateHistory(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s.future=t.id}void 0!==t&&(s.start_time=parseInt(t/1e3));const a=this.safeInteger(r,"till"),n=this.safeString(r,"end_time");r=this.omit(r,["end_time","till"]),void 0!==a?s.end_time=parseInt(a/1e3):void 0!==n&&(s.end_time=n);const o=await this.publicGetFundingRates(this.extend(s,r)),c=this.safeValue(o,"result"),h=[];for(let e=0;e<c.length;e++){const t=c[e],i=this.safeString(t,"future"),r=this.safeSymbol(i),s=this.parse8601(this.safeString(c[e],"time"));h.push({info:t,symbol:r,fundingRate:this.safeNumber(t,"rate"),timestamp:s,datetime:this.iso8601(s)})}const d=this.sortBy(h,"timestamp");return this.filterBySymbolSinceLimit(d,e,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i={info:t},r=this.safeValue(t,"result",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeCurrencyCode(this.safeString(t,"coin")),a=this.account();a.free=this.safeString2(t,"availableWithoutBorrow","free"),a.total=this.safeString(t,"total"),i[s]=a}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({new:"open",open:"open",closed:"closed",triggered:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt"));let s=this.parseOrderStatus(this.safeString(e,"status"));const a=this.safeString(e,"size"),n=this.safeString(e,"filledSize");let o,c=this.safeString(e,"remainingSize");b.stringEquals(c,"0")&&(c=b.stringSub(a,n),b.stringGt(c,"0")&&(s="canceled"));const h=this.safeString(e,"market");void 0!==h&&(o=h in this.markets_by_id?(t=this.markets_by_id[h]).symbol:h),void 0===o&&void 0!==t&&(o=t.symbol);const d=this.safeString(e,"side"),u=this.safeString(e,"type"),l=this.safeString(e,"avgFillPrice"),f=this.safeString2(e,"price","triggerPrice",l),p=this.parse8601(this.safeString(e,"triggeredAt")),m=this.safeString(e,"clientId"),g=this.safeNumber(e,"triggerPrice"),y=this.safeValue(e,"postOnly");return this.safeOrder2({info:e,id:i,clientOrderId:m,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:p,symbol:o,type:u,timeInForce:void 0,postOnly:y,side:d,price:f,stopPrice:g,amount:a,cost:void 0,average:l,filled:n,remaining:c,status:s,fee:void 0,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c={market:o.id,side:i,type:t,size:parseFloat(this.amountToPrecision(e,r))},h=this.safeString2(a,"clientId","clientOrderId");let d;if(void 0!==h&&(c.clientId=h,a=this.omit(a,["clientId","clientOrderId"])),"limit"===t)d="privatePostOrders",c.price=parseFloat(this.priceToPrecision(e,s));else if("market"===t)d="privatePostOrders",c.price=null;else if("stop"===t||"takeProfit"===t){d="privatePostConditionalOrders";const i=this.safeNumber2(a,"stopPrice","triggerPrice");if(void 0===i)throw new p(this.id+" createOrder () requires a stopPrice parameter or a triggerPrice parameter for "+t+" orders");a=this.omit(a,["stopPrice","triggerPrice"]),c.triggerPrice=parseFloat(this.priceToPrecision(e,i)),void 0!==s&&(c.orderPrice=parseFloat(this.priceToPrecision(e,s)))}else{if("trailingStop"!==t)throw new n(this.id+" createOrder () does not support order type "+t+", only limit, market, stop, trailingStop, or takeProfit orders are supported");{const i=this.safeNumber(a,"trailValue",s);if(void 0===i)throw new p(this.id+" createOrder () requires a trailValue parameter or a price argument (negative or positive) for a "+t+" order");d="privatePostConditionalOrders",c.trailValue=parseFloat(this.priceToPrecision(e,i))}}const u=await this[d](this.extend(c,a)),l=this.safeValue(u,"result",[]);return this.parseOrder(l,o)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t),c={};let h;const d=this.safeString2(n,"client_order_id","clientOrderId"),u=this.safeNumber(n,"triggerPrice"),l=this.safeNumber(n,"orderPrice"),f=this.safeNumber(n,"trailValue");n=this.omit(n,["client_order_id","clientOrderId","triggerPrice","orderPrice","trailValue"]);const p=void 0!==u,m=void 0!==l,g=void 0!==f;p||m||g?(h="privatePostConditionalOrdersOrderIdModify",c.order_id=e,p&&(c.triggerPrice=parseFloat(this.priceToPrecision(t,u))),m&&(c.orderPrice=parseFloat(this.priceToPrecision(t,l))),g&&(c.trailValue=parseFloat(this.priceToPrecision(t,f)))):(void 0===d?(h="privatePostOrdersOrderIdModify",c.order_id=e):(h="privatePostOrdersByClientIdClientOrderIdModify",c.client_order_id=d),void 0!==a&&(c.price=parseFloat(this.priceToPrecision(t,a)))),void 0!==s&&(c.size=parseFloat(this.amountToPrecision(t,s)));const y=await this[h](this.extend(c,n)),b=this.safeValue(y,"result",{});return this.parseOrder(b,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue(this.options,"cancelOrder",{}),a=this.safeString(s,"method","privateDeleteOrdersOrderId");let n=this.safeString(i,"method",a);const o=this.safeValue(i,"type"),c=this.safeValue2(i,"client_order_id","clientOrderId");void 0===c?(r.order_id=parseInt(e),"stop"!==o&&"trailingStop"!==o&&"takeProfit"!==o||(n="privateDeleteConditionalOrdersOrderId")):(r.client_order_id=c,n="privateDeleteOrdersByClientIdClientOrderId");const h=this.omit(i,["method","type","client_order_id","clientOrderId"]),d=await this[n](this.extend(r,h));return this.safeValue(d,"result",{})}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={},r=this.getMarketId(e,"market",t);void 0!==r&&(i.market=r);const s=await this.privateDeleteOrders(this.extend(i,t));return this.safeValue(s,"result",{})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue2(i,"client_order_id","clientOrderId");let a="privateGetOrdersOrderId";void 0===s?r.order_id=e:(r.client_order_id=s,i=this.omit(i,["client_order_id","clientOrderId"]),a="privateGetOrdersByClientIdClientOrderId");const n=await this[a](this.extend(r,i)),o=this.safeValue(n,"result",{});return this.parseOrder(o)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={},[a,n]=this.getMarketParams(e,"market",r);void 0!==n&&(s.market=n);const o=this.safeValue(this.options,"fetchOpenOrders",{}),c=this.safeString(o,"method","privateGetOrders");let h=this.safeString(r,"method",c);const d=this.safeValue(r,"type");"stop"!==d&&"trailingStop"!==d&&"takeProfit"!==d||(h="privateGetConditionalOrders");const u=this.omit(r,["method","type"]),l=await this[h](this.extend(s,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,a,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={},[a,n]=this.getMarketParams(e,"market",r);void 0!==n&&(s.market=n),void 0!==i&&(s.limit=i),void 0!==t&&(s.start_time=parseInt(t/1e3));const o=this.safeValue(this.options,"fetchOrders",{}),c=this.safeString(o,"method","privateGetOrdersHistory");let h=this.safeString(r,"method",c);const d=this.safeValue(r,"type");"stop"!==d&&"trailingStop"!==d&&"takeProfit"!==d||(h="privateGetConditionalOrdersHistory");const u=this.omit(r,["method","type"]),l=await this[h](this.extend(s,u)),f=this.safeValue(l,"result",[]);return this.parseOrders(f,a,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const[s,a]=this.getMarketParams(e,"market",r),n={};void 0!==a&&(n.market=a),void 0!==t&&(n.start_time=parseInt(t/1e3),n.end_time=this.seconds());const o=await this.privateGetFills(this.extend(n,r)),c=this.safeValue(o,"result",[]);return this.parseTrades(c,s,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={coin:a.id,size:t,address:i};void 0!==this.password&&(n.password=this.password),void 0!==r&&(n.tag=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeStringLower(o,c,c),void 0!==c&&(n.method=c,s=this.omit(s,"network"));const h=await this.privatePostWalletWithdrawals(this.extend(n,s)),d=this.safeValue(h,"result",{});return this.parseTransaction(d,a)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privateGetPositions(this.extend({showAvgPrice:!0},t)),r=this.safeValue(i,"result",[]),s=[];for(let e=0;e<r.length;e++)s.push(this.parsePosition(r[e]));return this.filterByArray(s,"symbol",e,!1)}parsePosition(e,t){const i=this.safeString(e,"size"),r="buy"===this.safeString(e,"side")?"long":"short",s=this.safeString(e,"future"),a=this.safeSymbol(s,t),n=this.safeString(e,"estimatedLiquidationPrice"),o=this.safeString(e,"initialMarginRequirement"),c=parseInt(b.stringDiv("1",o,0)),h=this.safeString(e,"entryPrice"),d=b.stringMul(i,h),u=b.stringMul(d,o),l=this.safeString(e,"maintenanceMarginRequirement"),f=b.stringMul(d,l),p=this.safeString(e,"recentPnl"),m=this.parseNumber(b.stringMul(b.stringDiv(p,u,4),"100")),g=this.safeString(e,"recentAverageOpenPrice");let y,v,w;if(void 0!==g&&b.stringGt(n,"0")){y="long"===r?b.stringSub(h,n):b.stringSub(n,h);const e=b.stringMul(y,i);v=b.stringAdd(e,f),w=this.parseNumber(b.stringDiv(f,v,4))}return{info:e,symbol:a,timestamp:void 0,datetime:void 0,initialMargin:this.parseNumber(u),initialMarginPercentage:this.parseNumber(o),maintenanceMargin:this.parseNumber(f),maintenanceMarginPercentage:this.parseNumber(l),entryPrice:this.parseNumber(g),notional:this.parseNumber(d),leverage:c,unrealizedPnl:this.parseNumber(p),contracts:this.parseNumber(i),contractSize:this.parseNumber("1"),marginRatio:w,liquidationPrice:this.parseNumber(n),markPrice:this.parseNumber(h),collateral:this.parseNumber(v),marginType:"cross",side:r,percentage:m}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={coin:this.currency(e).id},r=this.safeValue(this.options,"networks",{});let s=this.safeStringUpper(t,"network");s=this.safeStringLower(r,s,s),void 0!==s&&(i.method=s,t=this.omit(t,"network"));const a=await this.privateGetWalletDepositAddressCoin(this.extend(i,t)),n=this.safeValue(a,"result",{}),o=this.safeString(n,"address"),c=this.safeString(n,"tag");return this.checkAddress(o),{currency:e,address:o,tag:c,network:void 0,info:a}}parseTransactionStatus(e){return this.safeString({confirmed:"ok",complete:"ok",cancelled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeCurrencyCode(this.safeString(e,"coin")),r=this.safeString(e,"id"),s=this.safeNumber(e,"size"),a=this.parseTransactionStatus(this.safeString(e,"status")),n=this.parse8601(this.safeString(e,"time")),o=this.safeString(e,"txid");let c,h=this.safeValue(e,"address");if("string"!=typeof h&&(c=this.safeString(h,"tag"),h=this.safeString(h,"address")),void 0===h){const t=this.safeString(e,"notes");void 0!==t&&t.indexOf("Transfer to")>=0&&(h=t.slice(12))}const d=this.safeNumber(e,"fee");return{info:e,id:r,txid:o,timestamp:n,datetime:this.iso8601(n),addressFrom:void 0,address:h,addressTo:h,tagFrom:void 0,tag:c,tagTo:c,type:void 0,amount:s,currency:i,status:a,updated:void 0,fee:{currency:i,cost:d,rate:void 0}}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletDeposits(r),a=this.safeValue(s,"result",[]);let n;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a,n,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletWithdrawals(r),a=this.safeValue(s,"result",[]);let n;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a,n,t,i,{type:"withdrawal"})}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.implodeParams(e,r);const o=this.safeValue(this.options,"sign",{}),c=this.safeString(o,this.hostname,"FTX"),h=c+"-SUBACCOUNT",d=this.safeString2(r,h,"subaccount");void 0!==d&&(r=this.omit(r,[h,"subaccount"]));const u=this.omit(r,this.extractParams(e));let l=this.implodeHostname(this.urls.api[t])+n;if("POST"!==i&&Object.keys(u).length){const e="?"+this.urlencode(u);l+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+n;s={},"POST"!==i&&"DELETE"!==i||(t+=a=this.json(u),s["Content-Type"]="application/json");const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256");s[c+"-KEY"]=this.apiKey,s[c+"-TS"]=e,s[c+"-SIGN"]=r,void 0!==d&&(s[h]=d)}return{url:l,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&!this.safeValue(o,"success")){const e=this.id+" "+n,t=this.safeString(o,"error");throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new a(e)}}async setLeverage(e,t,i={}){if(e<1||e>20)throw new o(this.id+" leverage should be between 1 and 20");const r={leverage:e};return await this.privatePostAccountLeverage(this.extend(r,i))}parseIncome(e,t){const i=this.safeString(e,"future"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"payment"),a=this.safeCurrencyCode("USD"),n=this.safeString(e,"id"),o=this.safeString(e,"time"),c=this.parse8601(o),h=this.safe_number(e,"rate");return{info:e,symbol:r,code:a,timestamp:c,datetime:this.iso8601(c),id:n,amount:s,rate:h}}parseIncomes(e,t,i,r){const s=[];for(let i=0;i<e.length;i++){const r=e[i],a=this.parseIncome(r,t);s.push(a)}const a=this.sortBy(s,"timestamp");return this.filterBySinceLimit(a,i,r,"timestamp")}async fetchFundingHistory(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.future=a.id),void 0!==t&&(s.startTime=t);const n=await this.privateGetFundingPayments(this.extend(s,r)),o=this.safeValue(n,"result",[]);return this.parseIncomes(o,a,t,i)}parseFundingRate(e,t){const i=this.safeNumber(e,"nextFundingRate"),r=this.safeString(e,"nextFundingTime"),s=this.parse8601(r);let a;void 0!==s&&(a=s-36e5);const n=this.safeNumber(e,"predictedExpirationPrice");return{info:e,symbol:t.symbol,markPrice:void 0,indexPrice:void 0,interestRate:this.parseNumber("0"),estimatedSettlePrice:n,timestamp:void 0,datetime:void 0,previousFundingRate:void 0,nextFundingRate:i,previousFundingTimestamp:a,nextFundingTimestamp:s,previousFundingDatetime:this.iso8601(a),nextFundingDatetime:this.iso8601(s)}}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),r={future_name:i.id},s=await this.publicGetFuturesFutureNameStats(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseFundingRate(a,i)}async fetchBorrowRates(e={}){await this.loadMarkets();const t=await this.privateGetSpotMarginBorrowRates(),i=this.milliseconds(),r=this.safeValue(t,"result"),s={};for(let e=0;e<r.length;e++){const t=r[e],a=this.safeCurrencyCode(this.safeString(t,"coin"));s[a]={currency:a,rate:this.safeNumber(t,"previous"),period:36e5,timestamp:i,datetime:this.iso8601(i),info:t}}return s}}},31087:(e,t,i)=>{"use strict";const r=i(89636);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ftxus",name:"FTX US",countries:["US"],certified:!1,hostname:"ftx.us",urls:{logo:"https://user-images.githubusercontent.com/1294454/141506670-12f6115f-f425-4cd8-b892-b51d157ca01f.jpg",www:"https://ftx.us/",docs:"https://docs.ftx.us/",fees:"https://help.ftx.us/hc/en-us/articles/360043579273-Fees"}})}}},94663:(e,t,i)=>{"use strict";const r=i(48819),s=i(6832),{TICK_SIZE:a}=i(62115),{ExchangeError:n,BadRequest:o,ArgumentsRequired:c,AuthenticationError:h,PermissionDenied:d,AccountSuspended:u,InsufficientFunds:l,RateLimitExceeded:f,ExchangeNotAvailable:p,BadSymbol:m,InvalidOrder:g,OrderNotFound:y}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gateio",name:"Gate.io",countries:["KR"],rateLimit:10/3,version:"v4",certified:!0,pro:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",doc:"https://www.gate.io/docs/apiv4/en/index.html",www:"https://gate.io/",api:{public:"https://api.gateio.ws/api/v4",private:"https://api.gateio.ws/api/v4"},referral:{url:"https://www.gate.io/ref/2436035",discount:.2}},has:{margin:!0,swap:!0,future:!0,cancelAllOrders:!0,cancelOrder:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRateHistory:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchFundingHistory:!0,fetchFundingRate:!0,fetchFundingRateHistory:!0,fetchFundingRates:!0,fetchIndexOHLCV:!0,fetchMarkets:!0,fetchMarkOHLCV:!0,fetchMyTrades:!0,fetchNetworkDepositAddress:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrdersByStatus:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!1,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,setLeverage:!0,transfer:!0,withdraw:!0},api:{public:{spot:{get:{currencies:1,"currencies/{currency}":1,currency_pairs:1,"currency_pairs/{currency_pair}":1,tickers:1,order_book:1,trades:1,candlesticks:1}},margin:{get:{currency_pairs:1,"currency_pairs/{currency_pair}":1,"cross/currencies":1,"cross/currencies/{currency}":1,funding_book:1}},futures:{get:{"{settle}/contracts":1.5,"{settle}/contracts/{contract}":1.5,"{settle}/order_book":1.5,"{settle}/trades":1.5,"{settle}/candlesticks":1.5,"{settle}/tickers":1.5,"{settle}/funding_rate":1.5,"{settle}/insurance":1.5,"{settle}/contract_stats":1.5,"{settle}/liq_orders":1.5}},delivery:{get:{"{settle}/contracts":1.5,"{settle}/contracts/{contract}":1.5,"{settle}/order_book":1.5,"{settle}/trades":1.5,"{settle}/candlesticks":1.5,"{settle}/tickers":1.5,"{settle}/insurance":1.5}}},private:{withdrawals:{post:{"":3e3},delete:{"{withdrawal_id}":300}},wallet:{get:{deposit_address:300,withdrawals:300,deposits:300,sub_account_transfers:300,withdraw_status:300,sub_account_balances:300,fee:300},post:{transfers:300,sub_account_transfers:300}},spot:{get:{accounts:1,open_orders:1,orders:1,"orders/{order_id}":1,my_trades:1,price_orders:1,"price_orders/{order_id}":1},post:{batch_orders:1,orders:1,cancel_batch_orders:1,price_orders:1},delete:{orders:1,"orders/{order_id}":1,price_orders:1,"price_orders/{order_id}":1}},margin:{get:{accounts:1.5,account_book:1.5,funding_accounts:1.5,loans:1.5,"loans/{loan_id}":1.5,"loans/{loan_id}/repayment":1.5,loan_records:1.5,"loan_records/{load_record_id}":1.5,auto_repay:1.5,transferable:1.5,"cross/accounts":1.5,"cross/account_book":1.5,"cross/loans":1.5,"cross/loans/{loan_id}":1.5,"cross/loans/repayments":1.5,"cross/transferable":1.5},post:{loans:1.5,merged_loans:1.5,"loans/{loan_id}/repayment":1.5,auto_repay:1.5,"cross/loans":1.5,"cross/loans/repayments":1.5},patch:{"loans/{loan_id}":1.5,"loan_records/{loan_record_id}":1.5},delete:{"loans/{loan_id}":1.5}},futures:{get:{"{settle}/accounts":1.5,"{settle}/account_book":1.5,"{settle}/positions":1.5,"{settle}/positions/{contract}":1.5,"{settle}/orders":1.5,"{settle}/orders/{order_id}":1.5,"{settle}/my_trades":1.5,"{settle}/position_close":1.5,"{settle}/liquidates":1.5,"{settle}/price_orders":1.5,"{settle}/price_orders/{order_id}":1.5},post:{"{settle}/positions/{contract}/margin":1.5,"{settle}/positions/{contract}/leverage":1.5,"{settle}/positions/{contract}/risk_limit":1.5,"{settle}/dual_mode":1.5,"{settle}/dual_comp/positions/{contract}":1.5,"{settle}/dual_comp/positions/{contract}/margin":1.5,"{settle}/dual_comp/positions/{contract}/leverage":1.5,"{settle}/dual_comp/positions/{contract}/risk_limit":1.5,"{settle}/orders":1.5,"{settle}/price_orders":1.5},delete:{"{settle}/orders":1.5,"{settle}/orders/{order_id}":1.5,"{settle}/price_orders":1.5,"{settle}/price_orders/{order_id}":1.5}},delivery:{get:{"{settle}/accounts":1.5,"{settle}/account_book":1.5,"{settle}/positions":1.5,"{settle}/positions/{contract}":1.5,"{settle}/orders":1.5,"{settle}/orders/{order_id}":1.5,"{settle}/my_trades":1.5,"{settle}/position_close":1.5,"{settle}/liquidates":1.5,"{settle}/price_orders":1.5,"{settle}/price_orders/{order_id}":1.5},post:{"{settle}/positions/{contract}/margin":1.5,"{settle}/positions/{contract}/leverage":1.5,"{settle}/positions/{contract}/risk_limit":1.5,"{settle}/orders":1.5,"{settle}/price_orders":1.5},delete:{"{settle}/orders":1.5,"{settle}/orders/{order_id}":1.5,"{settle}/price_orders":1.5,"{settle}/price_orders/{order_id}":1.5}}}},timeframes:{"10s":"10s","1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","8h":"8h","1d":"1d","7d":"7d"},commonCurrencies:{"88MPH":"MPH",BIFI:"Bitcoin File",BOX:"DefiBox",BTCBEAR:"BEAR",BTCBULL:"BULL",BYN:"BeyondFi",EGG:"Goose Finance",GTC:"Game.com",GTC_HT:"Game.com HT",GTC_BSC:"Game.com BSC",HIT:"HitChain",MPH:"Morpher",RAI:"Rai Reflex Index",SBTC:"Super Bitcoin",TNC:"Trinity Network Credit",TON:"TONToken",VAI:"VAIOT"},requiredCredentials:{apiKey:!0,secret:!0},options:{createOrder:{expiration:86400},networks:{TRC20:"TRX",ERC20:"ETH",BEP20:"BSC"},accountsByType:{spot:"spot",margin:"margin",futures:"futures",delivery:"delivery"},defaultType:"spot",swap:{fetchMarkets:{settlementCurrencies:["usdt","btc"]}},futures:{fetchMarkets:{settlementCurrencies:["usdt","btc"]}}},precisionMode:a,fees:{trading:{tierBased:!0,feeSide:"get",percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002"),tiers:{maker:[[this.parseNumber("0"),this.parseNumber("0.002")],[this.parseNumber("1.5"),this.parseNumber("0.00185")],[this.parseNumber("3"),this.parseNumber("0.00175")],[this.parseNumber("6"),this.parseNumber("0.00165")],[this.parseNumber("12.5"),this.parseNumber("0.00155")],[this.parseNumber("25"),this.parseNumber("0.00145")],[this.parseNumber("75"),this.parseNumber("0.00135")],[this.parseNumber("200"),this.parseNumber("0.00125")],[this.parseNumber("500"),this.parseNumber("0.00115")],[this.parseNumber("1250"),this.parseNumber("0.00105")],[this.parseNumber("2500"),this.parseNumber("0.00095")],[this.parseNumber("3000"),this.parseNumber("0.00085")],[this.parseNumber("6000"),this.parseNumber("0.00075")],[this.parseNumber("11000"),this.parseNumber("0.00065")],[this.parseNumber("20000"),this.parseNumber("0.00055")],[this.parseNumber("40000"),this.parseNumber("0.00055")],[this.parseNumber("75000"),this.parseNumber("0.00055")]],taker:[[this.parseNumber("0"),this.parseNumber("0.002")],[this.parseNumber("1.5"),this.parseNumber("0.00195")],[this.parseNumber("3"),this.parseNumber("0.00185")],[this.parseNumber("6"),this.parseNumber("0.00175")],[this.parseNumber("12.5"),this.parseNumber("0.00165")],[this.parseNumber("25"),this.parseNumber("0.00155")],[this.parseNumber("75"),this.parseNumber("0.00145")],[this.parseNumber("200"),this.parseNumber("0.00135")],[this.parseNumber("500"),this.parseNumber("0.00125")],[this.parseNumber("1250"),this.parseNumber("0.00115")],[this.parseNumber("2500"),this.parseNumber("0.00105")],[this.parseNumber("3000"),this.parseNumber("0.00095")],[this.parseNumber("6000"),this.parseNumber("0.00085")],[this.parseNumber("11000"),this.parseNumber("0.00075")],[this.parseNumber("20000"),this.parseNumber("0.00065")],[this.parseNumber("40000"),this.parseNumber("0.00065")],[this.parseNumber("75000"),this.parseNumber("0.00065")]]}},swap:{tierBased:!0,feeSide:"base",percentage:!0,maker:this.parseNumber("0.0"),taker:this.parseNumber("0.0005"),tiers:{maker:[[this.parseNumber("0"),this.parseNumber("0.0000")],[this.parseNumber("1.5"),this.parseNumber("-0.00005")],[this.parseNumber("3"),this.parseNumber("-0.00005")],[this.parseNumber("6"),this.parseNumber("-0.00005")],[this.parseNumber("12.5"),this.parseNumber("-0.00005")],[this.parseNumber("25"),this.parseNumber("-0.00005")],[this.parseNumber("75"),this.parseNumber("-0.00005")],[this.parseNumber("200"),this.parseNumber("-0.00005")],[this.parseNumber("500"),this.parseNumber("-0.00005")],[this.parseNumber("1250"),this.parseNumber("-0.00005")],[this.parseNumber("2500"),this.parseNumber("-0.00005")],[this.parseNumber("3000"),this.parseNumber("-0.00008")],[this.parseNumber("6000"),this.parseNumber("-0.01000")],[this.parseNumber("11000"),this.parseNumber("-0.01002")],[this.parseNumber("20000"),this.parseNumber("-0.01005")],[this.parseNumber("40000"),this.parseNumber("-0.02000")],[this.parseNumber("75000"),this.parseNumber("-0.02005")]],taker:[[this.parseNumber("0"),this.parseNumber("0.00050")],[this.parseNumber("1.5"),this.parseNumber("0.00048")],[this.parseNumber("3"),this.parseNumber("0.00046")],[this.parseNumber("6"),this.parseNumber("0.00044")],[this.parseNumber("12.5"),this.parseNumber("0.00042")],[this.parseNumber("25"),this.parseNumber("0.00040")],[this.parseNumber("75"),this.parseNumber("0.00038")],[this.parseNumber("200"),this.parseNumber("0.00036")],[this.parseNumber("500"),this.parseNumber("0.00034")],[this.parseNumber("1250"),this.parseNumber("0.00032")],[this.parseNumber("2500"),this.parseNumber("0.00030")],[this.parseNumber("3000"),this.parseNumber("0.00030")],[this.parseNumber("6000"),this.parseNumber("0.00030")],[this.parseNumber("11000"),this.parseNumber("0.00030")],[this.parseNumber("20000"),this.parseNumber("0.00030")],[this.parseNumber("40000"),this.parseNumber("0.00030")],[this.parseNumber("75000"),this.parseNumber("0.00030")]]}}},exceptions:{exact:{INVALID_PARAM_VALUE:o,INVALID_PROTOCOL:o,INVALID_ARGUMENT:o,INVALID_REQUEST_BODY:o,MISSING_REQUIRED_PARAM:c,BAD_REQUEST:o,INVALID_CONTENT_TYPE:o,NOT_ACCEPTABLE:o,METHOD_NOT_ALLOWED:o,NOT_FOUND:n,INVALID_CREDENTIALS:h,INVALID_KEY:h,IP_FORBIDDEN:h,READ_ONLY:d,INVALID_SIGNATURE:h,MISSING_REQUIRED_HEADER:h,REQUEST_EXPIRED:h,ACCOUNT_LOCKED:u,FORBIDDEN:d,SUB_ACCOUNT_NOT_FOUND:n,SUB_ACCOUNT_LOCKED:u,MARGIN_BALANCE_EXCEPTION:n,MARGIN_TRANSFER_FAILED:n,TOO_MUCH_FUTURES_AVAILABLE:n,FUTURES_BALANCE_NOT_ENOUGH:l,ACCOUNT_EXCEPTION:n,SUB_ACCOUNT_TRANSFER_FAILED:n,ADDRESS_NOT_USED:n,TOO_FAST:f,WITHDRAWAL_OVER_LIMIT:n,API_WITHDRAW_DISABLED:p,INVALID_WITHDRAW_ID:n,INVALID_WITHDRAW_CANCEL_STATUS:n,INVALID_PRECISION:g,INVALID_CURRENCY:m,INVALID_CURRENCY_PAIR:m,POC_FILL_IMMEDIATELY:n,ORDER_NOT_FOUND:y,ORDER_CLOSED:g,ORDER_CANCELLED:g,QUANTITY_NOT_ENOUGH:g,BALANCE_NOT_ENOUGH:l,MARGIN_NOT_SUPPORTED:g,MARGIN_BALANCE_NOT_ENOUGH:l,AMOUNT_TOO_LITTLE:g,AMOUNT_TOO_MUCH:g,REPEATED_CREATION:g,LOAN_NOT_FOUND:y,LOAN_RECORD_NOT_FOUND:y,NO_MATCHED_LOAN:n,NOT_MERGEABLE:n,NO_CHANGE:n,REPAY_TOO_MUCH:n,TOO_MANY_CURRENCY_PAIRS:g,TOO_MANY_ORDERS:g,MIXED_ACCOUNT_TYPE:g,AUTO_BORROW_TOO_MUCH:n,TRADE_RESTRICTED:l,USER_NOT_FOUND:n,CONTRACT_NO_COUNTER:n,CONTRACT_NOT_FOUND:m,RISK_LIMIT_EXCEEDED:n,INSUFFICIENT_AVAILABLE:l,LIQUIDATE_IMMEDIATELY:g,LEVERAGE_TOO_HIGH:g,LEVERAGE_TOO_LOW:g,ORDER_NOT_OWNED:n,ORDER_FINISHED:n,POSITION_CROSS_MARGIN:n,POSITION_IN_LIQUIDATION:n,POSITION_IN_CLOSE:n,POSITION_EMPTY:g,REMOVE_TOO_MUCH:n,RISK_LIMIT_NOT_MULTIPLE:n,RISK_LIMIT_TOO_HIGH:n,RISK_LIMIT_TOO_lOW:n,PRICE_TOO_DEVIATED:g,SIZE_TOO_LARGE:g,SIZE_TOO_SMALL:g,PRICE_OVER_LIQUIDATION:g,PRICE_OVER_BANKRUPT:g,ORDER_POC_IMMEDIATE:g,INCREASE_POSITION:g,CONTRACT_IN_DELISTING:n,INTERNAL:n,SERVER_ERROR:n,TOO_BUSY:p}},broad:{}})}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type"),a="spot"===i,o="margin"===i,c="futures"===i,h="swap"===i,d="option"===i;if(!(a||o||c||h))throw new n(this.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'swap' or 'futures'");let u;const l=[],f=this.getSupportedMapping(i,{spot:"publicSpotGetCurrencyPairs",margin:"publicMarginGetCurrencyPairs",swap:"publicFuturesGetSettleContracts",futures:"publicDeliveryGetSettleContracts"});if(h||c||d){const e=this.getSettlementCurrencies(i,"fetchMarkets");for(let t=0;t<e.length;t++){const n=e[t];r.settle=n,u=await this[f](r);for(let e=0;e<u.length;e++){const t=u[e],r=this.safeString(t,"name"),f=r.split("_"),p=this.safeString(f,0),m=this.safeString(f,1),g=this.safeString(f,2),y=m.toLowerCase()===n,b=p.toLowerCase()===n,v=this.safeCurrencyCode(p),w=this.safeCurrencyCode(m);let k="";k=void 0!==g?v+"/"+w+":"+this.safeCurrencyCode(n)+"-"+g:v+"/"+w+":"+this.safeCurrencyCode(n);const S=this.safeString(t,"order_price_deviate"),_=this.safeString(t,"mark_price"),M=s.stringSub("1",S),T=s.stringAdd("1",S),O=s.stringMul(M,_),x=s.stringMul(T,_),I=this.safeString(t,"taker_fee_rate"),C=this.safeString(t,"maker_fee_rate",I),A="futures"===i?"swap":i,E=this.safeNumber(t,"order_price_round");l.push({info:t,id:r,baseId:p,quoteId:m,settleId:this.safeSymbol(n),base:v,quote:w,symbol:k,type:i,spot:a,margin:o,futures:c,swap:h,option:d,derivative:!0,contract:!0,linear:y,inverse:b,taker:this.parseNumber(s.stringDiv(I,"100")),maker:this.parseNumber(s.stringDiv(C,"100")),contractSize:this.safeString(t,"quanto_multiplier"),precision:{amount:this.parseNumber("1"),price:E},limits:{leverage:{min:this.safeNumber(t,"leverage_min"),max:this.safeNumber(t,"leverage_max")},amount:{min:this.safeNumber(t,"order_size_min"),max:this.safeNumber(t,"order_size_max")},price:{min:O,max:x}},expiry:this.safeInteger(t,"expire_time"),fees:this.safeValue(this.fees,A,{})})}}}else{u=await this[f](r);for(let e=0;e<u.length;e++){const t=u[e],r=this.safeString(t,"id"),a="spot"===i,n="futures"===i,c="swap"===i,h="option"===i,[d,f]=r.split("_"),p=this.safeCurrencyCode(d),m=this.safeCurrencyCode(f),g=p+"/"+m,y=this.safeString(t,"fee"),b=this.safeString(t,"maker_fee_rate",y),v=this.safeString(t,"amount_precision"),w=this.safeString(t,"precision"),k=this.parseNumber(this.parsePrecision(v)),S=this.parseNumber(this.parsePrecision(w)),_=this.safeString(t,"trade_status");l.push({info:t,id:r,baseId:d,quoteId:f,settleId:void 0,base:p,quote:m,symbol:g,type:i,spot:a,margin:o,futures:n,swap:c,option:h,contract:!1,derivative:!1,linear:!1,inverse:!1,taker:this.parseNumber(s.stringDiv(y,"100")),maker:this.parseNumber(s.stringDiv(b,"100")),precision:{amount:k,price:S},active:"tradable"===_,limits:{amount:{min:k,max:void 0},price:{min:S,max:void 0},cost:{min:this.safeNumber(t,"min_quote_amount"),max:void 0},leverage:{max:this.safeNumber(t,"lever",1)}}})}}return l}prepareRequest(e){return e.contract?{contract:e.id,settle:e.settleId}:{currency_pair:e.id}}getSettlementCurrencies(e,t){const i=this.safeValue(this.options,e,{}),r=this.safeValue(i,t,{}),s="swap"===e?["usdt"]:["btc"];return this.safeValue(r,"settlementCurrencies",s)}async fetchCurrencies(e={}){const t=await this.publicSpotGetCurrencies(e),i={},r=this.parseNumber("1e-6");for(let e=0;e<t.length;e++){const s=t[e],a=this.safeString(s,"currency"),n=this.safeCurrencyCode(a),o=this.safeValue(s,"delisted"),c=this.safeValue(s,"withdraw_disabled"),h=this.safeValue(s,"disabled_disabled"),d=this.safeValue(s,"trade_disabled"),u=!(o&&c&&h&&d);i[n]={id:a,name:void 0,code:n,precision:r,info:s,active:u,fee:void 0,fees:[],limits:this.limits}}return i}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e),r={contract:i.id,settle:i.quote.toLowerCase()},s=await this.publicFuturesGetSettleContractsContract(this.extend(r,t));return this.parseFundingRate(s)}async fetchFundingRates(e,t={}){await this.loadMarkets();const i={settle:this.safeString(t,"settle").toLowerCase()},r=await this.publicFuturesGetSettleContracts(this.extend(i,t)),s=this.parseFundingRates(r);return this.filterByArray(s,"symbol",e)}parseFundingRate(e,t){const i=this.safeString(e,"name"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"mark_price"),a=this.safeNumber(e,"index_price"),n=this.safeNumber(e,"interest_rate"),o=this.safeString(e,"funding_rate"),c=1e3*this.safeString(e,"funding_interval"),h=1e3*this.safeInteger(e,"funding_next_apply"),d=1e3*this.safeNumber(e,"funding_next_apply")-c,u=this.safeNumber(e,"funding_rate_indicative"),l=this.milliseconds();return{info:e,symbol:r,markPrice:s,indexPrice:a,interestRate:n,estimatedSettlePrice:void 0,timestamp:l,datetime:this.iso8601(l),previousFundingRate:o,nextFundingRate:u,previousFundingTimestamp:d,nextFundingTimestamp:h,previousFundingDatetime:this.iso8601(d),nextFundingDatetime:this.iso8601(h)}}async fetchNetworkDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateWalletGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"multichain_addresses"),a=this.safeString(r,"currency");e=this.safeCurrencyCode(a);const n={};for(let t=0;t<s.length;t++){const i=s[t];if(this.safeInteger(i,"obtain_failed"))continue;const r=this.safeString(i,"chain"),a=this.safeString(i,"address");let o=this.safeString(i,"payment_id");o=o.length?o:void 0,n[r]={info:i,code:e,address:a,tag:o}}return n}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateWalletGetDepositAddress(this.extend(i,t)),s=this.safeString(r,"currency");e=this.safeCurrencyCode(s);const a=this.safeString(r,"address");let n,o;if(a.indexOf(" ")>=0){const e=a.split(" ");o=e[0],n=e[1]}else o=a;return{info:r,code:e,address:o,tag:n,network:void 0}}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateWalletGetFee(e),i={},r=this.safeNumber(t,"taker_fee"),s=this.safeNumber(t,"maker_fee");for(let e=0;e<this.symbols.length;e++){const a=this.symbols[e];i[a]={maker:s,taker:r,info:t,symbol:a}}return i}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privateWalletGetWithdrawStatus(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s);i[a]={};let n=this.safeValue(r,"withdraw_fix_on_chains");void 0===n&&(n={},n[a]=this.safeNumber(r,"withdraw_fix"));const o=Object.keys(n);for(let e=0;e<o.length;e++){const t=o[e];i[a][t]=this.parseNumber(n[t])}}return{info:t,withdraw:i,deposit:{}}}async fetchFundingHistory(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchFundingHistory() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=this.prepareRequest(s);a.type="fund",void 0!==t&&(a.from=t),void 0!==i&&(a.limit=i);const n=this.getSupportedMapping(s.type,{swap:"privateFuturesGetSettleAccountBook",futures:"privateDeliveryGetSettleAccountBook"}),o=await this[n](this.extend(a,r)),h=[];for(let t=0;t<o.length;t++){const i=o[t],r=this.safeTimestamp(i,"time");h.push({info:i,symbol:e,code:this.safeCurrencyCode(this.safeString(i,"text")),timestamp:r,datetime:this.iso8601(r),id:void 0,amount:this.safeNumber(i,"change")})}const d=this.sortBy(h,"timestamp");return this.filterBySymbolSinceLimit(d,e,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s=this.prepareRequest(r),a=r.spot||r.margin,n=this.getSupportedMapping(r.type,{spot:"publicSpotGetOrderBook",margin:"publicSpotGetOrderBook",swap:"publicFuturesGetSettleOrderBook",futures:"publicDeliveryGetSettleOrderBook"});void 0!==t&&(s.limit=t);const o=await this[n](this.extend(s,i));let c=this.safeInteger(o,"current");a||(c*=1e3);const h=a?0:"p",d=a?1:"s";return this.parseOrderBook(o,e,c,"bids","asks",h,d)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.prepareRequest(i),s=this.getSupportedMapping(i.type,{spot:"publicSpotGetTickers",margin:"publicSpotGetTickers",swap:"publicFuturesGetSettleTickers",futures:"publicDeliveryGetSettleTickers"}),a=await this[s](this.extend(r,t)),n=this.safeValue(a,0);return this.parseTicker(n,i)}parseTicker(e,t){const i=this.safeString2(e,"currency_pair","contract"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"last"),a=this.safeNumber(e,"lowest_ask"),n=this.safeNumber(e,"highest_bid"),o=this.safeNumber(e,"high_24h"),c=this.safeNumber(e,"low_24h"),h=this.safeNumber2(e,"base_volume","volume_24h_base"),d=this.safeNumber2(e,"quote_volume","volume_24h_quote"),u=this.safeNumber(e,"change_percentage");return this.safeTicker({symbol:r,timestamp:void 0,datetime:void 0,high:o,low:c,bid:n,bidVolume:void 0,ask:a,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:u,average:void 0,baseVolume:h,quoteVolume:d,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchTickers","defaultType","spot"),r=this.safeString(t,"type",i);t=this.omit(t,"type");const s=this.getSupportedMapping(r,{spot:"publicSpotGetTickers",margin:"publicSpotGetTickers",swap:"publicFuturesGetSettleTickers",futures:"publicDeliveryGetSettleTickers"}),a={},n="futures"===r,o="swap"===r,c=this.safeString(t,"settle");(o||n)&&void 0===c&&(a.settle=o?"usdt":"btc");const h=await this[s](this.extend(a,t));return this.parseTickers(h,e)}fetchBalanceHelper(e){const t=this.account();return t.used=this.safeString2(e,"locked","position_margin"),t.free=this.safeString(e,"available"),t}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t);e=this.omit(e,"type");const r="swap"===i,s="futures"===i,a=this.getSupportedMapping(i,{spot:"privateSpotGetAccounts",margin:"privateMarginGetAccounts",swap:"privateFuturesGetSettleAccounts",futures:"privateDeliveryGetSettleAccounts"}),n={};let o=[];if(r||s){const t=r?"usdt":"btc";n.settle=this.safeString(e,"settle",t),o=[await this[a](this.extend(n,e))]}else o=await this[a](this.extend(n,e));const c="margin"===i,h={info:o};for(let e=0;e<o.length;e++){const t=o[e];if(c){const e=this.safeString(t,"currency_pair"),i=this.safeSymbol(e,void 0,"_"),r=this.safeValue(t,"base",{}),s=this.safeValue(t,"quote",{}),a=this.safeCurrencyCode(this.safeString(r,"currency",{})),n=this.safeCurrencyCode(this.safeString(s,"currency",{})),o={};o[a]=this.fetchBalanceHelper(r),o[n]=this.fetchBalanceHelper(s),h[i]=this.parseBalance(o)}else h[this.safeCurrencyCode(this.safeString(t,"currency",{}))]=this.fetchBalanceHelper(t)}return c?h:this.parseBalance(h)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(s,"price"),o=this.prepareRequest(a);o.interval=this.timeframes[t];let c="publicSpotGetCandlesticks";if(a.contract){a.futures?c="publicDeliveryGetSettleCandlesticks":a.swap&&(c="publicFuturesGetSettleCandlesticks");const e="index"===n;("mark"===n||e)&&(o.contract=n+"_"+a.id,s=this.omit(s,"price"))}if(void 0===i)void 0!==r&&(o.limit=r);else{const e=this.parseTimeframe(t),s=1e3*e;i=this.sum(i-i%s,s),o.from=parseInt(i/1e3),void 0!==r&&(o.to=this.sum(o.from,r*e-1))}const h=await this[c](this.extend(o,s));return this.parseOHLCVs(h,a,t,i,r)}async fetchMarkOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"mark"},s))}async fetchFundingRateHistory(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchFundingRateHistory() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={contract:s.id,settle:s.settleId};void 0!==i&&(a.limit=i);const n=await this.publicFuturesGetSettleFundingRate(this.extend(a,r)),o=[];for(let t=0;t<n.length;t++){const i=n[t],r=this.safeTimestamp(i,"t");o.push({info:i,symbol:e,fundingRate:this.safeNumber(i,"r"),timestamp:r,datetime:this.iso8601(r)})}const h=this.sortBy(o,"timestamp");return this.filterBySymbolSinceLimit(h,e,t,i)}async fetchIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}parseOHLCV(e,t){return Array.isArray(e)?[this.safeTimestamp(e,0),this.safeNumber(e,5),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,1)]:[this.safeTimestamp(e,"t"),this.safeNumber(e,"o"),this.safeNumber(e,"h"),this.safeNumber(e,"l"),this.safeNumber(e,"c"),this.safeNumber(e,"v")]}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.prepareRequest(s),n=this.getSupportedMapping(s.type,{spot:"publicSpotGetTrades",margin:"publicSpotGetTrades",swap:"publicFuturesGetSettleTrades",futures:"publicDeliveryGetSettleTrades"});void 0!==i&&(a.limit=i),void 0!==t&&s.contract&&(a.from=parseInt(t/1e3));const o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.prepareRequest(s);void 0!==i&&(a.limit=i),void 0!==t&&(a.from=parseInt(t/1e3));const n=this.getSupportedMapping(s.type,{spot:"privateSpotGetMyTrades",margin:"privateSpotGetMyTrades",swap:"privateFuturesGetSettleMyTrades",futures:"privateDeliveryGetSettleMyTrades"}),o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"create_time"),a=this.safeString2(e,"create_time_ms","time",r);let n;if(a.indexOf(".")>0){const e=a.split(".");n=parseInt(e[0])}t.contract&&(n*=1e3);const o=this.safeString2(e,"currency_pair","contract"),c=this.safeSymbol(o,t);let h=this.safeString2(e,"amount","size");const d=this.safeString(e,"price"),u=s.stringAbs(s.stringMul(h,d)),l=this.parseNumber(d),f=this.parseNumber(u),p=s.stringLt(h,"0")?"sell":"buy";h=s.stringAbs(h);const m=this.parseNumber(h),g=this.safeString(e,"side",p),y=this.safeString(e,"order_id"),b=this.safeString(e,"gt_fee");let v,w;"0"===b?(v=this.safeString(e,"fee_currency"),w=this.safeNumber(e,"fee")):(v="GT",w=this.parseNumber(b));const k={cost:w,currency:v},S=this.safeString(e,"role");return{info:e,id:i,timestamp:n,datetime:this.iso8601(n),symbol:c,order:y,type:void 0,side:g,takerOrMaker:S,price:l,amount:m,cost:f,fee:k}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.from=parseInt(t/1e3),s.to=t+2592e3);const n=await this.privateWalletGetDeposits(this.extend(s,r));return this.parseTransactions(n,a)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.from=parseInt(t/1e3),s.to=t+2592e3);const n=await this.privateWalletGetWithdrawals(this.extend(s,r));return this.parseTransactions(n,a)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,address:i,amount:this.currencyToPrecision(e,t)};void 0!==r&&(a.memo=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeStringLower(n,o,o),void 0!==o&&(a.chain=o,s=this.omit(s,"network"));const c=await this.privateWithdrawalsPost(this.extend(a,s)),h=this.safeString(c,"currency");return{info:c,id:this.safeString(c,"id"),code:this.safeCurrencyCode(h),amount:this.safeNumber(c,"amount"),address:this.safeString(c,"address"),tag:this.safeString(c,"memo")}}parseTransactionStatus(e){return this.safeString({PEND:"pending",REQUEST:"pending",DMOVE:"pending",CANCEL:"failed",DONE:"ok"},e,e)}parseTransactionType(e){return this.safeString({d:"deposit",w:"withdrawal"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id");let r;void 0!==i&&(r=this.parseTransactionType(i[0]));const s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.safeNumber(e,"amount"),o=this.safeString(e,"txid"),c=this.safeString(e,"status"),h=this.parseTransactionStatus(c),d=this.safeString(e,"address"),u=this.safeNumber(e,"fee");let l=this.safeString(e,"memo");""===l&&(l=void 0);const f=this.safeTimestamp(e,"timestamp");return{info:e,id:i,txid:o,currency:a,amount:n,address:d,tag:l,status:h,type:r,timestamp:f,datetime:this.iso8601(f),fee:u}}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const h=this.market(e),d=h.contract,u=this.safeNumber(n,"stopPrice");let l="Orders";const f=this.safeValue2(n,"reduce_only","reduceOnly"),p=this.safeValue2(n,"tif","time_in_force","gtc");let m=this.safeValue(n,"timeInForce",p);n=this.omit(n,["stopPrice","reduce_only","reduceOnly","tif","time_in_force","timeInForce"]);const y="limit"===t,b="market"===t;if(y&&void 0===a)throw new c(this.id+" createOrder() requires a price argument for "+t+" orders");if(d){const t=this.amountToPrecision(e,r),n="sell"===i?s.stringNeg(t):t;r=parseInt(n),b&&(m="ioc",a=0)}else if(!y)throw new g(this.id+" createOrder() does not support "+t+" orders for "+h.type+" markets");let v;const w=this.safeValue(n,"trigger");if(void 0===u&&void 0===w){if(d)v={contract:h.id,size:r,price:this.priceToPrecision(e,a),settle:h.settleId},void 0!==f&&(v.reduce_only=f),void 0!==m&&(v.tif=m);else{const s=this.safeValue(this.options,"createOrder",{}),o=this.safeString(s,"account","spot"),c=this.safeString(n,"account",o);n=this.omit(n,"account"),v={currency_pair:h.id,type:t,account:c,side:i,amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,a)},void 0!==m&&(v.time_in_force=m)}let s=this.safeString2(n,"text","clientOrderId");if(void 0!==s){if(s.length>28)throw new o(this.id+" createOrder() clientOrderId or text param must be up to 28 characters");n=this.omit(n,["text","clientOrderId"]),"t"!==s[0]&&(s="t-"+s),v.text=s}}else{if(d){const t="sell"===i?1:2;v={initial:{contract:h.id,size:r,price:this.priceToPrecision(e,a)},trigger:{price:this.priceToPrecision(e,u),rule:t},settle:h.settleId};const s=this.safeInteger(n,"expiration");void 0!==s&&(v.trigger.expiration=s,n=this.omit(n,"expiration")),void 0!==f&&(v.initial.reduce_only=f),void 0!==m&&(v.initial.tif=m)}else{const s=this.safeValue(this.options,"createOrder",{}),o=this.safeString(s,"account","normal"),c=this.safeString(n,"account",o);n=this.omit(n,"account");const d=this.safeInteger(s,"expiration"),l=this.safeInteger(n,"expiration",d),f="sell"===i?">=":"<=",p=this.safeValue(w,"price",u);v={trigger:{price:this.priceToPrecision(e,p),rule:f,expiration:l},put:{type:t,side:i,price:this.priceToPrecision(e,a),amount:this.amountToPrecision(e,r),account:c,time_in_force:m},market:h.id}}l="PriceOrders"}const k=this.getSupportedMapping(h.type,{spot:"privateSpotPost"+l,margin:"privateSpotPost"+l,swap:"privateFuturesPostSettle"+l,future:"privateDeliveryPostSettle"+l}),S=await this[k](this.deepExtend(v,n));return this.parseOrder(S,h)}parseOrderStatus(e){return this.safeString({filled:"closed",cancelled:"canceled",liquidated:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString2(e,"currency_pair","contract"),a=this.safeSymbol(r,t);let n=this.safeTimestamp(e,"create_time");n=this.safeInteger(e,"create_time_ms",n);let o=this.safeTimestamp(e,"update_time");o=this.safeInteger(e,"update_time_ms",o);const c=this.safeString2(e,"amount","size"),h=s.stringAbs(c),d=this.safeString(e,"price"),u=this.safeString(e,"left"),l=this.safeString(e,"filled_total");let f,p;this.safeValue(t,"contract")?(p=h?s.stringGt(c,"0")?"buy":"sell":void 0,f=this.safeString(e,"finish_as","open")):(f=this.safeString(e,"status"),p=this.safeString(e,"side"));const m=this.parseOrderStatus(f),g=this.safeString(e,"type"),y=this.safeStringUpper2(e,"time_in_force","tif"),b=[],v=this.safeNumber(e,"gt_fee");v&&b.push({currency:"GT",cost:v});const w=this.safeNumber(e,"fee");w&&b.push({currency:this.safeCurrencyCode(this.safeString(e,"fee_currency")),cost:w});const k=this.safeString(e,"rebated_fee");k&&b.push({currency:this.safeCurrencyCode(this.safeString(e,"rebated_fee_currency")),cost:this.parseNumber(s.stringNeg(k))});const S=this.safeNumber(e,"mkfr"),_=this.safeNumber(e,"tkfr");return S&&b.push({currency:this.safeCurrencyCode(this.safeString(e,"settleId")),cost:S}),_&&b.push({currency:this.safeCurrencyCode(this.safeString(t,"settleId")),cost:_}),this.safeOrder2({id:i,clientOrderId:i,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:o,status:m,symbol:a,type:g,timeInForce:y,postOnly:void 0,side:p,price:d,stopPrice:void 0,average:void 0,amount:h,cost:l,filled:void 0,remaining:u,fee:void 0,fees:b,trades:void 0,info:e},t)}async fetchOrder(e,t,i={}){if(void 0===t)throw new c(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e};r.spot||r.margin?s.currency_pair=r.id:s.settle=r.settleId;const a=this.getSupportedMapping(r.type,{spot:"privateSpotGetOrdersOrderId",swap:"privateFuturesGetSettleOrdersOrderId",futures:"privateDeliveryGetSettlePriceOrdersOrderId"}),n=await this[a](this.extend(s,i));return this.parseOrder(n,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),a=this.safeString(r,"type",s);if(void 0===e&&"spot"===a||"margin"===a||"cross_margin"===a){const e={account:a};void 0!==i&&(e.limit=i);const s=await this.privateSpotGetOpenOrders(this.extend(e,r));let n=[];for(let e=0;e<s.length;e++){const r=s[e],a=this.safeValue(r,"orders",[]),o=this.parseOrders(a,void 0,t,i);n=this.arrayConcat(n,o)}return this.filterBySinceLimit(n,t,i)}return await this.fetchOrdersByStatus("open",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("finished",e,t,i,r)}async fetchOrdersByStatus(e,t,i,r,s={}){if(void 0===t)throw new c(this.id+" fetchOrdersByStatus requires a symbol argument");await this.loadMarkets();const a=this.market(t),n=this.prepareRequest(a);n.status=e,void 0!==r&&(n.limit=r),void 0!==i&&(a.spot||a.margin)&&(n.start=parseInt(i/1e3));const o=this.getSupportedMapping(a.type,{spot:"privateSpotGetOrders",margin:"privateSpotGetOrders",swap:"privateFuturesGetSettleOrders",futures:"privateDeliveryGetSettleOrders"});"margin"!==a.type&&"cross_margin"!==a.type||(n.account=a.type);const h=await this[o](this.extend(n,s));return this.parseOrders(h,a,i,r)}async cancelOrder(e,t,i={}){if(void 0===t)throw new c(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_id:e};r.contract?s.settle=r.settleId:s.currency_pair=r.id;const a=this.getSupportedMapping(r.type,{spot:"privateSpotDeleteOrdersOrderId",margin:"privateSpotDeleteOrdersOrderId",swap:"privateFuturesDeleteSettleOrdersOrderId",futures:"privateDeliveryDeleteSettleOrdersOrderId"}),n=await this[a](this.extend(s,i));return this.parseOrder(n,r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.privateSpotDeleteOrders(this.extend(i,t))}async transfer(e,t,i,r,s={}){await this.loadMarkets();const a=this.currency(e),o=this.safeValue(this.options,"accountsByType",{}),c=this.safeString(o,i,i),h=this.safeString(o,r,r);if(void 0===c){const e=Object.keys(o);throw new n(this.id+" fromAccount must be one of "+e.join(", "))}if(void 0===h){const e=Object.keys(o);throw new n(this.id+" toAccount must be one of "+e.join(", "))}const d=this.currencyToPrecision(e,t),u={currency:a.id,from:c,to:h,amount:d};return"futures"!==h&&"delivery"!==h||(u.settle=a.id),{info:await this.privateWalletPostTransfers(this.extend(u,s)),from:c,to:h,amount:d,code:e}}async setLeverage(e,t,i={}){if(void 0===t)throw new c(this.id+" setLeverage() requires a symbol argument");if(e<0||e>100)throw new o(this.id+" leverage should be between 1 and 100");await this.loadMarkets();const r=this.market(t),s=this.getSupportedMapping(r.type,{swap:"privateFuturesPostSettlePositionsContractLeverage",futures:"privateDeliveryPostSettlePositionsContractLeverage"}),a=this.prepareRequest(r);if(a.query={leverage:e.toString()},"cross_leverage_limit"in i){if(0!==e)throw new o(this.id+" cross margin leverage(valid only when leverage is 0)");a.cross_leverage_limit=i.cross_leverage_limit.toString(),i=this.omit(i,"cross_leverage_limit")}return await this[s](this.extend(a,i))}parsePosition(e,t){const i=this.safeValue(e,"contract");t=this.safeMarket(i,t);const r=this.milliseconds(),a=this.safeString(e,"size");let n;a>0?n="buy":a<0&&(n="sell");const o=this.safeString(e,"maintenance_rate"),c=this.safeString(e,"value"),h=this.safeString(e,"margin"),d=this.safeString(e,"unrealised_pnl");return{info:e,symbol:this.safeString(t,"symbol"),timestamp:r,datetime:this.iso8601(r),initialMargin:this.parseNumber(h),initialMarginPercentage:this.parseNumber(s.stringDiv(h,c)),maintenanceMargin:this.parseNumber(s.stringMul(o,c)),maintenanceMarginPercentage:this.parseNumber(o),entryPrice:this.safeNumber(e,"entry_price"),notional:this.parseNumber(c),leverage:this.safeNumber(e,"leverage"),unrealizedPnl:this.parseNumber(d),contracts:this.parseNumber(a),contractSize:this.safeNumber(t,"contractSize"),marginRatio:void 0,liquidationPrice:this.safeNumber(e,"liq_price"),markPrice:this.safeNumber(e,"mark_price"),collateral:void 0,marginType:void 0,side:n,percentage:this.parseNumber(s.stringDiv(d,h))}}parsePositions(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parsePosition(e[i]));return t}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchPositions","defaultType","swap"),r=this.safeString(t,"type",i),s=this.getSupportedMapping(r,{swap:"privateFuturesGetSettlePositions",futures:"privateDeliveryGetSettlePositions"}),a="swap"===r?"usdt":"btc",n={settle:this.safeString(t,"settle",a)},o=await this[s](n),c=this.parsePositions(o);return this.filterByArray(c,"symbol",e,!1)}sign(e,t=[],i="GET",r={},s,a){const n=t[0],o=t[1];let c=this.omit(r,this.extractParams(e));const h="/"+o+(""===(e=this.implodeParams(e,r))?"":"/"+e);let d=this.urls.api[n]+h;if("public"===n)Object.keys(c).length&&(d+="?"+this.urlencode(c));else{let e="";if("GET"===i||"DELETE"===i)Object.keys(c).length&&(e=this.urlencode(c),d+="?"+e);else{const t=this.safeValue(c,"query",{});Object.keys(t).length&&(e=this.urlencode(t),d+="?"+e),c=this.omit(c,"query"),a=this.json(c)}const t=void 0===a?"":a,r=this.hash(this.encode(t),"sha512"),n=this.seconds().toString(),o="/api/"+this.version+h,u=[i.toUpperCase(),o,e,r,n].join("\n"),l=this.hmac(this.encode(u),this.encode(this.secret),"sha512");s={KEY:this.apiKey,Timestamp:n,SIGN:l,"Content-Type":"application/json"}}return{url:d,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0===o)return;const d=this.safeString(o,"label");if(void 0!==d){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),new n(e)}}}},23094:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidOrder:c,InvalidNonce:h,InsufficientFunds:d,AuthenticationError:u,PermissionDenied:l,NotSupported:f,OnMaintenance:p,RateLimitExceeded:m,ExchangeNotAvailable:g}=i(73449),{TICK_SIZE:y}=i(62115),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchBidsAsks:void 0,fetchClosedOrders:void 0,fetchDepositAddress:void 0,fetchDeposits:void 0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:void 0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:{public:"https://api.gemini.com",private:"https://api.gemini.com",web:"https://docs.gemini.com"},www:"https://gemini.com/",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:{public:"https://api.sandbox.gemini.com",private:"https://api.sandbox.gemini.com",web:"https://docs.gemini.com"},fees:["https://gemini.com/api-fee-schedule","https://gemini.com/trading-fees","https://gemini.com/transfer-fees"]},api:{web:{get:["rest-api"]},public:{get:["v1/symbols","v1/symbols/details/{symbol}","v1/pubticker/{symbol}","v2/ticker/{symbol}","v2/candles/{symbol}/{timeframe}","v1/trades/{symbol}","v1/auction/{symbol}","v1/auction/{symbol}/history","v1/pricefeed","v1/book/{symbol}","v1/earn/rates"]},private:{post:["v1/order/new","v1/order/cancel","v1/wrap/{symbol}","v1/order/cancel/session","v1/order/cancel/all","v1/order/status","v1/orders","v1/mytrades","v1/notionalvolume","v1/tradevolume","v1/clearing/new","v1/clearing/status","v1/clearing/cancel","v1/clearing/confirm","v1/balances","v1/notionalbalances/{currency}","v1/transfers","v1/addresses/{network}","v1/deposit/{network}/newAddress","v1/deposit/{currency}/newAddress","v1/withdraw/{currency}","v1/account/transfer/{currency}","v1/payments/addbank","v1/payments/methods","v1/payments/sen/withdraw","v1/balances/earn","v1/earn/interest","v1/approvedAddresses/{network}/request","v1/approvedAddresses/account/{network}","v1/approvedAddresses/{network}/remove","v1/account","v1/account/create","v1/account/list","v1/heartbeat"]}},precisionMode:y,fees:{trading:{taker:.0035,maker:.001}},httpExceptions:{400:n,403:l,404:o,406:d,429:m,500:s,502:g,503:p},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1hr","6h":"6hr","1d":"1day"},exceptions:{exact:{AuctionNotOpen:n,ClientOrderIdTooLong:n,ClientOrderIdMustBeString:n,ConflictingOptions:n,EndpointMismatch:n,EndpointNotFound:n,IneligibleTiming:n,InsufficientFunds:d,InvalidJson:n,InvalidNonce:h,InvalidOrderType:c,InvalidPrice:c,InvalidQuantity:c,InvalidSide:c,InvalidSignature:u,InvalidSymbol:n,InvalidTimestampInPayload:n,Maintenance:p,MarketNotOpen:c,MissingApikeyHeader:u,MissingOrderField:c,MissingRole:u,MissingPayloadHeader:u,MissingSignatureHeader:u,NoSSL:u,OptionsMustBeArray:n,OrderNotFound:o,RateLimit:m,System:s,UnsupportedOption:n},broad:{"The Gemini Exchange is currently undergoing maintenance.":p,"We are investigating technical issues with the Gemini Exchange.":g}},options:{fetchMarketsMethod:"fetch_markets_from_web",fetchTickerMethod:"fetchTickerV1",networkIds:{bitcoin:"BTC",ethereum:"ERC20",bitcoincash:"BCH",litecoin:"LTC",zcash:"ZEC",filecoin:"FIL",dogecoin:"DOGE",tezos:"XTZ"},networks:{BTC:"bitcoin",ERC20:"ethereum",BCH:"bitcoincash",LTC:"litecoin",ZEC:"zcash",FIL:"filecoin",DOGE:"dogecoin",XTZ:"tezos"}}})}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarketsMethod","fetch_markets_from_api");return await this[t](e)}async fetchMarketsFromWeb(e={}){const t=(await this.webGetRestApi(e)).split('<h1 id="symbols-and-minimums">Symbols and minimums</h1>'),i=t.length,r=this.id+" the "+this.name+" API doc HTML markup has changed, breaking the parser of order limits and precision info for "+this.name+" markets.";if(2!==i)throw new f(r);const s=t[1].split("tbody>");if(s.length<2)throw new f(r);const a=s[1].split("\n<tr>\n"),n=a.length;if(n<2)throw new f(r);const o=[];for(let e=1;e<n;e++){const t=a[e],i=t.split("</td>\n");if(i.length<5)throw new f(r);const s=i[0].replace("<td>",""),n=i[1].replace("<td>","").split(" "),c=this.safeNumber(n,0),h=i[2].replace("<td>","").split(" "),d=this.safeNumber(h,0),u=s.length-0,l=u-3,p=s.slice(l,u),m=this.safeCurrencyCode(p),g=i[3].replace("<td>","").split(" "),y=this.safeNumber(g,0),b=s.replace(p,""),v=this.safeCurrencyCode(b),w=v+"/"+m,k=void 0;o.push({id:s,info:t,symbol:w,base:v,quote:m,baseId:b,quoteId:p,type:"spot",spot:!0,active:k,precision:{amount:d,price:y},limits:{amount:{min:c,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return o}async fetchMarketsFromAPI(e={}){const t=await this.publicGetV1Symbols(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=r,a=r.length-0,n=r.slice(0,a-3),o=r.slice(a-3,a),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u={amount:void 0,price:void 0};i.push({id:r,info:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,precision:u,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},active:void 0})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetV1BookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTickerV1(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetV1PubtickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickerV2(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetV2TickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickerV1AndV2(e,t={}){const i=await this.fetchTickerV1(e,t),r=await this.fetchTickerV2(e,t);return this.deepExtend(i,{open:r.open,high:r.high,low:r.low,change:r.change,percentage:r.percentage,average:r.average,info:r.info})}async fetchTicker(e,t={}){const i=this.safeValue(this.options,"fetchTickerMethod","fetchTickerV1");return await this[i](e,t)}parseTicker(e,t){const i=this.safeValue(e,"volume",{}),r=this.safeInteger(i,"timestamp");let s;const a=this.safeStringLower(e,"pair");let n,o,c,h;void 0!==a&&(a in this.markets_by_id?t=this.markets_by_id[a]:(7==a.length-0?(n=a.slice(0,4),o=a.slice(4,7)):(n=a.slice(0,3),o=a.slice(3,6)),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),s=c+"/"+h)),void 0===s&&void 0!==t&&(s=t.symbol,n=t.baseId.toUpperCase(),o=t.quoteId.toUpperCase(),c=t.base,h=t.quote);const d=this.safeNumber(e,"price"),u=this.safeNumber2(e,"last","close",d),l=this.safeNumber(e,"percentChange24h"),f=this.safeNumber(e,"open"),p=this.safeNumber(i,n),m=this.safeNumber(i,o),g=this.vwap(p,m);return this.safeTicker({symbol:s,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:g,open:f,close:u,last:u,previousClose:void 0,change:void 0,percentage:l,average:void 0,baseVolume:p,quoteVolume:m,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetV1Pricefeed(t);return this.parseTickers(i,e)}parseTrade(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"tid"),s=this.safeString(e,"order_id"),a=this.safeString(e,"fee_currency"),n=this.safeCurrencyCode(a),o={cost:this.safeNumber(e,"fee_amount"),currency:n},c=this.safeString(e,"price"),h=this.safeString(e,"amount"),d=this.parseNumber(c),u=this.parseNumber(h),l=this.parseNumber(b.stringMul(c,h)),f=this.safeStringLower(e,"type"),p=this.safeSymbol(void 0,t);return{id:r,order:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,type:void 0,side:f,takerOrMaker:void 0,price:d,cost:l,amount:u,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetV1TradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostV1Balances(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"available"),n.total=this.safeString(r,"amount"),i[a]=n}return this.parseBalance(i)}parseOrder(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"original_amount"),s=this.safeString(e,"remaining_amount"),a=this.safeString(e,"executed_amount");let n="closed";e.is_live&&(n="open"),e.is_cancelled&&(n="canceled");const o=this.safeString(e,"price"),c=this.safeString(e,"avg_execution_price");let h=this.safeString(e,"type");h="exchange limit"===h?"limit":"market buy"===h||"market sell"===h?"market":e.type;const d=this.safeString(e,"symbol"),u=this.safeSymbol(d,t),l=this.safeString(e,"order_id"),f=this.safeStringLower(e,"side"),p=this.safeString(e,"client_order_id");return this.safeOrder2({id:l,clientOrderId:p,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:n,symbol:u,type:h,timeInForce:void 0,postOnly:void 0,side:f,price:o,stopPrice:void 0,average:c,cost:void 0,amount:r,filled:a,remaining:s,fee:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePostV1OrderStatus(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostV1Orders(r);let a;return void 0!==e&&(a=this.market(e)),this.parseOrders(s,a,t,i)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o=this.nonce(),c=this.amountToPrecision(e,r),h=this.priceToPrecision(e,a),d={client_order_id:o.toString(),symbol:this.marketId(e),amount:c,price:h,side:i,type:"exchange limit"},u=await this.privatePostV1OrderNew(this.extend(d,n));return{info:u,id:u.order_id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostV1OrderCancel(this.extend(r,i))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id};void 0!==i&&(n.limit_trades=i),void 0!==t&&(n.timestamp=parseInt(t/1e3));const o=await this.privatePostV1Mytrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i},n=await this.privatePostV1WithdrawCurrency(this.extend(a,s));return{info:n,id:this.safeString(n,"txHash")}}nonce(){return this.milliseconds()}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit_transfers=i),void 0!==t&&(s.timestamp=t);const a=await this.privatePostV1Transfers(this.extend(s,r));return this.parseTransactions(a)}parseTransaction(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r,t),a=this.safeString(e,"destination"),n=this.safeStringLower(e,"type");let o,c="pending";e.status&&(c="ok");const h=this.safeNumber(e,"feeAmount");return void 0!==h&&(o={cost:h,currency:s}),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:i,datetime:this.iso8601(i),address:a,tag:void 0,type:n,amount:this.safeNumber(e,"amount"),currency:s,status:c,updated:void 0,fee:o}}parseDepositAddress(e,t){return{currency:t,network:void 0,address:this.safeString(e,"address"),tag:void 0,info:e}}async fetchDepositAddressesByNetwork(e,t={}){await this.loadMarkets();const i=this.safeString(t,"network");if(void 0===i)throw new a(this.id+"fetchDepositAddressesByNetwork() requires a network parameter");t=this.omit(t,"network");const r=this.safeValue(this.options,"networks",{}),s=this.safeString(r,i,i),n=this.safeValue(this.options,"networkIds",{}),o=this.safeString(n,s,i),c={network:s},h=await this.privatePostV1AddressesNetwork(this.extend(c,t)),d=this.parseDepositAddresses(h,[e],!1,{network:o,currency:e});return this.groupBy(d,"network")}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t){if(this.checkRequiredCredentials(),this.apiKey.indexOf("account")<0)throw new u(this.id+" sign() requires an account-key, master-keys are not-supported");const e=this.nonce(),t=this.extend({request:n,nonce:e},o);let i=this.json(t);i=this.stringToBase64(i);const r=this.hmac(i,this.encode(this.secret),"sha384");s={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(i),"X-GEMINI-SIGNATURE":r}}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o){if("error"===this.safeString(o,"result")){const e=this.safeString(o,"reason"),t=this.safeString(o,"message"),i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}else if("string"==typeof n){const e=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions.broad,n,e)}}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostV1DepositCurrencyNewAddress(this.extend(i,t)),s=this.safeString(r,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r}}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={timeframe:this.timeframes[t],symbol:a.id},o=await this.publicGetV2CandlesSymbolTimeframe(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}}},28267:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,PermissionDenied:a,ExchangeError:n,ExchangeNotAvailable:o,OrderNotFound:c,InsufficientFunds:h,InvalidOrder:d,RequestTimeout:u,AuthenticationError:l}=i(73449),{TRUNCATE:f,DECIMAL_PLACES:p,TICK_SIZE:m}=i(62115),g=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"2",pro:!0,has:{cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:void 0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTransactions:!0,fetchWithdrawals:void 0,transfer:!0,withdraw:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",test:{public:"https://api.demo.hitbtc.com",private:"https://api.demo.hitbtc.com"},api:{public:"https://api.hitbtc.com",private:"https://api.hitbtc.com"},www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["currency","currency/{currency}","symbol","symbol/{symbol}","ticker","ticker/{symbol}","trades","trades/{symbol}","orderbook","orderbook/{symbol}","candles","candles/{symbol}"]},private:{get:["trading/balance","order","order/{clientOrderId}","trading/fee/all","trading/fee/{symbol}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","history/order","history/trades","history/order/{orderId}/trades","account/balance","account/crypto/address/{currency}","account/crypto/addresses/{currency}","account/crypto/used-addresses/{currency}","account/crypto/estimate-withdraw","account/crypto/is-mine/{address}","account/transactions","account/transactions/{id}","sub-acc","sub-acc/acl","sub-acc/balance/{subAccountUserID}","sub-acc/deposit-address/{subAccountUserId}/{currency}"],post:["order","margin/order","account/crypto/address/{currency}","account/crypto/withdraw","account/crypto/transfer-convert","account/transfer","account/transfer/internal","sub-acc/freeze","sub-acc/activate","sub-acc/transfer"],put:["order/{clientOrderId}","margin/account/{symbol}","margin/order/{clientOrderId}","account/crypto/withdraw/{id}","sub-acc/acl/{subAccountUserId}"],delete:["order","order/{clientOrderId}","margin/account","margin/account/{symbol}","margin/position","margin/position/{symbol}","margin/order","margin/order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},precisionMode:m,fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}},options:{networks:{ETH:"T20",ERC20:"T20",TRX:"TTRX",TRC20:"TTRX",OMNI:""},defaultTimeInForce:"FOK",accountsByType:{bank:"bank",exchange:"exchange",main:"bank",funding:"bank",spot:"exchange",trade:"exchange",trading:"exchange"},fetchBalanceMethod:{account:"account",bank:"account",main:"account",funding:"account",exchange:"trading",spot:"trading",trade:"trading",trading:"trading"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BDP:"BidiPass",BET:"DAO.Casino",BIT:"BitRewards",BOX:"BOX Token",CPT:"Cryptaur",GET:"Themis",HSR:"HC",IQ:"IQ.Cash",LNC:"LinkerCoin",PLA:"PlayChip",PNT:"Penta",SBTC:"Super Bitcoin",STX:"STOX",TV:"Tokenville",USD:"USDT",XMT:"MTL",XPNT:"PNT"},exceptions:{504:u,1002:l,1003:a,2010:d,2001:s,2011:d,2020:d,20002:c,20001:h}})}feeToPrecision(e,t){return this.decimalToPrecision(t,f,8,p)}async fetchMarkets(e={}){const t=await this.publicGetSymbol(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"baseCurrency"),n=this.safeString(r,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let h=o+"/"+c;s.indexOf("_")>=0&&(h=s);const d=this.safeString(r,"quantityIncrement"),u=this.safeString(r,"tickSize"),l=this.parseNumber(d),f=this.parseNumber(u),p={price:f,amount:l},m=this.safeNumber(r,"takeLiquidityRate"),y=this.safeNumber(r,"provideLiquidityRate"),b=this.safeString(r,"feeCurrency"),v=this.safeCurrencyCode(b);i.push(this.extend(this.fees.trading,{info:r,id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:!0,taker:m,maker:y,precision:p,feeCurrency:v,limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:this.parseNumber(g.stringMul(d,u)),max:void 0}}}))}return i}async transfer(e,t,i,r,s={}){await this.loadMarkets();const a=this.currency(e),o=this.currencyToPrecision(e,t),c={currency:a.id,amount:o};let h=this.safeString(s,"type");if(void 0===h){const e=this.safeValue(this.options,"accountsByType",{}),t=this.safeString(e,i),s=this.safeString(e,r),a=Object.keys(e);if(void 0===t)throw new n(this.id+" fromAccount must be one of "+a.join(", ")+" instead of "+t);if(void 0===s)throw new n(this.id+" toAccount must be one of "+a.join(", ")+" instead of "+s);if(t===s)throw new n(this.id+" from and to cannot be the same account");h=t+"To"+this.capitalize(s)}c.type=h;const d=await this.privatePostAccountTransfer(this.extend(c,s));return{info:d,id:this.safeString(d,"id"),timestamp:void 0,datetime:void 0,amount:o,currency:e,fromAccount:i,toAccount:r,status:void 0}}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeInteger(r,"precisionTransfer",8),n=1/Math.pow(10,a),o=this.safeCurrencyCode(s),c=this.safeValue(r,"payinEnabled"),h=this.safeValue(r,"payoutEnabled"),d=this.safeValue(r,"transferEnabled");let u=c&&h&&d;"disabled"in r&&r.disabled&&(u=!1);let l="fiat";"crypto"in r&&r.crypto&&(l="crypto");const f=this.safeString(r,"fullName");i[o]={id:s,code:o,type:l,payin:c,payout:h,transfer:d,info:r,name:f,active:u,fee:this.safeNumber(r,"payoutFee"),precision:n,limits:{amount:{min:1/Math.pow(10,a),max:Math.pow(10,a)},withdraw:{min:void 0,max:Math.pow(10,n)}}}}return i}parseTradingFee(e,t){return{info:e,symbol:this.safeSymbol(void 0,t),maker:this.safeNumber(e,"provideLiquidityRate"),taker:this.safeNumber(e,"takeLiquidityRate")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.privateGetTradingFeeSymbol(r);return this.parseTradingFee(s,i)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","trading"),i=this.safeValue(this.options,"fetchBalanceMethod",{}),r=this.safeString(i,t);if(void 0===r)throw new n(this.id+" fetchBalance account type must be either main or trading");const s="privateGet"+this.capitalize(r)+"Balance",a=this.omit(e,"type"),o=await this[s](a),c={info:o,timestamp:void 0,datetime:void 0};for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i),s=this.account();s.free=this.safeString(t,"available"),s.used=this.safeString(t,"reserved"),c[r]=s}return this.parseBalance(c)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"max"),this.safeNumber(e,"min"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};void 0!==i&&(n.from=this.iso8601(i)),void 0!==r&&(n.limit=r);const o=await this.publicGetCandlesSymbol(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderbookSymbol(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bid","ask","price","size")}parseTicker(e,t){const i=this.parse8601(e.timestamp),r=this.safeSymbol(void 0,t),s=this.safeNumber(e,"volume"),a=this.safeNumber(e,"volumeQuote"),n=this.safeNumber(e,"open"),o=this.safeNumber(e,"last"),c=this.vwap(s,a);return this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:c,open:n,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeMarket(s);r[a.symbol]=this.parseTicker(t,a)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTickerSymbol(this.extend(r,t));if("message"in s)throw new n(this.id+" "+s.message);return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(e.timestamp),r=this.safeString(e,"symbol"),s=(t=this.safeMarket(r,t)).symbol;let a;const n=this.safeNumber(e,"fee");void 0!==n&&(a={cost:n,currency:t?t.feeCurrency:void 0});const o=this.safeString(e,"clientOrderId"),c=this.safeString(e,"price"),h=this.safeString(e,"quantity"),d=this.parseNumber(c),u=this.parseNumber(h),l=this.parseNumber(g.stringMul(c,h)),f=this.safeString(e,"side");return{info:e,id:this.safeString(e,"id"),order:o,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:f,takerOrMaker:void 0,price:d,amount:u,cost:l,fee:a}}async fetchTransactions(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.currency(e),a.asset=s.id),void 0!==t&&(a.startTime=t);const n=await this.privateGetAccountTransactions(this.extend(a,r));return this.parseTransactions(n,s,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt")),s=this.parse8601(this.safeString(e,"updatedAt")),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeNumber(e,"amount"),h=this.safeString(e,"address"),d=this.safeString(e,"hash");let u;const l=this.safeNumber(e,"fee");void 0!==l&&(u={cost:l,currency:n});const f=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:i,txid:d,timestamp:r,datetime:this.iso8601(r),address:h,tag:void 0,type:f,amount:c,currency:n,status:o,updated:s,fee:u}}parseTransactionStatus(e){return this.safeString({pending:"pending",failed:"failed",success:"ok"},e,e)}parseTransactionType(e){return this.safeString({payin:"deposit",payout:"withdrawal",withdraw:"withdrawal"},e,e)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.sort="ASC",a.from=this.iso8601(t));const n=await this.publicGetTradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o=this.uuid().split("-").join("");o=o.slice(0,32),r=parseFloat(r);const c={clientOrderId:o,symbol:n.id,side:i,quantity:this.amountToPrecision(e,r),type:t};"limit"===t?c.price=this.priceToPrecision(e,s):c.timeInForce=this.options.defaultTimeInForce;const h=await this.privatePostOrder(this.extend(c,a)),u=this.parseOrder(h);if("rejected"===u.status)throw new d(this.id+" order was rejected by the exchange "+this.json(u));return u}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();let o=this.uuid().split("-").join("");o=o.slice(0,32);const c={clientOrderId:e,requestClientId:o};void 0!==s&&(c.quantity=this.amountToPrecision(t,s)),void 0!==a&&(c.price=this.priceToPrecision(t,a));const h=await this.privatePatchOrderClientOrderId(this.extend(c,n));return this.parseOrder(h)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateDeleteOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}parseOrderStatus(e){return this.safeString({new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"createdAt")),r=this.parse8601(this.safeString(e,"updatedAt")),s=this.safeString(e,"symbol"),a=(t=this.safeMarket(s,t)).symbol,n=this.safeNumber(e,"quantity"),o=this.safeNumber(e,"cumQuantity"),c=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeString(e,"clientOrderId"),d=h,u=this.safeNumber(e,"price"),l=this.safeString(e,"type"),f=this.safeString(e,"side");let p=this.safeValue(e,"tradesReport");const m=this.safeNumber(e,"avgPrice");void 0!==p&&(p=this.parseTrades(p,t));const g=this.safeString(e,"timeInForce");return this.safeOrder({id:h,clientOrderId:d,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:r,status:c,symbol:a,type:l,timeInForce:g,side:f,price:u,stopPrice:void 0,average:m,amount:n,cost:void 0,filled:o,remaining:void 0,fee:void 0,trades:p,info:e})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetHistoryOrder(this.extend(r,i));if(s.length>0)return this.parseOrder(s[0]);throw new c(this.id+" order "+e+" not found")}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id);const n=await this.privateGetOrder(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.from=this.iso8601(t));const n=await this.privateGetHistoryOrder(this.extend(a,r)),o=this.parseOrders(n,s),c=[];for(let e=0;e<o.length;e++){const t=o[e],i=t.status;"closed"!==i&&"canceled"!==i||c.push(t)}return this.filterBySinceLimit(c,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==t&&(s.from=this.iso8601(t)),void 0!==i&&(s.limit=i);const n=await this.privateGetHistoryTrades(this.extend(s,r));return this.parseTrades(n,a,t,i)}async fetchOrderTrades(e,t,i,r,s={}){let a;await this.loadMarkets(),void 0!==t&&(a=this.market(t));const n={orderId:e},o=await this.privateGetHistoryOrderOrderIdTrades(this.extend(n,s));if(o.length>0)return this.parseTrades(o,a,i,r);throw new c(this.id+" order "+e+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]')}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privatePostAccountCryptoAddressCurrency(this.extend(r,t)),a=this.safeString(s,"address");return this.checkAddress(a),{currency:i,address:a,tag:this.safeString(s,"paymentId"),info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=this.safeString(t,"network");if(void 0!==s){t=this.omit(t,"network");const e=this.safeValue(this.options,"networks"),i=this.safeString(e,s,s);r.currency+=i}const a=await this.privateGetAccountCryptoAddressCurrency(this.extend(r,t)),n=this.safeString(a,"address");this.checkAddress(n);const o=this.safeString(a,"paymentId");return{currency:i.code,address:n,tag:o,network:void 0,info:a}}async convertCurrencyNetwork(e,t,i,r,s){await this.loadMarkets();const a=this.currency(e),o=this.safeValue(this.options,"networks",{});if((i=this.safeString(o,i,i))===(r=this.safeString(o,r,r)))throw new n(this.id+" fromNetwork cannot be the same as toNetwork");const c={fromCurrency:a.id+i,toCurrency:a.id+r,amount:parseFloat(this.currencyToPrecision(e,t))};return{info:await this.privatePostAccountCryptoTransferConvert(this.extend(c,s))}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a={currency:this.currency(e).id,amount:parseFloat(t),address:i};r&&(a.paymentId=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeString(n,o,o),void 0!==o&&(a.currency+=o,s=this.omit(s,"network"));const c=await this.privatePostAccountCryptoWithdraw(this.extend(a,s));return{info:c,id:c.id}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/";const o=this.omit(r,this.extractParams(e));if("public"===t)n+=t+"/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const t=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(t);s={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,c,h,u){if(void 0!==c&&e>=400){const t=this.id+" "+a;if(503===e||504===e)throw new o(t);if(429===e)return;if("{"===a[0]&&"error"in c){const e=this.safeString(c.error,"code");if(this.throwExactlyMatchedException(this.exceptions,e,t),"Duplicate clientOrderId"===this.safeString(c.error,"message"))throw new d(t)}throw new n(t)}}}},22683:(e,t,i)=>{const r=i(48819),{TICK_SIZE:s}=i(62115),a=i(6832),{BadSymbol:n,BadRequest:o,OnMaintenance:c,AccountSuspended:h,PermissionDenied:d,ExchangeError:u,RateLimitExceeded:l,ExchangeNotAvailable:f,OrderNotFound:p,InsufficientFunds:m,InvalidOrder:g,AuthenticationError:y,ArgumentsRequired:b}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hitbtc3",name:"HitBTC",countries:["HK"],rateLimit:100,version:"3",pro:!0,has:{cancelOrder:!0,CORS:!1,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTransactions:!0,fetchWithdrawals:!1,withdraw:!0,transfer:!0},precisionMode:s,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",test:{public:"https://api.demo.hitbtc.com",private:"https://api.demo.hitbtc.com"},api:{public:"https://api.hitbtc.com/api/3",private:"https://api.hitbtc.com/api/3"},www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["public/currency","public/symbol","public/ticker","public/price/rate","public/trades","public/orderbook","public/candles","public/futures/info","public/futures/history/funding","public/futures/candles/index_price","public/futures/candles/mark_price","public/futures/candles/premium_index","public/futures/candles/open_interest"]},private:{get:["spot/balance","spot/order","spot/order/{client_order_id}","spot/fee","spot/fee/{symbol}","spot/history/order","spot/history/trade","margin/account","margin/account/isolated/{symbol}","margin/order","margin/order/{client_order_id}","margin/history/order","margin/history/trade","futures/balance","futures/account","futures/account/isolated/{symbol}","futures/order","futures/order/{client_order_id}","futures/fee","futures/fee/{symbol}","futures/history/order","futures/history/trade","wallet/balance","wallet/crypto/address","wallet/crypto/address/recent-deposit","wallet/crypto/address/recent-withdraw","wallet/crypto/address/check-mine","wallet/transactions","wallet/crypto/check-offchain-available","wallet/crypto/fee/estimate","sub-account","sub-account/acl","sub-account/balance/{subAccID}","sub-account/crypto/address/{subAccID}/{currency}"],post:["spot/order","margin/order","futures/order","wallet/convert","wallet/crypto/withdraw","wallet/transfer","sub-account/freeze","sub-account/activate","sub-account/transfer","sub-account/acl"],patch:["spot/order/{client_order_id}","margin/order/{client_order_id}","futures/order/{client_order_id}"],delete:["spot/order","spot/order/{client_order_id}","margin/position","margin/position/isolated/{symbol}","margin/order","margin/order/{client_order_id}","futures/position","futures/position/isolated/{symbol}","futures/order","futures/order/{client_order_id}","wallet/crypto/withdraw/{id}"],put:["margin/account/isolated/{symbol}","futures/account/isolated/{symbol}","wallet/crypto/withdraw/{id}"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.0009"),maker:this.parseNumber("0.0009"),tiers:{maker:[[this.parseNumber("0"),this.parseNumber("0.0009")],[this.parseNumber("10"),this.parseNumber("0.0007")],[this.parseNumber("100"),this.parseNumber("0.0006")],[this.parseNumber("500"),this.parseNumber("0.0005")],[this.parseNumber("1000"),this.parseNumber("0.0003")],[this.parseNumber("5000"),this.parseNumber("0.0002")],[this.parseNumber("10000"),this.parseNumber("0.0001")],[this.parseNumber("20000"),this.parseNumber("0")],[this.parseNumber("50000"),this.parseNumber("-0.0001")],[this.parseNumber("100000"),this.parseNumber("-0.0001")]],taker:[[this.parseNumber("0"),this.parseNumber("0.0009")],[this.parseNumber("10"),this.parseNumber("0.0008")],[this.parseNumber("100"),this.parseNumber("0.0007")],[this.parseNumber("500"),this.parseNumber("0.0007")],[this.parseNumber("1000"),this.parseNumber("0.0006")],[this.parseNumber("5000"),this.parseNumber("0.0006")],[this.parseNumber("10000"),this.parseNumber("0.0005")],[this.parseNumber("20000"),this.parseNumber("0.0004")],[this.parseNumber("50000"),this.parseNumber("0.0003")],[this.parseNumber("100000"),this.parseNumber("0.0002")]]}}},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},exceptions:{exact:{429:l,500:u,503:f,504:f,600:d,800:u,1002:y,1003:d,1004:y,1005:y,2001:n,2002:o,2003:o,2010:o,2011:o,2012:o,2020:o,2022:o,10001:o,10021:h,10022:o,20001:m,20002:p,20003:u,20004:u,20005:u,20006:u,20007:u,20008:g,20009:g,20010:c,20011:u,20012:u,20014:u,20016:u,20031:u,20032:u,20033:u,20034:u,20040:u,20041:u,20042:u,20043:u,20044:d,20045:u,20080:u,21001:u,21003:h,21004:h},broad:{}},options:{networks:{ETH:"USDT20",ERC20:"USDT20",TRX:"USDTRX",TRC20:"USDTRX",OMNI:"USDT"},accountsByType:{spot:"spot",wallet:"wallet",derivatives:"derivatives"}}})}nonce(){return this.milliseconds()}async fetchMarkets(e={}){const t=await this.publicGetPublicSymbol(e),i=[],r=Object.keys(t);for(let e=0;e<r.length;e++){const s=r[e],n=this.safeValue(t,s),o=this.safeString(n,"type"),c=this.safeInteger(n,"expiry"),h="futures"===o,d=h,u="spot"===o,l=this.safeValue(n,"margin_trading",!1),f=u&&l,p=void 0!==c,m=h&&!p,g=!1,y=this.safeString2(n,"base_currency","underlying"),b=this.safeString(n,"quote_currency"),v=this.safeString(n,"fee_currency"),w=this.safeCurrencyCode(y),k=this.safeCurrencyCode(b),S=this.safeCurrencyCode(v);let _,M,T,O,x,I=w+"/"+k,C="spot";h&&(T=1,_=v,M=this.safeCurrencyCode(_),O=void 0!==k&&k===M,x=!O,I=I+":"+M,p?(I=I+"-"+c,C="future"):C="swap");const A=this.safeString(n,"quantity_increment"),E=this.safeString(n,"tick_size"),N=this.parseNumber(A),P=this.parseNumber(E),B=this.safeNumber(n,"take_rate"),R=this.safeNumber(n,"make_rate");i.push({id:s,symbol:I,base:w,quote:k,settle:M,baseId:y,quoteId:b,settleId:_,type:C,spot:u,margin:f,swap:m,future:p,futures:p,option:g,derivative:d,contract:h,linear:O,inverse:x,taker:B,maker:R,contractSize:T,active:!0,expiry:c,expiryDatetime:void 0,strike:void 0,optionType:void 0,feeCurrency:S,precision:{price:N,amount:P},limits:{leverage:{min:1,max:this.safeNumber(n,"max_initial_leverage",1)},amount:{min:N,max:void 0},price:{min:P,max:void 0},cost:{min:this.parseNumber(a.stringMul(A,E)),max:void 0}},info:n})}return i}async fetchCurrencies(e={}){const t=await this.publicGetPublicCurrency(e),i={},r=Object.keys(t);for(let e=0;e<r.length;e++){const s=r[e],a=this.safeCurrencyCode(s),n=t[s],o=this.safeString(n,"full_name"),c=this.safeNumber(n,"precision_transfer"),h=this.safeValue(n,"payin_enabled",!1),d=this.safeValue(n,"payout_enabled",!1),u=this.safeValue(n,"transfer_enabled",!1),l=h&&d&&u,f=this.safeValue(n,"networks",[]),p={};let m;for(let e=0;e<f.length;e++){const t=f[e];let i=this.safeString(t,"protocol");0===i.length&&(i=this.safeString(t,"network"));const r=this.safeNetwork(i);m=this.safeNumber(t,"payout_fee");const s=this.safeNumber(t,"precision_payout"),a=this.safeValue(n,"payin_enabled",!1),o=this.safeValue(n,"payout_enabled",!1),c=this.safeValue(n,"transfer_enabled",!1),h=a&&o&&c;p[r]={info:t,id:i,network:r,fee:m,active:h,precision:s,limits:{withdraw:{min:void 0,max:void 0}}}}const g=Object.keys(p).length;i[a]={info:n,code:a,id:s,precision:c,name:o,active:l,networks:p,fee:g<=1?m:void 0,limits:{amount:{min:void 0,max:void 0}}}}return i}safeNetwork(e){return void 0===e?void 0:e.toUpperCase()}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=this.safeStringUpper(t,"network");if(void 0!==r&&"USDT"===e){const e=this.safeValue(this.options,"networks"),s=this.safeString(e,r);void 0!==s&&(i.currency=s),t=this.omit(t,"network")}const s=await this.privateGetWalletCryptoAddress(this.extend(i,t)),a=this.safeValue(s,0),n=this.safeString(a,"address"),o=this.safeString(a,"currency");return{info:s,address:n,tag:this.safeString(a,"payment_id"),code:this.safeCurrencyCode(o),network:void 0}}async fetchBalance(e={}){const t=this.safeStringLower(e,"type","spot");e=this.omit(e,["type"]);const i=this.safeValue(this.options,"accountsByType",{}),r=this.safeString(i,t);let s;if("wallet"===r)s=await this.privateGetWalletBalance(e);else if("spot"===r)s=await this.privateGetSpotBalance(e);else{if("derivatives"!==r){const e=Object.keys(i);throw new o(this.id+" fetchBalance() type parameter must be one of "+e.join(", "))}s=await this.privateGetFuturesBalance(e)}const a={info:s};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i),n=this.account();n.free=this.safeString(t,"available"),n.used=this.safeString(t,"reserved"),a[r]=n}return this.parseBalance(a)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e).join(",");i.symbols=t}const r=await this.publicGetPublicTicker(this.extend(i,t)),s={},a=Object.keys(r);for(let e=0;e<a.length;e++){const t=a[e],i=this.safeMarket(t),n=i.symbol,o=r[t];s[n]=this.parseTicker(o,i)}return this.filterByArray(s,"symbol",e)}parseTicker(e,t){const i=this.parse8601(e.timestamp),r=this.safeSymbol(void 0,t),s=this.safeNumber(e,"volume"),a=this.safeNumber(e,"volume_quote"),n=this.safeNumber(e,"open"),o=this.safeNumber(e,"last"),c=this.vwap(s,a);return this.safeTicker({symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:c,open:n,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e},t)}async fetchTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbols=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.since=t);const n=await this.publicGetPublicTrades(this.extend(a,r)),o=Object.keys(n);let c=[];for(let e=0;e<o.length;e++){const t=o[e],i=this.market(t),r=n[t],s=this.parseTrades(r,i);c=this.arrayConcat(c,s)}return c}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.since=t);const n=await this.privateGetSpotHistoryTrade(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){const i=this.parse8601(e.timestamp),r=this.safeString(e,"symbol"),s=(t=this.safeMarket(r,t)).symbol;let n;const o=this.safeNumber(e,"fee"),c=this.safeValue(e,"taker");let h;if(void 0!==c&&(h=c?"taker":"maker"),void 0!==o){const e=this.safeValue(t,"info",{}),i=this.safeString(e,"fee_currency");n={cost:o,currency:this.safeCurrencyCode(i)}}const d=this.safeString(e,"clientOrderId"),u=this.safeString(e,"price"),l=this.safeString2(e,"quantity","qty"),f=this.parseNumber(u),p=this.parseNumber(l),m=this.parseNumber(a.stringMul(u,l)),g=this.safeString(e,"side");return{info:e,id:this.safeString(e,"id"),order:d,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:g,takerOrMaker:h,price:f,amount:p,cost:m,fee:n}}async fetchTransactionsHelper(e,t,i,r,s){await this.loadMarkets();const a={types:e};let n;void 0!==t&&(n=this.currency(t),a.currencies=n.id),void 0!==i&&(a.from=this.iso8601(i)),void 0!==r&&(a.limit=r);const o=await this.privateGetWalletTransactions(this.extend(a,s));return this.parseTransactions(o,n,i,r,s)}parseTransactionStatus(e){return this.safeString({PENDING:"pending",FAILED:"failed",SUCCESS:"ok"},e,e)}parseTransactionType(e){return this.safeString({DEPOSIT:"deposit",WITHDRAW:"withdrawal"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.parse8601(this.safeString(e,"updated_at")),a=this.parseTransactionType(this.safeString(e,"type")),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeValue(e,"native"),c=this.safeString(o,"currency"),h=this.safeCurrencyCode(c),d=this.safeString(o,"hash"),u=this.safeString(o,"address"),l=u,f=this.safeString(o,"payment_id"),p=f,m=this.safeValue(o,"senders"),g=this.safeString(m,0),y=this.safeNumber(o,"amount");let b;const v=this.safeNumber(o,"fee");return void 0!==v&&(b={code:h,cost:v}),{info:e,id:i,txid:d,code:h,amount:y,address:u,addressFrom:g,addressTo:l,tag:f,tagFrom:void 0,tagTo:p,timestamp:r,datetime:this.iso8601(r),updated:s,status:n,type:a,fee:b}}async fetchTransactions(e,t,i,r={}){return await this.fetchTransactionsHelper("DEPOSIT,WITHDRAW",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsHelper("DEPOSIT",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsHelper("WITHDRAW",e,t,i,r)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r={};if(void 0!==e){const t=this.marketIds(e);r.symbols=t.join(",")}void 0!==t&&(r.depth=t);const s=await this.publicGetPublicOrderbook(this.extend(r,i)),a={},n=Object.keys(s);for(let e=0;e<n.length;e++){const t=n[e],i=s[t],r=this.safeSymbol(t),o=this.parse8601(this.safeString(i,"timestamp"));a[r]=this.parseOrderBook(s[t],r,o,"bid","ask")}return a}async fetchOrderBook(e,t,i={}){return(await this.fetchOrderBooks([e],t,i))[e]}parseTradingFee(e,t){const i=this.safeNumber(e,"take_rate"),r=this.safeNumber(e,"make_rate"),s=this.safeString(e,"symbol");return{info:e,symbol:this.safeSymbol(s,t),taker:i,maker:r}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.privateGetSpotFeeSymbol(this.extend(r,t));return this.parseTradingFee(s,i)}async fetchTradingFees(e,t={}){await this.loadMarkets();const i=await this.privateGetSpotFee(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTradingFee(i[e]);r[t.symbol]=t}return r}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbols:a.id,period:this.timeframes[t]};void 0!==i&&(n.from=this.iso8601(i)),void 0!==r&&(n.limit=r);const o=await this.publicGetPublicCandles(this.extend(n,s)),c=this.safeValue(o,a.id);return this.parseOHLCVs(c,a,t,i,r)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"max"),this.safeNumber(e,"min"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.from=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.privateGetSpotHistoryOrder(this.extend(a,r)),o=this.parseOrders(n,s,t,i);return this.filterByArray(o,"status",["closed","canceled"],!1)}async fetchOrder(e,t,i={}){let r;await this.loadMarkets(),void 0!==t&&(r=this.market(t));const s={client_order_id:e},a=await this.privateGetSpotHistoryOrder(this.extend(s,i)),n=this.safeValue(a,0);return this.parseOrder(n,r)}async fetchOrderTrades(e,t,i,r,s={}){let a;await this.loadMarkets(),void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.privateGetSpotHistoryTrade(this.extend(n,s));return this.parseTrades(o,a,i,r)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id);const n=await this.privateGetSpotOrder(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchOpenOrder(e,t,i={}){let r;await this.loadMarkets(),void 0!==t&&(r=this.market(t));const s={client_order_id:e},a=await this.privateGetSpotOrderClientOrderId(this.extend(s,i));return this.parseOrder(a,r)}async cancelAllOrders(e,t={}){let i;await this.loadMarkets();const r={};void 0!==e&&(i=this.market(e),r.symbol=i.id);const s=await this.privateDeleteSpotOrder(this.extend(r,t));return this.parseOrders(s,i)}async cancelOrder(e,t,i={}){let r;await this.loadMarkets();const s={client_order_id:e};void 0!==t&&(r=this.market(t));const a=await this.privateDeleteSpotOrderClientOrderId(this.extend(s,i));return this.parseOrder(a,r)}async editOrder(e,t,i,r,s,a,n={}){let o;await this.loadMarkets();const c={client_order_id:e,quantity:this.amountToPrecision(t,s)};if("limit"===i||"stopLimit"===i){if(void 0===a)throw new u(this.id+" limit order requires price");c.price=this.priceToPrecision(t,a)}void 0!==t&&(o=this.market(t));const h=await this.privatePatchSpotOrderClientOrderId(this.extend(c,n));return this.parseOrder(h,o)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={type:t,side:i,quantity:this.amountToPrecision(e,r),symbol:n.id};if("limit"===t||"stopLimit"===t){if(void 0===s)throw new u(this.id+" limit order requires price");o.price=this.priceToPrecision(e,s)}const c=await this.privatePostSpotOrder(this.extend(o,a));return this.parseOrder(c,n)}parseOrderStatus(e){return this.safeString({new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"client_order_id"),r=this.safeString(e,"side"),s=this.safeString(e,"type"),a=this.safeString(e,"quantity"),n=this.safeString(e,"price"),o=this.safeString(e,"price_average"),c=this.safeString(e,"created_at"),h=this.parse8601(c),d=this.safeString(e,"updated_at");let u;d!==c&&(u=this.parse8601(d));const l=this.safeString(e,"quantity_cumulative"),f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"marketId"),m=(t=this.safeMarket(p,t)).symbol,g=this.safeValue(e,"post_only"),y=this.safeString(e,"time_in_force"),b=this.safeValue(e,"trades");return this.safeOrder2({info:e,id:i,clientOrderId:i,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:u,symbol:m,price:n,amount:a,type:s,side:r,timeInForce:y,postOnly:g,filled:l,remaining:void 0,cost:void 0,status:f,average:o,trades:b,fee:void 0},t)}async transfer(e,t,i,r,s={}){await this.loadMarkets();const a=this.currency(e),n=this.currencyToPrecision(e,t),c=this.safeValue(this.options,"accountsByType",{});i=i.toLowerCase(),r=r.toLowerCase();const h=this.safeString(c,i),d=this.safeString(c,r),u=Object.keys(c);if(void 0===h)throw new b(this.id+" transfer() fromAccount argument must be one of "+u.join(", "));if(void 0===d)throw new b(this.id+" transfer() toAccount argument must be one of "+u.join(", "));if(h===d)throw new o(this.id+" transfer() fromAccount and toAccount arguments cannot be the same account");const l={currency:a.id,amount:n,source:h,destination:d},f=await this.privatePostWalletTransfer(this.extend(l,s));return{info:f,id:this.safeString(f,0),timestamp:void 0,datetime:void 0,amount:this.parseNumber(n),currency:e,fromAccount:i,toAccount:r,status:void 0}}async convertCurrencyNetwork(e,t,i,r,s){if(await this.loadMarkets(),"USDT"!==e)throw new u(this.id+" convertCurrencyNetwork() only supports USDT currently");const a=this.safeValue(this.options,"networks",{});if(i=i.toUpperCase(),r=r.toUpperCase(),(i=this.safeString(a,i))===(r=this.safeString(a,r)))throw new o(this.id+" fromNetwork cannot be the same as toNetwork");if(void 0===i||void 0===r){const e=Object.keys(a);throw new b(this.id+" convertCurrencyNetwork() requires a fromNetwork parameter and a toNetwork parameter, supported networks are "+e.join(", "))}const n={from_currency:i,to_currency:r,amount:this.currencyToPrecision(e,t)};return{info:await this.privatePostWalletConvert(this.extend(n,s))}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a={currency:this.currency(e).id,amount:t,address:i};void 0!==r&&(a.payment_id=r);const n=this.safeValue(this.options,"networks",{}),o=this.safeStringUpper(s,"network");if(void 0!==o&&"USDT"===e){const e=this.safeString(n,o);void 0!==e&&(a.currency=e),s=this.omit(s,"network")}const c=await this.privatePostWalletCryptoWithdraw(this.extend(a,s));return{info:c,id:this.safeString(c,"id")}}handleErrors(e,t,i,r,s,a,n,o,c){const h=this.safeValue(n,"error"),d=this.safeString(h,"code");if(void 0!==d){const e=this.id+" "+a,t=this.safeString2(h,"message","description");throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new u(e)}}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e)),o=this.implodeParams(e,r);let c,h=this.urls.api[t]+"/"+o;const d=Object.keys(n).length;if(s={"Content-Type":"application/json"},"GET"===i?d&&(c="?"+this.urlencode(n),h+=c):a=this.json(r),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=[i,"/api/3/"+o];"GET"===i?void 0!==c&&t.push(c):t.push(a),t.push(e);const r=t.join(""),n=this.hmac(this.encode(r),this.encode(this.secret),"sha256","hex"),h=this.apiKey+":"+n+":"+e,d=this.stringToBase64(h);s.Authorization="HS256 "+d}return{url:h,method:i,body:a,headers:s}}}},94693:(e,t,i)=>{"use strict";const r=i(48819),{BadRequest:s,AuthenticationError:a,NetworkError:n,ArgumentsRequired:o,OrderNotFound:c,InsufficientFunds:h}=i(73449),{TICK_SIZE:d}=i(62115),u=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hollaex",name:"HollaEx",countries:["KR"],rateLimit:333,version:"v2",has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createLimitBuyOrder:!0,createLimitSellOrder:!0,createMarketBuyOrder:!0,createMarketSellOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:"emulated",fetchDepositAddresses:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/75841031-ca375180-5ddd-11ea-8417-b975674c23cb.jpg",api:"https://api.hollaex.com",www:"https://hollaex.com",doc:"https://apidocs.hollaex.com",referral:"https://pro.hollaex.com/signup?affiliation_code=QSWA6G"},precisionMode:d,requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["health","constants","kit","tiers","ticker","tickers","orderbook","orderbooks","trades","chart","charts","udf/config","udf/history","udf/symbols"]},private:{get:["user","user/balance","user/deposits","user/withdrawals","user/withdrawal/fee","user/trades","orders","orders/{order_id}"],post:["user/request-withdrawal","order"],delete:["order/all","order"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001}},exceptions:{broad:{"Invalid token":a,"Order not found":c,"Insufficient balance":h},exact:{400:s,403:a,404:s,405:s,410:s,429:s,500:n,503:n}},options:{"api-expires":parseInt(this.timeout/1e3)}})}async fetchMarkets(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"pairs",{}),r=Object.keys(i),s=[];for(let e=0;e<r.length;e++){const t=i[r[e]],a=this.safeString(t,"name"),n=this.safeString(t,"pair_base"),o=this.safeString(t,"pair_2"),c=this.commonCurrencyCode(n.toUpperCase()),h=this.commonCurrencyCode(o.toUpperCase()),d=c+"/"+h,u=this.safeValue(t,"active"),l=this.fees.trading.maker,f=this.fees.trading.taker;s.push({id:a,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:u,precision:{price:this.safeNumber(t,"increment_price"),amount:this.safeNumber(t,"increment_size")},limits:{amount:{min:this.safeNumber(t,"min_size"),max:this.safeNumber(t,"max_size")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:void 0,max:void 0}},taker:f,maker:l,info:t})}return s}async fetchCurrencies(e={}){const t=await this.publicGetConstants(e),i=this.safeValue(t,"coins",{}),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=i[r[e]],a=this.safeString(t,"symbol"),n=this.safeInteger(t,"id"),o=this.safeCurrencyCode(a),c=this.safeString(t,"fullname"),h=this.safeValue(t,"active"),d=this.safeNumber(t,"withdrawal_fee"),u=this.safeNumber(t,"increment_unit"),l=this.safeValue(t,"withdrawal_limits",[]);s[o]={id:a,numericId:n,code:o,info:t,name:c,active:h,fee:d,precision:u,limits:{amount:{min:this.safeNumber(t,"min"),max:this.safeNumber(t,"max")},withdraw:{min:void 0,max:this.safeValue(l,0)}}}}return s}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderbooks(i),s={},a=Object.keys(r);for(let e=0;e<a.length;e++){const t=a[e],i=r[t],n=this.safeSymbol(t,void 0,"-"),o=this.parse8601(this.safeString(i,"timestamp"));s[n]=this.parseOrderBook(r[t],o)}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),s={symbol:r},a=await this.publicGetOrderbooks(this.extend(s,i)),n=this.safeValue(a,r),o=this.parse8601(this.safeString(n,"timestamp"));return this.parseOrderBook(n,e,o)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(this.extend(t));return this.parseTickers(i,e)}parseTickers(e,t,i={}){const r={},s=Object.keys(e);for(let t=0;t<s.length;t++){const a=s[t],n=e[a],o=this.safeString(n,"symbol",a),c=this.safeMarket(o,void 0,"-");r[c.symbol]=this.extend(this.parseTicker(n,c),i)}return this.filterByArray(r,"symbol",t)}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.parse8601(this.safeString2(e,"time","timestamp")),a=this.safeNumber(e,"close");return{symbol:r,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:a,last:this.safeNumber(e,"last",a),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,s.id,[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=(t=this.safeMarket(i,t,"-")).symbol,s=this.safeString(e,"timestamp"),a=this.parse8601(s),n=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"size"),h=this.parseNumber(o),d=this.parseNumber(c),l=this.parseNumber(u.stringMul(o,c)),f=this.safeNumber(e,"fee");let p;if(void 0!==f){const e=t.quote;p={cost:f,currency:void 0!==t?t.quote:e}}return{info:e,id:void 0,timestamp:a,datetime:s,symbol:r,order:void 0,type:void 0,side:n,takerOrMaker:void 0,price:h,amount:d,cost:l,fee:p}}async fetchOHLCV(e,t="1h",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,resolution:this.timeframes[t]},c=this.parseTimeframe(t);if(void 0===i){if(void 0===r)throw new o(this.id+" fetchOHLCV() requires a 'since' or a 'limit' argument");{const e=this.seconds(),t=e-c*r;n.to=e,n.from=t}}else if(void 0===r)n.from=parseInt(i/1e3),n.to=this.seconds();else{const e=parseInt(i/1e3);n.from=e,n.to=this.sum(e,c*r)}const h=await this.publicGetChart(this.extend(n,s));return this.parseOHLCVs(h,a,t,i,r)}parseOHLCV(e,t,i="1h",r,s){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserBalance(e),i=this.parse8601(this.safeString(t,"updated_at")),r={info:t,timestamp:i,datetime:this.iso8601(i)},s=Object.keys(this.currencies_by_id);for(let e=0;e<s.length;e++){const i=s[e],a=this.safeCurrencyCode(i),n=this.account();n.free=this.safeString(t,i+"_available"),n.total=this.safeString(t,i+"_balance"),r[a]=n}return this.parseBalance(r)}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({open:!0},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"filled"},r))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrders(this.extend(r,i)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0);if(void 0===n)throw new c(this.id+" fetchOrder() could not find order id "+e);return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.start_date=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.privateGetOrders(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,s,t,i)}parseOrderStatus(e){return this.safeString({new:"open",pfilled:"open",filled:"closed",canceled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString(e,"id"),a=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeString(e,"price"),h=this.safeString(e,"size"),d=this.safeString(e,"filled"),u=this.parseOrderStatus(this.safeString(e,"status"));return this.safeOrder2({id:s,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:u,symbol:r,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:c,stopPrice:void 0,amount:h,filled:d,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,info:e,average:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n.id,side:i,size:r,type:t};"market"!==t&&(o.price=s);const c=this.safeFloat2(a,"stopPrice","stop");void 0!==c&&(o.stop=parseFloat(this.priceToPrecision(e,c)),a=this.omit(a,["stopPrice","stop"]));const h=await this.privatePostOrder(this.extend(o,a));return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;void 0!==e&&(r=this.market(e),i.symbol=r.id);const s=await this.privateDeleteOrderAll(this.extend(i,t));return this.parseOrders(s,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.start_date=this.iso8601(t));const n=await this.privateGetUserTrades(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,a,t,i)}parseDepositAddress(e,t){let i,r=this.safeString(e,"address");if(void 0!==r){const e=r.split(":");r=this.safeString(e,0),i=this.safeString(e,1)}this.checkAddress(r);const s=this.safeString(e,"currency");t=this.safeCurrency(s,t);const a=this.safeString(e,"network");return{currency:t.code,address:r,tag:i,network:a,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=this.safeString(t,"network");t=this.omit(t,"network");const r=await this.privateGetUser(t),s=this.safeValue(r,"wallet",[]),a=void 0===i?s:this.filterBy(s,"network",i);return this.parseDepositAddresses(a,e)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.start_date=this.iso8601(t));const n=await this.privateGetUserDeposits(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.start_date=this.iso8601(t));const n=await this.privateGetUserWithdrawals(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"transaction_id"),s=this.parse8601(this.safeString(e,"created_at")),a=this.parse8601(this.safeString(e,"updated_at")),n=this.safeString(e,"type"),o=this.safeNumber(e,"amount");let c,h,d,u=this.safeString(e,"address");if(void 0!==u){const e=u.split(":");u=this.safeString(e,0),h=this.safeString(e,1),c=u,d=h}const l=this.safeString(e,"currency"),f=this.safeCurrencyCode(l);let p=this.safeValue(e,"status");const m=this.safeValue(e,"dismissed"),g=this.safeValue(e,"rejected");p=p?"ok":m?"canceled":g?"failed":"pending";const y={currency:f,cost:this.safeNumber(e,"fee")};return{info:e,id:i,txid:r,timestamp:s,datetime:this.iso8601(s),addressFrom:void 0,address:u,addressTo:c,tagFrom:void 0,tag:h,tagTo:d,type:n,amount:o,currency:f,status:p,updated:a,fee:y}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets(),void 0!==r&&(i+=":"+r);const a={currency:this.currency(e).id,amount:t,address:i};let n=this.safeString(s,"otp_code");return void 0===n&&void 0===this.twofa||(void 0===n&&(n=this.oath()),a.otp_code=n),{info:await this.privatePostUserRequestWithdrawal(this.extend(a,s)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));e="/"+this.version+"/"+this.implodeParams(e,r),"GET"!==i&&"DELETE"!==i||Object.keys(n).length&&(e+="?"+this.urlencode(n));const o=this.urls.api+e;if("private"===t){this.checkRequiredCredentials();const t=this.safeInteger2(this.options,"api-expires","expires",parseInt(this.timeout/1e3)),r=this.sum(this.seconds(),t).toString();let o=i+e+r;s={"api-key":this.encode(this.apiKey),"api-expires":r},"POST"===i&&(s["Content-type"]="application/json",Object.keys(n).length&&(o+=a=this.json(n)));const c=this.hmac(this.encode(o),this.encode(this.secret));s["api-signature"]=c}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0!==n&&e>=400&&e<=503){const t=this.id+" "+a,i=this.safeString(n,"message");this.throwBroadlyMatchedException(this.exceptions.broad,i,t);const r=e.toString();this.throwExactlyMatchedException(this.exceptions.exact,r,t)}}}},68639:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,PermissionDenied:o,ExchangeNotAvailable:c,OnMaintenance:h,InvalidOrder:d,OrderNotFound:u,InsufficientFunds:l,BadSymbol:f,BadRequest:p,RequestTimeout:m,NetworkError:g,InvalidAddress:y,NotSupported:b}=i(73449),{TICK_SIZE:v,TRUNCATE:w}=i(62115),k=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobi",name:"Huobi",countries:["CN"],rateLimit:100,userAgent:this.userAgents.chrome39,certified:!0,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",pro:!0,has:{swap:!0,future:!0,cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchBorrowRate:!0,fetchBorrowRates:!0,fetchBorrowRatesPerSymbol:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddressesByNetwork:!0,fetchDeposits:!0,fetchFundingRate:!0,fetchFundingRateHistory:!0,fetchIndexOHLCV:!0,fetchMarkets:!0,fetchMarkOHLCV:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchPremiumIndexOHLCV:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,transfer:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/76137448-22748a80-604e-11ea-8069-6e389271911d.jpg",hostnames:{contract:"api.hbdm.com",spot:"api.huobi.pro"},api:{contract:"https://{hostname}",spot:"https://{hostname}",market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",v2Public:"https://{hostname}",v2Private:"https://{hostname}"},www:"https://www.huobi.com",doc:["https://huobiapi.github.io/docs/spot/v1/cn/","https://huobiapi.github.io/docs/dm/v1/cn/","https://huobiapi.github.io/docs/coin_margined_swap/v1/cn/","https://huobiapi.github.io/docs/usdt_swap/v1/cn/","https://huobiapi.github.io/docs/option/v1/cn/"],fees:"https://www.huobi.com/about/fee/"},api:{v2Public:{get:{"reference/currencies":1,"market-status":1}},v2Private:{get:{"account/ledger":1,"account/withdraw/quota":1,"account/withdraw/address":1,"account/deposit/address":1,"account/repayment":5,"reference/transact-fee-rate":1,"account/asset-valuation":.2,"point/account":5,"sub-user/user-list":1,"sub-user/user-state":1,"sub-user/account-list":1,"sub-user/deposit-address":1,"sub-user/query-deposit":1,"user/api-key":1,"user/uid":1,"algo-orders/opening":1,"algo-orders/history":1,"algo-orders/specific":1,"c2c/offers":1,"c2c/offer":1,"c2c/transactions":1,"c2c/repayment":1,"c2c/account":1,"etp/reference":1,"etp/transactions":5,"etp/transaction":5,"etp/rebalance":1,"etp/limit":1},post:{"account/transfer":1,"account/repayment":5,"point/transfer":5,"sub-user/management":1,"sub-user/creation":1,"sub-user/tradable-market":1,"sub-user/transferability":1,"sub-user/api-key-generation":1,"sub-user/api-key-modification":1,"sub-user/api-key-deletion":1,"sub-user/deduct-mode":1,"algo-orders":1,"algo-orders/cancel-all-after":1,"algo-orders/cancellation":1,"c2c/offer":1,"c2c/cancellation":1,"c2c/cancel-all":1,"c2c/repayment":1,"c2c/transfer":1,"etp/creation":5,"etp/redemption":5,"etp/{transactId}/cancel":10,"etp/batch-cancel":50}},market:{get:{"history/kline":1,"detail/merged":1,depth:1,trade:1,"history/trade":1,detail:1,tickers:1,etp:1}},public:{get:{"common/symbols":1,"common/currencys":1,"common/timestamp":1,"common/exchange":1,"settings/currencys":1}},private:{get:{"account/accounts":.2,"account/accounts/{id}/balance":.2,"account/accounts/{sub-uid}":1,"account/history":4,"cross-margin/loan-info":1,"margin/loan-info":1,"fee/fee-rate/get":1,"order/openOrders":.4,"order/orders":.4,"order/orders/{id}":.4,"order/orders/{id}/matchresults":.4,"order/orders/getClientOrder":.4,"order/history":1,"order/matchresults":1,"query/deposit-withdraw":1,"margin/loan-orders":.2,"margin/accounts/balance":.2,"cross-margin/loan-orders":1,"cross-margin/accounts/balance":1,"points/actions":1,"points/orders":1,"subuser/aggregate-balance":10,"stable-coin/exchange_rate":1,"stable-coin/quote":1},post:{"account/transfer":1,"futures/transfer":1,"order/batch-orders":.4,"order/orders/place":.2,"order/orders/submitCancelClientOrder":.2,"order/orders/batchCancelOpenOrders":.4,"order/orders/{id}/submitcancel":.2,"order/orders/batchcancel":.4,"dw/withdraw/api/create":1,"dw/withdraw-virtual/{id}/cancel":1,"dw/transfer-in/margin":10,"dw/transfer-out/margin":10,"margin/orders":10,"margin/orders/{id}/repay":10,"cross-margin/transfer-in":1,"cross-margin/transfer-out":1,"cross-margin/orders":1,"cross-margin/orders/{id}/repay":1,"stable-coin/exchange":1,"subuser/transfer":10}},spot:{public:{get:{"v2/market-status":1,"v1/common/symbols":1,"v1/common/currencys":1,"v2/reference/currencies":1,"v1/common/timestamp":1,"v1/common/exchange":1,"market/history/kline":1,"market/detail/merged":1,"market/tickers":1,"market/depth":1,"market/trade":1,"market/history/trade":1,"market/detail/":1,"market/etp":1,"v2/etp/reference":1,"v2/etp/rebalance":1}},private:{get:{"v1/account/accounts":.2,"v1/account/accounts/{account-id}/balance":.2,"v2/account/valuation":1,"v2/account/asset-valuation":.2,"v1/account/history":4,"v2/account/ledger":1,"v2/point/account":5,"v2/account/deposit/address":1,"v2/account/withdraw/quota":1,"v2/account/withdraw/address":1,"v2/reference/currencies":1,"v1/query/deposit-withdraw":1,"v2/user/api-key":1,"v2/user/uid":1,"v2/sub-user/user-list":1,"v2/sub-user/user-state":1,"v2/sub-user/account-list":1,"v2/sub-user/deposit-address":1,"v2/sub-user/query-deposit":1,"v1/subuser/aggregate-balance":10,"v1/account/accounts/{sub-uid}":1,"v1/order/openOrders":.4,"v1/order/orders/{order-id}":.4,"v1/order/orders/getClientOrder":.4,"v1/order/orders/{order-id}/matchresults":.4,"v1/order/orders":.4,"v1/order/history":1,"v1/order/matchresults":1,"v2/reference/transact-fee-rate":1,"v2/algo-orders/opening":1,"v2/algo-orders/history":1,"v2/algo-orders/specific":1,"v1/margin/loan-info":1,"v1/margin/loan-orders":.2,"v1/margin/accounts/balance":.2,"v1/cross-margin/loan-info":1,"v1/cross-margin/loan-orders":1,"v1/cross-margin/accounts/balance":1,"v2/account/repayment":5,"v1/stable-coin/quote":1,"v2/etp/transactions":5,"v2/etp/transaction":5,"v2/etp/limit":1},post:{"v1/account/transfer":1,"v1/futures/transfer":1,"v2/point/transfer":5,"v2/account/transfer":1,"v1/dw/withdraw/api/create":1,"v1/dw/withdraw-virtual/{withdraw-id}/cancel":1,"v2/sub-user/deduct-mode":1,"v2/sub-user/creation":1,"v2/sub-user/management":1,"v2/sub-user/tradable-market":1,"v2/sub-user/transferability":1,"v2/sub-user/api-key-generation":1,"v2/sub-user/api-key-modification":1,"v2/sub-user/api-key-deletion":1,"v1/subuser/transfer":10,"v1/order/orders/place":.2,"v1/order/batch-orders":.4,"v1/order/orders/{order-id}/submitcancel":.2,"v1/order/orders/submitCancelClientOrder":.2,"v1/order/orders/batchCancelOpenOrders":.4,"v1/order/orders/batchcancel":.4,"v2/algo-orders/cancel-all-after":1,"v2/algo-orders":1,"v2/algo-orders/cancellation":1,"v2/account/repayment":5,"v1/dw/transfer-in/margin":10,"v1/dw/transfer-out/margin":10,"v1/margin/orders":10,"v1/margin/orders/{order-id}/repay":10,"v1/cross-margin/transfer-in":1,"v1/cross-margin/transfer-out":1,"v1/cross-margin/orders":1,"v1/cross-margin/orders/{order-id}/repay":1,"v1/stable-coin/exchange":1,"v2/etp/creation":5,"v2/etp/redemption":5,"v2/etp/{transactId}/cancel":10,"v2/etp/batch-cancel":50}}},contract:{public:{get:{"api/v1/timestamp":1,"api/v1/contract_contract_info":1,"api/v1/contract_index":1,"api/v1/contract_price_limit":1,"api/v1/contract_open_interest":1,"api/v1/contract_delivery_price":1,"market/depth":1,"market/bbo":1,"market/history/kline":1,"index/market/history/mark_price_kline":1,"market/detail/merged":1,"market/detail/batch_merged":1,"market/trade":1,"market/history/trade":1,"api/v1/contract_risk_info":1,"api/v1/contract_insurance_fund":1,"api/v1/contract_adjustfactor":1,"api/v1/contract_his_open_interest":1,"api/v1/contract_ladder_margin":1,"api/v1/contract_api_state":1,"api/v1/contract_elite_account_ratio":1,"api/v1/contract_elite_position_ratio":1,"api/v1/contract_liquidation_orders":1,"api/v1/contract_settlement_records":1,"index/market/history/index":1,"index/market/history/basis":1,"api/v1/contract_estimated_settlement_price":1,"swap-api/v1/swap_contract_info":1,"swap-api/v1/swap_index":1,"swap-api/v1/swap_price_limit":1,"swap-api/v1/swap_open_interest":1,"swap-ex/market/depth":1,"swap-ex/market/bbo":1,"swap-ex/market/history/kline":1,"index/market/history/swap_mark_price_kline":1,"swap-ex/market/detail/merged":1,"swap-ex/market/detail/batch_merged":1,"swap-ex/market/trade":1,"swap-ex/market/history/trade":1,"swap-api/v1/swap_risk_info":1,"swap-api/v1/swap_insurance_fund":1,"swap-api/v1/swap_adjustfactor":1,"swap-api/v1/swap_his_open_interest":1,"swap-api/v1/swap_ladder_margin":1,"swap-api/v1/swap_api_state":1,"swap-api/v1/swap_elite_account_ratio":1,"swap-api/v1/swap_elite_position_ratio":1,"swap-api/v1/swap_estimated_settlement_price":1,"swap-api/v1/swap_liquidation_orders":1,"swap-api/v1/swap_settlement_records":1,"swap-api/v1/swap_funding_rate":1,"swap-api/v1/swap_batch_funding_rate":1,"swap-api/v1/swap_historical_funding_rate":1,"index/market/history/swap_premium_index_kline":1,"index/market/history/swap_estimated_rate_kline":1,"index/market/history/swap_basis":1,"linear-swap-api/v1/swap_contract_info":1,"linear-swap-api/v1/swap_index":1,"linear-swap-api/v1/swap_price_limit":1,"linear-swap-api/v1/swap_open_interest":1,"linear-swap-ex/market/depth":1,"linear-swap-ex/market/bbo":1,"linear-swap-ex/market/history/kline":1,"index/market/history/linear_swap_mark_price_kline":1,"linear-swap-ex/market/detail/merged":1,"linear-swap-ex/market/detail/batch_merged":1,"linear-swap-ex/market/trade":1,"linear-swap-ex/market/history/trade":1,"linear-swap-api/v1/swap_risk_info":1,"swap-api/v1/linear-swap-api/v1/swap_insurance_fund":1,"linear-swap-api/v1/swap_adjustfactor":1,"linear-swap-api/v1/swap_cross_adjustfactor":1,"linear-swap-api/v1/swap_his_open_interest":1,"linear-swap-api/v1/swap_ladder_margin":1,"linear-swap-api/v1/swap_cross_ladder_margin":1,"linear-swap-api/v1/swap_api_state":1,"linear-swap-api/v1/swap_cross_transfer_state":1,"linear-swap-api/v1/swap_cross_trade_state":1,"linear-swap-api/v1/swap_elite_account_ratio":1,"linear-swap-api/v1/swap_elite_position_ratio":1,"linear-swap-api/v1/swap_liquidation_orders":1,"linear-swap-api/v1/swap_settlement_records":1,"linear-swap-api/v1/swap_funding_rate":1,"linear-swap-api/v1/swap_batch_funding_rate":1,"linear-swap-api/v1/swap_historical_funding_rate":1,"index/market/history/linear_swap_premium_index_kline":1,"index/market/history/linear_swap_estimated_rate_kline":1,"index/market/history/linear_swap_basis":1,"linear-swap-api/v1/swap_estimated_settlement_price":1}},private:{get:{"api/v1/contract_api_trading_status":1,"swap-api/v1/swap_api_trading_status":1,"linear-swap-api/v1/swap_api_trading_status":1},post:{"api/v1/contract_balance_valuation":1,"api/v1/contract_account_info":1,"api/v1/contract_position_info":1,"api/v1/contract_sub_auth":1,"api/v1/contract_sub_account_list":1,"api/v1/contract_sub_account_info_list":1,"api/v1/contract_sub_account_info":1,"api/v1/contract_sub_position_info":1,"api/v1/contract_financial_record":1,"api/v1/contract_financial_record_exact":1,"api/v1/contract_user_settlement_records":1,"api/v1/contract_order_limit":1,"api/v1/contract_fee":1,"api/v1/contract_transfer_limit":1,"api/v1/contract_position_limit":1,"api/v1/contract_account_position_info":1,"api/v1/contract_master_sub_transfer":1,"api/v1/contract_master_sub_transfer_record":1,"api/v1/contract_available_level_rate":1,"api/v1/contract_order":1,"v1/contract_batchorder":1,"api/v1/contract_cancel":1,"api/v1/contract_cancelall":1,"api/v1/contract_switch_lever_rate":1,"api/v1/lightning_close_position":1,"api/v1/contract_order_info":1,"api/v1/contract_order_detail":1,"api/v1/contract_openorders":1,"api/v1/contract_hisorders":1,"api/v1/contract_hisorders_exact":1,"api/v1/contract_matchresults":1,"api/v1/contract_matchresults_exact":1,"api/v1/contract_trigger_order":1,"api/v1/contract_trigger_cancel":1,"api/v1/contract_trigger_cancelall":1,"api/v1/contract_trigger_openorders":1,"api/v1/contract_trigger_hisorders":1,"api/v1/contract_tpsl_order":1,"api/v1/contract_tpsl_cancel":1,"api/v1/contract_tpsl_cancelall":1,"api/v1/contract_tpsl_openorders":1,"api/v1/contract_tpsl_hisorders":1,"api/v1/contract_relation_tpsl_order":1,"api/v1/contract_track_order":1,"api/v1/contract_track_cancel":1,"api/v1/contract_track_cancelall":1,"api/v1/contract_track_openorders":1,"api/v1/contract_track_hisorders":1,"swap-api/v1/swap_balance_valuation":1,"swap-api/v1/swap_account_info":1,"swap-api/v1/swap_position_info":1,"swap-api/v1/swap_account_position_info":1,"swap-api/v1/swap_sub_auth":1,"swap-api/v1/swap_sub_account_list":1,"swap-api/v1/swap_sub_account_info_list":1,"swap-api/v1/swap_sub_account_info":1,"swap-api/v1/swap_sub_position_info":1,"swap-api/v1/swap_financial_record":1,"swap-api/v1/swap_financial_record_exact":1,"swap-api/v1/swap_user_settlement_records":1,"swap-api/v1/swap_available_level_rate":1,"swap-api/v1/swap_order_limit":1,"swap-api/v1/swap_fee":1,"swap-api/v1/swap_transfer_limit":1,"swap-api/v1/swap_position_limit":1,"swap-api/v1/swap_master_sub_transfer":1,"swap-api/v1/swap_master_sub_transfer_record":1,"swap-api/v1/swap_order":1,"swap-api/v1/swap_batchorder":1,"swap-api/v1/swap_cancel":1,"swap-api/v1/swap_cancelall":1,"swap-api/v1/swap_lightning_close_position":1,"swap-api/v1/swap_switch_lever_rate":1,"swap-api/v1/swap_order_info":1,"swap-api/v1/swap_order_detail":1,"swap-api/v1/swap_openorders":1,"swap-api/v1/swap_hisorders":1,"swap-api/v1/swap_hisorders_exact":1,"swap-api/v1/swap_matchresults":1,"swap-api/v1/swap_matchresults_exact":1,"swap-api/v1/swap_trigger_order":1,"swap-api/v1/swap_trigger_cancel":1,"swap-api/v1/swap_trigger_cancelall":1,"swap-api/v1/swap_trigger_openorders":1,"swap-api/v1/swap_trigger_hisorders":1,"swap-api/v1/swap_tpsl_order":1,"swap-api/v1/swap_tpsl_cancel":1,"swap-api/v1/swap_tpsl_cancelall":1,"swap-api/v1/swap_tpsl_openorders":1,"swap-api/v1/swap_tpsl_hisorders":1,"swap-api/v1/swap_relation_tpsl_order":1,"swap-api/v1/swap_track_order":1,"swap-api/v1/swap_track_cancel":1,"swap-api/v1/swap_track_cancelall":1,"swap-api/v1/swap_track_openorders":1,"swap-api/v1/swap_track_hisorders":1,"linear-swap-api/v1/swap_balance_valuation":1,"linear-swap-api/v1/swap_account_info":1,"linear-swap-api/v1/swap_cross_account_info":1,"linear-swap-api/v1/swap_position_info":1,"linear-swap-api/v1/swap_cross_position_info":1,"linear-swap-api/v1/swap_account_position_info":1,"linear-swap-api/v1/swap_cross_account_position_info":1,"linear-swap-api/v1/swap_sub_auth":1,"linear-swap-api/v1/swap_sub_account_list":1,"linear-swap-api/v1/swap_cross_sub_account_list":1,"linear-swap-api/v1/swap_sub_account_info_list":1,"linear-swap-api/v1/swap_cross_sub_account_info_list":1,"linear-swap-api/v1/swap_sub_account_info":1,"linear-swap-api/v1/swap_cross_sub_account_info":1,"linear-swap-api/v1/swap_sub_position_info":1,"linear-swap-api/v1/swap_cross_sub_position_info":1,"linear-swap-api/v1/swap_financial_record":1,"linear-swap-api/v1/swap_financial_record_exact":1,"linear-swap-api/v1/swap_user_settlement_records":1,"linear-swap-api/v1/swap_cross_user_settlement_records":1,"linear-swap-api/v1/swap_available_level_rate":1,"linear-swap-api/v1/swap_cross_available_level_rate":1,"linear-swap-api/v1/swap_order_limit":1,"linear-swap-api/v1/swap_fee":1,"linear-swap-api/v1/swap_transfer_limit":1,"linear-swap-api/v1/swap_cross_transfer_limit":1,"linear-swap-api/v1/swap_position_limit":1,"linear-swap-api/v1/swap_cross_position_limit":1,"linear-swap-api/v1/swap_master_sub_transfer":1,"linear-swap-api/v1/swap_master_sub_transfer_record":1,"linear-swap-api/v1/swap_transfer_inner":1,"linear-swap-api/v1/swap_order":1,"linear-swap-api/v1/swap_cross_order":1,"linear-swap-api/v1/swap_batchorder":1,"linear-swap-api/v1/swap_cross_batchorder":1,"linear-swap-api/v1/swap_cancel":1,"linear-swap-api/v1/swap_cross_cancel":1,"linear-swap-api/v1/swap_cancelall":1,"linear-swap-api/v1/swap_cross_cancelall":1,"linear-swap-api/v1/swap_switch_lever_rate":1,"linear-swap-api/v1/swap_cross_switch_lever_rate":1,"linear-swap-api/v1/swap_lightning_close_position":1,"linear-swap-api/v1/swap_cross_lightning_close_position":1,"linear-swap-api/v1/swap_order_info":1,"linear-swap-api/v1/swap_cross_order_info":1,"linear-swap-api/v1/swap_order_detail":1,"linear-swap-api/v1/swap_cross_order_detail":1,"linear-swap-api/v1/swap_openorders":1,"linear-swap-api/v1/swap_cross_openorders":1,"linear-swap-api/v1/swap_hisorders":1,"linear-swap-api/v1/swap_cross_hisorders":1,"linear-swap-api/v1/swap_hisorders_exact":1,"linear-swap-api/v1/swap_cross_hisorders_exact":1,"linear-swap-api/v1/swap_matchresults":1,"linear-swap-api/v1/swap_cross_matchresults":1,"linear-swap-api/v1/swap_matchresults_exact":1,"linear-swap-api/v1/swap_cross_matchresults_exact":1,"linear-swap-api/v1/swap_trigger_order":1,"linear-swap-api/v1/swap_cross_trigger_order":1,"linear-swap-api/v1/swap_trigger_cancel":1,"linear-swap-api/v1/swap_cross_trigger_cancel":1,"linear-swap-api/v1/swap_trigger_cancelall":1,"linear-swap-api/v1/swap_cross_trigger_cancelall":1,"linear-swap-api/v1/swap_trigger_openorders":1,"linear-swap-api/v1/swap_cross_trigger_openorders":1,"linear-swap-api/v1/swap_trigger_hisorders":1,"linear-swap-api/v1/swap_cross_trigger_hisorders":1,"linear-swap-api/v1/swap_tpsl_order":1,"linear-swap-api/v1/swap_cross_tpsl_order":1,"linear-swap-api/v1/swap_tpsl_cancel":1,"linear-swap-api/v1/swap_cross_tpsl_cancel":1,"linear-swap-api/v1/swap_tpsl_cancelall":1,"linear-swap-api/v1/swap_cross_tpsl_cancelall":1,"linear-swap-api/v1/swap_tpsl_openorders":1,"linear-swap-api/v1/swap_cross_tpsl_openorders":1,"linear-swap-api/v1/swap_tpsl_hisorders":1,"linear-swap-api/v1/swap_cross_tpsl_hisorders":1,"linear-swap-api/v1/swap_relation_tpsl_order":1,"linear-swap-api/v1/swap_cross_relation_tpsl_order":1,"linear-swap-api/v1/swap_track_order":1,"linear-swap-api/v1/swap_cross_track_order":1,"linear-swap-api/v1/swap_track_cancel":1,"linear-swap-api/v1/swap_cross_track_cancel":1,"linear-swap-api/v1/swap_track_cancelall":1,"linear-swap-api/v1/swap_cross_track_cancelall":1,"linear-swap-api/v1/swap_track_openorders":1,"linear-swap-api/v1/swap_cross_track_openorders":1,"linear-swap-api/v1/swap_track_hisorders":1,"linear-swap-api/v1/swap_cross_track_hisorders":1}}}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":h,maintain:h},exact:{"bad-request":p,"base-date-limit-error":p,"api-not-support-temp-addr":o,timeout:m,"gateway-internal-error":c,"account-frozen-balance-insufficient-error":l,"invalid-amount":d,"order-limitorder-amount-min-error":d,"order-limitorder-amount-max-error":d,"order-marketorder-amount-min-error":d,"order-limitorder-price-min-error":d,"order-limitorder-price-max-error":d,"order-holding-limit-failed":d,"order-orderprice-precision-error":d,"order-etp-nav-price-max-error":d,"order-orderstate-error":u,"order-queryorder-invalid":u,"order-update-error":c,"api-signature-check-failed":a,"api-signature-not-valid":a,"base-record-invalid":u,"base-symbol-trade-disabled":f,"base-symbol-error":f,"system-maintenance":h,"invalid symbol":f,"symbol trade not open now":f,"require-symbol":f}},precisionMode:v,options:{defaultType:"spot",defaultSubType:"inverse",defaultNetwork:"ERC20",networks:{ETH:"erc20",TRX:"trc20",HRC20:"hrc20",HECO:"hrc20",HT:"hrc20",ALGO:"algo",OMNI:""},fetchOrdersByStatesMethod:"spot_private_get_v1_order_orders",createMarketBuyOrderRequiresPrice:!0,language:"en-US",broker:{id:"AA03022abc"},accountsByType:{spot:"pro",future:"futures"},typesByAccount:{pro:"spot",futures:"future"}},commonCurrencies:{GET:"Themis",GTC:"Game.com",HIT:"HitChain",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin",BIFI:"Bitcoin File"}})}async fetchTime(e={}){const t=this.safeValue(this.options,"fetchTime",{}),i=this.safeString(this.options,"defaultType","spot");let r=this.safeString(t,"type",i);r=this.safeString(e,"type",r);let s="spotPublicGetV1CommonTimestamp";"future"!==r&&"swap"!==r||(s="contractPublicGetApiV1Timestamp");const a=await this[s](e);return this.safeInteger2(a,"data","ts")}parseTradingFee(e,t){const i=this.safeString(e,"symbol");return{info:e,symbol:this.safeSymbol(i,t),maker:this.safeNumber(e,"actualMakerRate"),taker:this.safeNumber(e,"actualTakerRate")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbols:i.id},s=await this.spotPrivateGetV2ReferenceTransactFeeRate(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0,{});return this.parseTradingFee(n,i)}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.spotPublicGetV1CommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeNumber(e,"limit-order-must-greater-than"),max:this.safeNumber(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.cost,this.precisionMode)}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets",{}),i=this.safeString(this.options,"defaultType","spot");let r=this.safeString(t,"type",i);if(r=this.safeString(e,"type",r),"spot"!==r&&"future"!==r&&"swap"!==r)throw new n(this.id+" does not support '"+r+"' type, set exchange.options['defaultType'] to 'spot', 'future', 'swap'");let s="spotPublicGetV1CommonSymbols";const a=this.omit(e,["type","subType"]),o="spot"===r,c="spot"!==r,h="future"===r,d="swap"===r;let u,l;if(c){const i=this.safeString(this.options,"defaultSubType","inverse");let r=this.safeString(t,"subType",i);if(r=this.safeString(e,"subType",r),"inverse"!==r&&"linear"!==r)throw new n(this.id+" does not support '"+r+"' type, set exchange.options['defaultSubType'] to 'inverse' or 'linear'");u="linear"===r,l="inverse"===r||h,h?s="contractPublicGetApiV1ContractContractInfo":d&&(l?s="contractPublicGetSwapApiV1SwapContractInfo":u&&(s="contractPublicGetLinearSwapApiV1SwapContractInfo"))}const f=await this[s](a),p=this.safeValue(f,"data");if(p.length<1)throw new g(this.id+" fetchMarkets() returned an empty response: "+this.json(p));const m=[];for(let e=0;e<p.length;e++){const t=p[e];let i,s,a,n;if(c)if(n=this.safeString(t,"contract_code"),d){const e=n.split("-");i=this.safeString(t,"symbol"),s=this.safeString(e,1),a=l?i:s}else h&&(i=this.safeString(t,"symbol"),s="USD",a=i);else i=this.safeString(t,"base-currency"),s=this.safeString(t,"quote-currency"),n=i+s;const f=this.safeCurrencyCode(i),g=this.safeCurrencyCode(s),y=this.safeCurrencyCode(a);let b,v=f+"/"+g;c&&(l?v+=":"+f:u&&(v+=":"+g),h&&(b=this.safeInteger(t,"delivery_time"),v+="-"+this.yymmdd(b)));const w=this.safeNumber(t,"contract_size");let k,S,_;o?(k=this.safeString(t,"price-precision"),k=this.parseNumber("1e-"+k),S=this.safeString(t,"amount-precision"),S=this.parseNumber("1e-"+S),_=this.safeString(t,"value-precision"),_=this.parseNumber("1e-"+_)):(k=this.safeNumber(t,"price_tick"),S=1);const M={amount:S,price:k,cost:_};let T,O;o&&(T="OMG"===f?0:.002,O="OMG"===f?0:.002);const x=this.safeNumber(t,"min-order-amt",Math.pow(10,-M.amount)),I=this.safeNumber(t,"max-order-amt"),C=this.safeNumber(t,"min-order-value",0);let A;o?A="online"===this.safeString(t,"state"):c&&(A=1===this.safeInteger(t,"contract_status")),m.push({id:n,symbol:v,base:f,quote:g,settle:y,baseId:i,quoteId:s,settleId:a,type:r,contract:c,spot:o,future:h,swap:d,linear:u,inverse:l,expiry:b,expiryDatetime:this.iso8601(b),contractSize:w,active:A,precision:M,taker:O,maker:T,limits:{amount:{min:x,max:I},price:{min:k,max:void 0},cost:{min:C,max:void 0},leverage:{max:this.safeNumber(t,"leverage-ratio",1),superMax:this.safeNumber(t,"super-margin-leverage-ratio",1)}},info:t})}return m}parseTicker(e,t){const i=this.safeString2(e,"symbol","contract_code"),r=this.safeSymbol(i,t),s=this.safeInteger(e,"ts");let a,n,o,c;"bid"in e&&(Array.isArray(e.bid)?(a=this.safeNumber(e.bid,0),n=this.safeNumber(e.bid,1)):(a=this.safeNumber(e,"bid"),n=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e.ask)?(o=this.safeNumber(e.ask,0),c=this.safeNumber(e.ask,1)):(o=this.safeNumber(e,"ask"),c=this.safeValue(e,"askSize")));const h=this.safeNumber(e,"open"),d=this.safeNumber(e,"close"),u=this.safeNumber(e,"amount"),l=this.safeNumber(e,"vol"),f=this.vwap(u,l);return this.safeTicker({symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:a,bidVolume:n,ask:o,askVolume:c,vwap:f,open:h,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:l,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};let s="symbol",a="spotPublicGetMarketDetailMerged";i.future?a="contractPublicGetMarketDetailMerged":i.swap&&(i.inverse?a="contractPublicGetSwapExMarketDetailMerged":i.linear&&(a="contractPublicGetLinearSwapExMarketDetailMerged"),s="contract_code"),r[s]=i.id;const n=await this[a](this.extend(r,t)),o=this.safeValue(n,"tick",{}),c=this.parseTicker(o,i),h=this.safeInteger(n,"ts");return c.timestamp=h,c.datetime=this.iso8601(h),c}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeValue(this.options,"fetchTickers",{}),r=this.safeString(this.options,"defaultType","spot");let s=this.safeString(i,"type",r);s=this.safeString(t,"type",s);let a="spotPublicGetMarketTickers";if("future"===s)a="contractPublicGetMarketDetailBatchMerged";else if("swap"===s){const e=this.safeString(this.options,"defaultSubType","inverse");let r=this.safeString(i,"subType",e);r=this.safeString(t,"subType",r),"inverse"===r?a="contractPublicGetSwapExMarketDetailBatchMerged":"linear"===r&&(a="contractPublicGetLinearSwapExMarketDetailBatchMerged")}const n=this.omit(t,["type","subType"]),o=await this[a](n),c=this.safeValue2(o,"data","ticks",[]),h=this.safeInteger(o,"ts"),d={};for(let e=0;e<c.length;e++){const t=this.parseTicker(c[e]),i=t.symbol;t.timestamp=h,t.datetime=this.iso8601(h),d[i]=t}return this.filterByArray(d,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={type:"step0"};let a="symbol",o="spotPublicGetMarketDepth";r.future?o="contractPublicGetMarketDepth":r.swap&&(r.inverse?o="contractPublicGetSwapExMarketDepth":r.linear&&(o="contractPublicGetLinearSwapExMarketDepth"),a="contract_code"),s[a]=r.id;const c=await this[o](this.extend(s,i));if("tick"in c){if(!c.tick)throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(c));const t=this.safeValue(c,"tick"),i=this.safeInteger(t,"ts",this.safeInteger(c,"ts")),r=this.parseOrderBook(t,e,i);return r.nonce=this.safeInteger(t,"version"),r}throw new n(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(c))}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeInteger2(e,"ts","created-at"),a=this.safeString(e,"order-id");let n=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){const e=o.split("-");n=e[0],o=e[1]}const c=this.safeString(e,"role"),h=this.safeString(e,"price"),d=this.safeString2(e,"filled-amount","amount"),u=this.parseNumber(h),l=this.parseNumber(d),f=this.parseNumber(k.stringMul(h,d));let p,m=this.safeNumber(e,"filled-fees"),g=this.safeCurrencyCode(this.safeString(e,"fee-currency"));const y=this.safeNumber(e,"filled-points");void 0!==y&&(void 0!==m&&0!==m||(m=y,g=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==m&&(p={cost:m,currency:g});const b=this.safeString2(e,"trade-id","tradeId");return{id:this.safeString(e,"id",b),info:e,order:a,timestamp:s,datetime:this.iso8601(s),symbol:r,type:o,side:n,takerOrMaker:c,price:u,amount:l,cost:f,fee:p}}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={"order-id":e},n=await this.spotPrivateGetV1OrderOrdersOrderIdMatchresults(this.extend(a,s));return this.parseTrades(n.data,void 0,i,r)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.size=i),void 0!==t&&(a["start-time"]=t);const n=await this.spotPrivateGetV1OrderMatchresults(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchTrades(e,t,i=1e3,r={}){await this.loadMarkets();const s=this.market(e),a={};let n="symbol",o="spotPublicGetMarketHistoryTrade";s.future?o="contractPublicGetMarketHistoryTrade":s.swap&&(s.inverse?o="contractPublicGetSwapExMarketHistoryTrade":s.linear&&(o="contractPublicGetLinearSwapExMarketHistoryTrade"),n="contract_code"),a[n]=s.id,void 0!==i&&(a.size=i);const c=await this[o](this.extend(a,r)),h=this.safeValue(c,"data");let d=[];for(let e=0;e<h.length;e++){const t=this.safeValue(h[e],"data",[]);for(let e=0;e<t.length;e++){const i=this.parseTrade(t[e],s);d.push(i)}}return d=this.sortBy(d,"timestamp"),this.filterBySymbolSinceLimit(d,e,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={period:this.timeframes[t]};let o="symbol";const c=this.safeString(s,"price");s=this.omit(s,"price");let h="spotPublicGetMarketHistoryKline";if(a.future)if("mark"===c)h="contractPublicGetIndexMarketHistoryMarkPriceKline";else if("index"===c)h="contractPublicGetIndexMarketHistoryIndex";else{if("premiumIndex"===c)throw new p(this.id+" "+a.type+" has no api endpoint for "+c+" kline data");h="contractPublicGetMarketHistoryKline"}else if(a.swap){if(a.inverse)if("mark"===c)h="contractPublicGetIndexMarketHistorySwapMarkPriceKline";else{if("index"===c)throw new p(this.id+" "+a.type+" has no api endpoint for "+c+" kline data");h="premiumIndex"===c?"contractPublicGetIndexMarketHistorySwapPremiumIndexKline":"contractPublicGetSwapExMarketHistoryKline"}else if(a.linear)if("mark"===c)h="contractPublicGetIndexMarketHistoryLinearSwapMarkPriceKline";else{if("index"===c)throw new p(this.id+" "+a.type+" has no api endpoint for "+c+" kline data");h="premiumIndex"===c?"contractPublicGetIndexMarketHistoryLinearSwapPremiumIndexKline":"contractPublicGetLinearSwapExMarketHistoryKline"}o="contract_code"}n[o]=a.id,void 0!==r&&(n.size=r);const d=await this[h](this.extend(n,s)),u=this.safeValue(d,"data",[]);return this.parseOHLCVs(u,a,t,i,r)}async fetchIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}async fetchMarkOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"mark"},s))}async fetchPremiumIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"premiumIndex"},s))}async fetchAccounts(e={}){return await this.loadMarkets(),(await this.spotPrivateGetV1AccountAccounts(e)).data}async fetchAccountIdByType(e,t={}){const i=await this.loadAccounts(),r=this.safeValue(t,"account-id");if(void 0!==r)return r;const s=this.indexBy(i,"type"),a=this.safeValue(i,0,{}),n=this.safeValue(s,e,a);return this.safeString(n,"id")}async fetchCurrencies(e={}){const t=await this.spotPublicGetV2ReferenceCurrencies(),i=this.safeValue(t,"data",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.safeValue(t,"chains",[]),o={},c="normal"===this.safeString(t,"instStatus");let h,d,u,l;for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"chain");let r=this.safeString(t,"baseChainProtocol");const a="h"+s;void 0===r&&(r=a===i?"ERC20":this.safeString(t,"displayName"));const c=this.safeNetwork(r);u=this.safeNumber(t,"minWithdrawAmt"),l=this.safeNumber(t,"maxWithdrawAmt");const f=this.safeString(t,"withdrawStatus"),p=this.safeString(t,"depositStatus"),m="allowed"===f&&"allowed"===p;let g=this.safeString(t,"withdrawPrecision");void 0!==g&&(g=this.parseNumber("1e-"+g),d=void 0===d?g:Math.max(g,d)),h=this.safeNumber(t,"transactFeeWithdraw"),o[c]={info:t,id:i,network:c,limits:{withdraw:{min:u,max:l}},active:m,fee:h,precision:g}}const f=Object.keys(o).length;r[a]={info:t,code:a,id:s,active:c,fee:f<=1?h:void 0,name:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:f<=1?u:void 0,max:f<=1?l:void 0}},precision:d,networks:o}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeValue(this.options,"fetchTickers",{}),i=this.safeString(this.options,"defaultType","spot");let r=this.safeString(t,"type",i);r=this.safeString(e,"type",r),e=this.omit(e,"type");const s={};let a;const n="spot"===r,o="future"===r,c="swap"===r;if(n){await this.loadAccounts();const t=await this.fetchAccountIdByType(r,e);s["account-id"]=t,a="spotPrivateGetV1AccountAccountsAccountIdBalance"}else if(o)a="contractPrivatePostApiV1ContractAccountInfo";else if(c){const i=this.safeString(this.options,"defaultSubType","inverse");let r=this.safeString(t,"subType",i);r=this.safeString(e,"subType",r),"inverse"===r?a="contractPrivatePostSwapApiV1SwapAccountInfo":"linear"===r&&(a="contractPrivatePostLinearSwapApiV1SwapAccountInfo")}const h=await this[a](this.extend(s,e)),d={info:h},u=this.safeValue(h,"data");if(n){const e=this.safeValue(u,"list",[]);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"currency"),s=this.safeCurrencyCode(r);let a;a=s in d?d[s]:this.account(),"trade"===i.type&&(a.free=this.safeString(i,"balance")),"frozen"===i.type&&(a.used=this.safeString(i,"balance")),d[s]=a}}else if(o)for(let e=0;e<u.length;e++){const t=u[e],i=this.safeString(t,"symbol"),r=this.safeCurrencyCode(i),s=this.account();s.free=this.safeString(t,"margin_available"),s.used=this.safeString(t,"margin_frozen"),d[r]=s}else if(c){for(let e=0;e<u.length;e++){const t=u[e],i=this.safeString2(t,"contract_code","margin_account"),r=this.safeSymbol(i),s=this.account();s.free=this.safeString(t,"margin_available"),s.used=this.safeString(t,"margin_frozen");const a=this.safeString2(t,"margin_asset","symbol"),n={};n[this.safeCurrencyCode(a)]=s,d[r]=this.parseBalance(n)}return d}return this.parseBalance(d)}async fetchOrdersByStates(e,t,i,r,s={}){await this.loadMarkets();const a={states:e};let n;void 0!==t&&(n=this.market(t),a.symbol=n.id);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","spot_private_get_v1_order_orders"),c=await this[o](this.extend(a,s));return this.parseOrders(c.data,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={};let s="spotPrivateGetV1OrderOrdersOrderId";void 0!==this.safeString(i,"clientOrderId")?s="spotPrivateGetV1OrderOrdersGetClientOrder":r["order-id"]=e;const a=await this[s](this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id);let n=this.safeString(r,"account-id");if(void 0===n){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t.type&&(n=this.safeString(t,"id"),void 0!==n))break}}s["account-id"]=n,void 0!==i&&(s.size=i);const o=this.omit(r,"account-id"),c=await this.spotPrivateGetV1OrderOpenOrders(this.extend(s,o)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,a,t,i)}parseOrderStatus(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r,s,a;if("type"in e){const t=e.type.split("-");r=t[0],s=t[1],a=this.parseOrderStatus(this.safeString(e,"state"))}const n=this.safeString(e,"symbol");t=this.safeMarket(n,t);const o=this.safeSymbol(n,t),c=this.safeInteger(e,"created-at"),h=this.safeString(e,"client-order-id"),d=this.safeString(e,"amount"),u=this.safeString2(e,"filled-amount","field-amount"),l=this.safeString(e,"price"),f=this.safeString2(e,"filled-cash-amount","field-cash-amount"),p=this.safeNumber2(e,"filled-fees","field-fees");let m;if(void 0!==p){let e;void 0!==t&&(e="sell"===r?t.quote:t.base),m={cost:p,currency:e}}return this.safeOrder2({info:e,id:i,clientOrderId:h,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,average:void 0,cost:f,amount:d,filled:u,remaining:void 0,status:a,fee:m,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o={"account-id":await this.fetchAccountIdByType(n.type),symbol:n.id,type:i+"-"+t},c=this.safeString2(a,"clientOrderId","client-order-id");if(void 0===c){const e=this.safeValue(this.options,"broker",{}),t=this.safeString(e,"id");o["client-order-id"]=t+this.uuid()}else o["client-order-id"]=c;if(a=this.omit(a,["clientOrderId","client-order-id"]),"market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new d(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");o.amount=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}else o.amount=this.costToPrecision(e,r);else o.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t&&"stop-limit"!==t&&"stop-limit-fok"!==t||(o.price=this.priceToPrecision(e,s));const h=await this.spotPrivatePostV1OrderOrdersPlace(this.extend(o,a)),u=this.milliseconds();return{info:h,id:this.safeString(h,"data"),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){const r=this.safeString2(i,"client-order-id","clientOrderId"),s={};let a="spotPrivatePostV1OrderOrdersOrderIdSubmitcancel";void 0===r?s["order-id"]=e:(s["client-order-id"]=r,a="spotPrivatePostV1OrderOrdersSubmitCancelClientOrder",i=this.omit(i,["client-order-id","clientOrderId"]));const n=await this[a](this.extend(s,i));return this.extend(this.parseOrder(n),{id:e,status:"canceled"})}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"clientOrderIds","client-order-ids");i=this.omit(i,["clientOrderIds","client-order-ids"]);const s={};return void 0===r?s["order-ids"]=e:s["client-order-ids"]=r,await this.spotPrivatePostV1OrderOrdersBatchcancel(this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.spotPrivatePostV1OrderOrdersBatchCancelOpenOrders(this.extend(i,t))}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}safeNetwork(e){const t=e.length-1;return"1"===e[t]&&(e=e.slice(0,t)),this.safeString({},e,e)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString(e,"addressTag");""===r&&(r=void 0);const s=this.safeString(e,"currency");t=this.safeCurrency(s,t);const a=this.safeCurrencyCode(s,t),n=this.safeString(e,"chain"),o=this.safeValue(t,"networks",{}),c=this.indexBy(o,"id"),h=this.safeValue(c,n,n),d=this.safeString(h,"network");return this.checkAddress(i),{currency:a,address:i,tag:r,network:d,info:e}}async fetchDepositAddressesByNetwork(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.spotPrivateGetV2AccountDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",[]),a=this.parseDepositAddresses(s,[e],!1);return this.indexBy(a,"network")}async fetchDepositAddress(e,t={}){const i=this.safeStringUpper(t,"network"),r=this.safeValue(this.options,"networks",{}),s=this.safeStringUpper(r,i,i);t=this.omit(t,"network");const a=await this.fetchDepositAddressesByNetwork(e,t);let n;if(void 0===s){if(n=this.safeValue(a,e),void 0===n){const t=this.safeString(r,e,e);if(n=this.safeValue(a,t),void 0===n){const t=this.safeString(this.options,"defaultNetwork","ERC20");if(n=this.safeValue(a,t),void 0===n){const t=Object.values(a);if(n=this.safeValue(t,0),void 0===n)throw new y(this.id+" fetchDepositAddress() cannot find deposit address for "+e)}}}return n}if(n=this.safeValue(a,s),void 0===n)throw new y(this.id+" fetchDepositAddress() cannot find "+s+" deposit address for "+e);return n}async fetchDeposits(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"deposit",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.spotPrivateGetV1QueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"withdraw",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.spotPrivateGetV1QueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),r=this.safeInteger(e,"updated-at"),s=this.safeCurrencyCode(this.safeString(e,"currency"));let a=this.safeString(e,"type");"withdraw"===a&&(a="withdrawal");const n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:a,amount:this.safeNumber(e,"amount"),currency:s,status:n,updated:r,fee:{currency:s,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={address:i,amount:t,currency:a.id.toLowerCase()};void 0!==r&&(n["addr-tag"]=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeStringLower(o,c,c),void 0!==c&&(n.chain="erc20"===c?a.id+c:c+a.id,s=this.omit(s,"network"));const h=await this.spotPrivatePostV1DwWithdrawApiCreate(this.extend(n,s));return{info:h,id:this.safeString(h,"data")}}parseTransfer(e,t){return{info:e,id:this.safeString(e,"data"),timestamp:void 0,datetime:void 0,currency:this.safeCurrencyCode(void 0,t),amount:void 0,fromAccount:void 0,toAccount:void 0,status:void 0}}async transfer(e,t,i,r,s={}){await this.loadMarkets();const a=this.currency(e);let o=this.safeString(s,"type");if(void 0===o){const e=this.safeValue(this.options,"accountsByType",{});i=i.toLowerCase(),r=r.toLowerCase();const t=this.safeString(e,i),s=this.safeString(e,r);if(void 0===t){const t=Object.keys(e);throw new n(this.id+" fromAccount must be one of "+t.join(", "))}if(void 0===s){const t=Object.keys(e);throw new n(this.id+" toAccount must be one of "+t.join(", "))}o=i+"-to-"+r}const c={currency:a.id,amount:parseFloat(this.currencyToPrecision(e,t)),type:o},h=await this.spotPrivatePostFuturesTransfer(this.extend(c,s)),d=this.parseTransfer(h,a);return this.extend(d,{amount:t,currency:e,fromAccount:i,toAccount:r})}async fetchBorrowRatesPerSymbol(e={}){await this.loadMarkets();const t=await this.spotPrivateGetV1MarginLoanInfo(e),i=this.milliseconds(),r=this.safeValue(t,"data"),s={info:t};for(let e=0;e<r.length;e++){const t=r[e],a=this.safeValue(t,"currencies"),n={};for(let e=0;e<a.length;e++){const t=a[e],r=this.safeString(t,"currency"),s=this.safeCurrencyCode(r,"currency");n[s]={currency:s,rate:this.safeNumber(t,"actual-rate"),span:864e5,timestamp:i,datetime:this.iso8601(i)}}s[this.markets_by_id[this.safeString(t,"symbol")].symbol]=n}return s}async fetchBorrowRates(e={}){await this.loadMarkets();const t=await this.spotPrivateGetV1MarginLoanInfo(e),i=this.milliseconds(),r=this.safeValue(t,"data"),s={};for(let e=0;e<r.length;e++){const t=r[e],a=this.safeValue(t,"currencies");for(let e=0;e<a.length;e++){const t=a[e],r=this.safeString(t,"currency"),n=this.safeCurrencyCode(r,"currency");s[n]={currency:n,rate:this.safeNumber(t,"actual-rate"),span:864e5,timestamp:i,datetime:this.iso8601(i),info:void 0}}}return s}sign(e,t="public",i="GET",r={},s,a){let n="/";const o=this.omit(r,this.extractParams(e));if("string"==typeof t){if("market"===t?n+=t:"public"===t||"private"===t?n+=this.version:"v2Public"!==t&&"v2Private"!==t||(n+="v2"),n+="/"+this.implodeParams(e,r),"private"===t||"v2Private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,this.hostname,n,r].join("\n"),h=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:h}),n+="?"+r,"POST"===i?(a=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(o).length&&(n+="?"+this.urlencode(o));n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+n}else{const c=this.safeString(t,0),h=this.safeString(t,1);n+=this.implodeParams(e,r);const d=this.safeString(this.urls.hostnames,c);if("public"===h)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===h){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,d,n,r].join("\n"),h=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:h}),n+="?"+r,"POST"===i?(a=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}n=this.implodeParams(this.urls.api[c],{hostname:d})+n}return{url:n,method:i,body:a,headers:s}}calculateRateLimiterCost(e,t,i,r,s={},a={}){return this.safeInteger(s,"cost",1)}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0!==o&&"status"in o&&"error"===this.safeString(o,"status")){const e=this.safeString(o,"err-code"),t=this.id+" "+a;this.throwBroadlyMatchedException(this.exceptions.broad,a,t),this.throwExactlyMatchedException(this.exceptions.exact,e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions.exact,i,t),new n(t)}}async fetchFundingRateHistory(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchFundingRateHistory() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={contract_code:a.id};let o;if(a.inverse)o="contractPublicGetSwapApiV1SwapHistoricalFundingRate";else{if(!a.linear)throw new b(this.id+" fetchFundingRateHistory() supports inverse and linear swaps only");o="contractPublicGetLinearSwapApiV1SwapHistoricalFundingRate"}const c=await this[o](this.extend(n,r)),h=this.safeValue(c,"data"),d=this.safeValue(h,"data"),u=[];for(let e=0;e<d.length;e++){const t=d[e],i=this.safeString(t,"contract_code"),r=this.safeSymbol(i),s=this.safeString(t,"funding_time");u.push({info:t,symbol:r,fundingRate:this.safeNumber(t,"funding_rate"),timestamp:s,datetime:this.iso8601(s)})}const l=this.sortBy(u,"timestamp");return this.filterBySymbolSinceLimit(l,e,t,i)}parseFundingRate(e,t){const i=this.safeNumber(e,"estimated_rate"),r=this.safeInteger(e,"funding_time"),s=this.safeInteger(e,"next_funding_time"),a=this.safeString(e,"contract_code");return{info:e,symbol:this.safeSymbol(a,t),markPrice:void 0,indexPrice:void 0,interestRate:void 0,estimatedSettlePrice:void 0,timestamp:void 0,datetime:void 0,previousFundingRate:this.safeNumber(e,"funding_rate"),nextFundingRate:i,previousFundingTimestamp:r,nextFundingTimestamp:s,previousFundingDatetime:this.iso8601(r),nextFundingDatetime:this.iso8601(s)}}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e);let r;if(i.inverse)r="contractPublicGetSwapApiV1SwapFundingRate";else{if(!i.linear)throw new b(this.id+" fetchFundingRateHistory() supports inverse and linear swaps only");r="contractPublicGetLinearSwapApiV1SwapFundingRate"}const s={contract_code:i.id},a=await this[r](this.extend(s,t)),n=this.safeValue(a,"data",{});return this.parseFundingRate(n,i)}}},54072:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeError:a,PermissionDenied:n,ExchangeNotAvailable:o,OnMaintenance:c,InvalidOrder:h,OrderNotFound:d,InsufficientFunds:u,ArgumentsRequired:l,BadSymbol:f,BadRequest:p,RequestTimeout:m,NetworkError:g}=i(73449),{TRUNCATE:y}=i(62115),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobijp",name:"Huobi Japan",countries:["JP"],rateLimit:100,userAgent:this.userAgents.chrome39,certified:!1,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api-cloud.huobi.co.jp",pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!1,fetchDepositAddressesByNetwork:!1,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingLimits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/85734211-85755480-b705-11ea-8b35-0b7f1db33a2f.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",v2Public:"https://{hostname}",v2Private:"https://{hostname}"},www:"https://www.huobi.co.jp",referral:"https://www.huobi.co.jp/register/?invite_code=znnq3",doc:"https://api-doc.huobi.co.jp",fees:"https://www.huobi.co.jp/support/fee"},api:{v2Public:{get:{"reference/currencies":1,"market-status":1}},v2Private:{get:{"account/ledger":1,"account/withdraw/quota":1,"account/withdraw/address":1,"account/deposit/address":1,"account/repayment":5,"reference/transact-fee-rate":1,"account/asset-valuation":.2,"point/account":5,"sub-user/user-list":1,"sub-user/user-state":1,"sub-user/account-list":1,"sub-user/deposit-address":1,"sub-user/query-deposit":1,"user/api-key":1,"user/uid":1,"algo-orders/opening":1,"algo-orders/history":1,"algo-orders/specific":1,"c2c/offers":1,"c2c/offer":1,"c2c/transactions":1,"c2c/repayment":1,"c2c/account":1,"etp/reference":1,"etp/transactions":5,"etp/transaction":5,"etp/rebalance":1,"etp/limit":1},post:{"account/transfer":1,"account/repayment":5,"point/transfer":5,"sub-user/management":1,"sub-user/creation":1,"sub-user/tradable-market":1,"sub-user/transferability":1,"sub-user/api-key-generation":1,"sub-user/api-key-modification":1,"sub-user/api-key-deletion":1,"sub-user/deduct-mode":1,"algo-orders":1,"algo-orders/cancel-all-after":1,"algo-orders/cancellation":1,"c2c/offer":1,"c2c/cancellation":1,"c2c/cancel-all":1,"c2c/repayment":1,"c2c/transfer":1,"etp/creation":5,"etp/redemption":5,"etp/{transactId}/cancel":10,"etp/batch-cancel":50}},market:{get:{"history/kline":1,"detail/merged":1,depth:1,trade:1,"history/trade":1,detail:1,tickers:1,etp:1}},public:{get:{"common/symbols":1,"common/currencys":1,"common/timestamp":1,"common/exchange":1,"settings/currencys":1}},private:{get:{"account/accounts":.2,"account/accounts/{id}/balance":.2,"account/accounts/{sub-uid}":1,"account/history":4,"cross-margin/loan-info":1,"margin/loan-info":1,"fee/fee-rate/get":1,"order/openOrders":.4,"order/orders":.4,"order/orders/{id}":.4,"order/orders/{id}/matchresults":.4,"order/orders/getClientOrder":.4,"order/history":1,"order/matchresults":1,"query/deposit-withdraw":1,"margin/loan-orders":.2,"margin/accounts/balance":.2,"cross-margin/loan-orders":1,"cross-margin/accounts/balance":1,"points/actions":1,"points/orders":1,"subuser/aggregate-balance":10,"stable-coin/exchange_rate":1,"stable-coin/quote":1},post:{"account/transfer":1,"futures/transfer":1,"order/batch-orders":.4,"order/orders/place":.2,"order/orders/submitCancelClientOrder":.2,"order/orders/batchCancelOpenOrders":.4,"order/orders/{id}/submitcancel":.2,"order/orders/batchcancel":.4,"dw/withdraw/api/create":1,"dw/withdraw-virtual/{id}/cancel":1,"dw/transfer-in/margin":10,"dw/transfer-out/margin":10,"margin/orders":10,"margin/orders/{id}/repay":10,"cross-margin/transfer-in":1,"cross-margin/transfer-out":1,"cross-margin/orders":1,"cross-margin/orders/{id}/repay":1,"stable-coin/exchange":1,"subuser/transfer":10}}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{broad:{"contract is restricted of closing positions on API.  Please contact customer service":c,maintain:c},exact:{"bad-request":p,"base-date-limit-error":p,"api-not-support-temp-addr":n,timeout:m,"gateway-internal-error":o,"account-frozen-balance-insufficient-error":u,"invalid-amount":h,"order-limitorder-amount-min-error":h,"order-limitorder-amount-max-error":h,"order-marketorder-amount-min-error":h,"order-limitorder-price-min-error":h,"order-limitorder-price-max-error":h,"order-holding-limit-failed":h,"order-orderprice-precision-error":h,"order-etp-nav-price-max-error":h,"order-orderstate-error":d,"order-queryorder-invalid":d,"order-update-error":o,"api-signature-check-failed":s,"api-signature-not-valid":s,"base-record-invalid":d,"base-symbol-trade-disabled":f,"base-symbol-error":f,"system-maintenance":c,"invalid symbol":f,"symbol trade not open now":f}},options:{defaultNetwork:"ERC20",networks:{ETH:"erc20",TRX:"trc20",HRC20:"hrc20",HECO:"hrc20",HT:"hrc20",ALGO:"algo",OMNI:""},fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US",broker:{id:"AA03022abc"}},commonCurrencies:{GET:"Themis",GTC:"Game.com",HIT:"HitChain",HOT:"Hydro Protocol",PNT:"Penta",SBTC:"Super Bitcoin",BIFI:"Bitcoin File"}})}async fetchTime(e={}){const t=await this.publicGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.publicGetCommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeNumber(e,"limit-order-must-greater-than"),max:this.safeNumber(e,"limit-order-must-less-than")}}}}costToPrecision(e,t){return this.decimalToPrecision(t,y,this.markets[e].precision.cost,this.precisionMode)}async fetchMarkets(e={}){const t=this.options.fetchMarketsMethod,i=await this[t](e),r=this.safeValue(i,"data");if(r.length<1)throw new g(this.id+" publicGetCommonSymbols returned empty response: "+this.json(r));const s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"base-currency"),a=this.safeString(t,"quote-currency"),n=i+a,o=this.safeCurrencyCode(i),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:this.safeInteger(t,"amount-precision"),price:this.safeInteger(t,"price-precision"),cost:this.safeInteger(t,"value-precision")},u="OMG"===o?0:.002,l="OMG"===o?0:.002,f=this.safeNumber(t,"min-order-amt",Math.pow(10,-d.amount)),p=this.safeNumber(t,"max-order-amt"),m=this.safeNumber(t,"min-order-value",0),g="online"===this.safeString(t,"state");s.push({id:n,symbol:h,base:o,quote:c,baseId:i,quoteId:a,type:"spot",spot:!0,active:g,precision:d,taker:l,maker:u,limits:{amount:{min:f,max:p},price:{min:Math.pow(10,-d.price),max:void 0},cost:{min:m,max:void 0},leverage:{max:this.safeNumber(t,"leverage-ratio",1),superMax:this.safeNumber(t,"super-margin-leverage-ratio",1)}},info:t})}return s}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.safeInteger(e,"ts");let s,a,n,o;"bid"in e&&(Array.isArray(e.bid)?(s=this.safeNumber(e.bid,0),a=this.safeNumber(e.bid,1)):(s=this.safeNumber(e,"bid"),a=this.safeValue(e,"bidSize"))),"ask"in e&&(Array.isArray(e.ask)?(n=this.safeNumber(e.ask,0),o=this.safeNumber(e.ask,1)):(n=this.safeNumber(e,"ask"),o=this.safeValue(e,"askSize")));const c=this.safeNumber(e,"open"),h=this.safeNumber(e,"close"),d=this.safeNumber(e,"amount"),u=this.safeNumber(e,"vol"),l=this.vwap(d,u);return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:s,bidVolume:a,ask:n,askVolume:o,vwap:l,open:c,close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:d,quoteVolume:u,info:e},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id,type:"step0"},s=await this.marketGetDepth(this.extend(r,i));if("tick"in s){if(!s.tick)throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(s));const t=this.safeValue(s,"tick"),i=this.safeInteger(t,"ts",this.safeInteger(s,"ts")),r=this.parseOrderBook(t,e,i);return r.nonce=this.safeInteger(t,"version"),r}throw new a(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s))}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetDetailMerged(this.extend(r,t)),a=this.parseTicker(s.tick,i),n=this.safeInteger(s,"ts");return a.timestamp=n,a.datetime=this.iso8601(n),a}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t),r=this.safeValue(i,"data"),s=this.safeInteger(i,"ts"),a={};for(let e=0;e<r.length;e++){const t=this.safeString(r[e],"symbol"),i=this.safeMarket(t),n=i.symbol,o=this.parseTicker(r[e],i);o.timestamp=s,o.datetime=this.iso8601(s),a[n]=o}return this.filterByArray(a,"symbol",e)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeInteger2(e,"ts","created-at"),a=this.safeString(e,"order-id");let n=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){const e=o.split("-");n=e[0],o=e[1]}const c=this.safeString(e,"role"),h=this.safeString(e,"price"),d=this.safeString2(e,"filled-amount","amount"),u=this.parseNumber(h),l=this.parseNumber(d),f=this.parseNumber(b.stringMul(h,d));let p,m=this.safeNumber(e,"filled-fees"),g=this.safeCurrencyCode(this.safeString(e,"fee-currency"));const y=this.safeNumber(e,"filled-points");void 0!==y&&(void 0!==m&&0!==m||(m=y,g=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==m&&(p={cost:m,currency:g});const v=this.safeString2(e,"trade-id","tradeId");return{id:this.safeString(e,"id",v),info:e,order:a,timestamp:s,datetime:this.iso8601(s),symbol:r,type:o,side:n,takerOrMaker:c,price:u,amount:l,cost:f,fee:p}}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={id:e},n=await this.privateGetOrderOrdersIdMatchresults(this.extend(a,s));return this.parseTrades(n.data,void 0,i,r)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.size=i),void 0!==t&&(a["start-time"]=t);const n=await this.privateGetOrderMatchresults(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchTrades(e,t,i=1e3,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.size=i);const n=await this.marketGetHistoryTrade(this.extend(a,r)),o=this.safeValue(n,"data");let c=[];for(let e=0;e<o.length;e++){const t=this.safeValue(o[e],"data",[]);for(let e=0;e<t.length;e++){const i=this.parseTrade(t[e],s);c.push(i)}}return c=this.sortBy(c,"timestamp"),this.filterBySymbolSinceLimit(c,e,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,"id"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"amount")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};void 0!==r&&(n.size=r);const o=await this.marketGetHistoryKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchAccounts(e={}){return await this.loadMarkets(),(await this.privateGetAccountAccounts(e)).data}async fetchCurrencies(e={}){const t={language:this.options.language},i=await this.publicGetSettingsCurrencys(this.extend(t,e)),r=this.safeValue(i,"data"),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeValue(t,"name"),a=this.safeInteger(t,"withdraw-precision"),n=this.safeCurrencyCode(i),o=this.safeValue(t,"deposit-enabled"),c=this.safeValue(t,"withdraw-enabled"),h=this.safeValue(t,"country-disabled"),d=this.safeValue(t,"visible",!1),u=this.safeString(t,"state"),l=d&&o&&c&&"online"===u&&!h,f=this.safeString(t,"display-name");s[n]={id:i,code:n,type:"crypto",name:f,active:l,fee:void 0,precision:a,limits:{amount:{min:Math.pow(10,-a),max:Math.pow(10,a)},deposit:{min:this.safeNumber(t,"deposit-min-amount"),max:Math.pow(10,a)},withdraw:{min:this.safeNumber(t,"withdraw-min-amount"),max:Math.pow(10,a)}},info:t}}return s}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.options.fetchBalanceMethod,i={id:this.accounts[0].id},r=await this[t](this.extend(i,e)),s=this.safeValue(r.data,"list",[]),a={info:r};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i);let n;n=r in a?a[r]:this.account(),"trade"===t.type&&(n.free=this.safeString(t,"balance")),"frozen"===t.type&&(n.used=this.safeString(t,"balance")),a[r]=n}return this.parseBalance(a)}async fetchOrdersByStates(e,t,i,r,s={}){await this.loadMarkets();const a={states:e};let n;void 0!==t&&(n=this.market(t),a.symbol=n.id);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","private_get_order_orders"),c=await this[o](this.extend(a,s));return this.parseOrders(c.data,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderOrdersId(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"fetchOpenOrdersMethod","fetch_open_orders_v1");return await this[s](e,t,i,r)}async fetchOpenOrdersV1(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchOpenOrdersV1() requires a symbol argument");return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrdersV2(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id);let n=this.safeString(r,"account-id");if(void 0===n){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t.type&&(n=this.safeString(t,"id"),void 0!==n))break}}s["account-id"]=n,void 0!==i&&(s.size=i);const o=this.omit(r,"account-id"),c=await this.privateGetOrderOpenOrders(this.extend(s,o)),h=this.safeValue(c,"data",[]);return this.parseOrders(h,a,t,i)}parseOrderStatus(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r,s,a;if("type"in e){const t=e.type.split("-");r=t[0],s=t[1],a=this.parseOrderStatus(this.safeString(e,"state"))}const n=this.safeString(e,"symbol");t=this.safeMarket(n,t);const o=this.safeSymbol(n,t),c=this.safeInteger(e,"created-at"),h=this.safeString(e,"client-order-id"),d=this.safeString(e,"amount"),u=this.safeString2(e,"filled-amount","field-amount"),l=this.safeString(e,"price"),f=this.safeString2(e,"filled-cash-amount","field-cash-amount"),p=this.safeNumber2(e,"filled-fees","field-fees");let m;if(void 0!==p){let e;void 0!==t&&(e="sell"===r?t.quote:t.base),m={cost:p,currency:e}}return this.safeOrder2({info:e,id:i,clientOrderId:h,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,average:void 0,cost:f,amount:d,filled:u,remaining:void 0,status:a,fee:m,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o={"account-id":this.accounts[0].id,symbol:n.id,type:i+"-"+t},c=this.safeString2(a,"clientOrderId","client-order-id");if(void 0===c){const e=this.safeValue(this.options,"broker",{}),t=this.safeString(e,"id");o["client-order-id"]=t+this.uuid()}else o["client-order-id"]=c;if(a=this.omit(a,["clientOrderId","client-order-id"]),"market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new h(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");o.amount=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}else o.amount=this.costToPrecision(e,r);else o.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t&&"stop-limit"!==t&&"stop-limit-fok"!==t||(o.price=this.priceToPrecision(e,s));const d=this.options.createOrderMethod,u=await this[d](this.extend(o,a)),l=this.milliseconds();return{info:u,id:this.safeString(u,"data"),timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0,clientOrderId:void 0,average:void 0}}async cancelOrder(e,t,i={}){const r=await this.privatePostOrderOrdersIdSubmitcancel({id:e});return this.extend(this.parseOrder(r),{id:e,status:"canceled"})}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"clientOrderIds","client-order-ids");i=this.omit(i,["clientOrderIds","client-order-ids"]);const s={};return void 0===r?s["order-ids"]=e:s["client-order-ids"]=r,await this.privatePostOrderOrdersBatchcancel(this.extend(s,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.privatePostOrderOrdersBatchCancelOpenOrders(this.extend(i,t))}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}safeNetwork(e){const t=e.length-1;return"1"===e[t]&&(e=e.slice(0,t)),this.safeString({},e,e)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString(e,"addressTag");""===r&&(r=void 0);const s=this.safeString(e,"currency");t=this.safeCurrency(s,t);const a=this.safeCurrencyCode(s,t),n=this.safeString(e,"chain"),o=this.safeValue(t,"networks",{}),c=this.indexBy(o,"id"),h=this.safeValue(c,n,n),d=this.safeString(h,"network");return this.checkAddress(i),{currency:a,address:i,tag:r,network:d,info:e}}async fetchDeposits(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"deposit",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;(void 0===i||i>100)&&(i=100),await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a={type:"withdraw",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),r=this.safeInteger(e,"updated-at"),s=this.safeCurrencyCode(this.safeString(e,"currency"));let a=this.safeString(e,"type");"withdraw"===a&&(a="withdrawal");const n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeNumber(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:a,amount:this.safeNumber(e,"amount"),currency:s,status:n,updated:r,fee:{currency:s,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={address:i,amount:t,currency:a.id.toLowerCase()};void 0!==r&&(n["addr-tag"]=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeStringLower(o,c,c),void 0!==c&&(n.chain="erc20"===c?a.id+c:c+a.id,s=this.omit(s,"network"));const h=await this.privatePostDwWithdrawApiCreate(this.extend(n,s));return{info:h,id:this.safeString(h,"data")}}sign(e,t="public",i="GET",r={},s,a){let n="/";"market"===t?n+=t:"public"===t||"private"===t?n+=this.version:"v2Public"!==t&&"v2Private"!==t||(n+="v2"),n+="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t||"v2Private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,this.hostname,n,r].join("\n"),h=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:h}),n+="?"+r,"POST"===i?(a=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+n,{url:n,method:i,body:a,headers:s}}calculateRateLimiterCost(e,t,i,r,s={},a={}){return this.safeInteger(s,"cost",1)}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&"status"in o&&"error"===this.safeString(o,"status")){const e=this.safeString(o,"err-code"),t=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions.broad,n,t),this.throwExactlyMatchedException(this.exceptions.exact,e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions.exact,i,t),new a(t)}}}},53775:(e,t,i)=>{"use strict";const r=i(68639);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobipro",alias:!0})}}},22574:(e,t,i)=>{"use strict";const r=i(48819),{PAD_WITH_ZERO:s}=i(62115),{InvalidOrder:a,InsufficientFunds:n,ExchangeError:o,ExchangeNotAvailable:c,DDoSProtection:h,BadRequest:d,NotSupported:u,InvalidAddress:l,AuthenticationError:f}=i(73449),p=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"idex",name:"IDEX",countries:["US"],rateLimit:1500,version:"v2",pro:!0,certified:!0,requiresWeb3:!0,has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","1d":"1d"},urls:{test:{MATIC:"https://api-sandbox-matic.idex.io"},logo:"https://user-images.githubusercontent.com/51840849/94481303-2f222100-01e0-11eb-97dd-bc14c5943a86.jpg",api:{MATIC:"https://api-matic.idex.io"},www:"https://idex.io",doc:["https://docs.idex.io/"]},api:{public:{get:["ping","time","exchange","assets","markets","tickers","candles","trades","orderbook","wsToken"]},private:{get:["user","wallets","balances","orders","fills","deposits","withdrawals"],post:["wallets","orders","orders/test","withdrawals"],delete:["orders"]}},options:{defaultTimeInForce:"gtc",defaultSelfTradePrevention:"cn",network:"MATIC"},exceptions:{INVALID_ORDER_QUANTITY:a,INSUFFICIENT_FUNDS:n,SERVICE_UNAVAILABLE:c,EXCEEDED_RATE_LIMIT:h,INVALID_PARAMETER:d,WALLET_NOT_ASSOCIATED:l,INVALID_WALLET_SIGNATURE:f},requiredCredentials:{walletAddress:!0,privateKey:!0,apiKey:!0,secret:!0},paddingMode:s,commonCurrencies:{},requireCredentials:{privateKey:!0,apiKey:!0,secret:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=await this.publicGetExchange(),r=this.safeNumber(i,"makerFeeRate"),s=this.safeNumber(i,"takerFeeRate"),a=this.safeNumber(i,"makerTradeMinimum"),n=this.safeNumber(i,"takerTradeMinimum"),o=Math.min(a,n),c=[];for(let e=0;e<t.length;e++){const i=t[e],a=this.safeString(i,"market"),n=this.safeString(i,"baseAsset"),h=this.safeString(i,"quoteAsset"),d=this.safeCurrencyCode(n),u=this.safeCurrencyCode(h),l=d+"/"+u,f=this.safeString(i,"baseAssetPrecision"),p=this.safeString(i,"quoteAssetPrecision"),m=this.parsePrecision(f),g=this.parsePrecision(p),y="active"===this.safeString(i,"status");let b;"ETH"===u&&(b=o);const v={amount:parseInt(f),price:parseInt(p)};c.push({symbol:l,id:a,base:d,quote:u,baseId:n,quoteId:h,type:"spot",spot:!0,active:y,info:i,precision:v,taker:s,maker:r,limits:{amount:{min:this.parseNumber(m),max:void 0},price:{min:this.parseNumber(g),max:void 0},cost:{min:b,max:void 0}}})}return c}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickers(this.extend(r,t)),a=this.safeValue(s,0);return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t);return this.parseTickers(i,e)}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeNumber(e,"baseVolume"),a=this.safeNumber(e,"quoteVolume"),n=this.safeInteger(e,"time"),o=this.safeNumber(e,"open"),c=this.safeNumber(e,"high"),h=this.safeNumber(e,"low"),d=this.safeNumber(e,"close"),u=this.safeNumber(e,"ask"),l=this.safeNumber(e,"bid");let f,p=this.safeNumber(e,"percentChange");return void 0!==p&&(p=1+p/100),void 0!==d&&void 0!==o&&(f=d-o),{symbol:r,timestamp:n,datetime:this.iso8601(n),high:c,low:h,bid:l,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:o,close:d,last:d,previousClose:void 0,change:f,percentage:p,average:void 0,baseVolume:s,quoteVolume:a,info:e}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,interval:t};void 0!==i&&(n.start=i),void 0!==r&&(n.limit=r);const o=await this.publicGetCandles(this.extend(n,s));return Array.isArray(o)?this.parseOHLCVs(o,a,t,i,r):[]}parseOHLCV(e,t){return[this.safeInteger(e,"start"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"fillId"),r=this.safeString(e,"price"),s=this.safeString(e,"quantity"),a=this.parseNumber(r),n=this.parseNumber(s);let o=this.safeNumber(e,"quoteQuantity");void 0===o&&(o=this.parseNumber(p.stringMul(r,s)));const c=this.safeInteger(e,"time"),h=this.safeString(e,"market"),d=this.safeSymbol(h,t,"-"),u="buy"===this.safeString(e,"makerSide")?"sell":"buy",l=this.safeString(e,"side",u),f=this.safeString(e,"liquidity","taker"),m=this.safeNumber(e,"fee");let g;if(void 0!==m){const t=this.safeString(e,"feeAsset");g={cost:m,currency:this.safeCurrencyCode(t)}}const y=this.safeString(e,"orderId");return{info:e,timestamp:c,datetime:this.iso8601(c),symbol:d,id:i,order:y,type:"limit",side:l,takerOrMaker:f,price:a,amount:n,cost:o,fee:g}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id,level:2};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderbook(this.extend(r,i));return{symbol:e,timestamp:void 0,datetime:void 0,nonce:this.safeInteger(s,"sequence"),bids:this.parseSide(s,"bids"),asks:this.parseSide(s,"asks")}}parseSide(e,t){const i=this.safeValue(e,t,[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeNumber(t,0),a=this.safeNumber(t,1),n=this.safeInteger(t,2);r.push([s,a,n])}const s="bids"===t;return this.sortBy(r,0,s)}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"name"),a=this.safeString(r,"symbol"),n=this.safeString(r,"exchangeDecimals"),o=this.safeCurrencyCode(a),c=this.parsePrecision(n),h=this.parseNumber(c);i[o]={id:a,code:o,info:r,type:void 0,name:s,active:void 0,fee:void 0,precision:parseInt(n),limits:{amount:{min:h,max:void 0},withdraw:{min:h,max:void 0}}}}return i}async fetchBalance(e={}){this.checkRequiredCredentials(),await this.loadMarkets();const t={nonce:this.uuidv1(),wallet:this.walletAddress},i=this.extend(t,e);if(void 0===i.wallet)throw new d(this.id+' wallet is undefined, set this.walletAddress or "address" in params');let r;try{r=await this.privateGetBalances(i)}catch(e){if(!(e instanceof l))throw e;{const e=i.wallet;await this.associateWallet(e),r=await this.privateGetBalances(i)}}const s={info:r,timestamp:void 0,datetime:void 0};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"asset"),a=this.safeCurrencyCode(i),n=this.account();n.total=this.safeString(t,"quantity"),n.free=this.safeString(t,"availableForTrade"),n.used=this.safeString(t,"locked"),s[a]=n}return this.parseBalance(s)}async fetchMyTrades(e,t,i,r={}){let s;this.checkRequiredCredentials(),await this.loadMarkets();const a={nonce:this.uuidv1(),wallet:this.walletAddress};void 0!==e&&(s=this.market(e),a.market=s.id),void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);const n=this.extend(a,r);if(void 0===n.wallet)throw new d(this.id+' walletAddress is undefined, set this.walletAddress or "address" in params');let o;try{o=await this.privateGetFills(n)}catch(e){if(!(e instanceof l))throw e;{const e=n.wallet;await this.associateWallet(e),o=await this.privateGetFills(n)}}return this.parseTrades(o,s,t,i)}async fetchOrder(e,t,i={}){const r={orderId:e};return await this.fetchOrdersHelper(t,void 0,void 0,this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersHelper(e,t,i,this.extend({closed:!1},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersHelper(e,t,i,this.extend({closed:!0},r))}async fetchOrdersHelper(e,t,i,r={}){await this.loadMarkets();const s={nonce:this.uuidv1(),wallet:this.walletAddress};let a;void 0!==e&&(a=this.market(e),s.market=a.id),void 0!==t&&(s.start=t),void 0!==i&&(s.limit=i);const n=await this.privateGetOrders(this.extend(s,r));return Array.isArray(n)?this.parseOrders(n,a,t,i):this.parseOrder(n,a)}parseOrderStatus(e){return this.safeString({active:"open",partiallyFilled:"open",rejected:"canceled",filled:"closed"},e,e)}parseOrder(e,t){const i=this.safeInteger(e,"time"),r=this.safeValue(e,"fills",[]),s=this.safeString(e,"orderId"),a=this.safeString(e,"clientOrderId"),n=this.safeString(e,"market"),o=this.safeString(e,"side"),c=this.safeSymbol(n,t,"-"),h=this.parseTrades(r,t),d=this.safeString(e,"type"),u=this.safeNumber(e,"originalQuantity"),l=this.safeNumber(e,"executedQuantity"),f=this.safeNumber(e,"avgExecutionPrice"),p=this.safeNumber(e,"price"),m=this.safeString(e,"status"),g=this.parseOrderStatus(m);return this.safeOrder({info:e,id:s,clientOrderId:a,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:c,type:d,timeInForce:void 0,postOnly:void 0,side:o,price:p,stopPrice:void 0,amount:u,cost:void 0,average:f,filled:l,remaining:void 0,status:g,fee:void 0,trades:h})}async associateWallet(e,t={}){const i=this.uuidv1(),r=this.remove0xPrefix(e),s=[this.base16ToBinary(i),this.base16ToBinary(r)],a=this.binaryConcatArray(s),n=this.hash(a,"keccak","hex"),o={parameters:{nonce:i,wallet:e},signature:this.signMessageString(n,this.privateKey)};return await this.privatePostWallets(o)}async createOrder(e,t,i,r,s,a={}){this.checkRequiredCredentials(),await this.loadMarkets();const n=this.market(e),o=this.uuidv1();let c;const h={stopLoss:3,stopLossLimit:4,takeProfit:5,takeProfitLimit:6};let l;if("stopLossLimit"===t||"takeProfitLimit"===t||"stopPrice"in a){if(!("stopPrice"in a))throw new d(this.id+" stopPrice is a required parameter for "+t+"orders");l=this.priceToPrecision(e,a.stopPrice)}const f={limit:1,limitMaker:2};let p;const m=t.toLowerCase().indexOf("limit")>=0;if(t in f)c=f[t],p=this.priceToPrecision(e,s);else if(t in h)c=h[t],p=this.priceToPrecision(e,s);else{if("market"!==t)throw new d(this.id+" "+t+" is not a valid order type");c=0}let g=0;if("quoteOrderQuantity"in a){if("market"!==t)throw new u(this.id+" quoteOrderQuantity is not supported for "+t+" orders, only supported for market orders");g=1,r=this.safeNumber(a,"quoteOrderQuantity")}const y="buy"===i?0:1,b=this.remove0xPrefix(this.walletAddress),v="ETH"===this.safeString(this.options,"network","ETH")?1:2,w=this.amountToPrecision(e,r),k={gtc:0,ioc:2,fok:3},S=this.safeString(this.options,"defaultTimeInForce","gtc"),_=this.safeString(a,"timeInForce",S);let M;if(!(_ in k)){const e=Object.keys(k).join(", ");throw new d(this.id+" "+_+" is not a valid timeInForce, please choose one of "+e)}M=k[_];const T={dc:0,co:1,cn:2,cb:3},O=this.safeString(this.options,"defaultSelfTradePrevention","cn"),x=this.safeString(a,"selfTradePrevention",O);let I;if(!(x in T)){const e=Object.keys(T).join(", ");throw new d(this.id+" "+x+" is not a valid selfTradePrevention, please choose one of "+e)}I=T[x];const C=[this.numberToBE(v,1),this.base16ToBinary(o),this.base16ToBinary(b),this.stringToBinary(this.encode(n.id)),this.numberToBE(c,1),this.numberToBE(y,1),this.stringToBinary(this.encode(w)),this.numberToBE(g,1)];if(m){const e=this.stringToBinary(this.encode(p));C.push(e)}if(t in h){const e=this.stringToBinary(this.encode(l||p));C.push(e)}const A=this.safeString(a,"clientOrderId");void 0!==A&&C.push(this.stringToBinary(this.encode(A)));const E=[this.numberToBE(M,1),this.numberToBE(I,1),this.numberToBE(0,8)],N=this.arrayConcat(C,E),P=this.binaryConcatArray(N),B=this.hash(P,"keccak","hex"),R=this.signMessageString(B,this.privateKey),L={parameters:{nonce:o,market:n.id,side:i,type:t,wallet:this.walletAddress,timeInForce:_,selfTradePrevention:x},signature:R};m&&(L.parameters.price=p),t in h&&(L.parameters.stopPrice=l||p),0===g?L.parameters.quantity=w:L.parameters.quoteOrderQuantity=w,void 0!==A&&(L.parameters.clientOrderId=A);const V=await this.privatePostOrders(L);return this.parseOrder(V,n)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkRequiredCredentials(),await this.loadMarkets();const a=this.uuidv1(),n=this.currencyToPrecision(e,t),o=this.currency(e),c=this.remove0xPrefix(this.walletAddress),h=[this.base16ToBinary(a),this.base16ToBinary(c),this.stringToBinary(this.encode(o.id)),this.stringToBinary(this.encode(n)),this.numberToBE(1,1)],d=this.binaryConcatArray(h),u=this.hash(d,"keccak","hex"),l=this.signMessageString(u,this.privateKey),f={parameters:{nonce:a,wallet:i,asset:o.id,quantity:n},signature:l},p=await this.privatePostWithdrawals(f);return{info:p,id:this.safeString(p,"withdrawalId")}}async cancelOrder(e,t,i={}){let r;this.checkRequiredCredentials(),await this.loadMarkets(),void 0!==t&&(r=this.market(t));const s=this.uuidv1(),a=this.remove0xPrefix(this.walletAddress),n=[this.base16ToBinary(s),this.base16ToBinary(a),this.stringToBinary(this.encode(e))],o=this.binaryConcatArray(n),c=this.hash(o,"keccak","hex"),h=this.signMessageString(c,this.privateKey),d={parameters:{nonce:s,wallet:this.walletAddress,orderId:e},signature:h},u=await this.privateDeleteOrders(this.extend(d,i)),l=this.safeValue(u,0);return this.parseOrder(l,r)}handleErrors(e,t,i,r,s,a,n,c,h){const d=this.safeString(n,"code"),u=this.safeString(n,"message");if(d in this.exceptions)throw new(0,this.exceptions[d])(this.id+" "+u);if(void 0!==d)throw new o(this.id+" "+u)}async fetchDeposits(e,t,i,r={}){return r=this.extend({method:"privateGetDeposits"},r),this.fetchTransactionsHelper(e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return r=this.extend({method:"privateGetWithdrawals"},r),this.fetchTransactionsHelper(e,t,i,r)}async fetchTransactionsHelper(e,t,i,r={}){await this.loadMarkets();const s={nonce:this.uuidv1(),wallet:this.walletAddress};let a;void 0!==e&&(a=this.currency(e),s.asset=a.id),void 0!==t&&(s.start=t),void 0!==i&&(s.limit=i);const n=r.method;r=this.omit(r,"method");const o=await this[n](this.extend(s,r));return this.parseTransactions(o,a,t,i)}parseTransactionStatus(e){return this.safeString({mined:"ok"},e,e)}parseTransaction(e,t){let i;"depositId"in e?i="deposit":"withdrawalId"in e&&(i="withdrawal");const r=this.safeString2(e,"depositId","withdrawId"),s=this.safeCurrencyCode(this.safeString(e,"asset"),t),a=this.safeNumber(e,"quantity"),n=this.safeString(e,"txId"),o=this.safeInteger(e,"txTime");let c;"fee"in e&&(c={cost:this.safeNumber(e,"fee"),currency:"ETH"});const h=this.safeString(e,"txStatus"),d=this.parseTransactionStatus(h),u=this.safeInteger(e,"confirmationTime");return{info:e,id:r,txid:n,timestamp:o,datetime:this.iso8601(o),address:void 0,tag:void 0,type:i,amount:a,currency:s,status:d,updated:u,fee:c}}sign(e,t="public",i="GET",r={},s,a){const n=this.safeString(this.options,"network","ETH"),o=this.safeString(this.options,"version","v1");let c,h=this.urls.api[n]+"/"+o+"/"+e;if(Object.keys(r).length>0&&("GET"===i?(c=this.urlencode(r),h=h+"?"+c):a=this.json(r)),s={"Content-Type":"application/json"},void 0!==this.apiKey&&(s["IDEX-API-Key"]=this.apiKey),"private"===t){let e;e="GET"===i?c:a,s["IDEX-HMAC-Signature"]=this.hmac(this.encode(e),this.encode(this.secret),"sha256","hex")}return{url:h,method:i,body:a,headers:s}}}},73585:(e,t,i)=>{"use strict";const r=i(48819),s=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87182090-1e9e9080-c2ec-11ea-8e49-563db9a38f37.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetAllOrders","GetTradeHistorySummary","GetRecentTrades","GetFxRates","GetOrderMinimumVolumes","GetCryptoWithdrawalFees"]},private:{post:["GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetFiatBankAccounts","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","GetTrades","GetBrokerageFees","GetDigitalCurrencyWithdrawal","PlaceLimitOrder","PlaceMarketOrder","CancelOrder","SynchDigitalCurrencyDepositAddressWithBlockchain","RequestFiatWithdrawal","WithdrawFiatCurrency","WithdrawDigitalCurrency"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}},commonCurrencies:{PLA:"PlayChip"}})}async fetchMarkets(e={}){const t=await this.publicGetGetValidPrimaryCurrencyCodes(e),i=await this.publicGetGetValidSecondaryCurrencyCodes(e),r=await this.publicGetGetOrderMinimumVolumes(e),s=[];for(let e=0;e<t.length;e++){const a=t[e],n=this.safeCurrencyCode(a),o=this.safeNumber(r,a);for(let e=0;e<i.length;e++){const t=i[e],r=this.safeCurrencyCode(t),c=a+"/"+t,h=n+"/"+r;s.push({id:c,symbol:h,base:n,quote:r,baseId:a,quoteId:t,info:c,type:"spot",spot:!0,active:void 0,precision:this.precision,limits:{amount:{min:o,max:void 0}}})}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccounts(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"CurrencyCode"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"AvailableBalance"),n.total=this.safeString(r,"TotalBalance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={primaryCurrencyCode:r.baseId,secondaryCurrencyCode:r.quoteId},a=await this.publicGetGetOrderBook(this.extend(s,i)),n=this.parse8601(this.safeString(a,"CreatedTimestampUtc"));return this.parseOrderBook(a,e,n,"BuyOrders","SellOrders","Price","Volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"CreatedTimestampUtc"));let r;t&&(r=t.symbol);const s=this.safeNumber(e,"LastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"DayHighestPrice"),low:this.safeNumber(e,"DayLowestPrice"),bid:this.safeNumber(e,"CurrentHighestBidPrice"),bidVolume:void 0,ask:this.safeNumber(e,"CurrentLowestOfferPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"DayAvgPrice"),baseVolume:this.safeNumber(e,"DayVolumeXbtInSecondaryCurrrency"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={primaryCurrencyCode:i.baseId,secondaryCurrencyCode:i.quoteId},s=await this.publicGetGetMarketSummary(this.extend(r,t));return this.parseTicker(s,i)}parseOrder(e,t){let i;const r=this.safeString(e,"PrimaryCurrencyCode"),s=this.safeString(e,"SecondaryCurrencyCode");let a,n;void 0!==r&&void 0!==s?(a=this.safeCurrencyCode(r),n=this.safeCurrencyCode(s),i=a+"/"+n):void 0!==t&&(i=t.symbol,a=t.base,n=t.quote);let o,c=this.safeString2(e,"Type","OrderType");c.indexOf("Bid")>=0?o="buy":c.indexOf("Offer")>=0&&(o="sell"),c.indexOf("Market")>=0?c="market":c.indexOf("Limit")>=0&&(c="limit");const h=this.parse8601(this.safeString(e,"CreatedTimestampUtc")),d=this.safeString2(e,"VolumeOrdered","Volume"),u=this.safeString(e,"VolumeFilled"),l=this.safeString(e,"Outstanding"),f=this.safeNumber(e,"FeePercent");let p;void 0!==f&&void 0!==u&&(p=f*u);const m={rate:f,cost:p,currency:a},g=this.safeString(e,"OrderGuid"),y=this.parseOrderStatus(this.safeString(e,"Status")),b=this.safeString(e,"Value"),v=this.safeString(e,"AvgPrice"),w=this.safeString(e,"Price");return this.safeOrder2({info:e,id:g,clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:i,type:c,timeInForce:void 0,postOnly:void 0,side:o,price:w,stopPrice:void 0,cost:b,average:v,amount:d,filled:u,remaining:l,status:y,fee:m,trades:void 0},t)}parseOrderStatus(e){return this.safeString({Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"},e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostGetOrderDetails(this.extend({orderGuid:e},i));let s;return void 0!==t&&(s=this.market(t)),this.parseOrder(r,s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.ordered({});let a;void 0!==e&&(a=this.market(e),s.primaryCurrencyCode=a.baseId,s.secondaryCurrencyCode=a.quoteId),void 0===i&&(i=50),s.pageIndex=1,s.pageSize=i;const n=await this.privatePostGetOpenOrders(this.extend(s,r)),o=this.safeValue(n,"Data",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.ordered({});let a;void 0!==e&&(a=this.market(e),s.primaryCurrencyCode=a.baseId,s.secondaryCurrencyCode=a.quoteId),void 0===i&&(i=50),s.pageIndex=1,s.pageSize=i;const n=await this.privatePostGetClosedOrders(this.extend(s,r)),o=this.safeValue(n,"Data",[]);return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.safeInteger(r,"pageIndex",1);void 0===i&&(i=50);const a=this.ordered({pageIndex:s,pageSize:i}),n=await this.privatePostGetTrades(this.extend(a,r));let o;return void 0!==e&&(o=this.market(e)),this.parseTrades(n.Data,o,t,i)}parseTrade(e,t){const i=this.parse8601(e.TradeTimestampUtc),r=this.safeString(e,"TradeGuid"),a=this.safeString(e,"OrderGuid"),n=this.safeString2(e,"Price","SecondaryCurrencyTradePrice"),o=this.safeString2(e,"VolumeTraded","PrimaryCurrencyAmount"),c=this.parseNumber(n),h=this.parseNumber(o),d=this.parseNumber(s.stringMul(n,o)),u=this.safeString(e,"PrimaryCurrencyCode"),l=this.safeString(e,"SecondaryCurrencyCode");let f;void 0!==u&&void 0!==l&&(f=u+"/"+l);const p=this.safeSymbol(f,t,"/");let m=this.safeString(e,"OrderType");return void 0!==m&&(m.indexOf("Bid")>=0?m="buy":m.indexOf("Offer")>=0&&(m="sell")),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:p,order:a,type:void 0,side:m,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={primaryCurrencyCode:s.baseId,secondaryCurrencyCode:s.quoteId,numberOfRecentTradesToRetrieve:50},n=await this.publicGetGetRecentTrades(this.extend(a,r));return this.parseTrades(n.Trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.capitalize(t),c="privatePostPlace"+o+"Order";let h=o;h+="sell"===i?"Offer":"Bid";const d=this.ordered({primaryCurrencyCode:n.baseId,secondaryCurrencyCode:n.quoteId,orderType:h});"limit"===t&&(d.price=s),d.volume=r;const u=await this[c](this.extend(d,a));return{info:u,id:u.OrderGuid}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderGuid:e};return await this.privatePostCancelOrder(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=[n,"apiKey="+this.apiKey,"nonce="+e.toString()],i=Object.keys(r);for(let e=0;e<i.length;e++){const s=i[e],a=r[s].toString();t.push(s+"="+a)}const o=t.join(","),c=this.hmac(this.encode(o),this.encode(this.secret)),h=this.ordered({});h.apiKey=this.apiKey,h.nonce=e,h.signature=c.toUpperCase();for(let e=0;e<i.length;e++){const t=i[e];h[t]=r[t]}a=this.json(h),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}}},14535:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InsufficientFunds:n,InvalidOrder:o,OrderNotFound:c,AuthenticationError:h,BadSymbol:d}=i(73449),u=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"indodax",name:"INDODAX",countries:["ID"],has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:void 0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchTicker:!0,fetchTickers:void 0,fetchTime:!0,fetchTrades:!0,withdraw:!0},version:"2.0",urls:{logo:"https://user-images.githubusercontent.com/51840849/87070508-9358c880-c221-11ea-8dc5-5391afbbb422.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://github.com/btcid/indodax-official-api-docs",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["server_time","pairs","{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}},exceptions:{exact:{invalid_pair:d,"Insufficient balance.":n,"invalid order.":c,"Invalid credentials. API not found or session has expired.":h,"Invalid credentials. Bad sign.":h},broad:{"Minimum price":o,"Minimum order":o}},options:{recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},commonCurrencies:{STR:"XLM",BCHABC:"BCH",BCHSV:"BSV",DRK:"DASH",NEM:"XEM"}})}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchTime(e={}){const t=await this.publicGetServerTime(e);return this.safeInteger(t,"server_time")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options.timeDifference=i-t,this.options.timeDifference}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"ticker_id"),a=this.safeString(r,"traded_currency"),n=this.safeString(r,"base_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeNumber(r,"trade_fee_percent"),u=!this.safeInteger(r,"is_maintenance"),l={amount:8,price:this.safeInteger(r,"price_round")},f={amount:{min:this.safeNumber(r,"trade_min_traded_currency"),max:void 0},price:{min:this.safeNumber(r,"trade_min_base_currency"),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:u,taker:d,percentage:!0,precision:l,limits:f,info:r})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeValue(i,"balance",{}),s=this.safeValue(i,"balance_hold",{}),a=this.safeTimestamp(i,"server_time"),n={info:t,timestamp:a,datetime:this.iso8601(a)},o=Object.keys(r);for(let e=0;e<o.length;e++){const t=o[e],i=this.safeCurrencyCode(t),a=this.account();a.free=this.safeString(r,t),a.used=this.safeString(s,t),n[i]=a}return this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy","sell")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=(await this.publicGetPairTicker(this.extend(r,t))).ticker,a=this.safeTimestamp(s,"server_time"),n="vol_"+i.baseId.toLowerCase(),o="vol_"+i.quoteId.toLowerCase(),c=this.safeNumber(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"buy"),bidVolume:void 0,ask:this.safeNumber(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,n),quoteVolume:this.safeNumber(s,o),info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid");let s;void 0!==t&&(s=t.symbol);const a=this.safeString(e,"type"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),h=this.parseNumber(o),d=this.parseNumber(u.stringMul(n,o));return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:a,order:void 0,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetPairTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrderStatus(e){return this.safeString({open:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){let i;"type"in e&&(i=e.type);const r=this.parseOrderStatus(this.safeString(e,"status","open"));let s,a;const n=this.safeString(e,"price");let o,c;if(void 0!==t){s=t.symbol;let i=t.quoteId,r=t.baseId;"idr"===t.quoteId&&"order_rp"in e&&(i="rp"),"idr"===t.baseId&&"remain_rp"in e&&(r="rp"),a=this.safeString(e,"order_"+i),a||(o=this.safeString(e,"order_"+r),c=this.safeString(e,"remain_"+r))}const h=this.safeInteger(e,"submit_time"),d=this.safeString(e,"order_id");return this.safeOrder2({info:e,id:d,clientOrderId:void 0,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:s,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,cost:a,average:void 0,amount:o,filled:void 0,remaining:c,status:r,fee:void 0,trades:void 0})}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol");await this.loadMarkets();const r=this.market(t),s={pair:r.id,order_id:e},n=await this.privatePostGetOrder(this.extend(s,i)),o=n.return,c=this.parseOrder(this.extend({id:e},o.order),r);return this.extend({info:n},c)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.pair=s.id);const n=(await this.privatePostOpenOrders(this.extend(a,r))).return.orders;if(!n)return[];if(void 0!==e)return this.parseOrders(n,s,t,i);const o=Object.keys(n);let c=[];for(let e=0;e<o.length;e++){const r=o[e],a=n[r];s=this.markets_by_id[r];const h=this.parseOrders(a,s,t,i);c=this.arrayConcat(c,h)}return c}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s={};let n;void 0!==e&&(n=this.market(e),s.pair=n.id);const o=await this.privatePostOrderHistory(this.extend(s,r));let c=this.parseOrders(o.return.orders,n);return c=this.filterBy(c,"status","closed"),this.filterBySymbolSinceLimit(c,e,t,i)}async createOrder(e,t,i,r,a,n={}){if("limit"!==t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o.id,type:i,price:a},h=o.baseId;"buy"===i?c[o.quoteId]=r*a:c[o.baseId]=r,c[h]=r;const d=await this.privatePostTrade(this.extend(c,n)),u=this.safeValue(d,"return",{});return{info:d,id:this.safeString(u,"order_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");const r=this.safeValue(i,"side");if(void 0===r)throw new a(this.id+' cancelOrder() requires an extra "side" param');await this.loadMarkets();const s={order_id:e,pair:this.market(t).id,type:r};return await this.privatePostCancelOrder(this.extend(s,i))}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.milliseconds(),o={currency:a.id,withdraw_amount:t,withdraw_address:i,request_id:n.toString()};r&&(o.withdraw_memo=r);const c=await this.privatePostWithdrawCoin(this.extend(o,s));let h;return"txid"in c&&c.txid.length>0&&(h=c.txid),{info:c,id:h}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];return"public"===t?n+="/"+this.implodeParams(e,r):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,timestamp:this.nonce(),recvWindow:this.options.recvWindow},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;if(Array.isArray(o))return;const d=this.safeValue(o,"error","");if(!("success"in o)&&""===d)return;if(1===this.safeInteger(o,"success",0)){if("return"in o)return;throw new s(this.id+": malformed response: "+this.json(o))}const u=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,u),this.throwBroadlyMatchedException(this.exceptions.broad,d,u),new s(u)}}},21431:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,ArgumentsRequired:n}=i(73449),o=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"XBT",quoteId:"USD",type:"spot",spot:!0},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",baseId:"XBT",quoteId:"SGD",type:"spot",spot:!0},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR",type:"spot",spot:!0},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD",type:"spot",spot:!0},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR",type:"spot",spot:!0},"ETH/SGD":{id:"ETHSGD",symbol:"ETH/SGD",base:"ETH",quote:"SGD",baseId:"ETH",quoteId:"SGD",type:"spot",spot:!0},PAXGUSD:{id:"PAXGUSD",symbol:"PAXG/USD",base:"PAXG",quote:"USD",baseId:"PAXG",quoteId:"USD",type:"spot",spot:!0},BCHUSD:{id:"BCHUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCH",quoteId:"USD",type:"spot",spot:!0},LTCUSD:{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD",type:"spot",spot:!0}},fees:{trading:{maker:-3e-4,taker:.35/100}},commonCurrencies:{XBT:"BTC"}})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetMarketsSymbolOrderBook(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetMarketsSymbolTicker(this.extend(i,t)),a=this.safeString(r,"serverTimeUTC");if(!a)throw new s(this.id+" fetchTicker returned a bad response: "+this.json(r));const n=this.parse8601(a),o=this.safeNumber(r,"vwap24h"),c=this.safeNumber(r,"volume24h");let h;void 0!==c&&void 0!==o&&(h=c*o);const d=this.safeNumber(r,"lastPrice");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeNumber(r,"high24h"),low:this.safeNumber(r,"low24h"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:o,open:this.safeNumber(r,"openToday"),close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:h,info:r}}parseTrade(e,t){const i=this.safeString2(e,"executionId","matchNumber"),r=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"direction"),a=this.safeString(e,"orderId");let n=this.safeNumber(e,"commissionPaid");const c=this.safeString(e,"commissionCurrency"),h=this.safeCurrencyCode(c);let d=this.safeNumber(e,"rebatesApplied");void 0!==d&&(d=-d);const u=this.safeString(e,"rebateCurrency"),l=this.safeCurrencyCode(u),f=this.safeString2(e,"price","rate"),p=this.safeString2(e,"currency1Amount","amount"),m=this.parseNumber(f),g=this.parseNumber(p),y=this.parseNumber(o.stringMul(f,p));let b;const v=this.safeString(e,"instrument");if(void 0!==v)if(v in this.markets_by_id)t=this.markets_by_id[v];else{const t=this.safeString(e,"currency1"),i=this.safeString(e,"currency2");b=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}void 0===b&&void 0!==t&&(b=t.symbol);const w={info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:b,order:a,type:void 0,side:s,takerOrMaker:void 0,price:m,amount:g,cost:y,fee:void 0};return void 0!==n&&(void 0!==d?h===l?(n=this.sum(n,d),w.fee={cost:n,currency:h}):w.fees=[{cost:n,currency:h},{cost:d,currency:l}]:w.fee={cost:n,currency:h}),"fee"in w||"fees"in w||(w.fee=void 0),w}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=this.safeString(r,"walletId");if(void 0===s)throw new n(this.id+" fetchMyTrades() requires a walletId parameter");const a={walletId:s};void 0!==i&&(a.perPage=i);const o=(await this.privateGetWalletsWalletIdFundingHistory(this.extend(a,r))).fundingHistory,c=[];for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"time"),r=this.parse8601(i),s=this.safeString(t,"currency"),a=this.safeString(t,"destinationAddress"),n=this.safeString(t,"txnHash"),h=this.safeStringLower(t,"transactionType"),d=this.safeString(t,"status"),u=this.parseTransferStatus(d);c.push({id:this.safeString(t,"withdrawalId"),timestamp:r,datetime:this.iso8601(r),currency:this.safeCurrencyCode(s),address:a,tag:void 0,txid:n,type:h,status:u,amount:this.safeNumber(t,"amount"),fee:void 0,info:t})}return c}parseTransferStatus(e){return this.safeString({cancelled:"canceled",completed:"ok"},e,"pending")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const a=this.safeString(r,"walletId");if(void 0===a)throw new s(this.id+" fetchMyTrades() requires a walletId parameter");const n={walletId:a};void 0!==t&&(n.rangeStart=this.ymdhms(t,"T")),void 0!==i&&(n.perPage=i);const o=await this.privateGetWalletsWalletIdTrades(this.extend(n,r)),c=this.safeValue(o,"tradingHistory",[]);let h;return void 0!==e&&(h=this.market(e)),this.parseTrades(c,h,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetMarketsSymbolTrades(this.extend(a,r)),o=this.safeValue(n,"recentTrades",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.fetchWallets(e),i=t[0].balances,r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"availableBalance"),n.total=this.safeString(t,"totalBalance"),r[a]=n}return this.parseBalance(r)}async fetchWallets(e={}){if(await this.loadMarkets(),!this.uid)throw new a(this.id+" fetchWallets() requires uid API credential");const t={userId:this.uid};return await this.privateGetWallets(this.extend(t,e))}async fetchWallet(e,t={}){await this.loadMarkets();const i={walletId:e};return await this.privateGetWalletsWalletId(this.extend(i,t))}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"open"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"filled"},r))}async fetchOrders(e,t,i,r={}){let a;if(await this.loadMarkets(),void 0!==e&&(a=this.market(e)),!("walletId"in r))throw new s(this.id+" fetchOrders() requires a walletId parameter");const n={walletId:r.walletId},o=await this.privateGetWalletsWalletIdOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}parseOrderStatus(e){return this.safeString({submitted:"open",open:"open",filled:"closed",cancelled:"canceled",rejected:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"side"),r=this.safeString(e,"type"),s=this.markets_by_id[e.instrument].symbol,a=this.parse8601(e.createdTime),n=this.safeString(e,"amount"),o=this.safeString(e,"amountFilled"),c=this.safeString(e,"price"),h=this.safeString(e,"volumeWeightedAveragePrice"),d=this.safeString(e,"clientOrderIdentifier"),u=this.safeString(e,"id"),l="True"===this.safeString(e,"postOnly");return this.safeOrder2({id:u,clientOrderId:d,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:this.parseOrderStatus(this.safeString(e,"status")),symbol:s,type:r,timeInForce:void 0,postOnly:l,side:i,price:c,stopPrice:void 0,cost:void 0,average:h,amount:n,filled:o,remaining:void 0,fee:void 0,trades:void 0},t)}nonce(){return this.milliseconds()}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");if(!("walletId"in n))throw new s(this.id+" createOrder() requires a walletId parameter");r=r.toString(),a=a.toString();const o=this.market(e),c={side:i,type:t,currency:o.id.replace(o.quote,""),amount:r,display:r,price:a,instrument:o.id},h=await this.privatePostWalletsWalletIdOrders(this.extend(c,n));return{info:h,id:h.id}}async fetchOrder(e,t,i={}){if(await this.loadMarkets(),!("walletId"in i))throw new s(this.id+" fetchOrder() requires a walletId parameter");const r={id:e},a=await this.privateGetWalletsWalletIdOrdersId(this.extend(r,i));return this.parseOrder(a)}async cancelOrder(e,t,i={}){if(!("walletId"in i))throw new s(this.id+" cancelOrder() requires a walletId parameter");const r={id:e};return await this.privateDeleteWalletsWalletIdOrdersId(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"POST"===i&&Object.keys(o).length&&(a=this.json(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e,r=[i,n,"POST"===i?a:"",e,t],o=e+this.json(r).replace("\\/","/"),c=this.hash(this.encode(o),"sha256","binary"),h=this.stringToBinary(this.encode(n)),d=this.binaryConcat(h,c),u=this.hmac(d,this.encode(this.secret),"sha512","base64");s={Authorization:this.apiKey+":"+u,"Content-Type":"application/json","X-Auth-Timestamp":t,"X-Auth-Nonce":e}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&void 0!==this.safeString(o,"code"))throw new s(this.id+" "+this.json(o))}}},66594:(e,t,i)=>{"use strict";const r=i(48819),{BadSymbol:s,BadRequest:a,ExchangeNotAvailable:n,ArgumentsRequired:o,PermissionDenied:c,AuthenticationError:h,ExchangeError:d,OrderNotFound:u,DDoSProtection:l,InvalidNonce:f,InsufficientFunds:p,CancelPending:m,InvalidOrder:g,InvalidAddress:y,RateLimitExceeded:b,OnMaintenance:v}=i(73449),{TRUNCATE:w,DECIMAL_PLACES:k}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!1,pro:!0,has:{margin:!0,cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRateHistory:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchLedgerEntry:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:"emulated",fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,setMarginMode:!1,withdraw:!0},marketsByAltname:{},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"4h":240,"1d":1440,"1w":10080,"2w":21600},urls:{logo:"https://user-images.githubusercontent.com/51840849/76173629-fc67fb00-61b1-11ea-84fe-f2de582f58a3.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://kraken.zendesk.com/api/v2/help_center/en-us/articles"},www:"https://www.kraken.com",doc:"https://www.kraken.com/features/api",fees:"https://www.kraken.com/en-us/features/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},handleContentTypeApplicationZip:!0,api:{zendesk:{get:["360000292886","201893608"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:{AddOrder:0,AddExport:1,Balance:1,CancelAll:1,CancelOrder:0,ClosedOrders:2,DepositAddresses:1,DepositMethods:1,DepositStatus:1,ExportStatus:1,GetWebSocketsToken:1,Ledgers:2,OpenOrders:1,OpenPositions:1,QueryLedgers:1,QueryOrders:1,QueryTrades:1,RetrieveExport:1,RemoveExport:1,TradeBalance:1,TradesHistory:2,TradeVolume:1,Withdraw:1,WithdrawCancel:1,WithdrawInfo:1,WithdrawStatus:1}}},commonCurrencies:{XBT:"BTC","XBT.M":"BTC.M",XDG:"DOGE",REPV2:"REP",REP:"REPV1"},options:{delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"],networks:{ETH:"ERC20",TRX:"TRC20"},depositMethods:{"1INCH":"1inch (1INCH)",AAVE:"Aave",ADA:"ADA",ALGO:"Algorand",ANKR:"ANKR (ANKR)",ANT:"Aragon (ANT)",ATOM:"Cosmos",AXS:"Axie Infinity Shards (AXS)",BADGER:"Bager DAO (BADGER)",BAL:"Balancer (BAL)",BAND:"Band Protocol (BAND)",BAT:"BAT",BCH:"Bitcoin Cash",BNC:"Bifrost (BNC)",BNT:"Bancor (BNT)",BTC:"Bitcoin",CHZ:"Chiliz (CHZ)",COMP:"Compound (COMP)",CQT:"\tCovalent Query Token (CQT)",CRV:"Curve DAO Token (CRV)",CTSI:"Cartesi (CTSI)",DAI:"Dai",DASH:"Dash",DOGE:"Dogecoin",DOT:"Polkadot",DYDX:"dYdX (DYDX)",ENJ:"Enjin Coin (ENJ)",EOS:"EOS",ETC:"Ether Classic (Hex)",ETH:"Ether (Hex)",EWT:"Energy Web Token",FEE:"Kraken Fee Credit",FIL:"Filecoin",FLOW:"Flow",GHST:"Aavegotchi (GHST)",GNO:"GNO",GRT:"GRT",ICX:"Icon",INJ:"Injective Protocol (INJ)",KAR:"Karura (KAR)",KAVA:"Kava",KEEP:"Keep Token (KEEP)",KNC:"Kyber Network (KNC)",KSM:"Kusama",LINK:"Link",LPT:"Livepeer Token (LPT)",LRC:"Loopring (LRC)",LSK:"Lisk",LTC:"Litecoin",MANA:"MANA",MATIC:"Polygon (MATIC)",MINA:"Mina",MIR:"Mirror Protocol (MIR)",MKR:"Maker (MKR)",MLN:"MLN",MOVR:"Moonriver (MOVR)",NANO:"NANO",OCEAN:"OCEAN",OGN:"Origin Protocol (OGN)",OMG:"OMG",OXT:"Orchid (OXT)",OXY:"Oxygen (OXY)",PAXG:"PAX (Gold)",PERP:"Perpetual Protocol (PERP)",PHA:"Phala (PHA)",QTUM:"QTUM",RARI:"Rarible (RARI)",RAY:"Raydium (RAY)",REN:"Ren Protocol (REN)",REP:"REPv2",REPV1:"REP",SAND:"The Sandbox (SAND)",SC:"Siacoin",SDN:"Shiden (SDN)",SOL:"Solana",SNX:"Synthetix  Network (SNX)",SRM:"Serum",STORJ:"Storj (STORJ)",SUSHI:"Sushiswap (SUSHI)",TBTC:"tBTC",TRX:"Tron",UNI:"UNI",USDC:"USDC",USDT:"Tether USD (ERC20)","USDT-TRC20":"Tether USD (TRC20)",WAVES:"Waves",WBTC:"Wrapped Bitcoin (WBTC)",XLM:"Stellar XLM",XMR:"Monero",XRP:"Ripple XRP",XTZ:"XTZ",YFI:"YFI",ZEC:"Zcash (Transparent)",ZRX:"0x (ZRX)"}},exceptions:{"EQuery:Invalid asset pair":s,"EAPI:Invalid key":h,"EFunding:Unknown withdraw key":y,"EFunding:Invalid amount":p,"EService:Unavailable":n,"EDatabase:Internal error":n,"EService:Busy":n,"EQuery:Unknown asset":s,"EAPI:Rate limit exceeded":l,"EOrder:Rate limit exceeded":l,"EGeneral:Internal error":n,"EGeneral:Temporary lockout":l,"EGeneral:Permission denied":c,"EOrder:Unknown order":g,"EOrder:Order minimum not met":g,"EGeneral:Invalid arguments":a,"ESession:Invalid session":h,"EAPI:Invalid nonce":f,"EFunding:No funding method":a,"EFunding:Unknown asset":s,"EService:Market in post_only mode":v}})}costToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.price,k)}feeToPrecision(e,t){return this.decimalToPrecision(t,w,this.markets[e].precision.amount,k)}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"result",{}),r=Object.keys(i);let s=[];for(let e=0;e<r.length;e++){const t=r[e],a=i[t],n=this.safeString(a,"base"),o=this.safeString(a,"quote"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=t.indexOf(".d")>=0,u=this.safeString(a,"altname"),l=d?u:c+"/"+h,f=this.safeValue(a,"fees_maker",[]),p=this.safeValue(f,0,[]),m=this.safeNumber(p,1);let g;void 0!==m&&(g=parseFloat(m)/100);const y=this.safeValue(a,"fees",[]),b=this.safeValue(y,0,[]),v=this.safeNumber(b,1);let w;void 0!==v&&(w=parseFloat(v)/100);const k={amount:this.safeInteger(a,"lot_decimals"),price:this.safeInteger(a,"pair_decimals")},S=this.safeNumber(a,"ordermin"),_=this.safeValue(a,"leverage_buy",[]),M=_.length,T=this.safeValue(_,M-1,1);s.push({id:t,symbol:l,base:c,quote:h,baseId:n,quoteId:o,darkpool:d,info:a,altname:a.altname,maker:g,taker:w,type:"spot",spot:!0,active:!0,precision:k,limits:{amount:{min:S,max:void 0},price:{min:Math.pow(10,-k.price),max:void 0},cost:{min:void 0,max:void 0},leverage:{max:T}}})}return s=this.appendInactiveMarkets(s),this.marketsByAltname=this.indexBy(s,"altname"),s}safeCurrency(e,t){if(void 0!==e&&e.length>3&&(0===e.indexOf("X")||0===e.indexOf("Z"))){if(e.indexOf(".")>0)return super.safeCurrency(e,t);e=e.slice(1)}return super.safeCurrency(e,t)}appendInactiveMarkets(e){const t={amount:8,price:8},i={min:Math.pow(10,-t.price),max:void 0},r={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:{amount:{min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},price:i,cost:{min:0,max:void 0}}},s=[];for(let t=0;t<s.length;t++)e.push(this.extend(r,s[t]));return e}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e],a=i[t],n=this.safeCurrencyCode(this.safeString(a,"altname")),o=this.safeInteger(a,"decimals"),c=!this.inArray(n,this.options.inactiveCurrencies);s[n]={id:t,code:n,info:a,name:n,active:c,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return s}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostTradeVolume(e),i=this.safeNumber(t.result,"volume"),r=this.fees.trading.tiers;let s=r.taker[1],a=r.maker[1];for(let e=0;e<r.taker.length;e++)i>=r.taker[e][0]&&(s=r.taker[e][1]);for(let e=0;e<r.maker.length;e++)i>=r.maker[e][0]&&(a=r.maker[e][1]);return{info:t,maker:a,taker:s}}parseBidAsk(e,t=0,i=1){return[this.safeNumber(e,t),this.safeNumber(e,i),this.safeInteger(e,2)]}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);if(r.darkpool)throw new d(this.id+" does not provide an order book for darkpool symbol "+e);const s={pair:r.id};void 0!==t&&(s.count=t);const a=await this.publicGetDepth(this.extend(s,i)),n=this.safeValue(a,"result",{});let o=this.safeValue(n,r.id);const c=this.safeValue(r,"info",{}),h=this.safeValue(c,"wsname");return void 0!==h&&(o=this.safeValue(n,h,o)),this.parseOrderBook(o,e)}parseTicker(e,t){const i=this.milliseconds();let r;t&&(r=t.symbol);const s=parseFloat(e.v[1]),a=parseFloat(e.p[1]);let n;void 0!==s&&void 0!==a&&(n=s*a);const o=parseFloat(e.c[0]);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:a,open:this.safeNumber(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:n,info:e}}async fetchTickers(e,t={}){await this.loadMarkets(),e=void 0===e?this.symbols:e;const i=[];for(let t=0;t<e.length;t++){const r=e[t],s=this.markets[r];s.active&&!s.darkpool&&i.push(s.id)}const r={pair:i.join(",")},s=(await this.publicGetTicker(this.extend(r,t))).result,a=Object.keys(s),n={};for(let e=0;e<a.length;e++){const t=a[e],i=this.markets_by_id[t],r=i.symbol,o=s[t];n[r]=this.parseTicker(o,i)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){if(await this.loadMarkets(),e.indexOf(".d")>=0)throw new d(this.id+" does not provide a ticker for darkpool symbol "+e);const i=this.market(e),r={pair:i.id},s=(await this.publicGetTicker(this.extend(r,t))).result[i.id];return this.parseTicker(s,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,6)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,interval:this.timeframes[t]};void 0!==i&&(n.since=parseInt((i-1)/1e3));const o=await this.publicGetOHLC(this.extend(n,s)),c=this.safeValue(o,"result",{}),h=this.safeValue(c,a.id,[]);return this.parseOHLCVs(h,a,t,i,r)}parseLedgerEntryType(e){return this.safeString({trade:"trade",withdrawal:"transaction",deposit:"transaction",transfer:"transfer",margin:"margin"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r;const s=this.safeString(e,"refid"),a=this.parseLedgerEntryType(this.safeString(e,"type")),n=this.safeCurrencyCode(this.safeString(e,"asset"),t);let o=this.safeNumber(e,"amount");o<0?(r="out",o=Math.abs(o)):r="in";const c=this.safeNumber(e,"time");let h;void 0!==c&&(h=parseInt(1e3*c));const d={cost:this.safeNumber(e,"fee"),currency:n};return{info:e,id:i,direction:r,account:void 0,referenceId:s,referenceAccount:void 0,type:a,currency:n,amount:o,before:void 0,after:this.safeNumber(e,"balance"),status:"ok",timestamp:h,datetime:this.iso8601(h),fee:d}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.asset=a.id),void 0!==t&&(s.start=parseInt(t/1e3));const n=await this.privatePostLedgers(this.extend(s,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"ledger",{}),h=Object.keys(c),d=[];for(let e=0;e<h.length;e++){const t=h[e],i=c[t];i.id=t,d.push(i)}return this.parseLedger(d,a,t,i)}async fetchLedgerEntriesByIds(e,t,i={}){await this.loadMarkets(),e=e.join(",");const r=this.extend({id:e},i),s=(await this.privatePostQueryLedgers(r)).result,a=Object.keys(s),n=[];for(let e=0;e<a.length;e++){const t=a[e],i=s[t];i.id=t,n.push(i)}return this.parseLedger(n)}async fetchLedgerEntry(e,t,i={}){return(await this.fetchLedgerEntriesByIds([e],t,i))[0]}parseTrade(e,t){let i,r,s,a,n,o,c,h,d;if(Array.isArray(e))i=this.safeTimestamp(e,2),r="s"===e[3]?"sell":"buy",s="l"===e[4]?"limit":"market",a=this.safeString(e,0),n=this.safeString(e,1),e.length>6&&(o=this.safeString(e,6));else if("string"==typeof e)o=e;else if("ordertxid"in e){const d=this.safeString(e,"pair"),u=this.findMarketByAltnameOrId(d);if(void 0!==u?t=u:void 0!==d&&(t=this.getDelistedMarketById(d)),c=this.safeString(e,"ordertxid"),o=this.safeString2(e,"id","postxid"),i=this.safeTimestamp(e,"time"),r=this.safeString(e,"type"),s=this.safeString(e,"ordertype"),a=this.safeString(e,"price"),n=this.safeString(e,"vol"),"fee"in e){let i;void 0!==t&&(i=t.quote),h={cost:this.safeString(e,"fee"),currency:i}}}void 0!==t&&(d=t.symbol);const u=this.safeString(e,"cost");return this.safeTrade({id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,type:s,side:r,takerOrMaker:void 0,price:a,amount:n,cost:u,fee:h},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=s.id,n={pair:a};if(void 0!==t&&(n.since=1e6*t,n.since=t.toString()+"000000"),void 0!==i&&1e3!==i&&this.safeValue(this.options,"fetchTradesWarning",!0))throw new d(this.id+" fetchTrades() cannot serve "+i.toString()+" trades without breaking the pagination, see https://github.com/ccxt/ccxt/issues/5698 for more details. Set exchange.options['fetchTradesWarning'] to acknowledge this warning and silence it.");const o=(await this.publicGetTrades(this.extend(n,r))).result,c=o[a],h=c.length;if(h<=0)return[];const u=c[h-1],l=this.safeString(o,"last");return u.push(l),this.parseTrades(c,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i=this.safeValue(t,"result",{}),r={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeCurrencyCode(t),n=this.account();n.total=this.safeString(i,t),r[a]=n}return this.parseBalance(r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={pair:this.market(e).id,type:i,ordertype:t,volume:this.amountToPrecision(e,r)},c=this.safeString2(a,"userref","clientOrderId");if(a=this.omit(a,["userref","clientOrderId"]),void 0!==c&&(n.userref=c),"limit"===t)n.price=this.priceToPrecision(e,s);else if("stop-loss"===t||"take-profit"===t){const i=this.safeNumber2(a,"price","stopPrice",s);if(void 0===i)throw new o(this.id+" createOrder() requires a price argument or a price/stopPrice parameter for a "+t+" order");n.price=this.priceToPrecision(e,i)}else if("stop-loss-limit"===t||"take-profit-limit"===t){const i=this.safeNumber2(a,"price","stopPrice"),r=this.safeNumber(a,"price2"),c=void 0!==i,h=void 0!==r;if(c&&h)n.price=this.priceToPrecision(e,i),n.price2=this.priceToPrecision(e,r);else{if(void 0===s||!c&&!h)throw new o(this.id+" createOrder() requires a price argument and/or price/stopPrice/price2 parameters for a "+t+" order");c?(n.price=this.priceToPrecision(e,i),n.price2=this.priceToPrecision(e,s)):h&&(n.price=this.priceToPrecision(e,s),n.price2=this.priceToPrecision(e,r))}}a=this.omit(a,["price","stopPrice","price2"]);const h=await this.privatePostAddOrder(this.extend(n,a)),d=this.safeValue(h,"result");return this.parseOrder(d)}findMarketByAltnameOrId(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}getDelistedMarketById(e){if(void 0===e)return e;let t=this.safeValue(this.options.delistedMarketsById,e);if(void 0!==t)return t;let i=3,r=3,s=6;8===e.length?(i=4,r=4,s=8):7===e.length&&(i=4,r=4,s=7);const a=e.slice(0,i),n=e.slice(r,s),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);return t={symbol:o+"/"+c,base:o,quote:c,baseId:a,quoteId:n},this.options.delistedMarketsById[e]=t,t}parseOrderStatus(e){return this.safeString({pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"},e,e)}parseOrder(e,t){const i=this.safeValue(e,"descr",{}),r=this.safeString(i,"order");let s,a,n,o,c;if(void 0!==r){const e=r.split(" ");s=this.safeString(e,0),c=this.safeNumber(e,1),n=this.safeString(e,2),a=this.safeString(e,4),o=this.safeNumber(e,5)}s=this.safeString(i,"type",s),a=this.safeString(i,"ordertype",a),n=this.safeString(i,"pair",n);const h=this.findMarketByAltnameOrId(n);let d;void 0!==h?t=h:void 0!==n&&(t=this.getDelistedMarketById(n));const u=this.safeTimestamp(e,"opentm");c=this.safeNumber(e,"vol",c);const l=this.safeNumber(e,"vol_exec");let f;const p=this.safeNumber(e,"cost");o=this.safeNumber(i,"price",o),void 0!==o&&0!==o||(o=this.safeNumber(i,"price2")),void 0!==o&&0!==o||(o=this.safeNumber(e,"price",o));const m=this.safeNumber(e,"price");if(void 0!==t&&(d=t.symbol,"fee"in e)){const i=e.oflags;f={cost:this.safeNumber(e,"fee"),rate:void 0},i.indexOf("fciq")>=0?f.currency=t.quote:i.indexOf("fcib")>=0&&(f.currency=t.base)}const g=this.parseOrderStatus(this.safeString(e,"status"));let y=this.safeString(e,"id");if(void 0===y){const t=this.safeValue(e,"txid");y=this.safeString(t,0)}const b=this.safeString(e,"userref"),v=this.safeValue(e,"trades");let w;void 0!==v&&(w=this.parseTrades(v,t,void 0,void 0,{order:y}));const k=this.safeNumber(e,"stopprice");return this.safeOrder({id:y,clientOrderId:b,info:e,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:g,symbol:d,type:a,timeInForce:void 0,postOnly:void 0,side:s,price:o,stopPrice:k,cost:p,amount:c,filled:l,average:m,remaining:void 0,fee:f,trades:w})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.safeValue2(i,"userref","clientOrderId"),s={trades:!0};let a=i;void 0!==r?(s.userref=r,a=this.omit(i,["userref","clientOrderId"])):s.txid=e;const n=await this.privatePostQueryOrders(this.extend(s,a)),o=this.safeValue(n,"result",[]);if(!(e in o))throw new u(this.id+" fetchOrder() could not find order id "+e);const c=this.parseOrder(this.extend({id:e},o[e]));return this.extend({info:n},c)}async fetchOrderTrades(e,t,i,r,s={}){const a=this.safeValue(s,"trades"),n=[];if(void 0===a)throw new o(this.id+" fetchOrderTrades() requires a unified order structure in the params argument or a 'trades' param (an array of trade id strings)");for(let e=0;e<a.length;e++){const t=a[e];"string"==typeof t?n.push(t):n.push(t.id)}await this.loadMarkets();const c=this.safeValue(this.options,"fetchOrderTrades",{}),h=this.safeInteger(c,"batchSize",20),d=n.length;let u=parseInt(d/h);u=this.sum(u,1);let l=[];for(let e=0;e<u;e++){const s=[];for(let t=0;t<h;t++){const i=this.sum(e*h,t);i<d&&s.push(n[i])}const a={txid:s.join(",")},o=await this.privatePostQueryTrades(a),c=this.safeValue(o,"result"),u=Object.keys(c);for(let e=0;e<u.length;e++)c[u[e]].id=u[e];const f=this.parseTrades(c,void 0,i,r),p=this.filterBySymbol(f,t);l=this.arrayConcat(l,p)}return l}async fetchOrdersByIds(e,t,i={}){await this.loadMarkets();const r=await this.privatePostQueryOrders(this.extend({trades:!0,txid:e.join(",")},i)),s=this.safeValue(r,"result",{}),a=[],n=Object.keys(s);for(let e=0;e<n.length;e++){const t=n[e],i=s[t],r=this.parseOrder(this.extend({id:t},i));a.push(r)}return a}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));const a=(await this.privatePostTradesHistory(this.extend(s,r))).result.trades,n=Object.keys(a);for(let e=0;e<n.length;e++)a[n[e]].id=n[e];let o;return void 0!==e&&(o=this.market(e)),this.parseTrades(a,o,t,i)}async cancelOrder(e,t,i={}){let r;await this.loadMarkets();const s=this.safeValue2(i,"userref","clientOrderId");try{r=await this.privatePostCancelOrder(this.extend({txid:s||e},i))}catch(e){if(this.last_http_response&&this.last_http_response.indexOf("EOrder:Unknown order")>=0)throw new u(this.id+" cancelOrder() error "+this.last_http_response);throw e}return r}async cancelAllOrders(e,t={}){return await this.loadMarkets(),await this.privatePostCancelAll(t)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));let a=r;const n=this.safeValue2(r,"userref","clientOrderId");void 0!==n&&(s.userref=n,a=this.omit(r,["userref","clientOrderId"]));const o=await this.privatePostOpenOrders(this.extend(s,a));let c;void 0!==e&&(c=this.market(e));const h=this.safeValue(o,"result",{}),d=this.safeValue(h,"open",[]);return this.parseOrders(d,c,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));let a=r;const n=this.safeValue2(r,"userref","clientOrderId");void 0!==n&&(s.userref=n,a=this.omit(r,["userref","clientOrderId"]));const o=await this.privatePostClosedOrders(this.extend(s,a));let c;void 0!==e&&(c=this.market(e));const h=this.safeValue(o,"result",{}),d=this.safeValue(h,"closed",[]);return this.parseOrders(d,c,t,i)}parseTransactionStatus(e){return this.safeString({Initial:"pending",Pending:"pending",Success:"ok",Settled:"pending",Failure:"failed",Partial:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"refid"),r=this.safeString(e,"txid"),s=this.safeTimestamp(e,"time"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a,t),o=this.safeString(e,"info"),c=this.safeNumber(e,"amount"),h=this.parseTransactionStatus(this.safeString(e,"status")),d=this.safeString(e,"type");let u=this.safeNumber(e,"fee");return void 0===u&&"deposit"===d&&(u=0),{info:e,id:i,currency:n,amount:c,address:o,tag:void 0,status:h,type:d,updated:void 0,txid:r,timestamp:s,datetime:this.iso8601(s),fee:{currency:n,cost:u}}}parseTransactionsByType(e,t,i,r,s){const a=[];for(let i=0;i<t.length;i++){const r=this.parseTransaction(this.extend({type:e},t[i]));a.push(r)}return this.filterByCurrencySinceLimit(a,i,r,s)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s={asset:this.currency(e).id},a=await this.privatePostDepositStatus(this.extend(s,r));return this.parseTransactionsByType("deposit",a.result,e,t,i)}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"result",{});return this.safeTimestamp(i,"unixtime")}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s={asset:this.currency(e).id},a=await this.privatePostWithdrawStatus(this.extend(s,r));return this.parseTransactionsByType("withdrawal",a.result,e,t,i)}async createDepositAddress(e,t={}){return await this.fetchDepositAddress(e,this.extend({new:"true"},t))}async fetchDepositMethods(e,t={}){await this.loadMarkets();const i={asset:this.currency(e).id},r=await this.privatePostDepositMethods(this.extend(i,t));return this.safeValue(r,"result")}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeStringUpper(t,"network");const s=this.safeValue(this.options,"networks",{});r=this.safeString(s,r,r),t=this.omit(t,"network"),"USDT"===e&&"TRC20"===r&&(e=e+"-"+r);const a=this.safeValue(this.options,"depositMethods",{}),n=this.safeString(a,e);let o=this.safeString(t,"method",n);if(void 0===o){const t=await this.fetchDepositMethods(e);if(void 0!==r)for(let e=0;e<t.length;e++){const i=this.safeString(t[e],"method");if(i.indexOf(r)>=0){o=i;break}}if(void 0===o){const e=this.safeValue(t,0,{});o=this.safeString(e,"method")}}const c={asset:i.id,method:o},h=await this.privatePostDepositAddresses(this.extend(c,t)),d=this.safeValue(h,"result",[]),u=this.safeValue(d,0,{});if(void 0===u)throw new y(this.id+" privatePostDepositAddresses() returned no addresses for "+e);return this.parseDepositAddress(u,i)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"tag"),s=(t=this.safeCurrency(void 0,t)).code;return this.checkAddress(i),{currency:s,address:i,tag:r,network:void 0,info:e}}async withdraw(e,t,i,r,s={}){if([r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),"key"in s){await this.loadMarkets();const i={asset:this.currency(e).id,amount:t},r=await this.privatePostWithdraw(this.extend(i,s)),a=this.safeValue(r,"result",{});return{info:a,id:this.safeString(a,"refid")}}throw new d(this.id+" withdraw() requires a 'key' parameter (withdrawal key name, as set up on your account)")}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.privatePostOpenPositions(this.extend({},t));return this.safeValue(i,"result")}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();a=this.urlencode(this.extend({nonce:e},r));const t=this.encode(e+a),i=this.hash(t,"sha256","binary"),o=this.stringToBinary(this.encode(n)),c=this.binaryConcat(o,i),h=this.base64ToBinary(this.secret),d=this.hmac(c,h,"sha512","base64");s={"API-Key":this.apiKey,"API-Sign":d,"Content-Type":"application/x-www-form-urlencoded"}}else n="/"+e;return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,a,o,c,h){if(520===e)throw new n(this.id+" "+e.toString()+" "+t);if(a.indexOf("Invalid order")>=0)throw new g(this.id+" "+a);if(a.indexOf("Invalid nonce")>=0)throw new f(this.id+" "+a);if(a.indexOf("Insufficient funds")>=0)throw new p(this.id+" "+a);if(a.indexOf("Cancel pending")>=0)throw new m(this.id+" "+a);if(a.indexOf("Invalid arguments:volume")>=0)throw new g(this.id+" "+a);if(a.indexOf("Rate limit exceeded")>=0)throw new b(this.id+" "+a);if(void 0!==o&&"{"===a[0]&&"string"!=typeof o&&"error"in o&&o.error.length){const e=this.id+" "+a;for(let t=0;t<o.error.length;t++){const i=o.error[t];this.throwExactlyMatchedException(this.exceptions,i,e)}throw new d(e)}}}},6987:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:h,AccountSuspended:d,InvalidNonce:u,NotSupported:l,BadRequest:f,AuthenticationError:p,BadSymbol:m,RateLimitExceeded:g,PermissionDenied:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kucoin",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!1,pro:!0,comment:"Platform 2.0",quoteJsonNumbers:!1,has:{swap:!1,future:!1,cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFee:!0,fetchFundingHistory:!0,fetchFundingRateHistory:!1,fetchIndexOHLCV:!1,fetchL3OrderBook:!0,fetchLedger:!0,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrdersByStatus:!0,fetchPremiumIndexOHLCV:!1,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,transfer:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87295558-132aaf80-c50e-11ea-9801-a2fb0c57c799.jpg",referral:"https://www.kucoin.com/?rcode=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com",futuresPrivate:"https://api-futures.kucoin.com",futuresPublic:"https://api-futures.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com",futuresPrivate:"https://api-sandbox-futures.kucoin.com",futuresPublic:"https://api-sandbox-futures.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","status","symbols","markets","market/allTickers","market/orderbook/level{level}_{limit}","market/orderbook/level2_20","market/orderbook/level2_100","market/histories","market/candles","market/stats","currencies","currencies/{currency}","prices","mark-price/{symbol}/current","margin/config"],post:["bullet-public"]},private:{get:["market/orderbook/level{level}","market/orderbook/level2","market/orderbook/level3","accounts","accounts/{accountId}","accounts/ledgers","accounts/{accountId}/holds","accounts/transferable","sub/user","sub-accounts","sub-accounts/{subUserId}","deposit-addresses","deposits","hist-deposits","hist-orders","hist-withdrawals","withdrawals","withdrawals/quotas","orders","order/client-order/{clientOid}","orders/{orderId}","limit/orders","fills","limit/fills","margin/account","margin/borrow","margin/borrow/outstanding","margin/borrow/borrow/repaid","margin/lend/active","margin/lend/done","margin/lend/trade/unsettled","margin/lend/trade/settled","margin/lend/assets","margin/market","margin/trade/last","stop-order/{orderId}","stop-order","stop-order/queryOrderByClientOid"],post:["accounts","accounts/inner-transfer","accounts/sub-transfer","deposit-addresses","withdrawals","orders","orders/multi","margin/borrow","margin/order","margin/repay/all","margin/repay/single","margin/lend","margin/toggle-auto-lend","bullet-private","stop-order"],delete:["withdrawals/{withdrawalId}","orders","orders/client-order/{clientOid}","orders/{orderId}","margin/lend/{orderId}","stop-order/cancelOrderByClientOid","stop-order/{orderId}","stop-order/cancel"]},futuresPublic:{get:["contracts/active","contracts/{symbol}","ticker","level2/snapshot","level2/depth20","level2/depth100","level2/message/query","level3/message/query","level3/snapshot","trade/history","interest/query","index/query","mark-price/{symbol}/current","premium/query","funding-rate/{symbol}/current","timestamp","status","kline/query"],post:["bullet-public"]},futuresPrivate:{get:["account-overview","transaction-history","deposit-address","deposit-list","withdrawals/quotas","withdrawal-list","transfer-list","orders","stopOrders","recentDoneOrders","orders/{order-id}","orders/byClientOid","fills","recentFills","openOrderStatistics","position","positions","funding-history"],post:["withdrawals","transfer-out","orders","position/margin/auto-deposit-status","position/margin/deposit-margin","bullet-private"],delete:["withdrawals/{withdrawalId}","cancel/transfer-out","orders/{order-id}","orders","stopOrders"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{exact:{"order not exist":c,"order not exist.":c,order_not_exist:c,order_not_exist_or_not_allow_to_cancel:h,"Order size below the minimum requirement.":h,"The withdrawal amount is below the minimum requirement.":s,"Unsuccessful! Exceeded the max. funds out-transfer limit":o,400:f,401:p,403:l,404:l,405:l,429:g,500:n,503:n,101030:y,200004:o,230003:o,260100:o,3e5:h,4e5:m,400001:p,400002:u,400003:p,400004:p,400005:p,400006:p,400007:p,400008:l,400100:f,400350:h,400500:h,411100:d,415e3:f,5e5:n},broad:{"Exceeded the access frequency":g,"require more permission":y}},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001"),tiers:{taker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("50"),this.parseNumber("0.001")],[this.parseNumber("200"),this.parseNumber("0.0009")],[this.parseNumber("500"),this.parseNumber("0.0008")],[this.parseNumber("1000"),this.parseNumber("0.0007")],[this.parseNumber("2000"),this.parseNumber("0.0007")],[this.parseNumber("4000"),this.parseNumber("0.0006")],[this.parseNumber("8000"),this.parseNumber("0.0005")],[this.parseNumber("15000"),this.parseNumber("0.00045")],[this.parseNumber("25000"),this.parseNumber("0.0004")],[this.parseNumber("40000"),this.parseNumber("0.00035")],[this.parseNumber("60000"),this.parseNumber("0.0003")],[this.parseNumber("80000"),this.parseNumber("0.00025")]],maker:[[this.parseNumber("0"),this.parseNumber("0.001")],[this.parseNumber("50"),this.parseNumber("0.0009")],[this.parseNumber("200"),this.parseNumber("0.0007")],[this.parseNumber("500"),this.parseNumber("0.0005")],[this.parseNumber("1000"),this.parseNumber("0.0003")],[this.parseNumber("2000"),this.parseNumber("0")],[this.parseNumber("4000"),this.parseNumber("0")],[this.parseNumber("8000"),this.parseNumber("0")],[this.parseNumber("15000"),this.parseNumber("-0.00005")],[this.parseNumber("25000"),this.parseNumber("-0.00005")],[this.parseNumber("40000"),this.parseNumber("-0.00005")],[this.parseNumber("60000"),this.parseNumber("-0.00005")],[this.parseNumber("80000"),this.parseNumber("-0.00005")]]}},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{HOT:"HOTNOW",EDGE:"DADI",WAX:"WAXP",TRY:"Trias",VAI:"VAIOT"},options:{version:"v1",symbolSeparator:"-",fetchMyTradesMethod:"private_get_fills",fetchBalance:"trade",fetchMarkets:{fetchTickersFees:!0},versions:{public:{GET:{status:"v1","market/orderbook/level2_20":"v1","market/orderbook/level2_100":"v1","market/orderbook/level{level}_{limit}":"v1"}},private:{GET:{"market/orderbook/level2":"v3","market/orderbook/level3":"v3","market/orderbook/level{level}":"v3"},POST:{"accounts/inner-transfer":"v2","accounts/sub-transfer":"v2"}},futuresPrivate:{GET:{"account-overview":"v1",positions:"v1"},POST:{"transfer-out":"v2"}},futuresPublic:{GET:{"level3/snapshot":"v2"}}},accountsByType:{trade:"trade",trading:"trade",spot:"trade",margin:"margin",main:"main",funding:"main",futures:"contract",contract:"contract",pool:"pool","pool-x":"pool"},networks:{ETH:"eth",ERC20:"eth",TRX:"trx",TRC20:"trx",KCC:"kcc",TERRA:"luna"}}})}nonce(){return this.milliseconds()}async loadTimeDifference(e={}){const t=await this.publicGetTimestamp(e),i=this.milliseconds(),r=this.safeInteger(t,"data");return this.options.timeDifference=parseInt(i-r),this.options.timeDifference}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeInteger(t,"data")}async fetchStatus(e={}){const t=await this.publicGetStatus(e),i=this.safeValue(t,"data",{});let r=this.safeValue(i,"status");return void 0!==r&&(r="open"===r?"ok":"maintenance",this.status=this.extend(this.status,{status:r,updated:this.milliseconds()})),this.status}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=this.safeValue(t,"data"),r=this.safeValue(this.options,"fetchMarkets",{});let s={};this.safeValue(r,"fetchTickersFees",!0)&&(s=await this.publicGetMarketAllTickers(e));const a=this.safeValue(s,"data",{}),n=this.safeValue(a,"ticker",[]),o=this.indexBy(n,"symbol"),c=[];for(let e=0;e<i.length;e++){const t=i[e],r=this.safeString(t,"symbol"),[s,a]=r.split("-"),n=this.safeCurrencyCode(s),h=this.safeCurrencyCode(a),d=n+"/"+h,u=this.safeValue(t,"enableTrading"),l=this.safeValue(t,"isMarginEnabled"),f=this.safeNumber(t,"baseMaxSize"),p=this.safeString(t,"baseMinSize"),m=this.safeString(t,"quoteMaxSize"),g=this.parseNumber(p),y=this.parseNumber(m),v=this.safeNumber(t,"quoteMinSize"),w={amount:this.precisionFromString(this.safeString(t,"baseIncrement")),price:this.precisionFromString(this.safeString(t,"priceIncrement"))},k={amount:{min:g,max:f},price:{min:this.safeNumber(t,"priceIncrement"),max:this.parseNumber(b.stringDiv(m,p))},cost:{min:v,max:y},leverage:{max:this.safeNumber(t,"maxLeverage",1)}},S=this.safeValue(o,r,{}),_=this.safeString(S,"makerFeeRate"),M=this.safeString(S,"makerFeeRate"),T=this.safeString(S,"makerCoefficient"),O=this.safeString(S,"takerCoefficient"),x=this.parseNumber(b.stringMul(_,T)),I=this.parseNumber(b.stringMul(M,O));c.push({id:r,symbol:d,baseId:s,quoteId:a,base:n,quote:h,type:"spot",spot:!0,margin:l,active:u,maker:x,taker:I,precision:w,limits:k,info:t})}return c}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeString(t,"fullName"),n=this.safeCurrencyCode(s),o=this.safeInteger(t,"precision"),c=this.safeValue(t,"isWithdrawEnabled",!1),h=this.safeValue(t,"isDepositEnabled",!1),d=this.safeNumber(t,"withdrawalMinFee"),u=c&&h;r[n]={id:s,name:a,code:n,precision:o,info:t,active:u,fee:d,limits:this.limits}}return r}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeString(t,"currency"),n=this.safeCurrencyCode(a),o=this.safeString(t,"type");r.push({id:s,type:o,currency:n,info:t})}return r}async fetchFundingFee(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetWithdrawalsQuotas(this.extend(i,t)),s=r.data,a={};return a[e]=this.safeNumber(s,"withdrawMinFee"),{info:r,withdraw:a,deposit:{}}}isFuturesMethod(e,t){const i=this.safeString2(this.options,e,"defaultType","trade"),r=this.safeString(t,"type",i),a=this.safeValue(this.options,"accountsByType"),n=this.safeString(a,r);if(void 0===n){const e=Object.keys(a);throw new s(this.id+" type must be one of "+e.join(", "))}return t=this.omit(t,"type"),"contract"===n||"futures"===n}async fetchFundingHistory(e,t,i,r={}){if(this.isFuturesMethod("fetchFundingHistory",r)){if(void 0===e)throw new a(this.id+" fetchFundingHistory() requires a symbol argument");await this.loadMarkets();const s={symbol:this.market(e).id};void 0!==t&&(s.startAt=t),void 0!==i&&(s.maxCount=i);const n="futuresPrivateGetFundingHistory",o=await this[n](this.extend(s,r)),c=this.safeValue(o,"data"),h=this.safeValue(c,"dataList"),d=[];for(let e=0;e<h.length;e++){const t=this.safeInteger(h[e],"timePoint");d.push({info:h[e],symbol:this.safeSymbol(h[e],"symbol"),code:this.safeCurrencyCode(h[e],"settleCurrency"),timestamp:t,datetime:this.iso8601(t),id:this.safeNumber(h[e],"id"),amount:this.safeNumber(h[e],"funding"),fundingRate:this.safeNumber(h[e],"fundingRate"),markPrice:this.safeNumber(h[e],"markPrice"),positionQty:this.safeNumber(h[e],"positionQty"),positionCost:this.safeNumber(h[e],"positionCost")})}return d}throw new l(this.id+" fetchFundingHistory() supports linear and inverse contracts only")}parseTicker(e,t){let i=this.safeNumber(e,"changeRate");void 0!==i&&(i*=100);let r=this.safeNumber2(e,"last","lastTradedPrice");r=this.safeNumber(e,"price",r);const s=this.safeString(e,"symbol"),a=(t=this.safeMarket(s,t,"-")).symbol,n=this.safeNumber(e,"vol"),o=this.safeNumber(e,"volValue"),c=this.vwap(n,o),h=this.safeInteger2(e,"time","datetime");return this.safeTicker({symbol:a,timestamp:h,datetime:this.iso8601(h),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber2(e,"buy","bestBid"),bidVolume:this.safeNumber(e,"bestBidSize"),ask:this.safeNumber2(e,"sell","bestAsk"),askVolume:this.safeNumber(e,"bestAskSize"),vwap:c,open:this.safeNumber(e,"open"),close:r,last:r,previousClose:void 0,change:this.safeNumber(e,"changePrice"),percentage:i,average:this.safeNumber(e,"averagePrice"),baseVolume:n,quoteVolume:o,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketAllTickers(t),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"ticker",[]),a=this.safeInteger(r,"time"),n={};for(let e=0;e<s.length;e++){s[e].time=a;const t=this.parseTicker(s[e]),i=this.safeString(t,"symbol");void 0!==i&&(n[i]=t)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetMarketStats(this.extend(r,t));return this.parseTicker(s.data,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchOHLCV(e,t="15m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,type:this.timeframes[t]},o=1e3*this.parseTimeframe(t);let c=this.milliseconds();void 0!==i?(n.startAt=parseInt(Math.floor(i/1e3)),void 0===r&&(r=this.safeInteger(this.options,"fetchOHLCVLimit",1500)),c=this.sum(i,r*o)):void 0!==r&&(i=c-r*o,n.startAt=parseInt(Math.floor(i/1e3))),n.endAt=parseInt(Math.floor(c/1e3));const h=await this.publicGetMarketCandles(this.extend(n,s)),d=this.safeValue(h,"data",[]);return this.parseOHLCVs(d,a,t,i,r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostDepositAddresses(this.extend(i,t)),s=this.safeValue(r,"data",{});let a=this.safeString(s,"address");void 0!==a&&(a=a.replace("bitcoincash:",""));const n=this.safeString(s,"memo");return"NIM"!==e&&this.checkAddress(a),{info:r,currency:e,address:a,tag:n}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=this.safeValue(this.options,"networks",{});let s=this.safeStringUpper(t,"network");s=this.safeStringLower(r,s,s),void 0!==s&&(i.chain=s,t=this.omit(t,"network"));const a=await this.privateGetDepositAddresses(this.extend(i,t)),n=this.safeValue(a,"data",{}),o=this.safeString(n,"address"),c=this.safeString(n,"memo");return"NIM"!==e&&this.checkAddress(o),{info:a,currency:e,address:o,tag:c,network:void 0}}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,{level:3})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.marketId(e),a=this.safeInteger(i,"level",2),n={symbol:r,level:a};let o="privateGetMarketOrderbookLevelLevel";if(2===a&&void 0!==t){if(20!==t&&100!==t)throw new s(this.id+" fetchOrderBook limit argument must be undefined, 20 or 100");n.limit=t,o="publicGetMarketOrderbookLevelLevelLimit"}const c=await this[o](this.extend(n,i)),h=this.safeValue(c,"data",{}),d=this.safeInteger(h,"time"),u=this.parseOrderBook(h,e,d,"bids","asks",a-2,a-1);return u.nonce=this.safeInteger(h,"sequence"),u}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.marketId(e),o=this.safeString2(a,"clientOid","clientOrderId",this.uuid());a=this.omit(a,["clientOid","clientOrderId"]);const c={clientOid:o,side:i,symbol:n,type:t},h=this.safeNumber2(a,"cost","funds");let d,u;"market"===t?void 0!==h?(a=this.omit(a,["cost","funds"]),u=this.amountToPrecision(e,h),c.funds=u):(d=this.amountToPrecision(e,r),c.size=this.amountToPrecision(e,r)):(d=this.amountToPrecision(e,r),c.size=d,c.price=this.priceToPrecision(e,s));const l=await this.privatePostOrders(this.extend(c,a)),f=this.safeValue(l,"data",{}),p=this.milliseconds();return{id:this.safeString(f,"orderId"),clientOrderId:o,info:f,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:this.parseNumber(d),cost:this.parseNumber(u),average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOid","clientOrderId");let a="privateDeleteOrdersOrderId";return void 0!==s?(r.clientOid=s,a="privateDeleteOrdersClientOrderClientOid"):r.orderId=e,i=this.omit(i,["clientOid","clientOrderId"]),await this[a](this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.privateDeleteOrders(this.extend(i,t))}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets();const a={status:e};let n;void 0!==t&&(n=this.market(t),a.symbol=n.id),void 0!==i&&(a.startAt=i),void 0!==r&&(a.pageSize=r);const o=await this.privateGetOrders(this.extend(a,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"items",[]);return this.parseOrders(h,n,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("done",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("active",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOid","clientOrderId");let a="privateGetOrdersOrderId";if(void 0!==s)r.clientOid=s,a="privateGetOrdersClientOrderClientOid";else{if(void 0===e)throw new h(this.id+" fetchOrder() requires an order id");r.orderId=e}i=this.omit(i,["clientOid","clientOrderId"]);const n=await this[a](this.extend(r,i));let o;void 0!==t&&(o=this.market(t));const c=this.safeValue(n,"data");return this.parseOrder(c,o)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString(e,"id"),a=this.safeString(e,"type"),n=this.safeInteger(e,"createdAt"),o=this.iso8601(n),c=this.safeString(e,"price"),h=this.safeString(e,"side"),d=this.safeString(e,"feeCurrency"),u=this.safeCurrencyCode(d),l=this.safeNumber(e,"fee"),f=this.safeString(e,"size"),p=this.safeString(e,"dealSize"),m=this.safeString(e,"dealFunds");let g=this.safeValue(e,"isActive",!1)?"open":"closed";g=this.safeValue(e,"cancelExist",!1)?"canceled":g;const y={currency:u,cost:l},b=this.safeString(e,"clientOid"),v=this.safeString(e,"timeInForce"),w=this.safeNumber(e,"stopPrice"),k=this.safeValue(e,"postOnly");return this.safeOrder2({id:s,clientOrderId:b,symbol:r,type:a,timeInForce:v,postOnly:k,side:h,amount:f,price:c,stopPrice:w,cost:m,filled:p,remaining:void 0,timestamp:n,datetime:o,fee:y,status:g,info:e,lastTradeTimestamp:void 0,average:void 0,trades:void 0},t)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const a={};let n;void 0!==e&&(n=this.market(e),a.symbol=n.id),void 0!==i&&(a.pageSize=i);const o=this.options.fetchMyTradesMethod;let c=!1;if("private_get_fills"===o)void 0!==t&&(a.startAt=t);else if("private_get_limit_fills"===o)c=!0;else{if("private_get_hist_orders"!==o)throw new s(this.id+" invalid fetchClosedOrder method");void 0!==t&&(a.startAt=parseInt(t/1e3))}const h=await this[o](this.extend(a,r)),d=this.safeValue(h,"data",{});let u;return u=c?d:this.safeValue(d,"items",[]),this.parseTrades(u,n,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.startAt=Math.floor(t/1e3)),void 0!==i&&(a.pageSize=i);const n=await this.publicGetMarketHistories(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"-"),s=this.safeString2(e,"tradeId","id"),a=this.safeString(e,"orderId"),n=this.safeString(e,"liquidity");let o=this.safeInteger(e,"time");void 0!==o?o=parseInt(o/1e6):(o=this.safeInteger(e,"createdAt"),"dealValue"in e&&void 0!==o&&(o*=1e3));const c=this.safeString2(e,"price","dealPrice"),h=this.safeString2(e,"size","amount"),d=this.parseNumber(c),u=this.parseNumber(h),l=this.safeString(e,"side");let f;const p=this.safeNumber(e,"fee");if(void 0!==p){const i=this.safeString(e,"feeCurrency");let r=this.safeCurrencyCode(i);void 0===r&&void 0!==t&&(r="sell"===l?t.quote:t.base),f={cost:p,currency:r,rate:this.safeNumber(e,"feeRate")}}let m=this.safeString(e,"type");"match"===m&&(m=void 0);let g=this.safeNumber2(e,"funds","dealValue");return void 0===g&&(g=this.parseNumber(b.stringMul(c,h))),{info:e,id:s,order:a,timestamp:o,datetime:this.iso8601(o),symbol:r,type:m,takerOrMaker:n,side:l,price:d,amount:u,cost:g,fee:f}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets(),this.checkAddress(i);const a={currency:this.currency(e).id,address:i,amount:t};void 0!==r&&(a.memo=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeStringLower(n,o,o),void 0!==o&&(a.chain=o,s=this.omit(s,"network"));const c=await this.privatePostWithdrawals(this.extend(a,s)),h=this.safeValue(c,"data",{});return{id:this.safeString(h,"withdrawalId"),info:c}}parseTransactionStatus(e){return this.safeString({SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"},e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t);let s=this.safeString(e,"address");const a=this.safeNumber(e,"amount");let n=this.safeString(e,"walletTxId");if(void 0!==n){const e=n.split("@");e.length>1&&void 0===s&&e[1].length>1&&(s=e[1]),n=e[0]}let o=void 0===n?"withdrawal":"deposit";const c=this.safeString(e,"status"),h=this.parseTransactionStatus(c);let d;const u=this.safeNumber(e,"fee");if(void 0!==u){let e;void 0!==a&&(e=u/a),d={cost:u,rate:e,currency:r}}const l=this.safeString(e,"memo");let f=this.safeInteger2(e,"createdAt","createAt");const p=this.safeString(e,"id");let m=this.safeInteger(e,"updatedAt");!("createdAt"in e)&&(o="address"in e?"withdrawal":"deposit",void 0!==f&&(f*=1e3),void 0!==m&&(m*=1e3));const g=this.safeString(e,"remark");return{id:p,info:e,timestamp:f,datetime:this.iso8601(f),address:s,addressTo:s,addressFrom:void 0,tag:l,tagTo:l,tagFrom:void 0,currency:r,amount:a,txid:n,type:o,status:h,comment:g,fee:d,updated:m}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);let n="privateGetDeposits";void 0!==t&&(t<1550448e6?(s.startAt=parseInt(t/1e3),n="privateGetHistDeposits"):s.startAt=t);const o=(await this[n](this.extend(s,r))).data.items;return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);let n="privateGetWithdrawals";void 0!==t&&(t<1550448e6?(s.startAt=parseInt(t/1e3),n="privateGetHistWithdrawals"):s.startAt=t);const o=(await this[n](this.extend(s,r))).data.items;return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","trade"),i=this.safeString(e,"type",t),r=this.safeValue(this.options,"accountsByType"),a=this.safeString(r,i);if(void 0===a){const e=Object.keys(r);throw new s(this.id+" type must be one of "+e.join(", "))}if(e=this.omit(e,"type"),"contract"===a||"futures"===a){const t=await this.futuresPrivateGetAccountOverview(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data"),s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();return n.free=this.safeString(r,"availableBalance"),n.total=this.safeString(r,"accountEquity"),i[a]=n,this.parseBalance(i)}{const t={type:a},i=await this.privateGetAccounts(this.extend(t,e)),r=this.safeValue(i,"data",[]),s={info:i,timestamp:void 0,datetime:void 0};for(let e=0;e<r.length;e++){const t=r[e];if(this.safeString(t,"type")===a){const e=this.safeString(t,"currency"),i=this.safeCurrencyCode(e),r=this.account();r.total=this.safeString(t,"balance"),r.free=this.safeString(t,"available"),r.used=this.safeString(t,"holds"),s[i]=r}}return this.parseBalance(s)}}async transfer(e,t,i,r,a={}){await this.loadMarkets();const n=this.currency(e),o=this.currencyToPrecision(e,t),c=this.safeValue(this.options,"accountsByType",{}),h=this.safeString(c,i);if(void 0===h){const e=Object.keys(c);throw new s(this.id+" fromAccount must be one of "+e.join(", "))}const d=this.safeString(c,r);if(void 0===d){const e=Object.keys(c);throw new s(this.id+" toAccount must be one of "+e.join(", "))}if("contract"===h){if("main"!==d)throw new s(this.id+" only supports transferring from futures account to main account");const e={currency:n.id,amount:o};"bizNo"in a||(e.bizNo=this.uuid22());const t=await this.futuresPrivatePostTransferOut(this.extend(e,a)),i=this.safeValue(t,"data"),r=this.safeInteger(i,"createdAt"),c=this.safeString(i,"applyId"),u=this.safeString(i,"currency"),l=this.safeCurrencyCode(u),f=this.safeNumber(i,"amount");let p;return"PROCESSING"===this.safeString(i,"status")&&(p="pending"),{info:t,currency:l,timestamp:r,datetime:this.iso8601(r),amount:f,fromAccount:h,toAccount:d,id:c,status:p}}{const t={currency:n.id,from:h,to:d,amount:o};"clientOid"in a||(t.clientOid=this.uuid());const i=await this.privatePostAccountsInnerTransfer(this.extend(t,a)),r=this.safeValue(i,"data");return{info:i,id:this.safeString(r,"orderId"),timestamp:void 0,datetime:void 0,currency:e,amount:o,fromAccount:h,toAccount:d,status:void 0}}}parseLedgerEntryType(e){return this.safeString({"Assets Transferred in After Upgrading":"transfer",Deposit:"transaction",Withdrawal:"transaction",Transfer:"transfer",Trade_Exchange:"trade","KuCoin Bonus":"bonus","Referral Bonus":"referral",Rewards:"bonus","Airdrop/Fork":"airdrop","Other rewards":"bonus","Fee Rebate":"rebate","Buy Crypto":"trade","Sell Crypto":"sell","Public Offering Purchase":"trade","Refunded Fees":"fee","KCS Pay Fees":"fee","Margin Trade":"trade",Loans:"Loans","Instant Exchange":"trade","Sub-account transfer":"transfer","Liquidation Fees":"fee"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r,t),a=this.safeNumber(e,"amount"),n=this.safeString(e,"bizType"),o=this.parseLedgerEntryType(n),c=this.safeString(e,"direction"),h=this.safeInteger(e,"createdAt"),d=this.iso8601(h),u=this.safeString(e,"accountType"),l=this.safeString(e,"context");let f,p;if(void 0!==l&&""!==l){const e=JSON.parse(l),t=this.safeString(e,"orderId"),i=this.safeString(e,"tradeId");f=void 0!==i?i:t}const m=this.safeNumber(e,"fee");let g;return 0!==m&&(g=s,p={cost:m,currency:g}),{id:i,direction:c,account:u,referenceId:f,referenceAccount:u,type:o,currency:s,amount:a,timestamp:h,datetime:d,before:void 0,after:void 0,status:void 0,fee:p,info:e}}async fetchLedger(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s={};let a;void 0!==t&&(s.startAt=t),void 0!==e&&(a=this.currency(e),s.currency=a.id);const n=await this.privateGetAccountsLedgers(this.extend(s,r)),o=this.safeValue(n,"data"),c=this.safeValue(o,"items");return this.parseLedger(c,a,t,i)}async fetchPositions(e,t={}){const i=await this.futuresPrivateGetPositions(t);return this.safeValue(i,"data",i)}sign(e,t="public",i="GET",r={},s,a){const n=this.safeValue(this.options,"versions",{}),o=this.safeValue(n,t,{}),c=this.safeValue(o,i,{}),h=this.safeString(c,e,this.options.version),d=this.safeString(r,"version",h);r=this.omit(r,"version");let u="/api/"+d+"/"+this.implodeParams(e,r);const l=this.omit(r,this.extractParams(e));let f="";s=void 0!==s?s:{},Object.keys(l).length&&("GET"===i||"DELETE"===i?u+="?"+this.urlencode(l):(f=a=this.json(l),s["Content-Type"]="application/json"));const p=this.urls.api[t]+u;if("private"===t||"futuresPrivate"===t){this.checkRequiredCredentials();const e=this.nonce().toString();if(s=this.extend({"KC-API-KEY-VERSION":"2","KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":e},s),"2"===this.safeString(s,"KC-API-KEY-VERSION")){const e=this.hmac(this.encode(this.password),this.encode(this.secret),"sha256","base64");s["KC-API-PASSPHRASE"]=e}else s["KC-API-PASSPHRASE"]=this.password;const t=e+i+u+f,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["KC-API-SIGN"]=r;const a=this.safeValue(this.options,"partner",{}),n=this.safeString(a,"id"),o=this.safeString(a,"secret");if(void 0!==n&&void 0!==o){const t=e+n+this.apiKey,i=this.hmac(this.encode(t),this.encode(o),"sha256","base64");s["KC-API-PARTNER-SIGN"]=i,s["KC-API-PARTNER"]=n}}return{url:p,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(!n)return void this.throwBroadlyMatchedException(this.exceptions.broad,a,a);const h=this.safeString(n,"code"),d=this.safeString(n,"msg","");this.throwExactlyMatchedException(this.exceptions.exact,d,this.id+" "+d),this.throwExactlyMatchedException(this.exceptions.exact,h,this.id+" "+d)}}},14400:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,InsufficientFunds:a,OrderNotFound:n,NotSupported:o}=i(73449),c=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:"emulated",fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,withdraw:void 0},timeframes:void 0,urls:{extension:".json",referral:"https://kuna.io?r=kunaid-gvfihe8az7o4",logo:"https://user-images.githubusercontent.com/51840849/87153927-f0578b80-c2c0-11ea-84b6-74612568e9e1.jpg",api:{xreserve:"https://api.xreserve.fund",v3:"https://api.kuna.io",public:"https://kuna.io",private:"https://kuna.io"},www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},api:{xreserve:{get:{nonce:1,fee:1,"delegated-transactions":1},post:{"delegate-transfer":1}},v3:{public:{get:{timestamp:1,currencies:1,markets:1,tickers:1,k:1,trades_history:1,fees:1,"exchange-rates":1,"exchange-rates/currency":1,"book/market":1,"kuna_codes/code/check":1,landing_page_statistic:1,"translations/locale":1,"trades/market/hist":1},post:{http_test:1,deposit_channels:1,withdraw_channels:1,subscription_plans:1,send_to:1,confirm_token:1,kunaid:1,"withdraw/prerequest":1,"deposit/prerequest":1,"deposit/exchange-rates":1}},sign:{get:{"reset_password/token":1},post:{"signup/google":1,"signup/resend_confirmation":1,signup:1,signin:1,"signin/two_factor":1,"signin/resend_confirm_device":1,"signin/confirm_device":1,reset_password:1,"cool-signin":1},put:{"reset_password/token":1,"signup/code/confirm":1}},private:{post:{"auth/w/order/submit":1,"auth/r/orders":1,"auth/r/orders/market":1,"auth/r/orders/markets":1,"auth/api_tokens/delete":1,"auth/api_tokens/create":1,"auth/api_tokens":1,"auth/signin_history/uniq":1,"auth/signin_history":1,"auth/disable_withdraw_confirmation":1,"auth/change_password":1,"auth/deposit_address":1,"auth/announcements/accept":1,"auth/announcements/unaccepted":1,"auth/otp/deactivate":1,"auth/otp/activate":1,"auth/otp/secret":1,"auth/r/order/market/:order_id/trades":1,"auth/r/orders/market/hist":1,"auth/r/orders/hist":1,"auth/r/orders/hist/markets":1,"auth/r/orders/details":1,"auth/assets-history":1,"auth/assets-history/withdraws":1,"auth/assets-history/deposits":1,"auth/r/wallets":1,"auth/markets/favorites":1,"auth/markets/favorites/list":1,"auth/me/update":1,"auth/me":1,"auth/fund_sources":1,"auth/fund_sources/list":1,"auth/withdraw/resend_confirmation":1,"auth/withdraw":1,"auth/withdraw/details":1,"auth/withdraw/info":1,"auth/payment_addresses":1,"auth/deposit/prerequest":1,"auth/deposit/exchange-rates":1,"auth/deposit":1,"auth/deposit/details":1,"auth/deposit/info":1,"auth/kuna_codes/count":1,"auth/kuna_codes/details":1,"auth/kuna_codes/edit":1,"auth/kuna_codes/send-pdf":1,"auth/kuna_codes":1,"auth/kuna_codes/redeemed-by-me":1,"auth/kuna_codes/issued-by-me":1,"auth/payment_requests/invoice":1,"auth/payment_requests/type":1,"auth/referral_program/weekly_earnings":1,"auth/referral_program/stats":1,"auth/merchant/payout_services":1,"auth/merchant/withdraw":1,"auth/merchant/payment_services":1,"auth/merchant/deposit":1,"auth/verification/auth_token":1,"auth/kunaid_purchase/create":1,"auth/devices/list":1,"auth/sessions/list":1,"auth/subscriptions/reactivate":1,"auth/subscriptions/cancel":1,"auth/subscriptions/prolong":1,"auth/subscriptions/create":1,"auth/subscriptions/list":1,"auth/kuna_ids/list":1,"order/cancel/multi":1,"order/cancel":1},put:{"auth/fund_sources/id":1,"auth/kuna_codes/redeem":1},delete:{"auth/markets/favorites":1,"auth/fund_sources":1,"auth/devices":1,"auth/devices/list":1,"auth/sessions/list":1,"auth/sessions":1}}},public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}},commonCurrencies:{PLA:"Plair"},exceptions:{2002:a,2003:n}})}async fetchTime(e={}){return 1e3*await this.publicGetTimestamp(e)}async fetchMarkets(e={}){const t=["btc","rub","uah","usd","usdt","usdc"],i=[],r=await this.publicGetTickers(e),s=Object.keys(r);for(let e=0;e<s.length;e++){const r=s[e];for(let e=0;e<t.length;e++){const s=t[e],a=r.slice(1),n=a.indexOf(s),o=a.slice(n);if(n>0&&o===s){const e=r[0]+a.replace(s,""),t=this.safeCurrencyCode(e),n=this.safeCurrencyCode(s),o=t+"/"+n;i.push({id:r,symbol:o,base:t,quote:n,baseId:e,quoteId:s,type:"spot",spot:!0,active:void 0,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:void 0})}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetDepth(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,e,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");let r;e=e.ticker,t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e];let a,n=t;if(t in this.markets_by_id)a=this.markets_by_id[t],n=a.symbol;else{let e=t.slice(0,3),i=t.slice(3,6);e=e.toUpperCase(),i=i.toUpperCase(),e=this.safeCurrencyCode(e),i=this.safeCurrencyCode(i),n=e+"/"+i}s[n]=this.parseTicker(i[t],a)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let r;t&&(r=t.symbol);let s=this.safeString2(e,"side","trend");if(void 0!==s){const e={ask:"sell",bid:"buy"};s=this.safeString(e,s,s)}const a=this.safeString(e,"price"),n=this.safeString(e,"volume"),o=this.parseNumber(a),h=this.parseNumber(n);let d=this.safeNumber(e,"funds");void 0===d&&(d=this.parseNumber(c.stringMul(a,n)));const u=this.safeString(e,"order_id");return{id:this.safeString(e,"id"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:s,order:u,takerOrMaker:void 0,price:o,amount:h,cost:d,fee:void 0}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=await this.fetchTrades(e,i,r,s),n=this.buildOHLCVC(a,t,i,r),o=[];for(let e=0;e<n.length;e++){const t=n[e];o.push([t[0],t[1],t[2],t[3],t[4],t[5]])}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"balance"),n.used=this.safeString(t,"locked"),r[a]=n}return this.parseBalance(r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(n.price=s.toString());const o=await this.privatePostOrders(this.extend(n,a)),c=this.safeValue(o,"market"),h=this.safeValue(this.markets_by_id,c);return this.parseOrder(o,h)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),a=this.parseOrder(s),o=a.status;if("closed"===o||"canceled"===o)throw new n(this.id+" "+this.json(a));return a}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"created_at")),a=this.parseOrderStatus(this.safeString(e,"state")),n=this.safeString(e,"type"),o=this.safeString(e,"side"),c=this.safeString(e,"id");return this.safeOrder2({id:c,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:a,symbol:r,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:this.safeString(e,"price"),stopPrice:void 0,amount:this.safeString(e,"volume"),filled:this.safeString(e,"executed_volume"),remaining:this.safeString(e,"remaining_volume"),trades:void 0,fee:void 0,info:e,cost:void 0,average:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a.id},o=await this.privateGetOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a.id},o=await this.privateGetTradesMy(this.extend(n,r));return this.parseTrades(o,a,t,i)}nonce(){return this.milliseconds()}encodeParams(e){if("orders"in e){const t=e.orders;let i=this.urlencode(this.keysort(this.omit(e,"orders")));for(let e=0;e<t.length;e++){const r=t[e],s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e];i+="&orders%5B%5D%5B"+t+"%5D="+r[t].toString()}}return i}return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,a){let n;if(Array.isArray(t)){const[c,h]=t;if(n=this.urls.api[c]+"/"+c+"/"+this.implodeParams(e,r),"public"===h)"GET"===i?Object.keys(r).length&&(n+="?"+this.urlencode(r)):"POST"!==i&&"PUT"!==i||(s={"Content-Type":"application/json"},a=this.json(r));else if("private"===h)throw new o(this.id+" private v3 API is not supported yet")}else{let o="/api/"+this.version+"/"+this.implodeParams(e,r);"extension"in this.urls&&(o+=this.urls.extension);const c=this.omit(r,this.extractParams(e));if(n=this.urls.api[t]+o,"public"===t)Object.keys(c).length&&(n+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.encodeParams(this.extend({access_key:this.apiKey,tonce:e},r)),c=i+"|"+o+"|"+t,h=t+"&signature="+this.hmac(this.encode(c),this.encode(this.secret));"GET"===i?n+="?"+h:(a=h,s={"Content-Type":"application/x-www-form-urlencoded"})}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0!==n&&400===e){const e=this.safeValue(n,"error"),t=this.safeString(e,"code"),i=this.id+" "+this.json(n);this.throwExactlyMatchedException(this.exceptions,t,i)}}}},22444:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,ArgumentsRequired:n,InvalidNonce:o,BadRequest:c,ExchangeNotAvailable:h,PermissionDenied:d,AccountSuspended:u,RateLimitExceeded:l,InsufficientFunds:f}=i(73449),{TICK_SIZE:p}=i(62115);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"latoken",name:"Latoken",countries:["KY"],version:"v2",rateLimit:1e3,has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"],fees:"https://latoken.com/fees",referral:"https://latoken.com/invite?r=mvgp2djk"},api:{public:{get:{"book/{currency}/{quote}":1,"chart/week":1,"chart/week/{currency}/{quote}":1,currency:1,"currency/available":1,"currency/quotes":1,"currency/{currency}":1,pair:1,"pair/available":1,ticker:1,"ticker/{base}/{quote}":1,time:1,"trade/history/{currency}/{quote}":1,"trade/fee/{currency}/{quote}":1,"trade/feeLevels":1,"transaction/bindings":1}},private:{get:{"auth/account":1,"auth/account/currency/{currency}/{type}":1,"auth/order":1,"auth/order/getOrder/{id}":1,"auth/order/pair/{currency}/{quote}":1,"auth/order/pair/{currency}/{quote}/active":1,"auth/stopOrder":1,"auth/stopOrder/getOrder/{id}":1,"auth/stopOrder/pair/{currency}/{quote}":1,"auth/stopOrder/pair/{currency}/{quote}/active":1,"auth/trade":1,"auth/trade/pair/{currency}/{quote}":1,"auth/trade/fee/{currency}/{quote}":1,"auth/transaction":1,"auth/transaction/bindings":1,"auth/transaction/bindings/{currency}":1,"auth/transaction/{id}":1,"auth/transfer":1},post:{"auth/order/cancel":1,"auth/order/cancelAll":1,"auth/order/cancelAll/{currency}/{quote}":1,"auth/order/place":1,"auth/spot/deposit":1,"auth/spot/withdraw":1,"auth/stopOrder/cancel":1,"auth/stopOrder/cancelAll":1,"auth/stopOrder/cancelAll/{currency}/{quote}":1,"auth/stopOrder/place":1,"auth/transaction/depositAddress":1,"auth/transaction/withdraw":1,"auth/transaction/withdraw/cancel":1,"auth/transaction/withdraw/confirm":1,"auth/transaction/withdraw/resendCode":1,"auth/transfer/email":1,"auth/transfer/id":1,"auth/transfer/phone":1}}},precisionMode:p,fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.0049"),taker:this.parseNumber("0.0049")}},commonCurrencies:{MT:"Monarch",TPAY:"Tetra Pay",TRADE:"Smart Trade Coin",TSL:"Treasure SL"},exceptions:{exact:{INTERNAL_ERROR:s,SERVICE_UNAVAILABLE:h,NOT_AUTHORIZED:a,FORBIDDEN:d,BAD_REQUEST:c,NOT_FOUND:s,ACCESS_DENIED:d,REQUEST_REJECTED:s,HTTP_MEDIA_TYPE_NOT_SUPPORTED:c,MEDIA_TYPE_NOT_ACCEPTABLE:c,METHOD_ARGUMENT_NOT_VALID:c,VALIDATION_ERROR:c,ACCOUNT_EXPIRED:u,BAD_CREDENTIALS:a,COOKIE_THEFT:a,CREDENTIALS_EXPIRED:u,INSUFFICIENT_AUTHENTICATION:a,UNKNOWN_LOCATION:a,TOO_MANY_REQUESTS:l,INSUFFICIENT_FUNDS:f},broad:{"invalid API key, signature or digest":a,"request expired or bad":o,"For input string":c}},options:{defaultType:"spot",types:{wallet:"ACCOUNT_TYPE_WALLET",spot:"ACCOUNT_TYPE_SPOT"},accounts:{ACCOUNT_TYPE_WALLET:"wallet",ACCOUNT_TYPE_SPOT:"spot"}}})}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"serverTime")}async loadTimeDifference(e={}){const t=await this.fetchTime(e),i=this.milliseconds();return this.options.timeDifference=i-t,this.options.timeDifference}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=await this.publicGetPair(e);this.safeValue(this.options,"adjustForTimeDifference",!0)&&await this.loadTimeDifference();const r=this.indexBy(t,"id"),s=[];for(let e=0;e<i.length;e++){const t=i[e],a=this.safeString(t,"id"),n=this.safeString(t,"baseCurrency"),o=this.safeString(t,"quoteCurrency"),c=this.safeValue(r,n),h=this.safeValue(r,o);if(void 0!==c&&void 0!==h){const e=this.safeCurrencyCode(this.safeString(c,"tag")),i=this.safeCurrencyCode(this.safeString(h,"tag")),r=e+"/"+i,d={price:this.safeNumber(t,"priceTick"),amount:this.safeNumber(t,"quantityTick")},u=i.toLowerCase(),l=this.capitalize(u),f={amount:{min:this.safeNumber(t,"minOrderQuantity"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minOrderCost"+l),max:this.safeNumber(t,"maxOrderCost"+l)}},p="PAIR_STATUS_ACTIVE"===this.safeString(t,"status");s.push({id:a,info:t,symbol:r,base:e,quote:i,baseId:n,quoteId:o,type:"spot",spot:!0,active:p,precision:d,limits:f})}}return s}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrency(e);this.options.fetchCurrencies=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchCurrencies,"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"tag"),n=this.safeCurrencyCode(a),o=this.safeString(r,"decimals"),c=this.parseNumber("1e-"+o),h=this.safeNumber(r,"fee"),d=this.safeString(r,"type").split("_"),u=d.length,l=this.safeValue(d,u-1).toLowerCase(),f="CURRENCY_STATUS_ACTIVE"===this.safeString(r,"status"),p=this.safeString(r,"name");i[n]={id:s,code:n,info:r,name:p,type:l,active:f,fee:h,precision:c,limits:{amount:{min:this.safeNumber(r,"minTransferAmount"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAuthAccount(e),i={info:t,timestamp:void 0,datetime:void 0};let r;const s=this.safeString2(this.options,"fetchBalance","defaultType","spot"),a=this.safeString(e,"type",s),n=this.safeValue(this.options,"types",{}),o=this.safeString(n,a,a),c=this.groupBy(t,"type"),h=this.safeValue(c,o,[]);for(let e=0;e<h.length;e++){const t=h[e],s=this.safeString(t,"currency"),a=this.safeInteger(t,"timestamp");void 0!==a&&(r=void 0===r?a:Math.max(r,a));const n=this.safeCurrencyCode(s),o=this.account();o.free=this.safeString(t,"available"),o.used=this.safeString(t,"blocked"),i[n]=o}return i.timestamp=r,i.datetime=this.iso8601(r),this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currency:r.baseId,quote:r.quoteId};void 0!==t&&(s.limit=t);const a=await this.publicGetBookCurrencyQuote(this.extend(s,i));return this.parseOrderBook(a,e,void 0,"bid","ask","price","quantity")}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"lastPrice"),a=this.safeNumber(e,"change24h"),n=this.nonce();return this.safeTicker({symbol:r,timestamp:n,datetime:this.iso8601(n),low:this.safeNumber(e,"low"),high:this.safeNumber(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:a,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume24h"),info:e})}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={base:i.baseId,quote:i.quoteId},s=await this.publicGetTickerBaseQuote(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t);return this.parseTickers(i,e)}parseTrade(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"price"),s=this.safeString(e,"quantity"),a=this.safeString(e,"cost"),n=this.safeValue(e,"makerBuyer");let o=this.safeString(e,"direction");void 0===o?o=n?"sell":"buy":"TRADE_DIRECTION_BUY"===o?o="buy":"TRADE_DIRECTION_SELL"===o&&(o="sell");const c=n&&"buy"===o?"maker":"taker",h=this.safeString(e,"baseCurrency"),d=this.safeString(e,"quoteCurrency"),u=this.safeCurrencyCode(h),l=this.safeCurrencyCode(d),f=u+"/"+l;f in this.markets&&(t=this.market(f));const p=this.safeString(e,"id"),m=this.safeString(e,"order"),g=this.safeString(e,"fee");let y;return void 0!==g&&(y={cost:g,currency:l}),this.safeTrade({info:e,timestamp:i,datetime:this.iso8601(i),symbol:f,id:p,order:m,type:void 0,takerOrMaker:c,side:o,price:r,amount:s,cost:a,fee:y},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.baseId,quote:s.quoteId};void 0!==i&&(a.limit=i);const n=await this.publicGetTradeHistoryCurrencyQuote(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="privateGetAuthTrade";void 0!==e&&(a=this.market(e),s.currency=a.baseId,s.quote=a.quoteId,n="privateGetAuthTradePairCurrencyQuote"),void 0!==i&&(s.limit=i);const o=await this[n](this.extend(s,r));return this.parseTrades(o,a,t,i)}parseOrderStatus(e){return this.safeString({ORDER_STATUS_PLACED:"open",ORDER_STATUS_CLOSED:"closed",ORDER_STATUS_CANCELLED:"canceled"},e,e)}parseOrderType(e){return this.safeString({ORDER_TYPE_MARKET:"market",ORDER_TYPE_LIMIT:"limit"},e,e)}parseTimeInForce(e){return this.safeString({ORDER_CONDITION_GOOD_TILL_CANCELLED:"GTC",ORDER_CONDITION_IMMEDIATE_OR_CANCEL:"IOC",ORDER_CONDITION_FILL_OR_KILL:"FOK"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"timestamp"),s=this.safeString(e,"baseCurrency"),a=this.safeString(e,"quoteCurrency"),n=this.safeCurrencyCode(s),o=this.safeCurrencyCode(a);let c;void 0!==n&&void 0!==o&&(c=n+"/"+o,c in this.markets&&(t=this.market(c)));const h=this.safeString(e,"side");let d;if(void 0!==h){const e=h.split("_");d=this.safeStringLower(e,e.length-1)}const u=this.parseOrderType(this.safeString(e,"type")),l=this.safeString(e,"price"),f=this.safeString(e,"quantity"),p=this.safeString(e,"filled"),m=this.safeString(e,"cost");let g=this.parseOrderStatus(this.safeString(e,"status"));const y=this.safeString(e,"message");void 0!==y&&(y.indexOf("cancel")>=0?g="canceled":y.indexOf("accept")>=0&&(g="open"));const b=this.safeString(e,"clientOrderId"),v=this.parseTimeInForce(this.safeString(e,"condition"));return this.safeOrder2({id:i,clientOrderId:b,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:g,symbol:c,type:u,timeInForce:v,postOnly:void 0,side:d,price:l,stopPrice:void 0,cost:m,amount:f,filled:p,average:void 0,remaining:void 0,fee:void 0,trades:void 0},t)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currency:s.baseId,quote:s.quoteId},o=await this.privateGetAuthOrderPairCurrencyQuoteActive(this.extend(a,r));return this.parseOrders(o,s,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="privateGetAuthOrder";void 0!==e&&(a=this.market(e),s.currency=a.baseId,s.quote=a.quoteId,n="privateGetAuthOrderPairCurrencyQuote"),void 0!==i&&(s.limit=i);const o=await this[n](this.extend(s,r));return this.parseOrders(o,a,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetAuthOrderGetOrderId(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c={baseCurrency:n.baseId,quoteCurrency:n.quoteId,side:i.toUpperCase(),condition:"GTC",type:o,clientOrderId:this.uuid()};"LIMIT"===o&&(c.price=this.priceToPrecision(e,s)),c.quantity=this.amountToPrecision(e,r),c.timestamp=this.seconds();const h=await this.privatePostAuthOrderPlace(this.extend(c,a));return this.parseOrder(h,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostAuthOrderCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r,s="privatePostAuthOrderCancelAll";return void 0!==e&&(r=this.market(e),i.currency=r.baseId,i.quote=r.quoteId,s="privatePostAuthOrderCancelAllCurrencyQuote"),await this[s](this.extend(i,t))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetAuthTransaction(this.extend({},r));let a;void 0!==e&&(a=this.currency(e));const n=this.safeValue(s,"content",[]);return this.parseTransactions(n,a,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"timestamp"),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeNumber(e,"amount");let c=this.safeString(e,"senderAddress");""===c&&(c=void 0);let h=this.safeString(e,"recipientAddress");""===h&&(h=void 0);const d=this.safeString(e,"transactionHash"),u=this.safeString(e,"memo");let l;const f=this.safeNumber(e,"transactionFee");void 0!==f&&(l={cost:f,currency:a});const p=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:i,txid:d,timestamp:r,datetime:this.iso8601(r),addressFrom:c,addressTo:h,address:h,tagFrom:void 0,tagTo:u,tag:u,type:p,amount:o,currency:a,status:n,updated:void 0,fee:l}}parseTransactionStatus(e){return this.safeString({TRANSACTION_STATUS_CONFIRMED:"ok",TRANSACTION_STATUS_EXECUTED:"ok"},e,e)}parseTransactionType(e){return this.safeString({TRANSACTION_TYPE_DEPOSIT:"deposit",TRANSACTION_TYPE_WITHDRAWAL:"withdrawal"},e,e)}sign(e,t="public",i="GET",r,s,a){const n="/"+this.version+"/"+this.implodeParams(e,r);let o=n;const c=this.omit(r,this.extractParams(e)),h=this.urlencode(c);if("GET"===i&&Object.keys(c).length&&(o+="?"+h),"private"===t){this.checkRequiredCredentials();const e=i+n+h,t=this.hmac(this.encode(e),this.encode(this.secret),"sha512");s={"X-LA-APIKEY":this.apiKey,"X-LA-SIGNATURE":t,"X-LA-DIGEST":"HMAC-SHA512"},"POST"===i&&(s["Content-Type"]="application/json",a=this.json(c))}return{url:this.urls.api+o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(!o)return;const d=this.safeString(o,"message"),u=this.id+" "+n;void 0!==d&&(this.throwExactlyMatchedException(this.exceptions.exact,d,u),this.throwBroadlyMatchedException(this.exceptions.broad,d,u));const l=this.safeString(o,"error"),f=this.safeString(l,"message");if(void 0!==l||void 0!==f)throw this.throwExactlyMatchedException(this.exceptions.exact,l,u),this.throwBroadlyMatchedException(this.exceptions.broad,n,u),new s(u)}}},45557:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InvalidNonce:n,OrderNotFound:o,InvalidOrder:c,DDoSProtection:h,BadRequest:d,AuthenticationError:u}=i(73449),l=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"latoken1",name:"Latoken",countries:["KY"],version:"v1",rateLimit:2e3,certified:!1,userAgent:this.userAgents.chrome,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:void 0,fetchOrderBook:!0,fetchOrdersByStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,privateAPI:!0,publicAPI:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"],referral:"https://latoken.com/invite?r=mvgp2djk"},api:{public:{get:["ExchangeInfo/time","ExchangeInfo/limits","ExchangeInfo/pairs","ExchangeInfo/pairs/{currency}","ExchangeInfo/pair","ExchangeInfo/currencies","ExchangeInfo/currencies/{symbol}","MarketData/tickers","MarketData/ticker/{symbol}","MarketData/orderBook/{symbol}","MarketData/orderBook/{symbol}/{limit}","MarketData/trades/{symbol}","MarketData/trades/{symbol}/{limit}"]},private:{get:["Account/balances","Account/balances/{currency}","Order/status","Order/active","Order/get_order","Order/trades"],post:["Order/new","Order/test-order","Order/cancel","Order/cancel_all"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,maker:this.parseNumber("0.001"),taker:this.parseNumber("0.001")}},commonCurrencies:{MT:"Monarch",TPAY:"Tetra Pay",TRADE:"Smart Trade Coin",TSL:"Treasure SL"},options:{createOrderMethod:"private_post_order_new"},exceptions:{exact:{"Signature or ApiKey is not valid":u,"Request is out of time":n,"Symbol must be specified":d},broad:{"Request limit reached":h,Pair:d,"Price needs to be greater than":c,"Amount needs to be greater than":c,"The Symbol field is required":c,"OrderType is not valid":c,"Side is not valid":c,"Cancelable order whit":o,Order:o}}})}nonce(){return this.milliseconds()}async fetchTime(e={}){const t=await this.publicGetExchangeInfoTime(e);return this.safeInteger(t,"unixTimeMiliseconds")}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfoPairs(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeString(r,"baseCurrency"),n=this.safeString(r,"quotedCurrency"),o=this.safeInteger(r,"pairId"),c=this.safeCurrencyCode(a),h=this.safeCurrencyCode(n),d=c+"/"+h,u=this.safeString(r,"pricePrecision"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(r,"amountPrecision")},p={amount:{min:this.safeNumber(r,"minQty"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,numericId:o,info:r,symbol:d,base:c,quote:h,baseId:a,quoteId:n,type:"spot",spot:!0,active:void 0,precision:f,limits:p})}return i}async fetchCurrencies(e={}){const t=await this.publicGetExchangeInfoCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeInteger(r,"currencyId"),n=this.safeCurrencyCode(s),o=this.safeInteger(r,"precission"),c=this.safeNumber(r,"fee"),h=void 0;i[n]={id:s,numericId:a,code:n,info:r,name:n,active:h,fee:c,precision:o,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n=this.safeString(r,"frozen"),o=this.safeString(r,"pending"),c=this.account();c.used=l.stringAdd(n,o),c.free=this.safeString(r,"available"),c.total=this.safeString(r,"amount"),i[a]=c}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id,limit:10};void 0!==t&&(r.limit=t);const s=await this.publicGetMarketDataOrderBookSymbolLimit(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.safeNumber(e,"open"),a=this.safeNumber(e,"close");let n;void 0!==s&&void 0!==a&&(n=a-s);const o=this.safeNumber(e,"priceChange"),c=this.nonce();return{symbol:r,timestamp:c,datetime:this.iso8601(c),low:this.safeNumber(e,"low"),high:this.safeNumber(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetMarketDataTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataTickers(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}parseTrade(e,t){let i=this.safeInteger2(e,"timestamp","time");void 0!==i&&i<12309408e5&&(i*=1e3);const r=this.safeString(e,"price"),s=this.safeString(e,"amount"),a=this.parseNumber(r),n=this.parseNumber(s),o=this.parseNumber(l.stringMul(r,s)),c=this.safeString(e,"side");let h;void 0!==t&&(h=t.symbol);const d=this.safeString(e,"id"),u=this.safeString(e,"orderId"),f=this.safeNumber(e,"commission");let p;return void 0!==f&&(p={cost:f,currency:void 0}),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,id:d,order:u,type:void 0,takerOrMaker:void 0,side:c,price:a,amount:n,cost:o,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketDataTradesSymbol(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id},o=await this.privateGetOrderTrades(this.extend(n,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){return this.safeString({active:"open",partiallyFilled:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeTimestamp(e,"timeCreated"),s=this.safeString(e,"symbol"),a=this.safeSymbol(s,t),n=this.safeString(e,"side"),o=this.safeString(e,"orderType"),c=this.safeString(e,"price"),h=this.safeString(e,"amount"),d=this.safeString(e,"executedAmount"),u=this.parseOrderStatus(this.safeString(e,"orderStatus")),l=this.safeTimestamp(e,"timeFilled");let f;void 0!==l&&l>0&&(f=l);const p=this.safeString(e,"cliOrdId");return this.safeOrder2({id:i,clientOrderId:p,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:f,status:u,symbol:a,type:o,timeInForce:void 0,postOnly:void 0,side:n,price:c,stopPrice:void 0,cost:void 0,amount:h,filled:d,average:void 0,remaining:void 0,fee:void 0,trades:void 0},t)}async fetchOpenOrders(e,t,i,r={}){return this.fetchOrdersWithMethod("private_get_order_active",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return this.fetchOrdersByStatus("filled",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return this.fetchOrdersByStatus("cancelled",e,t,i,r)}async fetchOrdersByStatus(e,t,i,r,s={}){const a={status:e};return this.fetchOrdersWithMethod("private_get_order_status",t,i,r,this.extend(a,s))}async fetchOrdersWithMethod(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrdersWithMethod() requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={symbol:n.id};void 0!==r&&(o.limit=r);const c=await this[e](this.extend(o,s));return this.parseOrders(c,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateGetOrderGetOrder(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={symbol:this.marketId(e),side:i,price:this.priceToPrecision(e,a),amount:this.amountToPrecision(e,r),orderType:t},c=this.safeString(this.options,"createOrderMethod","private_post_order_new"),h=await this[c](this.extend(o,n));return this.parseOrder(h)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privatePostOrderCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders() requires a symbol argument");await this.loadMarkets();const i=this.marketId(e),r={symbol:i},s=await this.privatePostOrderCancelAll(this.extend(r,t)),n=[],o=this.safeValue(s,"cancelledOrders",[]);for(let e=0;e<o.length;e++){const t=this.parseOrder({symbol:i,orderId:o[e],orderStatus:"canceled"});n.push(t)}return n}sign(e,t="public",i="GET",r,s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("private"===t){const e=this.nonce();o=this.extend({timestamp:e},o)}const c=this.urlencode(o);if(Object.keys(o).length&&(n+="?"+c),"private"===t){this.checkRequiredCredentials();const e=this.hmac(this.encode(n),this.encode(this.secret));s={"X-LA-KEY":this.apiKey,"X-LA-SIGNATURE":e},"POST"===i&&(s["Content-Type"]="application/x-www-form-urlencoded",a=c)}return{url:this.urls.api+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(!o)return;const d=this.safeString(o,"message"),u=this.id+" "+n;void 0!==d&&(this.throwExactlyMatchedException(this.exceptions.exact,d,u),this.throwBroadlyMatchedException(this.exceptions.broad,d,u));const l=this.safeValue(o,"error",{}),f=this.safeString(l,"message");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions.exact,f,u),this.throwBroadlyMatchedException(this.exceptions.broad,f,u),new s(u)}}},31524:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,DDoSProtection:a,AuthenticationError:n,InvalidOrder:o,ArgumentsRequired:c}=i(73449),h=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{cancelOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:void 0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/en-gb/articles/360012072873-Trading-Fees",referral:"https://www.lbex.io/invite?icode=7QCY"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:this.parseNumber("0.001"),taker:this.parseNumber("0.001")},funding:{withdraw:{}}},commonCurrencies:{VET_ERC20:"VEN",PNT:"Penta"},options:{cacheSecretAsPem:!0}})}async fetchMarkets(e={}){const t=await this.publicGetAccuracy(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=r.symbol,a=s.split("_");let n,o;a.length>2?(n=a[0]+"_"+a[1],o=a[2]):(n=a[0],o=a[1]);const c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u={amount:this.safeInteger(r,"quantityAccuracy"),price:this.safeInteger(r,"priceAccuracy")};i.push({id:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:!0,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:void 0},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)},cost:{min:void 0,max:void 0}},info:s})}return i}parseTicker(e,t){let i;if(void 0===t){const t=this.safeString(e,"symbol");if(t in this.markets_by_id)i=this.markets_by_id[t].symbol;else{const e=t.split("_");let r,s;e.length>2?(r=e[0]+"_"+e[1],s=e[2]):(r=e[0],s=e[1]),i=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(s)}}const r=this.safeInteger(e,"timestamp"),s=e;e=s.ticker;const a=this.safeNumber(e,"latest"),n=this.safeNumber(e,"change");let o,c,h;if(void 0!==n){const e=this.sum(1,n/100);e>0&&(o=a/this.sum(1,e))}return void 0!==a&&void 0!==o&&(c=a-o,h=this.sum(a,o)/2),void 0!==t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:c,percentage:n,average:h,baseVolume:this.safeNumber(e,"vol"),quoteVolume:this.safeNumber(e,"turnover"),info:s}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(this.extend({symbol:"all"},t)),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t=60,i={}){await this.loadMarkets();let r=60;void 0!==t&&(r=Math.min(t,r));const s={symbol:this.marketId(e),size:r},a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a,e)}parseTrade(e,t){let i;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"date_ms"),s=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(s),o=this.parseNumber(a),c=this.parseNumber(h.stringMul(s,a)),d=this.safeString(e,"tid");let u=this.safeString(e,"type");return u=u.replace("_market",""),{id:d,info:this.safeValue(e,"info",e),timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:void 0,side:u,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id,size:100};void 0!==t&&(a.time=parseInt(t)),void 0!==i&&(a.size=i);const n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="5m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e);if(void 0===i)throw new c(this.id+" fetchOHLCV() requires a `since` argument");if(void 0===r)throw new c(this.id+" fetchOHLCV() requires a `limit` argument");const n={symbol:a.id,type:this.timeframes[t],size:r,time:parseInt(i/1e3)},o=await this.publicGetKline(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"info",{}),s=this.safeValue(r,"free",{}),a=this.safeValue(r,"freeze",{}),n=this.safeValue(r,"asset",{}),o=Object.keys(s);for(let e=0;e<o.length;e++){const t=o[e],r=this.safeCurrencyCode(t),c=this.account();c.free=this.safeString(s,t),c.used=this.safeString(a,t),c.total=this.safeString(n,t),i[r]=c}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"},e)}parseOrder(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t,"_"),s=this.safeInteger(e,"create_time"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=this.safeString(e,"deal_amount"),c=this.safeString(e,"avg_price"),h=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString(e,"order_id"),u=this.safeString(e,"order_type"),l=this.safeString(e,"type");return this.safeOrder2({id:d,clientOrderId:void 0,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:h,symbol:r,type:u,timeInForce:void 0,postOnly:void 0,side:l,price:a,stopPrice:void 0,cost:void 0,amount:n,filled:o,remaining:void 0,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e),average:c},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o={symbol:n.id,type:i,amount:r};"market"===t?o.type+="_market":o.price=s;const c=await this.privatePostCreateOrder(this.extend(o,a));return o=this.omit(o,"type"),o.order_id=c.order_id,o.type=i,o.order_type=t,o.create_time=this.milliseconds(),o.info=c,this.parseOrder(o,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(t).id,order_id:e};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:r.id,order_id:e},a=await this.privatePostOrdersInfo(this.extend(s,i)),n=this.safeValue(a,"orders",[]),o=this.parseOrders(n,r);return 1===o.length?o[0]:o}async fetchOrders(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={symbol:this.market(e).id,current_page:1,page_length:i},a=await this.privatePostOrdersInfoHistory(this.extend(s,r)),n=this.safeValue(a,"orders",[]);return this.parseOrders(n,void 0,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r),a=this.filterBy(s,"status","closed"),n=this.filterBy(s,"status","cancelled"),o=this.arrayConcat(a,n);return this.filterBySymbolSinceLimit(o,e,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={assetCode:this.currency(e).id,amount:t,account:i};void 0!==r&&(a.memo=r);const n=this.privatePostWithdraw(this.extend(a,s));return{id:this.safeString(n,"id"),info:n}}convertSecretToPem(e){const t=e.length-0;let i=parseInt(t/64);i=this.sum(i,1);let r="-----BEGIN PRIVATE KEY-----\n";for(let e=0;e<i;e++){const t=64*e,i=this.sum(t,64);r+=this.secret.slice(t,i)+"\n"}return r+"-----END PRIVATE KEY-----"}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);if(o+=".do","public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.keysort(this.extend({api_key:this.apiKey},r)),t=this.rawencode(e),i=this.hash(this.encode(t)).toUpperCase();let n;this.safeValue(this.options,"cacheSecretAsPem",!0)?(n=this.safeValue(this.options,"pem"),void 0===n&&(n=this.convertSecretToPem(this.secret),this.options.pem=n)):n=this.convertSecretToPem(this.secret);const o=this.binaryToBase64(this.rsa(i,this.encode(n),"RS256"));e.sign=o,a=this.urlencode(e),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,c,h,d,u,l){if(void 0!==d&&"false"===this.safeString(d,"result")){const e=this.safeString(d,"error_code"),t=this.safeString({1e4:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},e,this.json(d));throw new(this.safeValue({10002:n,10004:a,10005:n,10006:n,10007:n,10009:o,10010:o,10011:o,10012:o,10013:o,10014:o,10015:o,10016:o,10022:n},e,s))(t)}}}},24352:(e,t,i)=>{"use strict";const r=i(48819),{TICK_SIZE:s}=i(62115),{ExchangeError:a,ArgumentsRequired:n,InvalidNonce:o,OrderNotFound:c,InvalidOrder:h,InsufficientFunds:d,AuthenticationError:u,DDoSProtection:l,NotSupported:f,BadSymbol:p}=i(73449),m=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.liquid.com"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com/sign-up/?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}","fees"]},private:{get:["accounts","accounts/balance","accounts/main_asset","accounts/{id}","accounts/{currency}/reserved_balance_details","crypto_accounts","crypto_withdrawal","crypto_withdrawals","crypto_withdrawals/crypto_networks","executions/me","fiat_accounts","fund_infos","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions","withdrawals","user/fee_tier","user/fees","trading_accounts/{id}","bank_accounts","accounts/{currency}/reserved_balance_details"],post:["crypto_withdrawals","fund_infos","fiat_accounts","loan_bids","orders","withdrawals","fees/estimate"],put:["crypto_withdrawal/{id}/cancel","loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/adjust_margin","trades/{id}/close","trades/close_all","trading_accounts/{id}","withdrawals/{id}/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.003,maker:0,tiers:{perpetual:{maker:[[0,0],[25e3,0],[5e4,-25e-5],[1e5,-25e-5],[1e6,-25e-5],[1e7,-25e-5],[25e6,-25e-5],[5e7,-25e-5],[75e6,-25e-5],[1e8,-25e-5],[2e8,-25e-5],[3e8,-25e-5]],taker:[[0,.0012],[25e3,.00115],[5e4,.0011],[1e5,.00105],[1e6,.001],[1e7,95e-5],[25e6,9e-4],[5e7,85e-5],[75e6,8e-4],[1e8,75e-5],[2e8,7e-4],[3e8,65e-5]]},spot:{taker:[[0,.003],[1e4,.0029],[2e4,.0028],[5e4,.0026],[1e5,.002],[1e6,.0016],[5e6,.0012],[1e7,.001],[25e6,9e-4],[5e7,8e-4],[1e8,7e-4],[2e8,6e-4],[5e8,4e-4],[1e9,3e-4]],maker:[[0,0],[1e4,.002],[2e4,.0019],[5e4,.0018],[1e5,.0016],[1e6,8e-4],[5e6,7e-4],[1e7,5e-4],[25e6,0],[5e7,0],[1e8,0],[2e8,0],[5e8,0],[1e9,0]]}}}},precisionMode:s,exceptions:{"API rate limit exceeded. Please retry after 300s":l,"API Authentication failed":u,"Nonce is too small":o,"Order not found":c,"Can not update partially filled order":h,"Can not update non-live order":c,not_enough_free_balance:d,must_be_positive:h,less_than_order_size:h,price_too_high:h,price_too_small:h,product_disabled:p},commonCurrencies:{HOT:"HOT Token",MIOTA:"IOTA",TON:"Tokamak Network",BIFI:"Bifrost Finance"},options:{cancelOrderException:!0,networks:{ETH:"ERC20",TRX:"TRC20",XLM:"Stellar",ALGO:"Algorand"}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.safeString(r,"name"),o=r.depositable&&r.withdrawable,c=this.safeInteger(r,"assets_precision");i[a]={id:s,code:a,info:r,name:n,active:o,fee:this.safeNumber(r,"withdrawal_fee"),precision:c,limits:{amount:{min:Math.pow(10,-c),max:Math.pow(10,c)},withdraw:{min:this.safeNumber(r,"minimum_withdrawal"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=await this.publicGetProducts({perpetual:"1"}),r=await this.fetchCurrencies(),s=this.indexBy(r,"code"),a=[],n=this.arrayConcat(t,i);for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"id"),r=this.safeString(t,"base_currency"),o=this.safeString(t,"quoted_currency");let c="spot",h=!0,d=!1;"Perpetual"===this.safeString(t,"product_type")&&(h=!1,d=!0,c="swap");const u=this.safeCurrencyCode(r),l=this.safeCurrencyCode(o);let f;f=d?this.safeString(t,"currency_pair_code"):u+"/"+l;let p=this.fees.trading.maker,m=this.fees.trading.taker;"swap"===c&&(p=this.safeNumber(t,"maker_fee",this.fees.trading.maker),m=this.safeNumber(t,"taker_fee",this.fees.trading.taker));const g=!this.safeValue(t,"disabled",!1),y=this.safeValue(s,u),b={amount:1e-8,price:this.safeNumber(t,"tick_size")};let v;void 0!==y&&(v=this.safeNumber(y.info,"minimum_order_quantity"));const w=this.safeNumber(t,"last_traded_price");let k,S;if(w){const e=this.safeNumber(t,"multiplier_down"),i=this.safeNumber(t,"multiplier_up");void 0!==e&&(k=w*e),void 0!==i&&(S=w*i)}const _={amount:{min:v,max:void 0},price:{min:k,max:S},cost:{min:void 0,max:void 0}};a.push({id:i,symbol:f,base:u,quote:l,baseId:r,quoteId:o,type:c,spot:h,swap:d,maker:p,taker:m,limits:_,precision:b,active:g,info:t})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"crypto_accounts",[]),s=this.safeValue(t,"fiat_accounts",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(t,"balance"),n.used=this.safeString(t,"reserved_balance"),i[a]=n}for(let e=0;e<s.length;e++){const t=s[e],r=this.safeString(t,"currency"),a=this.safeCurrencyCode(r),n=this.account();n.total=this.safeString(t,"balance"),n.used=this.safeString(t,"reserved_balance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetProductsIdPriceLevels(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"buy_price_levels","sell_price_levels")}parseTicker(e,t){const i=this.milliseconds();let r,s;if("last_traded_price"in e&&e.last_traded_price&&e.last_traded_price.length>0&&(r=this.safeNumber(e,"last_traded_price")),void 0===t){const i=this.safeString(e,"id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const i=this.safeString(e,"base_currency"),r=this.safeString(e,"quoted_currency");s in this.markets?t=this.markets[s]:s=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}}void 0!==t&&(s=t.symbol);const a=this.safeNumber(e,"last_price_24h");return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_market_ask"),low:this.safeNumber(e,"low_market_bid"),bid:this.safeNumber(e,"market_bid"),bidVolume:void 0,ask:this.safeNumber(e,"market_ask"),askVolume:void 0,vwap:void 0,open:a,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume_24h"),quoteVolume:void 0,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetProducts(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetProductsId(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at"),r=this.safeString(e,"order_id"),s=this.safeString(e,"taker_side"),a=this.safeString(e,"my_side"),n=void 0!==a?a:s;let o;void 0!==a&&(o=s===a?"taker":"maker");const c=this.safeString(e,"price"),h=this.safeString(e,"quantity"),d=this.parseNumber(c),u=this.parseNumber(h),l=this.parseNumber(m.stringMul(c,h)),f=this.safeString(e,"id");let p;return void 0!==t&&(p=t.symbol),{info:e,id:f,order:r,timestamp:i,datetime:this.iso8601(i),symbol:p,type:void 0,side:n,takerOrMaker:o,price:d,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_id:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.publicGetExecutions(this.extend(a,r)),o=void 0!==t?n:n.models;return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_id:s.id,with_details:!0};void 0!==i&&(a.limit=i);const n=await this.privateGetExecutionsMe(this.extend(a,r));return this.parseTrades(n.models,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.safeString2(a,"clientOrderId","client_order_id");a=this.omit(a,["clientOrderId","client_order_id"]);const o={order_type:t,product_id:this.marketId(e),side:i,quantity:this.amountToPrecision(e,r)};void 0!==n&&(o.client_order_id=n),"limit"!==t&&"limit_post_only"!==t&&"market_with_range"!==t&&"stop"!==t||(o.price=this.priceToPrecision(e,s));const c=await this.privatePostOrders(this.extend(o,a));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePutOrdersIdCancel(this.extend(r,i)),a=this.parseOrder(s);if("closed"===a.status&&this.options.cancelOrderException)throw new c(this.id+" order closed already: "+this.json(s));return a}async editOrder(e,t,i,r,s,a,o={}){if(await this.loadMarkets(),void 0===a)throw new n(this.id+" editOrder() requires the price argument");const c={order:{quantity:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a)},id:e},h=await this.privatePutOrdersId(this.extend(c,o));return this.parseOrder(h)}parseOrderStatus(e){return this.safeString({live:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"created_at"),s=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,s);const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeNumber(e,"quantity");let o=this.safeNumber(e,"filled_quantity");const c=this.safeNumber(e,"price");let h,d;void 0!==t&&(h=t.symbol,d=t.quote);const u=this.safeString(e,"order_type");let l=0,f=0,p=this.safeNumber(e,"average_price");const m=this.parseTrades(this.safeValue(e,"executions",[]),t,void 0,void 0,{order:i,type:u}),g=m.length;for(let e=0;e<g;e++){const t=m[e];t.order=i,t.type=u,f=this.sum(f,t.amount),l=this.sum(l,t.cost)}let y,b,v;g>0&&(b=m[g-1].timestamp,!p&&f>0&&(p=l/f),void 0===y&&(y=l),void 0===o&&(o=f)),void 0!==n&&void 0!==o&&(v=n-o);const w=this.safeString(e,"side");return{id:i,clientOrderId:this.safeString(e,"client_order_id"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:b,type:u,timeInForce:void 0,postOnly:void 0,status:a,symbol:h,side:w,price:c,stopPrice:void 0,amount:n,filled:o,cost:y,remaining:v,average:p,trades:m,fee:{currency:d,cost:this.safeNumber(e,"order_fee")},info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={with_details:1};void 0!==e&&(s=this.market(e),a.product_id=s.id),void 0!==i&&(a.limit=i);const n=await this.privateGetOrders(this.extend(a,r)),o=this.safeValue(n,"models",[]);return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"live"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"filled"},r))}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={crypto_withdrawal:{currency:a.id,address:i,amount:t}};if(void 0!==r)if("XRP"===e)n.crypto_withdrawal.payment_id=r;else{if("XLM"!==e)throw new f(this.id+" withdraw() only supports a tag along the address for XRP or XLM");n.crypto_withdrawal.memo_type="text",n.crypto_withdrawal.memo_value=r}const o=this.safeValue(this.options,"networks",{}),c=this.safeValue(s,"crypto_withdrawal",{});let h=this.safeStringUpper(c,"network");h=this.safeString(o,h,h),void 0!==h&&(n.crypto_withdrawal.network=h,s.crypto_withdrawal=this.omit(s.crypto_withdrawal,"network"));const d=await this.privatePostCryptoWithdrawals(this.deepExtend(n,s));return this.parseTransaction(d,a)}async fetchWithdrawals(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.privateGetCryptoWithdrawals(this.extend({},r)),n=this.safeValue(a,"models",[]);return this.parseTransactions(n,s,t,i)}parseTransactionStatus(e){return this.safeString({pending:"pending",cancelled:"canceled",approved:"ok",processing:"pending",processed:"ok",reverted:"failed",to_be_reviewed:"pending",declined:"failed",broadcasted:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString2(e,"payment_id","memo_value"),a=this.safeString(e,"transaction_hash"),n=this.safeString2(e,"currency","asset"),o=this.safeCurrencyCode(n,t),c=this.safeTimestamp(e,"created_at"),h=this.safeTimestamp(e,"updated_at"),d=this.parseTransactionStatus(this.safeString(e,"state")),u=this.safeString(e,"amount"),l=this.safeString(e,"withdrawal_fee"),f=this.parseNumber(m.stringSub(u,l));return{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:"withdrawal",amount:f,currency:o,status:d,updated:h,fee:{currency:o,cost:this.parseNumber(l)}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const e=this.nonce(),t={path:n,token_id:this.apiKey,iat:Math.floor(e/1e3)};"client_order_id"in o||(t.nonce=e),s["X-Quoine-Auth"]=this.jwt(t,this.encode(this.secret))}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(e>=200&&e<300)return;if(401===e)return void this.throwExactlyMatchedException(this.exceptions,n,n);if(429===e)throw new l(this.id+" "+n);if(void 0===o)return;const d=this.id+" "+n,u=this.safeString(o,"message"),f=this.safeValue(o,"errors");if(void 0!==u)this.throwExactlyMatchedException(this.exceptions,u,d);else{if(void 0===f)throw new a(d);{const e=Object.keys(f);for(let t=0;t<e.length;t++){const i=f[e[t]];for(let e=0;e<i.length;e++){const t=i[e];this.throwExactlyMatchedException(this.exceptions,t,d)}}}}}}},85439:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a}=i(73449),n=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0},urls:{referral:"https://www.luno.com/invite/44893A",logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:{public:"https://api.luno.com/api",private:"https://api.luno.com/api",exchange:"https://api.luno.com/api/exchange"},www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{exchange:{get:["markets"]},public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","beneficiaries","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}","transfers"],post:["accounts","accounts/{id}/name","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["accounts/{id}/name","quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}async fetchMarkets(e={}){const t=await this.exchangeGetMarkets(e),i=[],r=this.safeValue(t,"markets",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"market_id"),a=this.safeString(t,"base_currency"),n=this.safeString(t,"counter_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d="ACTIVE"===this.safeString(t,"trading_status"),u={amount:this.safeInteger(t,"volume_scale"),price:this.safeInteger(t,"price_scale")};i.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:d,precision:u,limits:{amount:{min:this.safeNumber(t,"min_volume"),max:this.safeNumber(t,"max_volume")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:void 0,max:void 0}},info:t})}return i}async fetchAccounts(e={}){const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"account_id"),a=this.safeString(t,"asset"),n=this.safeCurrencyCode(a);r.push({id:s,type:void 0,currency:n,info:t})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"asset"),a=this.safeCurrencyCode(s),o=this.safeString(t,"reserved"),c=this.safeString(t,"unconfirmed"),h=this.safeString(t,"balance"),d=n.stringAdd(o,c),u=n.stringAdd(h,c);if(a in r)r[a].used=n.stringAdd(r[a].used,d),r[a].total=n.stringAdd(r[a].total,u);else{const e=this.account();e.used=d,e.total=u,r[a]=e}}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();let r="publicGetOrderbook";void 0!==t&&t<=100&&(r+="Top");const s={pair:this.marketId(e)},a=await this[r](this.extend(s,i)),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks","price","volume")}parseOrderStatus(e){return this.safeString({PENDING:"open"},e,e)}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp");let r,s=this.parseOrderStatus(this.safeString(e,"state"));s=s;const a=this.safeString(e,"type");"ASK"===a||"SELL"===a?r="sell":"BID"!==a&&"BUY"!==a||(r="buy");const n=this.safeString(e,"pair"),o=this.safeSymbol(n,t),c=this.safeString(e,"limit_price"),h=this.safeString(e,"limit_volume"),d=this.safeNumber(e,"fee_counter"),u=this.safeNumber(e,"fee_base"),l=this.safeString(e,"base"),f=this.safeString(e,"counter"),p={currency:void 0};d?(p.cost=d,void 0!==t&&(p.currency=t.quote)):(p.cost=u,void 0!==t&&(p.currency=t.base));const m=this.safeString(e,"order_id");return this.safeOrder2({id:m,clientOrderId:void 0,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:s,symbol:o,type:void 0,timeInForce:void 0,postOnly:void 0,side:r,price:c,stopPrice:void 0,amount:h,filled:l,cost:f,remaining:void 0,trades:void 0,fee:p,info:e,average:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const a={};let n;void 0!==e&&(a.state=e),void 0!==t&&(n=this.market(t),a.pair=n.id);const o=await this.privateGetListorders(this.extend(a,s)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,n,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByState(void 0,e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("PENDING",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("COMPLETE",e,t,i,r)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r;t&&(r=t.symbol);const s=this.safeNumber(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.indexBy(i.tickers,"pair"),s=Object.keys(r),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeMarket(t),n=i.symbol,o=r[t];a[n]=this.parseTicker(o,i)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeString(e,"order_id");let r,s;if(void 0!==i){const t=this.safeString(e,"type");"ASK"===t||"SELL"===t?s="sell":"BID"!==t&&"BUY"!==t||(s="buy"),r="sell"===s&&e.is_buy?"maker":"buy"!==s||e.is_buy?"taker":"maker"}else s=e.is_buy?"buy":"sell";const a=this.safeNumber(e,"fee_base"),n=this.safeNumber(e,"fee_counter");let o,c;void 0!==a?0!==a&&(o=t.base,c=a):void 0!==n&&0!==n&&(o=t.quote,c=n);const h=this.safeInteger(e,"timestamp");return{info:e,id:void 0,timestamp:h,datetime:this.iso8601(h),symbol:t.symbol,order:i,type:void 0,side:s,takerOrMaker:r,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:this.safeNumber(e,"counter"),fee:{cost:c,currency:o}}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==t&&(a.since=t);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={pair:s.id};void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.privateGetListtrades(this.extend(n,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetFeeInfo(e);return{info:t,maker:this.safeNumber(t,"maker_fee"),taker:this.safeNumber(t,"taker_fee")}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePost";const o={pair:this.marketId(e)};"market"===t?(n+="Marketorder",o.type=i.toUpperCase(),"buy"===i?o.counter_volume=parseFloat(this.amountToPrecision(e,r)):o.base_volume=parseFloat(this.amountToPrecision(e,r))):(n+="Postorder",o.volume=parseFloat(this.amountToPrecision(e,r)),o.price=parseFloat(this.priceToPrecision(e,s)),o.type="buy"===i?"BID":"ASK");const c=await this[n](this.extend(o,a));return{info:c,id:c.order_id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostStoporder(this.extend(r,i))}async fetchLedgerByEntries(e,t=-1,i=1,r={}){const s={min_row:t,max_row:this.sum(t,i)};return await this.fetchLedger(e,void 0,i,this.extend(s,r))}async fetchLedger(e,t,i,r={}){let n;await this.loadMarkets(),await this.loadAccounts();let o=this.safeString(r,"id"),c=this.safeValue(r,"min_row"),h=this.safeValue(r,"max_row");if(void 0===o){if(void 0===e)throw new a(this.id+" fetchLedger() requires a currency code argument if no account id specified in params");n=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" fetchLedger() could not find account id for "+e);o=i.id}if(void 0===c&&void 0===h)h=0,c=-1e3;else if(void 0===c||void 0===h)throw new s(this.id+" fetchLedger() require both params 'max_row' and 'min_row' or neither to be defined");if(void 0!==i&&h-c>i&&(h<=0?c=h-i:c>0&&(h=c+i)),h-c>1e3)throw new s(this.id+" fetchLedger() requires the params 'max_row' - 'min_row' <= 1000");const d={id:o,min_row:c,max_row:h},u=await this.privateGetAccountsIdTransactions(this.extend(r,d)),l=this.safeValue(u,"transactions",[]);return this.parseLedger(l,n,t,i)}parseLedgerComment(e){const t=e.split(" ");let i;const r=this.safeString(t,0),s=this.safeString(t,2),a=this.safeString(t,3);let n=this.safeString({Withdrawal:"fee",Trading:"fee",Payment:"transaction",Sent:"transaction",Deposit:"transaction",Received:"transaction",Released:"released",Reserved:"reserved",Sold:"trade",Bought:"trade",Failure:"failed"},r,void 0);return void 0===n&&"fee"===s&&(n="fee"),"reserved"===n&&"order"===a&&(i=this.safeString(t,4)),{type:n,referenceId:i}}parseLedgerEntry(e,t){const i=this.safeString(e,"row_index"),r=this.safeString(e,"account_id"),s=this.safeValue(e,"timestamp"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.safeNumber(e,"available_delta"),c=this.safeNumber(e,"balance_delta"),h=this.safeNumber(e,"balance"),d=this.safeString(e,"description");let u=h,l=0;const f=this.parseLedgerComment(d),p=f.type,m=f.referenceId;let g,y;return 0!==c?(u=h-c,y="ok",l=Math.abs(c)):o<0?(y="pending",l=Math.abs(o)):o>0&&(y="canceled",l=Math.abs(o)),c>0||o>0?g="in":(c<0||o<0)&&(g="out"),{id:i,direction:g,account:r,referenceId:m,referenceAccount:void 0,type:p,currency:n,amount:l,timestamp:s,datetime:this.iso8601(s),before:u,after:h,status:y,fee:void 0,info:e}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret);s={Authorization:"Basic "+this.decode(e)}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&void 0!==this.safeValue(o,"error"))throw new s(this.id+" "+this.json(o))}}},25591:(e,t,i)=>{"use strict";const r=i(48819),s=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:void 0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0},timeframes:{"1m":"Minute","5m":"Min5","15m":"Min15","30m":"Min30","1h":"Hour","4h":"Hour4","6h":"Hour6","12h":"Hour12","1d":"Day","1w":"Week","1M":"Month"},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api"},test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["AssetPairs/rate","AssetPairs/rate/{assetPairId}","AssetPairs/dictionary/{market}","Assets/dictionary","Candles/history/{market}/available","Candles/history/{market}/{assetPair}/{period}/{type}/{from}/{to}","Company/ownershipStructure","Company/registrationsCount","IsAlive","Market","Market/{market}","Market/capitalization/{market}","OrderBook","OrderBook/{assetPairId}","Trades/{AssetPairId}","Trades/Last/{assetPair}/{n}"],post:["AssetPairs/rate/history","AssetPairs/rate/history/{assetPairId}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets","History/trades"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel","Orders/v2/market","Orders/v2/limit","Orders/stoplimit","Orders/bulk"],delete:["Orders","Orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}},commonCurrencies:{CAN:"CanYaCoin",XPD:"Lykke XPD"}})}parseTrade(e,t){const i=this.safeString(e,"AssetPairId"),r=this.safeSymbol(i,t),a=this.safeString2(e,"id","Id"),n=this.safeString(e,"OrderId"),o=this.parse8601(this.safeString2(e,"dateTime","DateTime")),c=this.safeString2(e,"price","Price");let h=this.safeString2(e,"volume","Amount"),d=this.safeStringLower(e,"action");void 0===d&&(d="-"===h[0]?"sell":"buy"),h=s.stringAbs(h);const u=this.parseNumber(c),l=this.parseNumber(h),f=this.parseNumber(s.stringMul(c,h)),p={cost:0,currency:t.quote};return{id:a,info:e,timestamp:o,datetime:this.iso8601(o),symbol:r,type:void 0,order:n,side:d,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=100);const a={AssetPairId:s.id,skip:0,take:i},n=await this.mobileGetTradesAssetPairId(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==i&&(s.take=i),void 0!==e&&(a=this.market(e),s.assetPairId=a.id);const n=await this.privateGetHistoryTrades(this.extend(s,r));return this.parseTrades(n,a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"AssetId"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(r,"Balance"),n.used=this.safeString(r,"Reserved"),i[a]=n}return this.parseBalance(i)}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteOrdersId(this.extend(r,i))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r;return void 0!==e&&(r=this.market(e),i.assetPairId=r.id),await this.privateDeleteOrders(this.extend(i,t))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={AssetPairId:n.id,OrderAction:this.capitalize(i),Volume:r,Asset:n.baseId};"limit"===t&&(o.Price=s);const c="privatePostOrdersV2"+this.capitalize(t),h=await this[c](this.extend(o,a));return{id:this.safeString(h,"Id"),info:h,clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s=this.safeNumber(h,"Price"),amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"Id"),a=this.safeString(r,"Name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=this.safeString(r,"Accuracy"),l=this.parsePrecision(u),f={price:parseInt(u),amount:this.safeInteger(r,"InvertedAccuracy")};i.push({id:s,symbol:d,base:c,quote:h,type:"spot",spot:!0,active:!0,info:r,precision:f,limits:{amount:{min:this.safeNumber(r,"MinVolume"),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:this.safeNumber(r,"MinInvertedVolume"),max:void 0}},baseId:void 0,quoteId:void 0})}return i}parseTicker(e,t){const i=this.milliseconds();let r;t&&(r=t.symbol);const s=this.safeNumber(e,"lastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeNumber(e,"volume24H"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.mobileGetMarketMarket(this.extend(r,t));return this.parseTicker(s,i)}parseOrderStatus(e){return this.safeString({Open:"open",Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled",Rejected:"rejected",Replaced:"canceled",Placed:"open"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"Status")),r=this.safeString(e,"AssetPairId"),a=this.safeSymbol(r,t),n=this.parse8601(this.safeString(e,"LastMatchTime"));let o;"Registered"in e&&e.Registered?o=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(o=this.parse8601(e.CreatedAt));const c=this.safeString(e,"Price");let h,d=this.safeString(e,"Volume");s.stringLt(d,"0")?(h="sell",d=s.stringAbs(d)):h="buy";const u=s.stringAbs(this.safeString(e,"RemainingVolume")),l=this.safeString(e,"Id");return this.safeOrder2({info:e,id:l,clientOrderId:void 0,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:n,symbol:a,type:void 0,timeInForce:void 0,postOnly:void 0,side:h,price:c,stopPrice:void 0,cost:void 0,average:void 0,amount:d,filled:void 0,remaining:u,status:i,fee:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetOrders(r);let a;return void 0!==e&&(a=this.market(e)),this.parseOrders(s,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"InOrderBook"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"Matched"},r))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(e)},i)),s={timestamp:void 0,bids:[],asks:[]};let a;for(let e=0;e<r.length;e++){const t=r[e];t.IsBuy?s.bids=this.arrayConcat(s.bids,t.Prices):s.asks=this.arrayConcat(s.asks,t.Prices);const i=this.parse8601(t.Timestamp);a=void 0===a?i:Math.max(a,i)}return this.parseOrderBook(s,e,a,"bids","asks","Price","Volume")}parseBidAsk(e,t=0,i=1){const r=this.safeNumber(e,t);let s=this.safeNumber(e,i);return s<0&&(s=-s),[r,s]}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"mobile"===t||"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"private"===t&&("GET"!==i&&"DELETE"!==i||Object.keys(o).length&&(n+="?"+this.urlencode(o)),this.checkRequiredCredentials(),s={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===i&&Object.keys(r).length&&(a=this.json(r))),{url:n,method:i,body:a,headers:s}}}},47551:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,InvalidOrder:n}=i(73449),o=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchMarkets:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:void 0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","2w":"2w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi",v4Public:"https://www.mercadobitcoin.com.br/v4"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["coins","{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","place_market_buy_order","place_market_sell_order","withdraw_coin"]},v4Public:{get:["{coin}/candle/"]}},fees:{trading:{maker:.003,taker:.007}},options:{limits:{BTC:.001,BCH:.001,ETH:.01,LTC:.01,XRP:.1}}})}async fetchMarkets(e={}){const t=await this.publicGetCoins(e),i=[],r=this.safeValue(this.options,"limits",{});for(let e=0;e<t.length;e++){const s=t[e],a=s,n="BRL",o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=c+o,u={amount:8,price:5},l="1e-5";i.push({id:d,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:void 0,info:s,precision:u,limits:{amount:{min:this.safeNumber(r,a),max:void 0},price:{min:this.parseNumber(l),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={coin:this.market(e).base},s=await this.publicGetCoinOrderbook(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={coin:this.market(e).base},r=await this.publicGetCoinTicker(this.extend(i,t)),s=this.safeValue(r,"ticker",{}),a=this.safeTimestamp(s,"date"),n=this.safeNumber(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeNumber(s,"high"),low:this.safeNumber(s,"low"),bid:this.safeNumber(s,"buy"),bidVolume:void 0,ask:this.safeNumber(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(s,"vol"),quoteVolume:void 0,info:s}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","executed_timestamp");let r;void 0!==t&&(r=t.symbol);const s=this.safeString2(e,"tid","operation_id"),a=this.safeString(e,"type"),n=this.safeString(e,"price"),c=this.safeString2(e,"amount","quantity"),h=this.parseNumber(n),d=this.parseNumber(c),u=this.parseNumber(o.stringMul(n,c)),l=this.safeNumber(e,"fee_rate");let f;return void 0!==l&&(f={cost:l,currency:void 0}),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:h,amount:d,cost:u,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let a="publicGetCoinTrades";const n={coin:s.base};void 0!==t&&(a+="From",n.from=parseInt(t/1e3)),void 0!==this.safeInteger(r,"to")&&(a+="To");const o=await this[a](this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"response_data",{}),r=this.safeValue(i,"balance",{}),s={info:t},a=Object.keys(r);for(let e=0;e<a.length;e++){const t=a[e],i=this.safeCurrencyCode(t);if(t in r){const e=this.safeValue(r,t,{}),a=this.account();a.free=this.safeString(e,"available"),a.total=this.safeString(e,"total"),s[i]=a}}return this.parseBalance(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o={coin_pair:this.marketId(e)};let c=this.capitalize(i)+"Order";if("limit"===t)c="privatePostPlace"+c,o.limit_price=this.priceToPrecision(e,s),o.quantity=this.amountToPrecision(e,r);else if(c="privatePostPlaceMarket"+c,"buy"===i){if(void 0===s)throw new n(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount");o.cost=this.priceToPrecision(e,r*s)}else o.quantity=this.amountToPrecision(e,r);const h=await this[c](this.extend(o,a));return{info:h,id:h.response_data.order.order_id.toString()}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r.id,order_id:e},n=await this.privatePostCancelOrder(this.extend(s,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order",{});return this.parseOrder(c,r)}parseOrderStatus(e){return this.safeString({2:"open",3:"canceled",4:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeString(e,"order_type");let s;"order_type"in e&&(s="1"===r?"buy":"sell");const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeString(e,"coin_pair");t=this.safeMarket(n,t);const o=this.safeTimestamp(e,"created_timestamp"),c={cost:this.safeNumber(e,"fee"),currency:t.quote},h=this.safeNumber(e,"limit_price"),d=this.safeNumber(e,"executed_price_avg"),u=this.safeNumber(e,"quantity"),l=this.safeNumber(e,"executed_quantity"),f=this.safeTimestamp(e,"updated_timestamp"),p=this.safeValue(e,"operations",[]),m=this.parseTrades(p,t,void 0,void 0,{side:s,order:i});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:f,symbol:t.symbol,type:"limit",timeInForce:void 0,postOnly:void 0,side:s,price:h,stopPrice:void 0,cost:void 0,average:d,amount:u,filled:l,remaining:void 0,status:a,fee:c,trades:m})}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r.id,order_id:parseInt(e)},n=await this.privatePostGetOrder(this.extend(s,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order");return this.parseOrder(c,r)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const n={coin:this.currency(e).id,quantity:t.toFixed(10),address:i};if("BRL"===e){if(!("account_ref"in s))throw new a(this.id+" withdraw() requires account_ref parameter to withdraw "+e)}else if("LTC"!==e){if(!("tx_fee"in s))throw new a(this.id+" withdraw() requires tx_fee parameter to withdraw "+e);if("XRP"===e)if(void 0===r){if(!("destination_tag"in s))throw new a(this.id+" withdraw() requires a tag argument or destination_tag parameter to withdraw "+e)}else n.destination_tag=r}const o=await this.privatePostWithdrawCoin(this.extend(n,s));return{info:o,id:o.response_data.withdrawal.id}}parseOHLCV(e,t){return[this.safeTimestamp(e,"timestamp"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={precision:this.timeframes[t],coin:a.id.toLowerCase()};void 0!==r&&void 0!==i?(n.from=parseInt(i/1e3),n.to=this.sum(n.from,r*this.parseTimeframe(t))):void 0!==i?(n.from=parseInt(i/1e3),n.to=this.sum(this.seconds(),1)):void 0!==r&&(n.to=this.seconds(),n.from=n.to-r*this.parseTimeframe(t));const o=await this.v4PublicGetCoinCandle(this.extend(n,s)),c=this.safeValue(o,"candles",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders () requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={coin_pair:s.id},o=await this.privatePostListOrders(this.extend(n,r)),c=this.safeValue(o,"response_data",{}),h=this.safeValue(c,"orders",[]);return this.parseOrders(h,s,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders () requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={coin_pair:s.id,status_list:"[2]"},o=await this.privatePostListOrders(this.extend(n,r)),c=this.safeValue(o,"response_data",{}),h=this.safeValue(c,"orders",[]);return this.parseOrders(h,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades () requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={coin_pair:s.id,has_fills:!0},o=await this.privatePostListOrders(this.extend(n,r)),c=this.safeValue(o,"response_data",{}),h=this.safeValue(c,"orders",[]),d=this.parseOrders(h,s,t,i),u=this.ordersToTrades(d);return this.filterBySymbolSinceLimit(u,e,t,i)}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++){const r=this.safeValue(e[i],"trades",[]);for(let e=0;e<r.length;e++)t.push(r[e])}return t}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";const o=this.omit(r,this.extractParams(e));if("public"===t||"v4Public"===t)n+=this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.version+"/";const t=this.nonce();a=this.urlencode(this.extend({tapi_method:e,tapi_nonce:t},r));const i="/tapi/"+this.version+"/?"+a;s={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&void 0!==this.safeValue(o,"error_message"))throw new s(this.id+" "+this.json(o))}}},10085:(e,t,i)=>{"use strict";const r=i(48819),{InvalidAddress:s,ExchangeError:a,BadRequest:n,AuthenticationError:o,RateLimitExceeded:c,BadSymbol:h,InvalidOrder:d,InsufficientFunds:u,ArgumentsRequired:l,OrderNotFound:f,PermissionDenied:p}=i(73449),{TICK_SIZE:m}=i(62115),g=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mexc",name:"MEXC Global",countries:["SC"],rateLimit:50,version:"v2",certified:!0,has:{addMargin:!0,cancelAllOrders:!0,cancelOrder:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddressByNetwork:!0,fetchDepositAddressesByNetwork:!0,fetchDeposits:!0,fetchFundingRateHistory:!0,fetchMarkets:!0,fetchMarketsByType:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrdersByState:!0,fetchOrderTrades:!0,fetchPosition:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,reduceMargin:!0,setLeverage:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","1d":"1d","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/137283979-8b2a818d-8633-461b-bfca-de89e8c446b2.jpg",api:{spot:{public:"https://www.mexc.com/open/api/v2",private:"https://www.mexc.com/open/api/v2"},contract:{public:"https://contract.mexc.com/api/v1/contract",private:"https://contract.mexc.com/api/v1/private"}},www:"https://www.mexc.com/",doc:["https://mxcdevelop.github.io/APIDoc/"],fees:["https://www.mexc.com/fee"],referral:"https://m.mexc.com/auth/signup?inviteCode=1FQ1G"},api:{contract:{public:{get:{ping:2,detail:2,support_currencies:2,"depth/{symbol}":2,"depth_commits/{symbol}/{limit}":2,"index_price/{symbol}":2,"fair_price/{symbol}":2,"funding_rate/{symbol}":2,"kline/{symbol}":2,"kline/index_price/{symbol}":2,"kline/fair_price/{symbol}":2,"deals/{symbol}":2,ticker:2,risk_reverse:2,"risk_reverse/history":2,"funding_rate/history":2}},private:{get:{"account/assets":2,"account/asset/{currency}":2,"account/transfer_record":2,"position/list/history_positions":2,"position/open_positions":2,"position/funding_records":2,"order/list/open_orders/{symbol}":2,"order/list/history_orders":2,"order/external/{symbol}/{external_oid}":2,"order/get/{order_id}":2,"order/batch_query":8,"order/deal_details/{order_id}":2,"order/list/order_deals":2,"planorder/list/orders":2,"stoporder/list/orders":2,"stoporder/order_details/{stop_order_id}":2,"account/risk_limit":2,"account/tiered_fee_rate":2},post:{"position/change_margin":2,"position/change_leverage":2,"order/submit":2,"order/submit_batch":40,"order/cancel":2,"order/cancel_with_external":2,"order/cancel_all":2,"account/change_risk_level":2,"planorder/place":2,"planorder/cancel":2,"planorder/cancel_all":2,"stoporder/cancel":2,"stoporder/cancel_all":2,"stoporder/change_price":2,"stoporder/change_plan_price":2}}},spot:{public:{get:{"market/symbols":1,"market/coin/list":2,"common/timestamp":1,"common/ping":1,"market/ticker":1,"market/depth":1,"market/deals":1,"market/kline":1}},private:{get:{"account/info":1,"order/open_orders":1,"order/list":1,"order/query":1,"order/deals":1,"order/deal_detail":1,"asset/deposit/address/list":2,"asset/deposit/list":2,"asset/address/list":2,"asset/withdraw/list":2},post:{"order/place":1,"order/place_batch":1,"asset/withdraw":1},delete:{"order/cancel":1,"order/cancel_by_symbol":1}}}},precisionMode:m,fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},options:{timeframes:{spot:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","1d":"1d","1M":"1M"},contract:{"1m":"Min1","5m":"Min5","15m":"Min15","30m":"Min30","1h":"Min60","4h":"Hour4","8h":"Hour8","1d":"Day1","1w":"Week1","1M":"Month1"}},defaultType:"spot",networks:{TRX:"TRC-20",TRC20:"TRC-20",ETH:"ERC-20",ERC20:"ERC-20",BEP20:"BEP20(BSC)"}},commonCurrencies:{BYN:"BeyondFi",COFI:"COFIX",DFT:"dFuture",DRK:"DRK",FLUX1:"FLUX",FLUX:"FLUX1",HERO:"Step Hero",MIMO:"Mimosa",PROS:"Pros.Finance",SIN:"Sin City Token"},exceptions:{exact:{400:n,401:o,429:c,1e3:p,1002:d,10072:o,10073:o,10216:s,10232:h,3e4:h,30001:d,30002:d,30003:d,30004:u,30005:d,30010:d,30016:h,30019:d,30020:h,30021:h,33333:h},broad:{}}})}async fetchTime(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type");let s="spotPublicGetCommonTimestamp";"contract"===i&&(s="contractPublicGetPing");const a=await this[s](r);return this.safeInteger(a,"data")}async fetchStatus(e={}){const t=await this.spotPublicGetCommonPing(e),i=this.safeInteger(t,"code");if(void 0!==i){const e=200===i?"ok":"maintenance";this.status=this.extend(this.status,{status:e,updated:this.milliseconds()})}return this.status}async fetchCurrencies(e={}){const t=await this.spotPublicGetMarketCoinList(e),i=this.safeValue(t,"data",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.safeString(t,"full_name");let o,c,h,d,u=!1;const l={},f=this.safeValue(t,"coins",[]);for(let e=0;e<f.length;e++){const t=f[e],i=this.safeString(t,"chain"),r=this.safeNetwork(i),s=this.safeValue(t,"is_deposit_enabled",!1),a=this.safeValue(t,"is_withdraw_enabled",!1),n=s&&a;u=n||u;const o=this.safeInteger(t,"precision"),c=1/Math.pow(10,o),p=this.safeString(t,"withdraw_limit_min"),m=this.safeString(t,"withdraw_limit_max");h=void 0===h?p:h,d=void 0===d?m:d,g.stringGt(h,p)&&(h=p),g.stringLt(d,m)&&(d=m),l[r]={info:t,id:i,network:r,active:n,fee:this.safeNumber(t,"fee"),precision:c,limits:{withdraw:{min:p,max:m}}}}const p=Object.keys(l).length;if(1===p||"NONE"in l){const e=this.safeValue2(l,"NONE",p-1);void 0!==e&&(c=e.fee,o=e.precision)}r[a]={id:s,code:a,info:t,name:n,active:u,fee:c,precision:o,limits:{amount:{min:void 0,max:void 0},withdraw:{min:h,max:d}},networks:l}}return r}async fetchMarketsByType(e,t={}){const i="fetch_"+e+"_markets";return await this[i](t)}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type"),s="spot"===i,n="swap"===i;if(!s&&!n)throw new a(this.id+" does not support '"+i+"' type, set exchange.options['defaultType'] to 'spot', 'margin', 'delivery' or 'future'");return s?await this.fetchSpotMarkets(r):n?await this.fetchContractMarkets(r):void 0}async fetchContractMarkets(e={}){const t=await this.contractPublicGetDetail(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),a=this.safeString(t,"baseCoin"),n=this.safeString(t,"quoteCoin"),o=this.safeString(t,"settleCoin"),c=this.safeCurrencyCode(a),h=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),u=this.safeString(t,"state");r.push({info:t,id:s,symbol:c+"/"+h+":"+d,base:c,quote:h,settle:d,baseId:a,quoteId:n,settleId:o,type:"swap",spot:!1,margin:!1,swap:!0,futures:!1,option:!1,derivative:!0,contract:!0,linear:!0,inverse:!1,taker:this.safeNumber(t,"takerFeeRate"),maker:this.safeNumber(t,"makerFeeRate"),contractSize:this.safeString(t,"contractSize"),active:"0"===u,expiry:this.safeInteger(t,"expire_time"),fees:this.safeValue(this.fees,"trading"),precision:{price:this.safeNumber(t,"priceUnit"),amount:this.safeNumber(t,"volUnit")},limits:{leverage:{min:this.safeNumber(t,"minLeverage"),max:this.safeNumber(t,"maxLeverage")},amount:{min:this.safeNumber(t,"minVol"),max:this.safeNumber(t,"maxVol")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchSpotMarkets(e={}){const t=await this.spotPublicGetMarketSymbols(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"symbol"),[a,n]=s.split("_"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeInteger(t,"price_scale"),u=this.safeInteger(t,"quantity_scale"),l={price:1/Math.pow(10,d),amount:1/Math.pow(10,u)},f=this.safeNumber(t,"taker_fee_rate"),p=this.safeNumber(t,"maker_fee_rate"),m="ENABLED"===this.safeString(t,"state"),g="spot",y=!1,b=!0;r.push(this.extend(this.fees.trading,{info:t,id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:g,swap:y,spot:b,active:m,taker:f,maker:p,precision:l,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"min_amount"),max:this.safeNumber(t,"max_amount")}}}))}return r}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchTickers","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type");let a="spotPublicGetMarketTicker";"swap"===r&&(a="contractPublicGetTicker");const n=await this[a](this.extend(s)),o=this.safeValue(n,"data",[]);return this.parseTickers(o,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id};let s;i.spot?s="spotPublicGetMarketTicker":i.swap&&(s="contractPublicGetTicker");const a=await this[s](this.extend(r,t));if(i.spot){const e=this.safeValue(a,"data",[]),t=this.safeValue(e,0);return this.parseTicker(t,i)}if(i.swap){const e=this.safeValue(a,"data",{});return this.parseTicker(e,i)}}parseTicker(e,t){const i=this.safeInteger2(e,"time","timestamp"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"_"),a=this.safeNumber2(e,"volume","volume24"),n=this.safeNumber(e,"amount24"),o=this.safeNumber(e,"open"),c=this.safeString2(e,"last","lastPrice"),h=this.parseNumber(c),d=this.safeNumber(e,"riseFallValue"),u=this.safeString(e,"riseFallRate"),l=g.stringAdd(u,"1"),f=this.parseNumber(l);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber2(e,"high","high24Price"),low:this.safeNumber2(e,"low","lower24Price"),bid:this.safeNumber2(e,"bid","bid1"),bidVolume:void 0,ask:this.safeNumber2(e,"ask","ask1"),askVolume:void 0,vwap:void 0,open:o,close:h,last:h,previousClose:void 0,change:d,percentage:f,average:void 0,baseVolume:a,quoteVolume:n,info:e},t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r.id};let a;r.spot?(a="spotPublicGetMarketDepth",void 0===t&&(t=100),s.depth=t):r.swap&&(a="contractPublicGetDepthSymbol",void 0!==t&&(s.limit=t));const n=await this[a](this.extend(s,i)),o=this.safeValue(n,"data",{}),c=r.spot?"price":0,h=r.spot?"quantity":1,d=this.safeInteger(o,"timestamp"),u=this.parseOrderBook(o,e,d,"bids","asks",c,h);return u.nonce=this.safeInteger(o,"version"),u}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};let n;void 0!==i&&(a.limit=i),s.spot?n="spotPublicGetMarketDeals":s.swap&&(n="contractPublicGetDealsSymbol");const o=await this[n](this.extend(a,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}parseTrade(e,t){let i=this.safeInteger2(e,"create_time","trade_time");i=this.safeInteger(e,"t",i);const r=this.safeString(e,"symbol"),s=(t=this.safeMarket(r,t,"_")).symbol;let a=this.safeString2(e,"price","trade_price");a=this.safeString(e,"p",a);let n=this.safeString2(e,"quantity","trade_quantity");n=this.safeString(e,"v",n);let o=this.safeString(e,"amount");void 0===o&&(o=g.stringMul(a,n));const c=this.parseNumber(a),h=this.parseNumber(n),d=this.parseNumber(o);let u=this.safeString2(e,"trade_type","T");"BID"===u||"1"===u?u="buy":"ASK"!==u&&"2"!==u||(u="sell");let l=this.safeString2(e,"id","trade_time");void 0===l&&(l=this.safeString(e,"t",l),void 0!==l&&(l+="-"+t.id+"-"+n));const f=this.safeNumber(e,"fee");let p;if(void 0!==f){const t=this.safeString(e,"fee_currency");p={cost:f,currency:this.safeCurrencyCode(t)}}const m=this.safeString(e,"order_id"),y=this.safeValue(e,"is_taker",!0)?"taker":"maker";return{info:e,id:l,order:m,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:u,takerOrMaker:y,price:c,amount:h,cost:d,fee:p}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeValue(this.options,"timeframes",{}),o=this.safeValue(n,a.type,{}),c={symbol:a.id,interval:o[t]};let h;a.spot?(h="spotPublicGetMarketKline",void 0!==i&&(c.start_time=parseInt(i/1e3)),void 0!==r&&(c.limit=r)):a.swap&&(h="contractPublicGetKlineSymbol",void 0!==i&&(c.start=parseInt(i/1e3)));const d=await this[h](this.extend(c,s));if(a.spot){const e=this.safeValue(d,"data",[]);return this.parseOHLCVs(e,a,t,i,r)}if(a.swap){const e=this.safeValue(d,"data",{}),s=this.convertTradingViewToOHLCV(e,"time","open","high","low","close","vol");return this.parseOHLCVs(s,a,t,i,r)}}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,t.spot?3:2),this.safeNumber(e,t.spot?4:3),this.safeNumber(e,t.spot?2:4),this.safeNumber(e,5)]}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t),r="spot"===i;let s;r?s="spotPrivateGetAccountInfo":"swap"===i&&(s="contractPrivateGetAccountAssets");const a=this.omit(e,"type"),n=await this[s](a),o=this.safeValue(n,"data",{}),c={info:n,timestamp:void 0,datetime:void 0};if(r){const e=Object.keys(o);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeCurrencyCode(i),s=this.safeValue(o,i,{}),a=this.account();a.free=this.safeString(s,"available"),a.used=this.safeString(s,"frozen"),c[r]=a}}else for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"currency"),r=this.safeCurrencyCode(i),s=this.account();s.free=this.safeString(t,"availableBalance"),s.used=this.safeString(t,"frozenBalance"),c[r]=s}return this.parseBalance(c)}safeNetwork(e){if(e.indexOf("BSC")>=0)return"BEP20";const t=e.split(" ");return e=(e=t.join("")).replace("-20","20"),this.safeString({ETH:"ETH",ERC20:"ERC20","BEP20(BSC)":"BEP20",TRX:"TRC20"},e,e)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeCurrencyCode(void 0,t),s=this.safeString(e,"chain"),a=this.safeNetwork(s);return this.checkAddress(i),{currency:r,address:i,tag:void 0,network:a,info:e}}async fetchDepositAddressesByNetwork(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.spotPrivateGetAssetDepositAddressList(this.extend(r,t)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"chains",[]),o=[];for(let e=0;e<n.length;e++){const t=this.parseDepositAddress(n[e],i);o.push(t)}return this.indexBy(o,"network")}async fetchDepositAddress(e,t={}){const i=this.safeString(t,"network");t=this.omit(t,"network");const r=await this.fetchDepositAddressesByNetwork(e,t),a=this.safeValue(this.options,"networks",{}),n=this.safeString(a,i,i);let o;if(void 0===n){if(o=this.safeValue(r,e),void 0===o){const t=this.safeString(a,e,e);if(o=this.safeValue(r,t),void 0===o){const t=this.safeString(this.options,"defaultNetwork","ERC20");if(o=this.safeValue(r,t),void 0===o){const t=Object.values(r);if(o=this.safeValue(t,0),void 0===o)throw new s(this.id+" fetchDepositAddress() cannot find deposit address for "+e)}}}return o}if(o=this.safeValue(r,n),void 0===o)throw new s(this.id+" fetchDepositAddress() cannot find "+n+" deposit address for "+e);return o}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.start_time=t),void 0!==i&&(s.limit=i);const n=await this.spotPrivateGetAssetDepositList(this.extend(s,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"result_list",[]);return this.parseTransactions(c,e,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.start_time=t),void 0!==i&&(s.limit=i);const n=await this.spotPrivateGetAssetWithdrawList(this.extend(s,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"result_list",[]);return this.parseTransactions(c,e,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=void 0===i?"deposit":"withdrawal",s=this.parse8601(this.safeString(e,"create_time")),a=this.parse8601(this.safeString(e,"update_time"));let n,o=this.safeString(e,"currency");if(void 0!==o&&o.indexOf("-")>=0){const e=o.split("-");o=this.safeString(e,0);const t=this.safeString(e,1);n=this.safeNetwork(t)}const c=this.safeCurrencyCode(o,t),h=this.parseTransactionStatus(this.safeString(e,"state")),d=this.safeNumber(e,"amount"),u=this.safeString(e,"address"),l=this.safeString(e,"tx_id");let f;const p=this.safeNumber(e,"fee");return void 0!==p&&(f={cost:p,currency:c}),{info:e,id:i,txid:l,timestamp:s,datetime:this.iso8601(s),address:u,tag:void 0,type:r,amount:d,currency:c,network:n,status:h,updated:a,fee:f}}parseTransactionStatus(e){return this.safeString({WAIT:"pending",SUCCESS:"ok"},e,e)}async fetchPosition(e,t={}){await this.loadMarkets();const i={symbol:this.market(e).id},r=await this.fetchPositions(this.extend(i,t));return this.safeValue(r,0)}async fetchPositions(e,t={}){await this.loadMarkets();const i=await this.contractPrivateGetPositionOpenPositions(t);return this.safeValue(i,"data",[])}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);return n.spot?await this.createSpotOrder(e,t,i,r,s,a):n.swap?await this.createSwapOrder(e,t,i,r,s,a):void 0}async createSpotOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o;"buy"===i?o="BID":"sell"===i&&(o="ASK");let c=t.toUpperCase();if("LIMIT"===c)c="LIMIT_ORDER";else if("POST_ONLY"!==c&&"IMMEDIATE_OR_CANCEL"!==c)throw new d(this.id+" createOrder does not support "+t+" order type, specify one of LIMIT, LIMIT_ORDER, POST_ONLY or IMMEDIATE_OR_CANCEL");const h={symbol:n.id,price:this.priceToPrecision(e,s),quantity:this.amountToPrecision(e,r),trade_type:o,order_type:c},u=this.safeString2(a,"clientOrderId","client_order_id");void 0!==u&&(h.client_order_id=u),a=this.omit(a,["type","clientOrderId","client_order_id"]);const l=await this.spotPrivatePostOrderPlace(this.extend(h,a));return this.parseOrder(l,n)}async createSwapOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeInteger(a,"openType");if(void 0===o)throw new l(this.id+" createSwapOrder() requires an integer openType parameter, 1 for isolated margin, 2 for cross margin");if("limit"!==t&&"market"!==t&&1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t)throw new d(this.id+" createSwapOrder() order type must either limit, market, or 1 for limit orders, 2 for post-only orders, 3 for IOC orders, 4 for FOK orders, 5 for market orders or 6 to convert market price to current price");if("limit"===t?t=1:"market"===t&&(t=6),1!==i&&2!==i&&3!==i&&4!==i)throw new d(this.id+" createSwapOrder() order side must be 1 open long, 2 close short, 3 open short or 4 close long");const c={symbol:n.id,price:parseFloat(this.priceToPrecision(e,s)),vol:parseFloat(this.amountToPrecision(e,r)),side:i,type:t,openType:o};if(1===o&&void 0===this.safeInteger(a,"leverage"))throw new l(this.id+" createSwapOrder() requires a leverage parameter for isolated margin orders");const h=this.safeString2(a,"clientOrderId","externalOid");void 0!==h&&(c.externalOid=h),a=this.omit(a,["clientOrderId","externalOid"]);const u=await this.contractPrivatePostOrderSubmit(this.extend(c,a));return this.parseOrder(u,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeString2(i,"clientOrderId","client_order_ids");void 0!==s?(i=this.omit(i,["clientOrderId","client_order_ids"]),r.client_order_ids=s):r.order_ids=e;const a=await this.spotPrivateDeleteOrderCancel(this.extend(r,i)),n=this.safeValue(a,"data");return this.parseOrder(n)}parseOrderStatus(e){return this.safeString({NEW:"open",FILLED:"closed",PARTIALLY_FILLED:"open",CANCELED:"canceled",PARTIALLY_CANCELED:"canceled"},e,e)}parseOrder(e,t){let i,r=this.safeString2(e,"data","id");if(void 0===r){const t=Object.keys(e);r=this.safeString(t,0),"success"===this.safeString(e,r)&&(i="canceled")}const s=this.safeString(e,"state"),a=this.safeInteger(e,"create_time"),n=this.safeString(e,"price"),o=this.safeString(e,"quantity"),c=this.safeString(e,"remain_quantity"),h=this.safeString(e,"deal_quantity"),d=this.safeString(e,"symbol"),u=this.safeSymbol(d,t,"_");let l;const f=this.safeString(e,"type");"BID"===f?l="buy":"ASK"===f&&(l="sell"),i=this.parseOrderStatus(s);let p=this.safeString(e,"client_order_id");""===p&&(p=void 0);let m=this.safeStringLower(e,"order_type");return void 0!==m&&(m=m.replace("_order","")),this.safeOrder2({id:r,clientOrderId:p,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:i,symbol:u,type:m,timeInForce:void 0,side:l,price:n,stopPrice:void 0,average:void 0,amount:o,cost:void 0,filled:h,remaining:c,fee:void 0,trades:void 0,info:e},t)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.spotPrivateGetOrderOpenOrders(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,s,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_ids:e},s=await this.spotPrivateGetOrderQuery(this.extend(r,i)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0);if(void 0===n)throw new f(this.id+" fetchOrder() could not find the order id "+e);return this.parseOrder(n)}async fetchOrdersByState(e,t,i,r,s={}){if(void 0===t)throw new l(this.id+" fetchOrdersByState requires a symbol argument");await this.loadMarkets();const a=this.market(t),n={symbol:a.id,states:e};void 0!==r&&(n.limit=r),void 0!==i&&(n.start_time=i);const o=await this.spotPrivateGetOrderList(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,a,i,r)}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrdersByState("CANCELED",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("FILLED",e,t,i,r)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={symbol:this.market(e).id};return await this.spotPrivateDeleteOrderCancelBySymbol(this.extend(i,t))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.start_time=t),void 0!==i&&(a.limit=i);const n=await this.spotPrivateGetOrderDeals(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){let a;await this.loadMarkets(),void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.spotPrivateGetOrderDealDetail(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,i,r)}async modifyMarginHelper(e,t,i,r={}){const s=this.safeInteger(r,"positionId");if(void 0===s)throw new l(this.id+" modifyMarginHelper() requires a positionId parameter");await this.loadMarkets();const a={positionId:s,amount:t,type:i};return await this.contractPrivatePostPositionChangeMargin(this.extend(a,r))}async reduceMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,"SUB",i)}async addMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,"ADD",i)}async setLeverage(e,t,i={}){const r=this.safeInteger(i,"positionId");if(void 0===r)throw new l(this.id+" setLeverage() requires a positionId parameter");await this.loadMarkets();const s={positionId:r,leverage:e};return await this.contractPrivatePostPositionChangeLeverage(this.extend(s,i))}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s);const a=this.safeValue(this.options,"networks",{});let n=this.safeString2(s,"network","chain");n=this.safeString(a,n,n),this.checkAddress(i),await this.loadMarkets();const o=this.currency(e);void 0!==r&&(i+=":"+r);const c={currency:o.id,address:i,amount:t};void 0!==n&&(c.chain=n,s=this.omit(s,["network","chain"]));const h=await this.spotPrivatePostAssetWithdraw(this.extend(c,s)),d=this.safeValue(h,"data",{});return this.parseTransaction(d,o)}sign(e,t="public",i="GET",r={},s,a){const[n,o]=t;let c=this.urls.api[n][o]+"/"+this.implodeParams(e,r);if(r=this.omit(r,this.extractParams(e)),"public"===o)Object.keys(r).length&&(c+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.milliseconds().toString();let t="";s={ApiKey:this.apiKey,"Request-Time":e,"Content-Type":"application/json"},"POST"===i?(t=this.json(r),a=t):(r=this.keysort(r),Object.keys(r).length&&(t+=this.urlencode(r),c+="?"+t)),t=this.apiKey+e+t;const n=this.hmac(this.encode(t),this.encode(this.secret),"sha256");s.Signature=n}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0===o)return;if(!0===this.safeValue(o,"success",!1))return;const d=this.safeString(o,"code");if("200"!==d&&"0"!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),new a(e)}}async fetchFundingRateHistory(e,t,i,r={}){if(void 0===e)throw new l(this.id+" fetchFundingRateHistory() requires a symbol argument");await this.loadMarkets();const s={symbol:this.market(e).id};void 0!==i&&(s.page_size=i);const a=await this.contractPublicGetFundingRateHistory(this.extend(s,r)),n=this.safeValue(a,"data"),o=this.safeValue(n,"resultList"),c=[];for(let e=0;e<o.length;e++){const t=o[e],i=this.safeString(t,"symbol"),r=this.safeSymbol(i),s=this.safeString(t,"settleTime");c.push({info:t,symbol:r,fundingRate:this.safeNumber(t,"fundingRate"),timestamp:s,datetime:this.iso8601(s)})}const h=this.sortBy(c,"timestamp");return this.filterBySymbolSinceLimit(h,e,t,i)}}},61985:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,InsufficientFunds:n,BadSymbol:o,OrderNotFound:c}=i(73449),{TICK_SIZE:h}=i(62115),d=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ndax",name:"NDAX",countries:["US"],rateLimit:1e3,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0,signIn:!0},timeframes:{"1m":"60","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2419200","4M":"9676800"},urls:{logo:"https://user-images.githubusercontent.com/1294454/108623144-67a3ef00-744e-11eb-8140-75c6b851e945.jpg",test:{public:"https://ndaxmarginstaging.cdnhop.net:8443/AP",private:"https://ndaxmarginstaging.cdnhop.net:8443/AP"},api:{public:"https://api.ndax.io:8443/AP",private:"https://api.ndax.io:8443/AP"},www:"https://ndax.io",doc:["https://apidoc.ndax.io/"],fees:"https://ndax.io/fees",referral:"https://one.ndax.io/bfQiSL"},api:{public:{get:["Activate2FA","Authenticate2FA","AuthenticateUser","GetL2Snapshot","GetLevel1","GetValidate2FARequiredEndpoints","LogOut","GetTickerHistory","GetProduct","GetProducts","GetInstrument","GetInstruments","Ping","trades","GetLastTrades","SubscribeLevel1","SubscribeLevel2","SubscribeTicker","SubscribeTrades","SubscribeBlockTrades","UnsubscribeBlockTrades","UnsubscribeLevel1","UnsubscribeLevel2","UnsubscribeTicker","UnsubscribeTrades","Authenticate"]},private:{get:["GetUserAccountInfos","GetUserAccounts","GetUserAffiliateCount","GetUserAffiliateTag","GetUserConfig","GetAllUnredactedUserConfigsForUser","GetUnredactedUserConfigByKey","GetUserDevices","GetUserReportTickets","GetUserReportWriterResultRecords","GetAccountInfo","GetAccountPositions","GetAllAccountConfigs","GetTreasuryProductsForAccount","GetAccountTrades","GetAccountTransactions","GetOpenTradeReports","GetAllOpenTradeReports","GetTradesHistory","GetOpenOrders","GetOpenQuotes","GetOrderFee","GetOrderHistory","GetOrdersHistory","GetOrderStatus","GetOmsFeeTiers","GetAccountDepositTransactions","GetAccountWithdrawTransactions","GetAllDepositRequestInfoTemplates","GetDepositInfo","GetDepositRequestInfoTemplate","GetDeposits","GetDepositTicket","GetDepositTickets","GetOMSWithdrawFees","GetWithdrawFee","GetWithdraws","GetWithdrawTemplate","GetWithdrawTemplateTypes","GetWithdrawTicket","GetWithdrawTickets"],post:["AddUserAffiliateTag","CancelUserReport","RegisterNewDevice","SubscribeAccountEvents","UpdateUserAffiliateTag","GenerateTradeActivityReport","GenerateTransactionActivityReport","GenerateTreasuryActivityReport","ScheduleTradeActivityReport","ScheduleTransactionActivityReport","ScheduleTreasuryActivityReport","CancelAllOrders","CancelOrder","CancelQuote","CancelReplaceOrder","CreateQuote","ModifyOrder","SendOrder","SubmitBlockTrade","UpdateQuote","CancelWithdraw","CreateDepositTicket","CreateWithdrawTicket","SubmitDepositTicketComment","SubmitWithdrawTicketComment","GetOrderHistoryByOrderId"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.0025}},requiredCredentials:{apiKey:!0,secret:!0,uid:!0,login:!0,password:!0},precisionMode:h,exceptions:{exact:{Not_Enough_Funds:n,"Server Error":s,"Resource Not Found":c},broad:{"Invalid InstrumentId":o,"This endpoint requires 2FACode along with the payload":a}},options:{omsId:1,orderTypes:{Market:1,Limit:2,StopMarket:3,StopLimit:4,TrailingStopMarket:5,TrailingStopLimit:6,BlockTrade:7}}})}async signIn(e={}){if(this.checkRequiredCredentials(),void 0===this.login||void 0===this.password)throw new a(this.id+" signIn() requires exchange.login, exchange.password");let t={grant_type:"client_credentials"};const i=await this.publicGetAuthenticate(this.extend(t,e));let r=this.safeString(i,"SessionToken");if(void 0!==r)return this.options.sessionToken=r,i;const s=this.safeString(i,"Pending2FaToken");if(void 0!==s){if(void 0===this.twofa)throw new a(this.id+" signIn() requires exchange.twofa credentials");this.options.pending2faToken=s,t={Code:this.oath()};const i=await this.publicGetAuthenticate2FA(this.extend(t,e));return r=this.safeString(i,"SessionToken"),this.options.sessionToken=r,i}return i}async fetchCurrencies(e={}){const t={omsId:this.safeInteger(this.options,"omsId",1)},i=await this.publicGetGetProducts(this.extend(t,e)),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"ProductId"),a=this.safeString(t,"ProductFullName"),n=this.safeString(t,"ProductType"),o=this.safeCurrencyCode(this.safeString(t,"Product")),c=this.safeNumber(t,"TickSize"),h=!this.safeValue(t,"IsDisabled");r[o]={id:s,name:a,code:o,type:n,precision:c,info:t,active:h,fee:void 0,limits:this.limits}}return r}async fetchMarkets(e={}){const t={omsId:this.safeInteger(this.options,"omsId",1)},i=await this.publicGetGetInstruments(this.extend(t,e)),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"InstrumentId"),a=this.safeString(t,"Product1"),n=this.safeString(t,"Product2"),o=this.safeCurrencyCode(this.safeString(t,"Product1Symbol")),c=this.safeCurrencyCode(this.safeString(t,"Product2Symbol")),h=o+"/"+c,d={amount:this.safeNumber(t,"QuantityIncrement"),price:this.safeNumber(t,"PriceIncrement")},u=this.safeString(t,"SessionStatus"),l=this.safeValue(t,"IsDisable"),f=!("Running"!==u||l);r.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,info:t,type:"spot",spot:!0,active:f,precision:d,limits:{amount:{min:this.safeNumber(t,"MinimumQuantity"),max:void 0},price:{min:this.safeNumber(t,"MinimumPrice"),max:void 0},cost:{min:void 0,max:void 0}}})}return r}parseOrderBook(e,t,i,r="bids",s="asks",a=6,n=8){let o;const c={symbol:t,bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let t=0;t<e.length;t++){const h=e[t];if(void 0===i)i=this.safeInteger(h,2);else{const e=this.safeInteger(h,2);i=Math.max(i,e)}if(void 0===o)o=this.safeInteger(h,0);else{const e=this.safeInteger(h,0);o=Math.max(o,e)}const d=this.parseBidAsk(h,a,n);c[this.safeInteger(h,9)?s:r].push(d)}return c.bids=this.sortBy(c.bids,0,!0),c.asks=this.sortBy(c.asks,0),c.timestamp=i,c.datetime=this.iso8601(i),c.nonce=o,c}async fetchOrderBook(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),t=void 0===t?100:t;const s={omsId:r,InstrumentId:this.market(e).id,Depth:t},a=await this.publicGetGetL2Snapshot(this.extend(s,i));return this.parseOrderBook(a,e)}parseTicker(e,t){const i=this.safeInteger(e,"TimeStamp"),r=this.safeString(e,"InstrumentId"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"LastTradedPx"),n=this.safeNumber(e,"Rolling24HrPxChangePercent"),o=this.safeNumber(e,"Rolling24HrPxChange"),c=this.safeNumber(e,"SessionOpen");let h;void 0!==a&&void 0!==o&&(h=this.sum(a,c)/2);const d=this.safeNumber(e,"Rolling24HrVolume"),u=this.safeNumber(e,"Rolling24HrNotional"),l=this.vwap(d,u);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"SessionHigh"),low:this.safeNumber(e,"SessionLow"),bid:this.safeNumber(e,"BestBid"),bidVolume:void 0,ask:this.safeNumber(e,"BestOffer"),askVolume:void 0,vwap:l,open:c,close:a,last:a,previousClose:void 0,change:o,percentage:n,average:h,baseVolume:d,quoteVolume:u,info:e}}async fetchTicker(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const r=this.market(e),s={omsId:i,InstrumentId:r.id},a=await this.publicGetGetLevel1(this.extend(s,t));return this.parseTicker(a,r)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,3),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){const a=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const n=this.market(e),o={omsId:a,InstrumentId:n.id,Interval:this.timeframes[t]},c=this.parseTimeframe(t),h=this.milliseconds();void 0===i?void 0!==r&&(o.FromDate=this.ymdhms(h-c*r*1e3),o.ToDate=this.ymdhms(h)):(o.FromDate=this.ymdhms(i),o.ToDate=void 0===r?this.ymdhms(h):this.ymdhms(this.sum(i,c*r*1e3)));const d=await this.publicGetGetTickerHistory(this.extend(o,s));return this.parseOHLCVs(d,n,t,i,r)}parseTrade(e,t){let i,r,s,a,n,o,c,h,u,l,f;if(Array.isArray(e))i=this.safeString(e,3),r=this.safeString(e,2),a=this.safeInteger(e,6),n=this.safeString(e,0),o=this.safeString(e,1),c=this.safeValue(e,8)?"sell":"buy",h=this.safeString(e,4);else{a=this.safeInteger2(e,"TradeTimeMS","ReceiveTime"),n=this.safeString(e,"TradeId"),h=this.safeString2(e,"OrderId","OrigOrderId"),o=this.safeString2(e,"InstrumentId","Instrument"),i=this.safeString(e,"Price"),r=this.safeString(e,"Quantity"),s=this.safeNumber2(e,"Value","GrossValueExecuted"),u=this.safeStringLower(e,"MakerTaker"),c=this.safeStringLower(e,"Side"),f=this.safeStringLower(e,"OrderType");const t=this.safeNumber(e,"Fee");if(void 0!==t){const i=this.safeString(e,"FeeProductId");l={cost:t,currency:this.safeCurrencyCode(i)}}}const p=this.parseNumber(i),m=this.parseNumber(r);return void 0===s&&(s=this.parseNumber(d.stringMul(i,r))),{info:e,id:n,symbol:this.safeSymbol(o,t),timestamp:a,datetime:this.iso8601(a),order:h,type:f,side:c,takerOrMaker:u,price:p,amount:m,cost:s,fee:l}}async fetchTrades(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets();const a=this.market(e),n={omsId:s,InstrumentId:a.id};void 0!==i&&(n.Count=i);const o=await this.publicGetGetLastTrades(this.extend(n,r));return this.parseTrades(o,a,t,i)}async fetchAccounts(e={}){if(!this.login)throw new a(this.id+" fetchAccounts() requires exchange.login email credential");const t=this.safeInteger(this.options,"omsId",1);this.checkRequiredCredentials();const i={omsId:t,UserId:this.uid,UserName:this.login},r=await this.privateGetGetUserAccounts(this.extend(i,e)),s=[];for(let e=0;e<r.length;e++){const t=this.safeString(r,e);s.push({id:t,type:void 0,currency:void 0,info:t})}return s}async fetchBalance(e={}){const t=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const i=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),r=this.safeInteger2(e,"accountId","AccountId",i);e=this.omit(e,["accountId","AccountId"]);const s={omsId:t,AccountId:r},a=await this.privateGetGetAccountPositions(this.extend(s,e)),n={info:a,timestamp:void 0,datetime:void 0};for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"ProductId");if(i in this.currencies_by_id){const e=this.safeCurrencyCode(i),r=this.account();r.total=this.safeString(t,"Amount"),r.used=this.safeString(t,"Hold"),n[e]=r}}return this.parseBalance(n)}parseLedgerEntryType(e){return this.safeString({Trade:"trade",Deposit:"transaction",Withdraw:"transaction",Transfer:"transfer",OrderHold:"trade",WithdrawHold:"transaction",DepositHold:"transaction",MarginHold:"trade",ManualHold:"trade",ManualEntry:"trade",MarginAcquisition:"trade",MarginRelinquish:"trade",MarginQuoteHold:"trade"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"TransactionId"),r=this.safeString(e,"AccountId"),s=this.safeString(e,"ReferenceId"),a=this.safeString(e,"Counterparty"),n=this.parseLedgerEntryType(this.safeString(e,"ReferenceType")),o=this.safeString(e,"ProductId"),c=this.safeCurrencyCode(o,t),h=this.safeNumber(e,"CR"),d=this.safeNumber(e,"DR");let u,l;h>0?(u=h,l="in"):d>0&&(u=d,l="out");const f=this.safeInteger(e,"TimeStamp");let p;const m=this.safeNumber(e,"Balance");return"out"===l?p=this.sum(m,u):"in"===l&&(p=Math.max(0,m-u)),{info:e,id:i,direction:l,account:r,referenceId:s,referenceAccount:a,type:n,currency:c,amount:u,before:p,after:m,status:"ok",timestamp:f,datetime:this.iso8601(f),fee:void 0}}async fetchLedger(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:n};void 0!==i&&(o.Depth=i);const c=await this.privateGetGetAccountTransactions(this.extend(o,r));let h;return void 0!==e&&(h=this.currency(e)),this.parseLedger(c,h,t,i)}parseOrderStatus(e){return this.safeString({Accepted:"open",Rejected:"rejected",Working:"open",Canceled:"canceled",Expired:"expired",FullyExecuted:"closed"},e,e)}parseOrder(e,t){const i=this.safeString2(e,"ReplacementOrderId","OrderId"),r=this.safeInteger(e,"ReceiveTime"),s=this.safeInteger(e,"LastUpdatedTime"),a=this.safeString(e,"Instrument"),n=this.safeSymbol(a,t),o=this.safeStringLower(e,"Side"),c=this.safeStringLower(e,"OrderType"),h=this.safeString2(e,"ReplacementClOrdId","ClientOrderId");let d=this.safeNumber(e,"Price",0);d=d>0?d:void 0;const u=this.safeNumber(e,"OrigQuantity"),l=this.safeNumber(e,"QuantityExecuted"),f=this.safeNumber(e,"GrossValueExecuted");let p=this.safeNumber(e,"AvgPrice",0);p=p>0?p:void 0;let m=this.safeNumber(e,"StopPrice",0);m=m>0?m:void 0;const g=this.parseOrderStatus(this.safeString(e,"OrderState"));return this.safeOrder({id:i,clientOrderId:h,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,status:g,symbol:n,type:c,timeInForce:void 0,postOnly:void 0,side:o,price:d,stopPrice:m,cost:f,amount:u,filled:l,average:p,remaining:void 0,fee:void 0,trades:void 0})}async createOrder(e,t,i,r,s,a={}){const n=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const o=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),c=this.safeInteger2(a,"accountId","AccountId",o),h=this.safeInteger2(a,"ClientOrderId","clientOrderId");a=this.omit(a,["accountId","AccountId","clientOrderId","ClientOrderId"]);const d=this.market(e),u="buy"===i?0:1,l={InstrumentId:parseInt(d.id),omsId:n,AccountId:c,TimeInForce:1,Side:u,Quantity:parseFloat(this.amountToPrecision(e,r)),OrderType:this.safeInteger(this.options.orderTypes,this.capitalize(t))};void 0!==s&&(l.LimitPrice=parseFloat(this.priceToPrecision(e,s))),void 0!==h&&(l.ClientOrderId=h);const f=await this.privatePostSendOrder(this.extend(l,a));return this.parseOrder(f,d)}async editOrder(e,t,i,r,s,a,n={}){const o=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const c=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),h=this.safeInteger2(n,"accountId","AccountId",c),d=this.safeInteger2(n,"ClientOrderId","clientOrderId");n=this.omit(n,["accountId","AccountId","clientOrderId","ClientOrderId"]);const u=this.market(t),l="buy"===r?0:1,f={OrderIdToReplace:parseInt(e),InstrumentId:parseInt(u.id),omsId:o,AccountId:h,TimeInForce:1,Side:l,Quantity:parseFloat(this.amountToPrecision(t,s)),OrderType:this.safeInteger(this.options.orderTypes,this.capitalize(i))};void 0!==a&&(f.LimitPrice=parseFloat(this.priceToPrecision(t,a))),void 0!==d&&(f.ClientOrderId=d);const p=await this.privatePostCancelReplaceOrder(this.extend(f,n));return this.parseOrder(p,u)}async fetchMyTrades(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:n};let c;void 0!==e&&(c=this.market(e),o.InstrumentId=c.id),void 0!==t&&(o.StartTimeStamp=parseInt(t/1e3)),void 0!==i&&(o.Depth=i);const h=await this.privateGetGetTradesHistory(this.extend(o,r));return this.parseTrades(h,c,t,i)}async cancelAllOrders(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const r=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),s=this.safeInteger2(t,"accountId","AccountId",r);t=this.omit(t,["accountId","AccountId"]);const a={omsId:i,AccountId:s};if(void 0!==e){const t=this.market(e);a.IntrumentId=t.id}return await this.privatePostCancelAllOrders(this.extend(a,t))}async cancelOrder(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);let s;await this.loadMarkets(),await this.loadAccounts(),void 0!==t&&(s=this.market(t));const a={omsId:r},n=this.safeInteger2(i,"clientOrderId","ClOrderId");void 0!==n?a.ClOrderId=n:a.OrderId=parseInt(e),i=this.omit(i,["clientOrderId","ClOrderId"]);const o=await this.privatePostCancelOrder(this.extend(a,i)),c=this.parseOrder(o,s);return this.extend(c,{id:e,clientOrderId:n})}async fetchOpenOrders(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);let o;r=this.omit(r,["accountId","AccountId"]),void 0!==e&&(o=this.market(e));const c={omsId:s,AccountId:n},h=await this.privateGetGetOpenOrders(this.extend(c,r));return this.parseOrders(h,o,t,i)}async fetchOrders(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);r=this.omit(r,["accountId","AccountId"]);const o={omsId:s,AccountId:n};let c;void 0!==e&&(c=this.market(e),o.InstrumentId=c.id),void 0!==t&&(o.StartTimeStamp=parseInt(t/1e3)),void 0!==i&&(o.Depth=i);const h=await this.privateGetGetOrdersHistory(this.extend(o,r));return this.parseOrders(h,c,t,i)}async fetchOrder(e,t,i={}){const r=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const s=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),a=this.safeInteger2(i,"accountId","AccountId",s);let n;i=this.omit(i,["accountId","AccountId"]),void 0!==t&&(n=this.market(t));const o={omsId:r,AccountId:a,OrderId:parseInt(e)},c=await this.privateGetGetOrderStatus(this.extend(o,i));return this.parseOrder(c,n)}async fetchOrderTrades(e,t,i,r,s={}){const a=this.safeInteger(this.options,"omsId",1);let n;await this.loadMarkets(),await this.loadAccounts(),void 0!==t&&(n=this.market(t));const o={OMSId:parseInt(a),OrderId:parseInt(e)},c=await this.privatePostGetOrderHistoryByOrderId(this.extend(o,s)),h=this.groupBy(c,"ChangeReason"),d=this.safeValue(h,"Trade",[]);return this.parseTrades(d,n,i,r)}async fetchDepositAddress(e,t={}){const i=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const r=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),s=this.safeInteger2(t,"accountId","AccountId",r);t=this.omit(t,["accountId","AccountId"]);const a=this.currency(e),n={omsId:i,AccountId:s,ProductId:a.id,GenerateNewKey:!1},o=await this.privateGetGetDepositInfo(this.extend(n,t));return this.parseDepositAddress(o,a)}parseDepositAddress(e,t){const i=this.safeString(e,"DepositInfo"),r=JSON.parse(i),s=r.length,a=this.safeString(r,s-1).split("?memo="),n=this.safeString(a,0),o=this.safeString(a,1);let c;return void 0!==t&&(c=t.code),this.checkAddress(n),{currency:c,address:n,tag:o,network:void 0,info:e}}async createDepositAddress(e,t={}){return await this.fetchDepositAddress(e,this.extend({GenerateNewKey:!0},t))}async fetchDeposits(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);let o;r=this.omit(r,["accountId","AccountId"]),void 0!==e&&(o=this.currency(e));const c={omsId:s,AccountId:n},h=await this.privateGetGetDeposits(this.extend(c,r));return this.parseTransactions(h,o,t,i)}async fetchWithdrawals(e,t,i,r={}){const s=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const a=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),n=this.safeInteger2(r,"accountId","AccountId",a);let o;r=this.omit(r,["accountId","AccountId"]),void 0!==e&&(o=this.currency(e));const c={omsId:s,AccountId:n},h=await this.privateGetGetWithdraws(this.extend(c,r));return this.parseTransactions(h,o,t,i)}parseTransactionStatusByType(e,t){const i=this.safeValue({deposit:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Confirmed:"pending",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected"},withdrawal:{New:"pending",AdminProcessing:"pending",Accepted:"pending",Rejected:"rejected",SystemProcessing:"pending",FullyProcessed:"ok",Failed:"failed",Pending:"pending",Pending2Fa:"pending",AutoAccepted:"pending",Delayed:"pending",UserCanceled:"canceled",AdminCanceled:"canceled",AmlProcessing:"pending",AmlAccepted:"pending",AmlRejected:"rejected",AmlFailed:"failed",LimitsAccepted:"pending",LimitsRejected:"rejected",Submitted:"pending",Confirmed:"pending",ManuallyConfirmed:"pending",Confirmed2Fa:"pending"}},t,{});return this.safeString(i,e,e)}parseTransaction(e,t){const i=this.safeString(e,"DepositId");let r;const s=this.safeString(e,"ProductId"),a=this.safeCurrencyCode(s,t);let n,o;"DepositId"in e?o="deposit":"WithdrawId"in e&&(o="withdrawal");const c=this.safeString(e,"TemplateForm");let h,d=this.safeInteger(e,"LastUpdateTimeStamp");if(void 0!==c){const e=JSON.parse(c);h=this.safeString(e,"ExternalAddress"),r=this.safeString(e,"TxId"),n=this.safeInteger(e,"TimeSubmitted"),d=this.safeInteger(e,"LastUpdated",d)}const u=h,l=this.parseTransactionStatusByType(this.safeString(e,"TicketStatus"),o),f=this.safeNumber(e,"Amount"),p=this.safeNumber(e,"FeeAmount");let m;return void 0!==p&&(m={currency:a,cost:p}),{info:e,id:i,txid:r,timestamp:n,datetime:this.iso8601(n),address:h,addressTo:u,addressFrom:void 0,tag:void 0,tagTo:void 0,tagFrom:void 0,type:o,amount:f,currency:a,status:l,updated:d,fee:m}}async withdraw(e,t,i,r,n={}){if([r,n]=this.handleWithdrawTagAndParams(r,n),void 0===this.safeString(this.options,"sessionToken"))throw new a(this.id+" call signIn() method to obtain a session token");if(void 0===this.twofa)throw new a(this.id+" withdraw() requires exchange.twofa credentials");this.checkAddress(i);const o=this.safeInteger(this.options,"omsId",1);await this.loadMarkets(),await this.loadAccounts();const c=this.safeInteger2(this.options,"accountId","AccountId",parseInt(this.accounts[0].id)),h=this.safeInteger2(n,"accountId","AccountId",c);n=this.omit(n,["accountId","AccountId"]);const d=this.currency(e),u={omsId:o,AccountId:h,ProductId:d.id},l=await this.privateGetGetWithdrawTemplateTypes(u),f=this.safeValue(l,"TemplateTypes",[]),p=this.safeValue(f,0);if(void 0===p)throw new s(this.id+" withdraw() could not find a withdraw template type for "+d.code);const m=this.safeString(p,"TemplateName"),g={omsId:o,AccountId:h,ProductId:d.id,TemplateType:m,AccountProviderId:p.AccountProviderId},y=await this.privateGetGetWithdrawTemplate(g),b=this.safeString(y,"Template");if(void 0===b)throw new s(this.id+" withdraw() could not find a withdraw template for "+d.code);const v=JSON.parse(b);v.ExternalAddress=i,void 0!==r&&"Memo"in v&&(v.Memo=r);const w={omsId:o,AccountId:h,ProductId:d.id,TemplateForm:this.json(v),TemplateType:m},k={TfaType:"Google",TFaCode:this.oath(),Payload:this.json(w)},S=await this.privatePostCreateWithdrawTicket(this.deepExtend(k,n));return{info:S,id:this.safeString(S,"Id")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t){if("Authenticate"===e){const e=this.login+":"+this.password,t=this.stringToBase64(e);s={Authorization:"Basic "+this.decode(t)}}else if("Authenticate2FA"===e){const e=this.safeString(this.options,"pending2faToken");void 0!==e&&(s={Pending2FaToken:e},o=this.omit(o,"pending2faToken"))}Object.keys(o).length&&(n+="?"+this.urlencode(o))}else if("private"===t){this.checkRequiredCredentials();const e=this.safeString(this.options,"sessionToken");if(void 0===e){const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));s={Nonce:e,APIKey:this.apiKey,Signature:i,UserId:this.uid}}else s={APToken:e};"POST"===i?(s["Content-Type"]="application/json",a=this.json(o)):Object.keys(o).length&&(n+="?"+this.urlencode(o))}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,n,o,c,h,d){if(404===e)throw new a(this.id+" "+o);if(void 0===c)return;const u=this.safeString(c,"errormsg");if(void 0!==u&&""!==u){const e=this.id+" "+o;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,o,e),new s(e)}}}},11541:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeError:a,PermissionDenied:n,BadRequest:o,CancelPending:c,OrderNotFound:h,InsufficientFunds:d,RateLimitExceeded:u,InvalidOrder:l,AccountSuspended:f,BadSymbol:p,OnMaintenance:m,ArgumentsRequired:g}=i(73449),{TRUNCATE:y}=i(62115),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"novadax",name:"NovaDAX",countries:["BR"],rateLimit:50,version:"v1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchAccounts:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"ONE_MIN","5m":"FIVE_MIN","15m":"FIFTEEN_MIN","30m":"HALF_HOU","1h":"ONE_HOU","1d":"ONE_DAY","1w":"ONE_WEE","1M":"ONE_MON"},urls:{logo:"https://user-images.githubusercontent.com/1294454/92337550-2b085500-f0b3-11ea-98e7-5794fb07dd3b.jpg",api:{public:"https://api.novadax.com",private:"https://api.novadax.com"},www:"https://www.novadax.com.br",doc:["https://doc.novadax.com/pt-BR/"],fees:"https://www.novadax.com.br/fees-and-limits",referral:"https://www.novadax.com.br/?s=ccxt"},api:{public:{get:["common/symbol","common/symbols","common/timestamp","market/tickers","market/ticker","market/depth","market/trades","market/kline/history"]},private:{get:["orders/get","orders/list","orders/fill","orders/fills","account/getBalance","account/subs","account/subs/balance","account/subs/transfer/record","wallet/query/deposit-withdraw"],post:["orders/create","orders/cancel","account/withdraw/coin","account/subs/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.005"),maker:this.parseNumber("0.003")}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{A99999:a,A10001:o,A10002:a,A10003:s,A10004:u,A10005:n,A10006:f,A10007:o,A10011:p,A10012:p,A10013:m,A30001:h,A30002:l,A30003:l,A30004:l,A30005:l,A30006:l,A30007:d,A30008:l,A30009:l,A30010:c,A30011:l,A30012:l},broad:{}},options:{fetchOHLCV:{volume:"amount"}}})}async fetchTime(e={}){const t=await this.publicGetCommonTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){const t=await this.publicGetCommonSymbols(e),i=[],r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"baseCurrency"),a=this.safeString(t,"quoteCurrency"),n=this.safeString(t,"symbol"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:this.safeInteger(t,"amountPrecision"),price:this.safeInteger(t,"pricePrecision"),cost:this.safeInteger(t,"valuePrecision")},u={amount:{min:this.safeNumber(t,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minOrderValue"),max:void 0}},l="ONLINE"===this.safeString(t,"status");i.push({id:n,symbol:h,base:o,quote:c,baseId:s,quoteId:a,type:"spot",spot:!0,active:l,precision:d,limits:u,info:t})}return i}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t,"_"),a=this.safeNumber(e,"open24h"),n=this.safeNumber(e,"lastPrice"),o=this.safeNumber(e,"baseVolume24h"),c=this.safeNumber(e,"quoteVolume24h"),h=this.vwap(o,c);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:h,open:a,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetMarketTicker(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),r=this.safeValue(i,"data",[]),s={};for(let e=0;e<r.length;e++){const t=this.parseTicker(r[e]);s[t.symbol]=t}return this.filterByArray(s,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetMarketDepth(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks")}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"orderId"),s=this.safeInteger(e,"timestamp"),a=this.safeStringLower(e,"side"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(n),h=this.parseNumber(o);let d=this.safeNumber(e,"volume");void 0===d&&(d=this.parseNumber(b.stringMul(n,o)));const u=this.safeString(e,"symbol"),l=this.safeSymbol(u,t,"_"),f=this.safeStringLower(e,"role"),p=this.safeString(e,"fee");let m;if(void 0!==p){const e=p.split(" "),t=this.safeString(e,1),i=this.safeCurrencyCode(t);m={cost:this.safeNumber(e,0),currency:i}}return{id:i,order:r,timestamp:s,datetime:this.iso8601(s),symbol:l,type:void 0,side:a,price:c,amount:h,cost:d,takerOrMaker:f,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,unit:this.timeframes[t]},o=this.parseTimeframe(t),c=this.seconds();if(void 0===r&&(r=3e3),void 0===i)n.from=c-r*o,n.to=c;else{const e=parseInt(i/1e3);n.from=e,n.to=this.sum(e,r*o)}const h=await this.publicGetMarketKlineHistory(this.extend(n,s)),d=this.safeValue(h,"data",[]);return this.parseOHLCVs(d,a,t,i,r)}parseOHLCV(e,t){const i=this.safeValue(this.options,"fetchOHLCV",{}),r=this.safeString(i,"volume","amount");return[this.safeTimestamp(e,"score"),this.safeNumber(e,"openPrice"),this.safeNumber(e,"highPrice"),this.safeNumber(e,"lowPrice"),this.safeNumber(e,"closePrice"),this.safeNumber(e,r)]}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountGetBalance(e),i=this.safeValue(t,"data",[]),r={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(t,"balance"),n.free=this.safeString(t,"available"),n.used=this.safeString(t,"hold"),r[a]=n}return this.parseBalance(r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o=t.toUpperCase();const c=i.toUpperCase(),h={symbol:n.id,side:c},d=this.safeNumber(a,"stopPrice");if(void 0===d){if("STOP_LIMIT"===o||"STOP_MARKET"===o)throw new g(this.id+" createOrder() requires a stopPrice parameter for "+o+" orders")}else{"LIMIT"===o?o="STOP_LIMIT":"MARKET"===o&&(o="STOP_MARKET");const t="BUY"===c?"LTE":"GTE";h.operator=this.safeString(a,"operator",t),h.stopPrice=this.priceToPrecision(e,d),a=this.omit(a,"stopPrice")}if("LIMIT"===o||"STOP_LIMIT"===o)h.price=this.priceToPrecision(e,s),h.amount=this.amountToPrecision(e,r);else if("MARKET"===o||"STOP_MARKET"===o)if("SELL"===c)h.amount=this.amountToPrecision(e,r);else if("BUY"===c){let e=this.safeNumber(a,"value");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new l(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'value' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const t=n.precision.price;h.value=this.decimalToPrecision(e,y,t,this.precisionMode)}h.type=o;const u=await this.privatePostOrdersCreate(this.extend(h,a)),f=this.safeValue(u,"data",{});return this.parseOrder(f,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrdersCancel(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersGet(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.fromTimestamp=t);const n=await this.privateGetOrdersList(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"SUBMITTED,PROCESSING,PARTIAL_FILLED,CANCELING"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"FILLED,CANCELED,REJECTED"},r))}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={id:e},n=await this.privateGetOrdersFill(this.extend(a,s));let o;void 0!==t&&(o=this.market(t));const c=this.safeValue(n,"data",[]);return this.parseTrades(c,o,i,r)}parseOrderStatus(e){return this.safeString({SUBMITTED:"open",PROCESSING:"open",PARTIAL_FILLED:"open",CANCELING:"open",FILLED:"closed",CANCELED:"canceled",REJECTED:"rejected"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"amount"),s=this.safeString(e,"price"),a=this.safeString2(e,"filledValue","value"),n=this.safeStringLower(e,"type"),o=this.safeStringLower(e,"side"),c=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeInteger(e,"timestamp"),d=this.safeString(e,"averagePrice"),u=this.safeString(e,"filledAmount");let l;const f=this.safeNumber(e,"filledFee");void 0!==f&&(l={cost:f,currency:void 0});const p=this.safeString(e,"symbol"),m=this.safeSymbol(p,t,"_"),g=this.safeNumber(e,"stopPrice");return this.safeOrder2({id:i,clientOrderId:void 0,info:e,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:m,type:n,timeInForce:void 0,postOnly:void 0,side:o,price:s,stopPrice:g,amount:r,cost:a,average:d,filled:u,remaining:void 0,status:c,fee:l,trades:void 0},t)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets();const a=this.currency(e),n={code:a.id,amount:this.currencyToPrecision(e,t),wallet:i};void 0!==r&&(n.tag=r);const o=await this.privatePostAccountWithdrawCoin(this.extend(n,s));return this.parseTransaction(o,a)}async fetchAccounts(e={}){const t=await this.privateGetAccountSubs(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"subId"),a=this.safeString(t,"subAccount");r.push({id:s,type:a,currency:void 0,info:t})}return r}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"coin_in"},r))}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"coin_out"},r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.size=i);const n=await this.privateGetWalletQueryDepositWithdraw(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i)}parseTransactionStatus(e){const t=e.split(" ");return e=this.safeString(t,1,e),this.safeString({Pending:"pending",confirming:"pending",SUCCESS:"ok",FAIL:"failed"},e,e)}parseTransaction(e,t){const i=this.safeString2(e,"id","data");let r=this.safeString(e,"type");"COIN_IN"===r?r="deposit":"COIN_OUT"===r&&(r="withdraw");const s=this.safeNumber(e,"amount"),a=this.safeString(e,"address"),n=this.safeString(e,"addressTag"),o=this.safeString(e,"txHash"),c=this.safeInteger(e,"createdAt"),h=this.safeInteger(e,"updatedAt"),d=this.safeString(e,"currency");return{info:e,id:i,currency:this.safeCurrencyCode(d,t),amount:s,address:a,addressTo:a,addressFrom:void 0,tag:n,tagTo:n,tagFrom:void 0,status:this.parseTransactionStatus(this.safeString(e,"state")),type:r,updated:h,txid:o,timestamp:c,datetime:this.iso8601(c),fee:void 0}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.fromTimestamp=t);const n=await this.privateGetOrdersFills(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,a,t,i)}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls.api[t]+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t;s={"X-Nova-Access-Key":this.apiKey,"X-Nova-Timestamp":e},"POST"===i?(a=this.json(c),t=this.hash(a,"md5"),s["Content-Type"]="application/json"):(Object.keys(c).length&&(o+="?"+this.urlencode(c)),t=this.urlencode(this.keysort(c)));const r=i+"\n"+n+"\n"+t+"\n"+e;s["X-Nova-Signature"]=this.hmac(this.encode(r),this.encode(this.secret))}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"code");if("A10000"!==d){const e=this.safeString(o,"message"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new a(t)}}}},7426:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,AuthenticationError:a,ArgumentsRequired:n,BadRequest:o,InvalidOrder:c,InsufficientFunds:h,OrderNotFound:d,PermissionDenied:u}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"oceanex",name:"OceanEx",countries:["BS"],version:"v1",rateLimit:3e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/58385970-794e2d80-8001-11e9-889c-0567cd79b78e.jpg",api:"https://api.oceanex.pro",www:"https://www.oceanex.pro.com",doc:"https://api.oceanex.pro/doc/v1",referral:"https://oceanex.pro/signup?referral=VE24QX"},has:{cancelAllOrders:!0,cancelOrder:!0,cancelOrders:!0,createMarketOrder:!0,createOrder:!0,fetchAllTradingFees:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchFundingFees:void 0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFees:void 0,fetchTradingLimits:void 0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1440","3d":"4320","1w":"10080"},api:{public:{get:["markets","tickers/{pair}","tickers_multi","order_book","order_book/multi","fees/trading","trades","timestamp"],post:["k"]},private:{get:["key","members/me","orders","orders/filter"],post:["orders","orders/multi","order/delete","order/delete/multi","orders/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{PLA:"Plair"},exceptions:{codes:{"-1":o,"-2":o,1001:o,1004:n,1006:a,1008:a,1010:a,1011:u,2001:a,2002:c,2004:d,9003:u},exact:{"market does not have a valid value":o,"side does not have a valid value":o,"Account::AccountError: Cannot lock funds":h,"The account does not exist":a}}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(this.extend({show_details:!0},e)),i=[],r=this.safeValue(t,"data");for(let e=0;e<r.length;e++){const t=r[e],s=this.safeValue(t,"id"),a=this.safeValue(t,"name");let[n,o]=a.split("/");const c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o);n=n.toLowerCase(),o=o.toLowerCase();const d=c+"/"+h;i.push({id:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:!0,info:t,precision:{amount:this.safeInteger(t,"amount_precision"),price:this.safeInteger(t,"price_precision"),base:this.safeInteger(t,"ask_precision"),quote:this.safeInteger(t,"bid_precision")},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minimum_trading_amount"),max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTickersPair(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={markets:this.marketIds(e)},r=await this.publicGetTickersMulti(this.extend(i,t)),s=this.safeValue(r,"data"),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeString(t,"market"),r=this.safeMarket(i);a[r.symbol]=this.parseTicker(t,r)}return this.filterByArray(a,"symbol",e)}parseTicker(e,t){const i=this.safeValue(e,"ticker",{}),r=this.safeTimestamp(e,"at");return{symbol:t.symbol,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(i,"high"),low:this.safeNumber(i,"low"),bid:this.safeNumber(i,"buy"),bidVolume:void 0,ask:this.safeNumber(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeNumber(i,"last"),last:this.safeNumber(i,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(i,"volume"),quoteVolume:void 0,info:i}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const r={markets:this.marketIds(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBookMulti(this.extend(r,i)),a=this.safeValue(s,"data",[]),n={};for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"market"),r=this.safeSymbol(i),s=this.safeTimestamp(t,"timestamp");n[r]=this.parseOrderBook(t,r,s)}return n}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}parseTrade(e,t){let i=this.safeValue(e,"side");"bid"===i?i="buy":"ask"===i&&(i="sell");const r=this.safeValue(e,"market"),s=this.safeSymbol(r,t);let a=this.safeTimestamp(e,"created_on");return void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),{info:e,timestamp:a,datetime:this.iso8601(a),symbol:s,id:this.safeString(e,"id"),order:void 0,type:"limit",takerOrMaker:void 0,side:i,price:this.safeNumber(e,"price"),amount:this.safeNumber(e,"volume"),cost:void 0,fee:void 0}}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeTimestamp(t,"data")}async fetchAllTradingFees(e={}){const t=await this.publicGetFeesTrading(e),i=this.safeValue(t,"data"),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeValue(t,"ask_fee",{}),a=this.safeValue(t,"bid_fee",{}),n=this.safeString(t,"market"),o=this.safeSymbol(n);r[o]={info:t,symbol:o,maker:this.safeNumber(s,"value"),taker:this.safeNumber(a,"value")}}return r}async fetchKey(e={}){const t=await this.privateGetKey(e);return this.safeValue(t,"data")}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"accounts"),s={info:t};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeValue(t,"currency"),a=this.safeCurrencyCode(i),n=this.account();n.free=this.safeString(t,"balance"),n.used=this.safeString(t,"locked"),s[a]=n}return this.parseBalance(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={market:n.id,side:i,ord_type:t,volume:this.amountToPrecision(e,r)};"limit"===t&&(o.price=this.priceToPrecision(e,s));const c=await this.privatePostOrders(this.extend(o,a)),h=this.safeValue(c,"data");return this.parseOrder(h,n)}async fetchOrder(e,t,i={}){let r,s=e;Array.isArray(e)||(s=[e]),await this.loadMarkets(),void 0!==t&&(r=this.market(t));const a={ids:s},n=await this.privateGetOrders(this.extend(a,i)),o=this.safeValue(n,"data"),c=o.length;if(void 0===o)throw new d(this.id+" could not found matching order");if(Array.isArray(e))return this.parseOrders(o,r);if(0===c)throw new d(this.id+" could not found matching order");return this.parseOrder(o[0],r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:["wait"]},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:["done","cancel"]},r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a=this.safeValue(r,"states",["wait","done","cancel"]),o=this.omit(r,"states"),c={market:s.id,states:a,need_price:"True"};void 0!==i&&(c.limit=i);const h=await this.privateGetOrdersFilter(this.extend(c,o)),d=this.safeValue(h,"data",[]);let u=[];for(let e=0;e<d.length;e++){const r=this.safeValue(d[e],"orders",[]),a=this.parseOrderStatus(this.safeValue(d[e],"state")),n=this.parseOrders(r,s,t,i,{status:a});u=this.arrayConcat(u,n)}return u}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,period:this.timeframes[t]};void 0!==i&&(n.timestamp=i),void 0!==r&&(n.limit=r);const o=await this.publicPostK(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeValue(e,"state")),r=this.safeString2(e,"market","market_id"),s=this.safeSymbol(r,t);let a=this.safeTimestamp(e,"created_on");void 0===a&&(a=this.parse8601(this.safeString(e,"created_at")));const n=this.safeString(e,"price"),o=this.safeString(e,"avg_price"),c=this.safeString(e,"volume"),h=this.safeString(e,"remaining_volume"),d=this.safeString(e,"executed_volume");return this.safeOrder2({info:e,id:this.safeString(e,"id"),clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:this.safeValue(e,"ord_type"),timeInForce:void 0,postOnly:void 0,side:this.safeValue(e,"side"),price:n,stopPrice:void 0,average:o,amount:c,remaining:h,filled:d,status:i,cost:void 0,trades:void 0,fee:void 0},t)}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}async createOrders(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id,orders:t},s=(await this.privatePostOrdersMulti(this.extend(r,i))).data;return this.parseOrders(s)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDelete(this.extend({id:e},i)),s=this.safeValue(r,"data");return this.parseOrder(s)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDeleteMulti(this.extend({ids:e},i)),s=this.safeValue(r,"data");return this.parseOrders(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=await this.privatePostOrdersClear(t),r=this.safeValue(i,"data");return this.parseOrders(r)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)if("tickers_multi"===e||"order_book/multi"===e){let e="?";const t=this.safeValue(r,"markets");for(let i=0;i<t.length;i++)e+="markets[]="+t[i]+"&";const i=this.safeValue(r,"limit");void 0!==i&&(e+="limit="+i),n+=e}else Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e={uid:this.apiKey,data:o};n+="?user_jwt="+this.jwt(e,this.encode(this.secret),"RS256")}return{url:n,method:i,body:a,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==d&&"0"!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.codes,d,e),this.throwExactlyMatchedException(this.exceptions.exact,u,e),new s(e)}}}},21384:(e,t,i)=>{"use strict";const r=i(5645);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okcoin",name:"OKCoin",countries:["CN","US"],hostname:"okcoin.com",pro:!0,urls:{logo:"https://user-images.githubusercontent.com/51840849/87295551-102fbf00-c50e-11ea-90a9-462eebba5829.jpg",www:"https://www.okcoin.com",doc:"https://www.okcoin.com/docs/en/",fees:"https://www.okcoin.com/coin-fees",referral:"https://www.okcoin.com/account/register?flag=activity&channelId=600001513"},fees:{trading:{taker:.002,maker:.001}},options:{fetchMarkets:["spot"]}})}}},58579:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:h,InvalidAddress:d,PermissionDenied:u,InsufficientFunds:l,InvalidNonce:f,InvalidOrder:p,OrderNotFound:m,AuthenticationError:g,RequestTimeout:y,BadSymbol:b,RateLimitExceeded:v,NetworkError:w,CancelPending:k,NotSupported:S}=i(73449),{TICK_SIZE:_,TRUNCATE:M}=i(62115),T=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN","US"],version:"v5",rateLimit:100,pro:!0,certified:!0,has:{margin:!0,swap:!0,future:!0,addMargin:!0,cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchBorrowRate:!0,fetchBorrowRates:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddressByNetwork:!0,fetchDepositAddressesByNetwork:!0,fetchDeposits:!0,fetchFundingHistory:!0,fetchFundingRate:!0,fetchFundingRateHistory:!0,fetchIndexOHLCV:!0,fetchLedger:!0,fetchLeverage:!0,fetchMarkets:!0,fetchMarketsByType:!0,fetchMarkOHLCV:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchPosition:!0,fetchPositions:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTickersByType:!0,fetchTime:!0,fetchTrades:!0,fetchTradingFee:!0,fetchWithdrawals:!0,reduceMargin:!0,setLeverage:!0,setMarginMode:!0,setPositionMode:!0,transfer:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1H","2h":"2H","4h":"4H","6h":"6Hutc","12h":"12Hutc","1d":"1Dutc","1w":"1Wutc","1M":"1Mutc","3M":"3Mutc","6M":"6Mutc","1y":"1Yutc"},hostname:"www.okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs-v5/en/",fees:"https://www.okex.com/pages/products/fees.html",test:{rest:"https://testnet.okex.com"}},api:{public:{get:{"market/tickers":1,"market/ticker":1,"market/index-tickers":1,"market/books":1,"market/candles":1,"market/history-candles":1,"market/index-candles":1,"market/mark-price-candles":1,"market/trades":1,"market/platform-24-volume":10,"market/open-oracle":100,"market/index-components":1,"public/instruments":1,"public/delivery-exercise-history":.5,"public/open-interest":1,"public/funding-rate":1,"public/funding-rate-history":1,"public/price-limit":1,"public/opt-summary":1,"public/estimated-price":2,"public/discount-rate-interest-free-quota":10,"public/time":2,"public/liquidation-orders":.5,"public/mark-price":2,"public/position-tiers":2,"public/underlying":1,"public/interest-rate-loan-quota":10,"rubik/stat/trading-data/support-coin":4,"rubik/stat/taker-volume":4,"rubik/stat/margin/loan-ratio":4,"rubik/stat/contracts/long-short-account-ratio":4,"rubik/stat/contracts/open-interest-volume":4,"rubik/stat/option/open-interest-volume":4,"rubik/stat/option/open-interest-volume-ratio":4,"rubik/stat/option/open-interest-volume-expiry":4,"rubik/stat/option/open-interest-volume-strike":4,"rubik/stat/option/taker-block-volume":4,"system/status":100}},private:{get:{"account/account-position-risk":2,"account/balance":2,"account/positions":2,"account/bills":5/3,"account/bills-archive":5/3,"account/config":4,"account/max-size":1,"account/max-avail-size":1,"account/leverage-info":1,"account/max-loan":1,"account/trade-fee":4,"account/interest-accrued":4,"account/interest-rate":4,"account/max-withdrawal":1,"asset/deposit-address":5/3,"asset/balances":5/3,"asset/transfer-state":10,"asset/deposit-history":5/3,"asset/withdrawal-history":5/3,"asset/currencies":5/3,"asset/bills":5/3,"asset/piggy-balance":5/3,"asset/deposit-lightning":5,"trade/order":1/3,"trade/orders-pending":1,"trade/orders-history":.5,"trade/orders-history-archive":1,"trade/fills":1/3,"trade/fills-history":2,"trade/orders-algo-pending":1,"trade/orders-algo-history":1,"account/subaccount/balances":10,"asset/subaccount/bills":5/3,"users/subaccount/list":10,"users/subaccount/apikey":10},post:{"account/set-position-mode":4,"account/set-leverage":1,"account/position/margin-balance":1,"account/set-greeks":4,"asset/transfer":10,"asset/withdrawal":5/3,"asset/purchase_redempt":5/3,"asset/withdrawal-lightning":5,"trade/order":1/3,"trade/batch-orders":1/15,"trade/cancel-order":1/3,"trade/cancel-batch-orders":1/15,"trade/amend-order":1/3,"trade/amend-batch-orders":1/3,"trade/close-position":1,"trade/order-algo":1,"trade/cancel-algos":1,"trade/cancel-advance-algos":1,"users/subaccount/delete-apikey":10,"users/subaccount/modify-apikey":10,"users/subaccount/apikey":10,"asset/subaccount/transfer":10}}},fees:{trading:{taker:this.parseNumber("0.0015"),maker:this.parseNumber("0.0010")},spot:{taker:this.parseNumber("0.0015"),maker:this.parseNumber("0.0010")},futures:{taker:this.parseNumber("0.0005"),maker:this.parseNumber("0.0002")},swap:{taker:this.parseNumber("0.00050"),maker:this.parseNumber("0.00020")}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,2:s,5e4:c,50001:n,50002:c,50004:y,50005:a,50006:c,50007:h,50008:g,50009:h,50010:s,50011:v,50012:s,50013:a,50014:s,50015:s,50016:s,50017:s,50018:s,50019:s,50020:s,50021:s,50022:s,50023:s,50024:s,50025:s,50026:s,50027:s,50028:s,50100:s,50101:s,50102:f,50103:g,50104:g,50105:g,50106:g,50107:g,50108:s,50109:s,50110:u,50111:g,50112:g,50113:g,50114:g,50115:c,51e3:c,51001:b,51002:b,51003:c,51004:p,51005:p,51006:p,51007:p,51008:l,51009:h,51010:l,51011:p,51012:s,51014:s,51015:b,51016:p,51017:s,51018:s,51019:s,51020:p,51021:b,51022:b,51023:s,51024:h,51025:s,51026:b,51027:b,51028:b,51029:b,51030:b,51031:p,51100:p,51101:p,51102:p,51103:p,51104:p,51105:p,51106:p,51107:p,51108:p,51109:p,51110:p,51111:c,51112:p,51113:v,51115:p,51116:p,51117:p,51118:p,51119:l,51120:p,51121:p,51122:p,51124:p,51125:p,51126:p,51127:l,51128:p,51129:p,51130:b,51131:l,51132:p,51133:p,51134:p,51135:p,51136:p,51137:p,51138:p,51139:p,51201:p,51202:p,51203:p,51204:p,51205:p,51250:p,51251:p,51252:p,51253:p,51254:p,51255:p,51256:p,51257:p,51258:p,51259:p,51260:p,51261:p,51262:p,51263:p,51264:p,51265:p,51267:p,51268:p,51269:p,51270:p,51271:p,51272:p,51273:p,51274:p,51275:p,51276:p,51277:p,51278:p,51279:p,51280:p,51400:m,51401:m,51402:m,51403:p,51404:p,51405:s,51406:s,51407:c,51408:s,51409:s,51410:k,51500:s,51501:s,51502:l,51503:s,51506:s,51508:s,51509:s,51510:s,51511:s,51600:s,51601:s,51602:s,51603:m,52e3:s,54e3:s,54001:s,58e3:s,58001:g,58002:u,58003:s,58004:h,58005:s,58006:s,58007:s,58100:s,58101:h,58102:v,58103:s,58104:s,58105:s,58106:s,58107:s,58108:s,58109:s,58110:s,58111:s,58112:s,58114:s,58115:s,58116:s,58117:s,58200:s,58201:s,58202:s,58203:d,58204:h,58205:s,58206:s,58207:d,58208:s,58209:s,58210:s,58211:s,58212:s,58213:g,58300:s,58350:l,59e3:s,59001:s,59100:s,59101:s,59102:s,59103:l,59104:s,59105:s,59106:s,59107:s,59108:l,59109:s,59200:l,59201:l,59300:s,59301:s,59401:s,59500:s,59501:s,59502:s,59503:s,59504:s,59505:s,59506:s,59507:s,59508:h,60001:g,60002:g,60003:g,60004:g,60005:g,60006:f,60007:g,60008:g,60009:g,60010:g,60011:g,60012:c,60013:c,60014:v,60015:w,60016:a,60017:c,60018:c,60019:c,63999:s},broad:{}},httpExceptions:{429:a},precisionMode:_,options:{defaultNetwork:"ERC20",networks:{ETH:"ERC20",TRX:"TRC20",OMNI:"Omni"},layerTwo:{Lightning:!0,Liquid:!0},fetchOHLCV:{},createOrder:"privatePostTradeBatchOrders",createMarketBuyOrderRequiresPrice:!1,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",fetchLedger:{method:"privateGetAccountBills"},accountsByType:{spot:"1",futures:"3",margin:"5",funding:"6",swap:"9",option:"12",trading:"18",unified:"18"},typesByAccount:{1:"spot",3:"futures",5:"margin",6:"funding",9:"swap",12:"option",18:"trading"},brokerId:"e847386590ce4dBC"},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",TRADE:"Unitrade",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchStatus(e={}){const t=await this.publicGetSystemStatus(e),i=this.safeValue(t,"data",[]),r={info:t,updated:this.milliseconds(),status:"ok",eta:void 0};for(let e=0;e<i.length;e++){const t=i[e];"ongoing"===this.safeString(t,"state")&&(r.eta=this.safeInteger(t,"end"),r.status="maintenance")}return this.status=this.extend(this.status,r),this.status}async fetchTime(e={}){const t=await this.publicGetPublicTime(e),i=this.safeValue(t,"data",[]),r=this.safeValue(i,0,{});return this.safeInteger(r,"ts")}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instId"),i=this.safeStringLower(e,"instType"),r="spot"===i,s="futures"===i,a="swap"===i,n="option"===i,o=a||s||n;let c=this.safeString(e,"baseCcy"),h=this.safeString(e,"quoteCcy");const d=this.safeString(e,"settleCcy"),u=this.safeCurrencyCode(d),l=this.safeString(e,"uly");if(void 0!==l&&!r){const e=l.split("-");c=this.safeString(e,0),h=this.safeString(e,1)}const f=c===d,p=h===d,m=this.safeCurrencyCode(c),g=this.safeCurrencyCode(h);let y,b=m+"/"+g;o&&(b=b+":"+u,y=this.safeInteger(e,"expTime"),void 0!==y&&(b=b+"-"+this.yymmdd(y)),n&&(b=b+"-"+this.safeString(e,"stk")+"-"+this.safeString(e,"optType")));const v=this.safeString(e,"tickSz"),w={amount:this.safeNumber(e,"lotSz"),price:this.parseNumber(v)},k=this.safeString(e,"minSz"),S=this.parseNumber(k);let _;void 0!==S&&void 0!==v&&(_=this.parseNumber(T.stringMul(v,k)));const M=this.safeValue2(this.fees,i,"trading",{});let O;o&&(O=this.safeString(e,"ctVal"));const x=this.safeNumber(e,"lever",1);return this.extend(M,{id:t,symbol:b,base:m,quote:g,baseId:c,quoteId:h,settleId:d,settle:u,info:e,type:i,spot:r,futures:s,swap:a,contract:o,option:n,linear:p,inverse:f,active:!0,contractSize:O,precision:w,expiry:y,expiryDatetime:this.iso8601(y),limits:{amount:{min:S,max:void 0},price:{min:w.price,max:void 0},cost:{min:_,max:void 0},leverage:{max:x}}})}async fetchMarketsByType(e,t={}){const i=e.toUpperCase(),r={instType:i};if("OPTION"===i){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),i=this.safeString2(t,"uly","marketId",e);if(void 0===i)throw new o(this.id+" fetchMarketsByType requires an underlying uly or marketId parameter for options markets");r.uly=i}const s=await this.publicGetPublicInstruments(this.extend(r,t)),a=this.safeValue(s,"data",[]);return this.parseMarkets(a)}safeNetwork(e){return this.safeString({Bitcoin:"BTC",Omni:"OMNI",TRON:"TRC20"},e,e)}async fetchCurrencies(e={}){if(!this.checkRequiredCredentials(!1))return;const t=await this.privateGetAssetCurrencies(e),i=this.safeValue(t,"data",[]),r={},s=this.groupBy(i,"ccy"),a=Object.keys(s),n=this.parseNumber("0.00000001");for(let e=0;e<a.length;e++){const t=a[e],i=this.safeCurrency(t).code,o=s[t],c={};let h=!1;for(let e=0;e<o.length;e++){const t=o[e],r=this.safeValue(t,"canDep"),s=this.safeValue(t,"canWd"),a=this.safeValue(t,"canInternal"),n=!!(r&&s&&a);h=void 0===h?n:h;const d=this.safeString(t,"chain");if(d.indexOf("-")>=0){const e=d.split("-"),r=this.safeString(e,1,d);let s=this.safeNetwork(r);const a=this.safeValue(t,"mainNet",!1),o=this.safeValue(this.options,"layerTwo",{Liquid:!0,Lightning:!0});a&&!(r in o)&&(s=i),c[s]={info:t,id:d,network:s,active:n,fee:this.safeNumber(t,"minFee"),precision:void 0,limits:{withdraw:{min:this.safeNumber(t,"minWd"),max:void 0}}}}}r[i]={info:void 0,code:i,id:t,name:void 0,active:h,fee:void 0,precision:n,limits:{amount:{min:void 0,max:void 0}},networks:c}}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instId:this.market(e).id};void 0!==(t=void 0===t?20:t)&&(r.sz=t);const s=await this.publicGetMarketBooks(this.extend(r,i)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0,{}),o=this.safeInteger(n,"ts");return this.parseOrderBook(n,e,o)}parseTicker(e,t){const i=this.safeInteger(e,"ts"),r=this.safeString(e,"instId"),s=(t=this.safeMarket(r,t,"-")).symbol,a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open24h"),o=this.safeNumber(e,"volCcy24h"),c=this.safeNumber(e,"vol24h"),h=this.vwap(c,o);return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24h"),low:this.safeNumber(e,"low24h"),bid:this.safeNumber(e,"bidPx"),bidVolume:this.safeNumber(e,"bidSz"),ask:this.safeNumber(e,"askPx"),askVolume:this.safeNumber(e,"askSz"),vwap:h,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instId:i.id},s=await this.publicGetMarketTicker(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0,{});return this.parseTicker(n,i)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const r=e.toUpperCase(),s={instType:e.toUpperCase()};if("OPTION"===r){const e=this.safeValue(this.options,"defaultUnderlying","BTC-USD"),t=this.safeString2(i,"uly","marketId",e);if(void 0===t)throw new o(this.id+" fetchTickersByType requires an underlying uly or marketId parameter for options markets");s.uly=t}const a=await this.publicGetMarketTickers(this.extend(s,i)),n=this.safeValue(a,"data",[]);return this.parseTickers(n,t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){const i=this.safeString(e,"tradeId"),r=this.safeString(e,"instId"),s=(t=this.safeMarket(r,t,"-")).symbol,a=this.safeInteger(e,"ts"),n=this.safeString2(e,"fillPx","px"),o=this.safeString2(e,"fillSz","sz"),c=this.safeString(e,"side"),h=this.safeString(e,"ordId"),d=this.safeString(e,"fee");let u;if(void 0!==d){const t=T.stringNeg(d),i=this.safeString(e,"feeCcy");u={cost:t,currency:this.safeCurrencyCode(i)}}let l=this.safeString(e,"execType");return"T"===l?l="taker":"M"===l&&(l="maker"),this.safeTrade({info:e,timestamp:a,datetime:this.iso8601(a),symbol:s,id:i,order:h,type:void 0,takerOrMaker:l,side:c,price:n,amount:o,cost:void 0,fee:u},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instId:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.safeString(s,"price");s=this.omit(s,"price"),void 0===r&&(r=100);const o={instId:a.id,bar:this.timeframes[t],limit:r};let c="Candles";if(void 0!==i){const e=this.parseTimeframe(t);this.milliseconds()-i>r*e*1e3&&(c="HistoryCandles");const s=1e3*e,a=Math.max(i-1,0);o.before=a,o.after=this.sum(a,s*r)}const h=this.safeValue(this.options,"fetchOHLCV",{});c=this.safeString(h,"type",c);const d=this.safeString(s,"type",c);s=this.omit(s,"type");let u="publicGetMarket"+d;"mark"===n?u="publicGetMarketMarkPriceCandles":"index"===n&&(u="publicGetMarketIndexCandles");const l=await this[u](this.extend(o,s)),f=this.safeValue(l,"data",[]);return this.parseOHLCVs(f,a,t,i,r)}async fetchFundingRateHistory(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchFundingRateHistory() requires a symbol argument");await this.loadMarkets();const s={instId:this.market(e).id};void 0!==t&&(s.before=Math.max(t-1,0)),void 0!==i&&(s.limit=i);const a=await this.publicGetPublicFundingRateHistory(this.extend(s,r)),n=[],c=this.safeValue(a,"data");for(let e=0;e<c.length;e++){const t=c[e],i=this.safeNumber(t,"fundingTime");n.push({symbol:this.safeSymbol(this.safeString(t,"instId")),fundingRate:this.safeNumber(t,"realizedRate"),timestamp:i,datetime:this.iso8601(i)})}const h=this.sortBy(n,"timestamp");return this.filterBySymbolSinceLimit(h,e,t,i)}async fetchIndexOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"index"},s))}async fetchMarkOHLCV(e,t="1m",i,r,s={}){return await this.fetchOHLCV(e,t,i,r,this.extend({price:"mark"},s))}parseBalanceByType(e,t){return"funding"===e?this.parseFundingBalance(t):this.parseTradingBalance(t)}parseTradingBalance(e){const t={info:e},i=this.safeValue(e,"data",[]),r=this.safeValue(i,0,{}),s=this.safeInteger(r,"uTime"),a=this.safeValue(r,"details",[]);for(let e=0;e<a.length;e++){const i=a[e],r=this.safeString(i,"ccy"),s=this.safeCurrencyCode(r),n=this.account(),o=this.safeString(i,"eq"),c=this.safeString(i,"availEq");o.length<1||c.length<1?(n.free=this.safeString(i,"availBal"),n.used=this.safeString(i,"frozenBal")):(n.total=o,n.free=c),t[s]=n}return t.timestamp=s,t.datetime=this.iso8601(s),this.parseBalance(t)}parseFundingBalance(e){const t={info:e},i=this.safeValue(e,"data",[]);for(let e=0;e<i.length;e++){const r=i[e],s=this.safeString(r,"ccy"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(r,"bal"),n.free=this.safeString(r,"availBal"),n.used=this.safeString(r,"frozenBal"),t[a]=n}return this.parseBalance(t)}parseTradingFee(e,t){return{info:e,symbol:this.safeSymbol(void 0,t),maker:this.safeNumber(e,"maker"),taker:this.safeNumber(e,"taker")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={instType:i.type.toUpperCase()};if(i.spot)r.instId=i.id;else{if(!(i.swap||i.futures||i.option))throw new S(this.id+" fetchTradingFee supports spot, swap, futures or option markets only");r.uly=i.baseId+"-"+i.quoteId}const s=await this.privateGetAccountTradeFee(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0,{});return this.parseTradingFee(n,i)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(this.options,"defaultType"),i=this.safeValue(this.options,"fetchBalance",{});let r,s=this.safeString(i,"type",t);s=this.safeString(e,"type",s),e=this.omit(e,"type"),r="funding"===s?"privateGetAssetBalances":"privateGetAccountBalance";const a=await this[r](this.extend({},e));return this.parseBalanceByType(s,a)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const h=this.market(e),d={instId:h.id,side:i,ordType:t},u=this.safeStringLower(n,"tdMode");if(h.spot)d.tdMode="cash";else if(h.contract){if(void 0===u)throw new o(this.id+' params["tdMode"] is required to be either "isolated" or "cross"');if("isolated"!==u&&"cross"!==u)throw new c(this.id+' params["tdMode"] must be either "isolated" or "cross"')}this.safeValue(n,"postOnly",!1)&&(d.ordType="post_only",n=this.omit(n,["postOnly"]));const l=this.safeString2(n,"clOrdId","clientOrderId");if(void 0===l){const e=this.safeString(this.options,"brokerId");void 0!==e&&(d.clOrdId=e+this.uuid16())}else d.clOrdId=l,n=this.omit(n,["clOrdId","clientOrderId"]);if(d.sz=this.amountToPrecision(e,r),"market"===t){if("spot"===h.type&&"buy"===i){const e=this.safeString(this.options,"tgtCcy","base_ccy");if("quote_ccy"===this.safeString(n,"tgtCcy",e)){d.tgtCcy="quote_ccy";let e=this.safeNumber(n,"sz");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==a)void 0===e&&(e=r*a);else if(void 0===e)throw new p(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'sz' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const t=h.precision.price;d.sz=this.decimalToPrecision(e,M,t,this.precisionMode)}else d.tgtCcy="base_ccy";n=this.omit(n,["tgtCcy"])}}else d.px=this.priceToPrecision(e,a);let f;const m=this.safeString(this.options,"createOrder","privatePostTradeBatchOrders");if("privatePostTradeOrder"===m)f=this.extend(d,n);else{if("privatePostTradeBatchOrders"!==m)throw new s(this.id+' this.options["createOrder"] must be either privatePostTradeBatchOrders or privatePostTradeOrder');f=[this.extend(d,n)]}const g=await this[m](f),y=this.safeValue(g,"data",[]),b=this.safeValue(y,0),v=this.parseOrder(b,h);return this.extend(v,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={instId:r.id},a=this.safeString2(i,"clOrdId","clientOrderId");void 0!==a?s.clOrdId=a:s.ordId=e;const n=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privatePostTradeCancelOrder(this.extend(s,n)),h=this.safeValue(c,"data",[]),d=this.safeValue(h,0);return this.parseOrder(d,r)}parseOrderStatus(e){return this.safeString({canceled:"canceled",live:"open",partially_filled:"open",filled:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"ordId"),r=this.safeInteger(e,"cTime"),s=this.safeInteger(e,"fillTime"),a=this.safeString(e,"side");let n,o,c=this.safeString(e,"ordType");"post_only"===c?(n=!0,c="limit"):"fok"===c?(o="FOK",c="limit"):"ioc"===c&&(o="IOC",c="limit");const h=this.safeString(e,"instId"),d=this.safeSymbol(h,t,"-"),u=this.safeString(e,"accFillSz"),l=this.safeString2(e,"px","slOrdPx"),f=this.safeString(e,"avgPx"),p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeString(e,"fee");let g,y;const b=this.safeString(this.options,"tgtCcy","base_ccy"),v=this.safeString(e,"tgtCcy",b),w=this.safeString(e,"instType");let k;if("buy"===a&&"market"===c&&"SPOT"===w&&"quote_ccy"===v?y=this.safeString(e,"sz"):g=this.safeString(e,"sz"),void 0!==m){const t=T.stringNeg(m),i=this.safeString(e,"feeCcy"),r=this.safeCurrencyCode(i);k={cost:this.parseNumber(t),currency:r}}let S=this.safeString(e,"clOrdId");void 0!==S&&S.length<1&&(S=void 0);const _=this.safeNumber(e,"slTriggerPx");return this.safeOrder2({info:e,id:i,clientOrderId:S,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:d,type:c,timeInForce:o,postOnly:n,side:a,price:l,stopPrice:_,average:f,cost:y,amount:g,filled:u,remaining:void 0,status:p,fee:k,trades:void 0},t)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={instId:r.id},a=this.safeString2(i,"clOrdId","clientOrderId");void 0!==a?s.clOrdId=a:s.ordId=e;const n=this.omit(i,["clOrdId","clientOrderId"]),c=await this.privateGetTradeOrder(this.extend(s,n)),h=this.safeValue(c,"data",[]),d=this.safeValue(h,0);return this.parseOrder(d,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.instId=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetTradeOrdersPending(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeString(this.options,"defaultType"),a=this.safeValue(this.options,"fetchClosedOrders",{});let n=this.safeString(a,"type",s);n=this.safeString(r,"type",n),r=this.omit(r,"type");const o={};let c;void 0!==e&&(c=this.market(e),(c.futures||c.swap)&&(n=c.type),o.instId=c.id),o.instType=n.toUpperCase(),void 0!==i&&(o.limit=i);const h=this.safeString(a,"method","privateGetTradeOrdersHistory"),d=await this[h](this.extend(o,r)),u=this.safeValue(d,"data",[]);return this.parseOrders(u,c,t,i)}async fetchMyTrades(e,t,i,r={}){const s=this.safeString(this.options,"defaultType"),a=this.safeValue(this.options,"fetchMyTrades",{});let n=this.safeString(a,"type",s);r=this.omit(r,"type"),await this.loadMarkets();const o={};let c;void 0!==e&&(c=this.market(e),o.instId=c.id,n=c.type),o.instType=n.toUpperCase(),void 0!==i&&(o.limit=i);const h=await this.privateGetTradeFillsHistory(this.extend(o,r)),d=this.safeValue(h,"data",[]);return this.parseTrades(d,c,t,i,r)}async fetchOrderTrades(e,t,i,r,s={}){const a={ordId:e};return await this.fetchMyTrades(t,i,r,this.extend(a,s))}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchLedger",{});let a=this.safeString(s,"method");a=this.safeString(r,"method",a),r=this.omit(r,"method");const n={};let o;void 0!==i&&(n.limit=i),void 0!==e&&(o=this.currency(e),n.ccy=o.id);const c=await this[a](this.extend(n,r)),h=this.safeValue(c,"data",[]);return this.parseLedger(h,o,t,i)}parseLedgerEntryType(e){return this.safeString({1:"transfer",2:"trade",3:"trade",4:"rebate",5:"trade",6:"transfer",7:"trade",8:"fee",9:"trade",10:"trade",11:"trade"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"billId"),r=this.safeString(e,"ordId"),s=this.parseLedgerEntryType(this.safeString(e,"type")),a=this.safeCurrencyCode(this.safeString(e,"ccy"),t),n=this.safeString(e,"balChg"),o=this.parseNumber(n),c=this.safeInteger(e,"ts"),h=this.safeString(e,"fee");let d;void 0!==h&&(d={cost:this.parseNumber(T.stringNeg(h)),currency:a});const u=this.safeString(e,"bal"),l=this.parseNumber(u),f=this.safeString(e,"instId");let p;return f in this.markets_by_id&&(p=this.markets_by_id[f].symbol),{id:i,info:e,timestamp:c,datetime:this.iso8601(c),account:void 0,referenceId:r,referenceAccount:void 0,type:s,currency:a,symbol:p,amount:o,before:void 0,after:l,status:"ok",fee:d}}parseDepositAddress(e,t){const i=this.safeString(e,"addr");let r=this.safeString2(e,"tag","pmtId");r=this.safeString(e,"memo",r);const s=this.safeString(e,"ccy"),a=(t=this.safeCurrency(s,t)).code,n=this.safeString(e,"chain"),o=this.safeValue(t,"networks",{}),c=this.indexBy(o,"id"),h=this.safeValue(c,n),d=this.safeString(h,"network");return this.checkAddress(i),{currency:a,address:i,tag:r,network:d,info:e}}async fetchDepositAddressesByNetwork(e,t={}){await this.loadMarkets();const i={ccy:this.currency(e).id},r=await this.privateGetAssetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",[]),a=this.filterBy(s,"selected",!0),n=this.parseDepositAddresses(a,[e],!1);return this.indexBy(n,"network")}async fetchDepositAddress(e,t={}){const i=this.safeStringUpper(t,"network"),r=this.safeValue(this.options,"networks",{}),s=this.safeString(r,i,i);t=this.omit(t,"network");const a=await this.fetchDepositAddressesByNetwork(e,t);let n;if(void 0===s){if(n=this.safeValue(a,e),void 0===n){const t=this.safeString(r,e,e);if(n=this.safeValue(a,t),void 0===n){const t=this.safeString(this.options,"defaultNetwork","ERC20");if(n=this.safeValue(a,t),void 0===n){const t=Object.values(a);if(n=this.safeValue(t,0),void 0===n)throw new d(this.id+" fetchDepositAddress() cannot find deposit address for "+e)}}}return n}if(n=this.safeValue(a,s),void 0===n)throw new d(this.id+" fetchDepositAddress() cannot find "+s+" deposit address for "+e);return n}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);void 0!==r&&(i=i+":"+r);const c=this.safeString(a,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a 'fee' string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const h={ccy:n.id,toAddr:i,dest:"4",amt:this.numberToString(t),fee:this.numberToString(c)};"password"in a?h.pwd=a.password:"pwd"in a&&(h.pwd=a.pwd);const d=this.safeValue(this.options,"networks",{});let u=this.safeStringUpper(a,"network");u=this.safeString(d,u,u),void 0!==u&&(h.chain=n.id+"-"+u,a=this.omit(a,"network"));const l=this.omit(a,["fee","password","pwd"]);if(!("pwd"in h))throw new s(this.id+" withdraw() requires a password parameter or a pwd parameter, it must be the funding password, not the API passphrase");const f=await this.privatePostAssetWithdrawal(this.extend(h,l)),p=this.safeValue(f,"data",[]),m=this.safeValue(p,0);return this.parseTransaction(m,n)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.ccy=a.id),void 0!==t&&(s.before=Math.max(t-1,0)),void 0!==i&&(s.limit=i);const n=await this.privateGetAssetDepositHistory(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i,r)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.ccy=a.id),void 0!==t&&(s.before=Math.max(t-1,0)),void 0!==i&&(s.limit=i);const n=await this.privateGetAssetWithdrawalHistory(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,a,t,i,r)}parseTransactionStatus(e){return this.safeString({"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"},e,e)}parseTransaction(e,t){let i,r;const s=this.safeString(e,"wdId"),a=this.safeString(e,"from"),n=this.safeString(e,"to"),o=n;let c=this.safeString2(e,"tag","memo");c=this.safeString2(e,"pmtId",c),void 0!==s?(i="withdrawal",r=s):(r=this.safeString(e,"depId"),i="deposit");const h=this.safeString(e,"ccy"),d=this.safeCurrencyCode(h),u=this.safeNumber(e,"amt"),l=this.parseTransactionStatus(this.safeString(e,"state")),f=this.safeString(e,"txId"),p=this.safeInteger(e,"ts");let m;return m="deposit"===i?0:this.safeNumber(e,"fee"),{info:e,id:r,currency:d,amount:u,addressFrom:a,addressTo:n,address:o,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:d,cost:m}}}async fetchLeverage(e,t={}){await this.loadMarkets();const i=this.safeStringLower(t,"mgnMode");if(t=this.omit(t,["mgnMode"]),"cross"!==i&&"isolated"!==i)throw new c(this.id+' setLeverage params["mgnMode"] must be either "cross" or "isolated"');const r={instId:this.market(e).id,mgnMode:i};return await this.privateGetAccountLeverageInfo(this.extend(r,t))}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeString(t,"type");t=this.omit(t,"type");const s={instId:i.id};void 0!==r&&(s.instType=r.toUpperCase()),t=this.omit(t,"type");const a=await this.privateGetAccountPositions(t),n=this.safeValue(a,"data",[]),o=this.safeValue(n,0);return void 0===o?o:this.parsePosition(o)}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"type");t=this.omit(t,"type");const r={};void 0!==i&&(r.instType=i.toUpperCase()),t=this.omit(t,"type");const s=await this.privateGetAccountPositions(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=[];for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"instType");"FUTURES"!==i&&"SWAP"!==i||n.push(this.parsePosition(a[e]))}return n}parsePosition(e,t){const i=this.safeString(e,"instId"),r=(t=this.safeMarket(i,t)).symbol,s=this.safeString(e,"pos"),a=T.stringAbs(s);let n,o=this.safeString(e,"posSide");const c="net"!==o;void 0!==s&&(n=this.parseNumber(a),"net"===o&&(o=T.stringGt(s,"0")?"long":"short"));const h=this.safeString(e,"markPx");let d=this.safeString(e,"notionalUsd");t.inverse&&(d=T.stringDiv(d,h));const u=this.parseNumber(d),l=this.safeString(e,"mgnMode");let f;const p=this.safeString(e,"avgPx"),m=this.safeString(e,"upl"),g=this.safeString(e,"lever");let y,b;"cross"===l?(f=this.safeString(e,"imr"),b=T.stringAdd(f,m)):"isolated"===l&&(y=T.stringDiv("1",g),b=this.safeString(e,"margin"));const v=this.safeString(e,"mmr"),w=this.parseNumber(v);let k=T.stringDiv(v,d);void 0===y?y=this.parseNumber(T.stringDiv(f,d,4)):void 0===f&&(f=T.stringMul(y,d)),k=this.parseNumber(T.stringDiv(T.stringAdd(k,"0.00005"),"1",4));const S=this.safeNumber(e,"liqPx"),_=this.safeString(e,"uplRatio"),M=this.parseNumber(T.stringMul(_,"100")),O=this.safeInteger(e,"uTime"),x=this.parseNumber(T.stringDiv(v,b,4));return{info:e,symbol:r,notional:u,marginType:l,liquidationPrice:S,entryPrice:this.parseNumber(p),unrealizedPnl:this.parseNumber(m),percentage:M,contracts:n,contractSize:this.parseNumber(t.contractSize),markPrice:this.parseNumber(h),side:o,hedged:c,timestamp:O,datetime:this.iso8601(O),maintenanceMargin:w,maintenanceMarginPercentage:k,collateral:this.parseNumber(b),initialMargin:this.parseNumber(f),initialMarginPercentage:this.parseNumber(y),leverage:this.parseNumber(g),marginRatio:x}}async transfer(e,t,i,r,a={}){await this.loadMarkets();const n=this.currency(e),o=this.safeValue(this.options,"accountsByType",{}),c=this.safeString(o,i),h=this.safeString(o,r);if(void 0===c){const e=Object.keys(o);throw new s(this.id+" fromAccount must be one of "+e.join(", "))}if(void 0===h){const e=Object.keys(o);throw new s(this.id+" toAccount must be one of "+e.join(", "))}const d={ccy:n.id,amt:this.currencyToPrecision(e,t),type:"0",from:c,to:h},u=await this.privatePostAssetTransfer(this.extend(d,a)),l=this.safeValue(u,"data",[]),f=this.safeValue(l,0,{});return this.parseTransfer(f,n)}parseTransfer(e,t){const i=this.safeString(e,"transId"),r=this.safeString(e,"ccy"),s=this.safeCurrencyCode(r,t),a=this.safeNumber(e,"amt"),n=this.safeString(e,"from"),o=this.safeString(e,"to"),c=this.safeValue(this.options,"typesByAccount",{}),h=this.safeString(c,n),d=this.safeString(c,o),u=void 0;return{info:e,id:i,timestamp:u,datetime:this.iso8601(u),currency:s,amount:a,fromAccount:h,toAccount:d,status:void 0}}sign(e,t="public",i="GET",r={},s,a){const n=Array.isArray(r),o="/api/"+this.version+"/"+this.implodeParams(e,r),c=this.omit(r,this.extractParams(e));let h=this.implodeHostname(this.urls.api.rest)+o;if("public"===t)Object.keys(c).length&&(h+="?"+this.urlencode(c));else if("private"===t){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());s={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);h+=e,t+=e}}else(n||Object.keys(c).length)&&(t+=a=this.json(c)),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["OK-ACCESS-SIGN"]=r}return{url:h,method:i,body:a,headers:s}}parseFundingRate(e,t){const i=this.safeInteger(e,"fundingTime");let r;void 0!==i&&(r=i-288e5);const s=this.safeString(e,"instId"),a=this.safeSymbol(s,t),n=this.safeNumber(e,"fundingRate");return{info:e,symbol:a,markPrice:void 0,indexPrice:void 0,interestRate:this.parseNumber("0"),estimatedSettlePrice:void 0,timestamp:void 0,datetime:void 0,previousFundingRate:void 0,nextFundingRate:n,previousFundingTimestamp:r,nextFundingTimestamp:i,previousFundingDatetime:this.iso8601(r),nextFundingDatetime:this.iso8601(i)}}async fetchFundingRate(e,t={}){await this.loadMarkets();const i=this.market(e);if(!i.swap)throw new s(this.id+" fetchFundingRate is only valid for swap markets");const r={instId:i.id},a=await this.publicGetPublicFundingRate(this.extend(r,t)),n=this.safeValue(a,"data",[]),o=this.safeValue(n,0,{});return this.parseFundingRate(o,i)}async fetchFundingHistory(e,t,i,r={}){await this.loadMarkets();const s={type:"8"};void 0!==i&&(s.limit=i.toString());const a=await this.privateGetAccountBills(this.extend(s,r)),n=this.safeValue(a,"data"),o=[];for(let e=0;e<n.length;e++){const t=n[e],i=this.safeInteger(t,"ts"),r=this.safeString(t,"instId"),s=this.safeMarket(r);o.push({info:t,symbol:s.symbol,code:s.inverse?s.base:s.quote,timestamp:i,datetime:this.iso8601(i),id:this.safeString(t,"billId"),amount:this.safeNumber(t,"balChg")})}const c=this.sortBy(o,"timestamp");return this.filterBySymbolSinceLimit(c,e,t,i)}async setLeverage(e,t,i={}){if(void 0===t)throw new o(this.id+" setLeverage() requires a symbol argument");if(e<1||e>125)throw new c(this.id+" setLeverage leverage should be between 1 and 125");await this.loadMarkets();const r=this.market(t),s=this.safeStringLower(i,"mgnMode");if(i=this.omit(i,["mgnMode"]),"cross"!==s&&"isolated"!==s)throw new c(this.id+' setLeverage params["mgnMode"] must be either "cross" or "isolated"');const a={lever:e,mgnMode:s,instId:r.id};return await this.privatePostAccountSetLeverage(this.extend(a,i))}async setPositionMode(e,t,i={}){let r;r=e?"long_short_mode":"net_mode";const s={posMode:r};return await this.privatePostAccountSetPositionMode(this.extend(s,i))}async setMarginMode(e,t,i={}){if(void 0===t)throw new o(this.id+" setLeverage() requires a symbol argument");if("cross"!==e&&"isolated"!==e)throw new c(this.id+' setMarginMode marginType must be either "cross" or "isolated"');await this.loadMarkets();const r=this.market(t),s=this.safeInteger(i,"lever");if(void 0===s||s<1||s>125)throw new c(this.id+' setMarginMode params["lever"] should be between 1 and 125');i=this.omit(i,["lever"]);const a={lever:s,mgnMode:e,instId:r.id};return await this.privatePostAccountSetLeverage(this.extend(a,i))}async modifyMarginHelper(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.safeString(r,"posSide","net");r=this.omit(r,["posSide"]);const n={instId:s.id,amt:t,type:i,posSide:a},o=await this.privatePostAccountPositionMarginBalance(this.extend(n,r)),c=this.safeValue(o,"data",[]),h=this.safeValue(c,0,{}),d="0"===this.safeString(o,"code")?"ok":"failed",u=this.safeNumber(h,"amt"),l=this.safeString(h,"type"),f=this.safeString(h,"instId"),p=this.safeMarket(f,s);return{info:o,type:l,amount:u,code:p.inverse?p.base:p.quote,symbol:e=p.symbol,status:d}}async fetchBorrowRates(e={}){await this.loadMarkets();const t=await this.privateGetAccountInterestRate(e),i=this.milliseconds(),r=this.safeValue(t,"data"),s={};for(let e=0;e<r.length;e++){const t=r[e],a=this.safeCurrencyCode(this.safeString(t,"ccy"));s[a]={currency:a,rate:this.safeNumber(t,"interestRate"),period:864e5,timestamp:i,datetime:this.iso8601(i),info:t}}return s}async fetchBorrowRate(e,t={}){await this.loadMarkets();const i={ccy:this.currency(e).id},r=await this.privateGetAccountInterestRate(this.extend(i,t)),s=this.milliseconds(),a=this.safeValue(r,"data"),n=this.safeValue(a,0);return{currency:e,rate:this.safeNumber(n,"interestRate"),period:864e5,timestamp:s,datetime:this.iso8601(s),info:n}}async reduceMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,"reduce",i)}async addMargin(e,t,i={}){return await this.modifyMarginHelper(e,t,"add",i)}setSandboxMode(e){this.headers["x-simulated-trading"]=e?1:null}handleErrors(e,t,i,r,a,n,o,c,h){if(!o)return;const d=this.safeString(o,"code");if("0"!==d){const e=this.id+" "+n,t=this.safeValue(o,"data",[]);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeString(r,"sCode"),a=this.safeString(r,"sMsg");this.throwExactlyMatchedException(this.exceptions.exact,s,e),this.throwBroadlyMatchedException(this.exceptions.broad,a,e)}throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),new s(e)}}}},5645:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,OnMaintenance:n,ArgumentsRequired:o,BadRequest:c,AccountSuspended:h,InvalidAddress:d,PermissionDenied:u,DDoSProtection:l,InsufficientFunds:f,InvalidNonce:p,CancelPending:m,InvalidOrder:g,OrderNotFound:y,AuthenticationError:b,RequestTimeout:v,NotSupported:w,BadSymbol:k,RateLimitExceeded:S}=i(73449),{TICK_SIZE:_,TRUNCATE:M}=i(62115),T=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex3",name:"OKEX",countries:["CN"],version:"v3",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,future:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2678400","3M":"8035200","6M":"16070400","1y":"31536000"},hostname:"okex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{rest:"https://www.{hostname}"},www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com/join/1888677",test:{rest:"https://testnet.okex.com"}},api:{general:{get:["time"]},account:{get:["wallet","sub-account","asset-valuation","wallet/{currency}","withdrawal/history","withdrawal/history/{currency}","ledger","deposit/address","deposit/history","deposit/history/{currency}","currencies","withdrawal/fee"],post:["transfer","withdrawal"]},spot:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","amend_order/{instrument_id}","orders_pending","orders/{order_id}","orders/{client_oid}","trade_fee","fills","algo","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles"],post:["order_algo","orders","batch_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_algos","cancel_batch_orders"]},margin:{get:["accounts","accounts/{instrument_id}","accounts/{instrument_id}/ledger","accounts/availability","accounts/{instrument_id}/availability","accounts/borrowed","accounts/{instrument_id}/borrowed","orders","accounts/{instrument_id}/leverage","orders/{order_id}","orders/{client_oid}","orders_pending","fills","instruments/{instrument_id}/mark_price"],post:["accounts/borrow","accounts/repayment","orders","batch_orders","cancel_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_orders","accounts/{instrument_id}/leverage"]},futures:{get:["position","{instrument_id}/position","accounts","accounts/{underlying}","accounts/{underlying}/leverage","accounts/{underlying}/ledger","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","trade_fee","accounts/{instrument_id}/holds","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/estimated_price","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/liquidation"],post:["accounts/{underlying}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","accounts/margin_mode","close_position","cancel_all","order_algo","cancel_algos"]},swap:{get:["position","{instrument_id}/position","accounts","{instrument_id}/accounts","accounts/{instrument_id}/settings","accounts/{instrument_id}/ledger","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","accounts/{instrument_id}/holds","trade_fee","order_algo/{instrument_id}","instruments","instruments/{instrument_id}/depth","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/history/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/funding_time","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/historical_funding_rate"],post:["accounts/{instrument_id}/leverage","order","amend_order/{instrument_id}","orders","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","order_algo","cancel_algos","close_position","cancel_all","order_algo","cancel_algos"]},option:{get:["accounts","position","{underlying}/position","accounts/{underlying}","orders/{underlying}","fills/{underlying}","accounts/{underlying}/ledger","trade_fee","orders/{underlying}/{order_id}","orders/{underlying}/{client_oid}","underlying","instruments/{underlying}","instruments/{underlying}/summary","instruments/{underlying}/summary/{instrument_id}","instruments/{instrument_id}/book","instruments/{instrument_id}/trades","instruments/{instrument_id}/ticker","instruments/{instrument_id}/candles"],post:["order","orders","cancel_order/{underlying}/{order_id}","cancel_order/{underlying}/{client_oid}","cancel_batch_orders/{underlying}","amend_order/{underlying}","amend_batch_orders/{underlying}"]},information:{get:["{currency}/long_short_ratio","{currency}/volume","{currency}/taker","{currency}/sentiment","{currency}/margin"]},index:{get:["{instrument_id}/constituents"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,"failure to get a peer from the ring-balancer":a,"Server is busy, please try again.":a,"An unexpected error occurred":s,"System error":s,4010:u,4001:s,4002:s,30001:b,30002:b,30003:b,30004:b,30005:p,30006:b,30007:c,30008:v,30009:s,30010:b,30011:u,30012:b,30013:b,30014:l,30015:b,30016:s,30017:s,30018:s,30019:a,30020:c,30021:c,30022:u,30023:c,30024:k,30025:c,30026:l,30027:b,30028:u,30029:h,30030:a,30031:c,30032:k,30033:c,30034:s,30035:s,30036:s,30037:a,30038:n,30044:v,32001:h,32002:u,32003:m,32004:s,32005:g,32006:g,32007:g,32008:g,32009:g,32010:s,32011:s,32012:s,32013:s,32014:s,32015:s,32016:s,32017:s,32018:s,32019:s,32020:s,32021:s,32022:s,32023:s,32024:s,32025:s,32026:s,32027:s,32028:s,32029:s,32030:g,32031:o,32038:b,32040:s,32044:s,32045:s,32046:s,32047:s,32048:g,32049:s,32050:g,32051:g,32052:s,32053:s,32057:s,32054:s,32055:g,32056:s,32058:s,32059:g,32060:g,32061:g,32062:g,32063:g,32064:s,32065:s,32066:s,32067:s,32068:s,32069:s,32070:s,32071:s,32072:s,32073:s,32074:s,32075:s,32076:s,32077:s,32078:s,32079:s,32080:s,32083:s,33001:u,33002:h,33003:f,33004:s,33005:s,33006:s,33007:s,33008:f,33009:s,33010:s,33011:s,33012:s,33013:g,33014:y,33015:g,33016:s,33017:f,33018:s,33020:s,33021:c,33022:g,33023:s,33024:g,33025:g,33026:s,33027:g,33028:g,33029:g,33034:s,33035:s,33036:s,33037:s,33038:s,33039:s,33040:s,33041:s,33042:s,33043:s,33044:s,33045:s,33046:s,33047:s,33048:s,33049:s,33050:s,33051:s,33059:c,33060:c,33061:s,33062:s,33063:s,33064:s,33065:s,33085:g,21009:s,34001:u,34002:d,34003:s,34004:s,34005:s,34006:s,34007:s,34008:f,34009:s,34010:s,34011:s,34012:s,34013:s,34014:s,34015:s,34016:u,34017:h,34018:b,34019:u,34020:u,34021:d,34022:s,34023:u,34026:S,34036:s,34037:s,34038:s,34039:s,35001:s,35002:s,35003:s,35004:s,35005:b,35008:g,35010:g,35012:g,35014:g,35015:g,35017:s,35019:g,35020:g,35021:g,35022:c,35024:c,35025:f,35026:c,35029:y,35030:g,35031:g,35032:s,35037:s,35039:f,35040:g,35044:s,35046:f,35047:f,35048:s,35049:g,35050:g,35052:f,35053:s,35055:f,35057:s,35058:s,35059:c,35060:c,35061:c,35062:g,35063:g,35064:g,35066:g,35067:g,35068:g,35069:g,35070:g,35071:g,35072:g,35073:g,35074:g,35075:g,35076:g,35077:g,35078:g,35079:g,35080:g,35081:g,35082:g,35083:g,35084:g,35085:g,35086:g,35087:g,35088:g,35089:g,35090:s,35091:s,35092:s,35093:s,35094:s,35095:c,35096:s,35097:s,35098:s,35099:s,35102:S,36001:c,36002:c,36005:s,36101:b,36102:u,36103:u,36104:u,36105:u,36106:u,36107:u,36108:f,36109:u,36201:u,36202:u,36203:g,36204:s,36205:c,36206:c,36207:g,36208:g,36209:g,36210:g,36211:g,36212:g,36213:g,36214:s,36216:y,36217:g,36218:g,36219:g,36220:g,36221:g,36222:g,36223:g,36224:g,36225:g,36226:g,36227:g,36228:g,36229:g,36230:g},broad:{}},precisionMode:_,options:{fetchOHLCV:{type:"Candles"},createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap","option"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","{instrument_id}/constituents":"public"},warnOnFetchCurrenciesWithoutAuthorization:!1},commonCurrencies:{AE:"AET",BOX:"DefiBox",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",SBTC:"Super Bitcoin",TRADE:"Unitrade",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchTime(e={}){const t=await this.generalGetTime(e);return this.parse8601(this.safeString(t,"iso"))}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instrument_id");let i="spot",r=!0,s=!1,a=!1,n=!1,o=this.safeString(e,"base_currency"),c=this.safeString(e,"quote_currency");if(void 0!==this.safeNumber(e,"contract_val"))if("option_type"in e){i="option",r=!1,n=!0;const t=this.safeString(e,"underlying").split("-");o=this.safeString(t,0),c=this.safeString(t,1)}else i="swap",r=!1,a=!0,void 0!==this.safeString(e,"alias")&&(a=!1,s=!0,i="futures",o=this.safeString(e,"underlying_index"));const h=this.safeCurrencyCode(o),d=this.safeCurrencyCode(c),u=r?h+"/"+d:t,l=this.safeNumber2(e,"lot_size","trade_increment"),f=this.safeString(e,"tick_size"),p={amount:this.safeNumber(e,"size_increment",l),price:this.parseNumber(f)},m=this.safeString2(e,"min_size","base_min_size"),g=this.parseNumber(m);let y;void 0!==g&&void 0!==f&&(y=this.parseNumber(T.stringMul(f,m)));const b=this.safeValue2(this.fees,i,"trading",{});return this.extend(b,{id:t,symbol:u,base:h,quote:d,baseId:o,quoteId:c,info:e,type:i,spot:r,futures:s,swap:a,option:n,active:!0,precision:p,limits:{amount:{min:g,max:void 0},price:{min:p.price,max:void 0},cost:{min:y,max:void 0}}})}async fetchMarketsByType(e,t={}){if("option"===e){const e=await this.optionGetUnderlying(t);let i=[];for(let t=0;t<e.length;t++){const r=await this.optionGetInstrumentsUnderlying({underlying:e[t]});i=this.arrayConcat(i,r)}return this.parseMarkets(i)}if("spot"===e||"futures"===e||"swap"===e){const i=e+"GetInstruments",r=await this[i](t);return this.parseMarkets(r)}throw new w(this.id+" fetchMarketsByType does not support market type "+e)}async fetchCurrencies(e={}){if(this.checkRequiredCredentials(!1)){const t=await this.accountGetCurrencies(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=1e-8,o=this.safeString(r,"name"),c=this.safeInteger(r,"can_deposit"),h=this.safeInteger(r,"can_withdraw"),d=!(!c||!h);i[a]={id:s,code:a,info:r,type:void 0,name:o,active:d,fee:void 0,precision:n,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(r,"min_withdrawal"),max:void 0}}}}return i}if(this.options.warnOnFetchCurrenciesWithoutAuthorization)throw new s(this.id+' fetchCurrencies() is a private API endpoint that requires authentication with API keys. Set the API keys on the exchange instance or exchange.options["warnOnFetchCurrenciesWithoutAuthorization"] = false to suppress this warning message.')}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);let s=r.type+"GetInstrumentsInstrumentId";s+="swap"===r.type?"Depth":"Book";const a={instrument_id:r.id};void 0!==t&&(a.size=t);const n=await this[s](this.extend(a,i)),o=this.parse8601(this.safeString2(n,"timestamp","time"));return this.parseOrderBook(n,e,o)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp"));let r;const s=this.safeString(e,"instrument_id");if(s in this.markets_by_id)r=(t=this.markets_by_id[s]).symbol;else if(void 0!==s){const e=s.split("-");if(2===e.length){const[t,i]=e;r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}else r=s}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open_24h");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_24h"),low:this.safeNumber(e,"low_24h"),bid:this.safeNumber(e,"best_bid"),bidVolume:this.safeNumber(e,"best_bid_size"),ask:this.safeNumber(e,"best_ask"),askVolume:this.safeNumber(e,"best_ask_size"),vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"base_volume_24h"),quoteVolume:this.safeNumber(e,"quote_volume_24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=i.type+"GetInstrumentsInstrumentIdTicker",s={instrument_id:i.id},a=await this[r](this.extend(s,t));return this.parseTicker(a)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const r=e+"GetInstrumentsTicker",s=await this[r](i),a={};for(let e=0;e<s.length;e++){const t=this.parseTicker(s[e]);a[t.symbol]=t}return this.filterByArray(a,"symbol",t)}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){let i;const r=this.safeString(e,"instrument_id");let s,a;if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol,s=t.base,a=t.quote;else if(void 0!==r){const e=r.split("-");if(2===e.length){const[t,r]=e;s=this.safeCurrencyCode(t),a=this.safeCurrencyCode(r),i=s+"/"+a}else i=r}void 0===i&&void 0!==t&&(i=t.symbol,s=t.base,a=t.quote);const n=this.parse8601(this.safeString2(e,"timestamp","created_at")),o=this.safeString(e,"price");let c=this.safeString2(e,"size","qty");c=this.safeString(e,"order_qty",c);const h=this.parseNumber(o),d=this.parseNumber(c),u=this.parseNumber(T.stringMul(o,c));let l=this.safeString2(e,"exec_type","liquidity");"M"===l?l="maker":"T"===l&&(l="taker");const f=this.safeString(e,"side"),p=this.safeNumber(e,"fee");let m;void 0!==p&&(m={cost:-p,currency:"buy"===f?s:a});const g=this.safeString(e,"order_id");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:i,id:this.safeString2(e,"trade_id","ledger_id"),order:g,type:void 0,takerOrMaker:l,side:f,price:h,amount:d,cost:u,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=s.type+"GetInstrumentsInstrumentIdTrades";(void 0===i||i>100)&&(i=100);const n={instrument_id:s.id,limit:i},o=await this[a](this.extend(n,r));return this.parseTrades(o,s,t,i)}parseOHLCV(e,t){if(Array.isArray(e)){const t=e.length>6?6:5;let i=this.safeValue(e,0);return"string"==typeof i&&(i=this.parse8601(i)),[i,this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,t)]}return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.parseTimeframe(t),o={instrument_id:a.id,granularity:this.timeframes[t]},c=this.safeValue(this.options,"fetchOHLCV",{}),h=this.safeString(c,"type","Candles"),d=this.safeString(s,"type",h);s=this.omit(s,"type");const u=a.type+"GetInstrumentsInstrumentId"+d;if("Candles"===d){if(void 0!==i)void 0!==r&&(o.end=this.iso8601(this.sum(i,r*n*1e3))),o.start=this.iso8601(i);else if(void 0!==r){const e=this.milliseconds();o.start=this.iso8601(e-r*n*1e3),o.end=this.iso8601(e)}}else if("HistoryCandles"===d){if(a.option)throw new w(this.id+" fetchOHLCV does not have "+d+" for "+a.type+" markets");if(void 0!==i)void 0===r&&(r=300),o.start=this.iso8601(this.sum(i,r*n*1e3)),o.end=this.iso8601(i);else if(void 0!==r){const e=this.milliseconds();o.end=this.iso8601(e-r*n*1e3),o.start=this.iso8601(e)}}const l=await this[u](this.extend(o,s));return this.parseOHLCVs(l,a,t,i,r)}parseAccountBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(r,"balance"),n.used=this.safeString(r,"hold"),n.free=this.safeString(r,"available"),t[a]=n}return this.parseBalance(t)}parseMarginBalance(e){const t={info:e,timestamp:void 0,datetime:void 0};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"instrument_id"),a=this.safeValue(this.markets_by_id,s);let n;if(void 0===a){const[e,t]=s.split("-");n=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}else n=a.symbol;const o=this.omit(r,["instrument_id","liquidation_price","product_id","risk_rate","margin_ratio","maint_margin_ratio","tiers"]),c=Object.keys(o),h={};for(let e=0;e<c.length;e++){const t=c[e],i=r[t];if(!(t.indexOf(":")>=0))throw new w(this.id+" margin balance response format has changed!");{const e=t.split(":")[1],r=this.safeCurrencyCode(e),s=this.account();s.total=this.safeString(i,"balance"),s.used=this.safeString(i,"hold"),s.free=this.safeString(i,"available"),h[r]=s}}t[n]=this.parseBalance(h)}return t}parseFuturesBalance(e){const t={info:e,timestamp:void 0,datetime:void 0},i=this.safeValue(e,"info",{}),r=Object.keys(i);for(let e=0;e<r.length;e++){const s=r[e],a=this.safeCurrencyCode(s),n=this.safeValue(i,s,{}),o=this.account(),c=this.safeString(n,"total_avail_balance");if("fixed"===this.safeString(n,"margin_mode")){const e=this.safeValue(n,"contracts",[]);let t=c;for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"fixed_balance"),a=this.safeString(r,"realized_pnl"),n=this.safeString(r,"margin_frozen"),o=this.safeString(r,"margin_for_unfilled"),c=T.stringSub(T.stringSub(T.stringAdd(s,a),n),o);t=T.stringAdd(t,c)}o.free=t}else{const e=this.safeString(n,"realized_pnl"),t=this.safeString(n,"unrealized_pnl"),i=this.safeString(n,"margin_frozen"),r=this.safeString(n,"margin_for_unfilled"),s=T.stringAdd(T.stringAdd(c,e),t);o.free=T.stringSub(T.stringSub(s,i),r)}o.total=this.safeString(n,"equity"),t[a]=o}return this.parseBalance(t)}parseSwapBalance(e){const t={info:e};let i;const r=this.safeValue(e,"info",[]);for(let e=0;e<r.length;e++){const s=r[e],a=this.safeString(s,"instrument_id");let n=a;a in this.markets_by_id&&(n=this.markets_by_id[a].symbol);const o=this.parse8601(this.safeString(s,"timestamp"));i=void 0===i?o:Math.max(i,o);const c=this.account();c.total=this.safeString(s,"equity"),c.free=this.safeString(s,"total_avail_balance"),t[n]=c}return t.timestamp=i,t.datetime=this.iso8601(i),this.parseBalance(t)}async fetchBalance(e={}){const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new o(this.id+" fetchBalance() requires a type parameter (one of 'account', 'spot', 'margin', 'futures', 'swap')");await this.loadMarkets();const r=i+"Get"+("account"===i?"Wallet":"Accounts"),s=this.omit(e,"type"),a=await this[r](s);return this.parseBalanceByType(i,a)}parseBalanceByType(e,t){if("account"===e||"spot"===e)return this.parseAccountBalance(t);if("margin"===e)return this.parseMarginBalance(t);if("futures"===e)return this.parseFuturesBalance(t);if("swap"===e)return this.parseSwapBalance(t);throw new w(this.id+" fetchBalance does not support the '"+e+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o={instrument_id:n.id};const c=this.safeString2(a,"client_oid","clientOrderId");let h;if(void 0!==c&&(o.client_oid=c,a=this.omit(a,["client_oid","clientOrderId"])),n.futures||n.swap){const i=n.futures?this.numberToString(r):this.amountToPrecision(e,r);o=this.extend(o,{type:t,size:i});const c=this.safeString(a,"order_type");"market"===t||"4"===c?o.order_type="4":o.price=this.priceToPrecision(e,s),n.futures&&(o.leverage="10"),h=n.type+"PostOrder"}else{const c=this.safeString(a,"margin_trading","1");if(o=this.extend(o,{side:i,type:t,margin_trading:c}),"limit"===t)o.price=this.priceToPrecision(e,s),o.size=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let e=this.safeNumber(a,"notional");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==s)void 0===e&&(e=r*s);else if(void 0===e)throw new g(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'notional' extra parameter (the exchange-specific behaviour)")}else e=void 0===e?r:e;const t=n.precision.price;o.notional=this.decimalToPrecision(e,M,t,this.precisionMode)}else o.size=this.amountToPrecision(e,r);h="2"===c?"marginPostOrders":"spotPostOrders"}const d=await this[h](this.extend(o,a)),u=this.parseOrder(d,n);return this.extend(u,{type:t,side:i})}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t);let s;if(r.futures||r.swap)s=r.type;else{const e=this.safeString2(this.options,"cancelOrder","defaultType",r.type);s=this.safeString(i,"type",e)}if(void 0===s)throw new o(this.id+" cancelOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");let a=s+"PostCancelOrder";const n={instrument_id:r.id};r.futures||r.swap?a+="InstrumentId":a+="s";const c=this.safeString2(i,"client_oid","clientOrderId");void 0!==c?(a+="ClientOid",n.client_oid=c):(a+="OrderId",n.order_id=e);const h=this.omit(i,["type","client_oid","clientOrderId"]),d=await this[a](this.extend(n,h)),u="result"in d?d:this.safeValue(d,r.id,{});return this.parseOrder(u,r)}parseOrderStatus(e){return this.safeString({"-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return this.safeString({1:"buy",2:"sell",3:"sell",4:"buy"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.parse8601(this.safeString(e,"timestamp"));let s=this.safeString(e,"side");const a=this.safeString(e,"type");let n;"buy"!==s&&"sell"!==s&&(s=this.parseOrderSide(a));const o=this.safeString(e,"instrument_id");n=o in this.markets_by_id?(t=this.markets_by_id[o]).symbol:o,void 0!==t&&void 0===n&&(n=t.symbol);let c=this.safeString(e,"size");const h=this.safeString2(e,"filled_size","filled_qty");let d;void 0!==c&&void 0!==h&&(c=T.stringMax(c,h),d=T.stringMax("0",T.stringSub(c,h))),"market"===a&&(d="0");let u=this.safeString2(e,"filled_notional","funds");const l=this.safeString(e,"price");let f=this.safeString(e,"price_avg");void 0===u?void 0!==h&&void 0!==f&&(u=T.stringMul(f,h)):void 0===f&&void 0!==h&&T.stringGt(h,"0")&&(f=T.stringDiv(u,h));const p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeNumber(e,"fee");let g;void 0!==m&&(g={cost:m,currency:void 0});let y=this.safeString(e,"client_oid");void 0!==y&&y.length<1&&(y=void 0);const b=this.safeNumber(e,"trigger_price");return this.safeOrder2({info:e,id:i,clientOrderId:y,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:a,timeInForce:void 0,postOnly:void 0,side:s,price:l,stopPrice:b,average:f,cost:u,amount:c,filled:h,remaining:d,status:p,fee:g,trades:void 0},t)}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOrder","defaultType",r.type),a=this.safeString(i,"type",s);if(void 0===a)throw new o(this.id+" fetchOrder() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");let n=a+"GetOrders"+(r.futures||r.swap?"InstrumentId":"");const c={instrument_id:r.id},h=this.safeString(i,"client_oid");void 0!==h?(n+="ClientOid",c.client_oid=h):(n+="OrderId",c.order_id=e);const d=this.omit(i,"type"),u=await this[n](this.extend(c,d));return this.parseOrder(u)}async fetchOrdersByState(e,t,i,r,s={}){if(void 0===t)throw new o(this.id+" fetchOrdersByState() requires a symbol argument");await this.loadMarkets();const a=this.market(t);let n;if(a.futures||a.swap)n=a.type;else{const e=this.safeString2(this.options,"fetchOrder","defaultType",a.type);n=this.safeString(s,"type",e)}if(void 0===n)throw new o(this.id+" fetchOrdersByState() requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");const c={instrument_id:a.id,state:e};let h=n+"GetOrders";(a.futures||a.swap)&&(h+="InstrumentId");const d=this.omit(s,"type"),u=await this[h](this.extend(c,d));let l;if(a.swap||a.futures)l=this.safeValue(u,"order_info",[]);else{l=u;const e=u.length;if(e<1)return[];e>1&&void 0!==this.safeValue(u[1],"before")&&(l=u[0])}return this.parseOrders(l,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("6",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("7",e,t,i,r)}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString2(e,"tag","payment_id");r=this.safeString2(e,"memo","Memo",r);const s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:a,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=e.split("-"),r={currency:this.currency(i[0]).id},s=await this.accountGetDepositAddress(this.extend(r,t)),a=this.parseDepositAddresses(s),n=this.safeValue(a,e);if(void 0===n)throw new d(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return n}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);r&&(i=i+":"+r);const c=this.safeString(a,"fee");if(void 0===c)throw new o(this.id+" withdraw() requires a 'fee' string parameter, network transaction fee must be  0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const h={currency:n.id,to_address:i,destination:"4",amount:this.numberToString(t),fee:c};"password"in a?h.trade_pwd=a.password:"trade_pwd"in a?h.trade_pwd=a.trade_pwd:this.password&&(h.trade_pwd=this.password);const d=this.omit(a,["fee","password","trade_pwd"]);if(!("trade_pwd"in h))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");const u=await this.accountPostWithdrawal(this.extend(h,d));return{info:u,id:this.safeString(u,"withdrawal_id")}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="accountGetDepositHistory";void 0!==e&&(a=this.currency(e),s.currency=a.id,n+="Currency");const o=await this[n](this.extend(s,r));return this.parseTransactions(o,a,t,i,r)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a,n="accountGetWithdrawalHistory";void 0!==e&&(a=this.currency(e),s.currency=a.id,n+="Currency");const o=await this[n](this.extend(s,r));return this.parseTransactions(o,a,t,i,r)}parseTransactionStatus(e){return this.safeString({"-3":"pending","-2":"canceled","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"},e,e)}parseTransaction(e,t){let i,r,s;const a=this.safeString(e,"withdrawal_id"),n=this.safeString(e,"from"),o=this.safeString(e,"to"),c=this.safeString(e,"tag");void 0!==a?(i="withdrawal",r=a,s=o):(r=this.safeString2(e,"payment_id","deposit_id"),i="deposit",s=o);const h=this.safeString(e,"currency"),d=this.safeCurrencyCode(h),u=this.safeNumber(e,"amount"),l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.safeString(e,"txid"),p=this.parse8601(this.safeString(e,"timestamp"));let m;if("deposit"===i)m=0;else if(void 0!==h){const t=this.safeString(e,"fee");if(void 0!==t){const e=h.toLowerCase(),i=t.replace(e,"");m=parseFloat(i)}}return{info:e,id:r,currency:d,amount:u,addressFrom:n,addressTo:o,address:s,tagFrom:void 0,tagTo:c,tag:c,status:l,type:i,updated:void 0,txid:f,timestamp:p,datetime:this.iso8601(p),fee:{currency:d,cost:m}}}parseMyTrade(e,t){const i=this.safeValue(e,1),r=this.safeValue(e,0),s=this.safeString(r,"instrument_id");if(s!==this.safeString(i,"instrument_id"))throw new w(this.id+" parseMyTrade() received unrecognized response format, differing instrument_ids in one fill, the exchange API might have changed, paste your verbose output: https://github.com/ccxt/ccxt/wiki/FAQ#what-is-required-to-get-help");const a=s,n=(t=this.safeMarket(a,t)).symbol,o=t.quoteId;let c,h,d,u;this.safeString(i,"currency")===o?(c=this.safeString(r,"side"),h=this.safeNumber(r,"size"),d=this.safeNumber(i,"size"),u=this.safeString(r,"currency")):(c=this.safeString(i,"side"),h=this.safeNumber(i,"size"),d=this.safeNumber(r,"size"),u=this.safeString(i,"currency"));const l=this.safeString(i,"trade_id"),f=this.safeNumber(i,"price"),p=this.safeNumber(r,"fee"),m=this.safeNumber(i,"fee"),g=this.safeCurrencyCode(this.safeString(r,"currency")),y=this.safeCurrencyCode(this.safeString(i,"currency"));let b,v;void 0!==p&&0!==p?void 0!==m&&0!==m?v=[{cost:-p,currency:g},{cost:-m,currency:y}]:b={cost:-p,currency:g}:b=void 0!==m&&0!==m?{cost:-m,currency:y}:{cost:0,currency:this.safeCurrencyCode(u)};const k=this.parse8601(this.safeString2(i,"timestamp","created_at"));let S=this.safeString2(i,"exec_type","liquidity");"M"===S?S="maker":"T"===S&&(S="taker");const _=this.safeString(i,"order_id"),M={info:e,timestamp:k,datetime:this.iso8601(k),symbol:n,id:l,order:_,type:void 0,takerOrMaker:S,side:c,price:f,amount:h,cost:d,fee:b};return void 0!==v&&(M.fees=v),M}parseMyTrades(e,t,i,r,s={}){const a=this.groupBy(e,"trade_id"),n=Object.keys(a),o=[];for(let e=0;e<n.length;e++){const t=a[n[e]];if(2===t.length){const e=this.parseMyTrade(t);o.push(e)}}let c;return void 0!==t&&(c=t.symbol),this.filterBySymbolSinceLimit(o,c,i,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e);void 0!==i&&i>100&&(i=100);const a={instrument_id:s.id},n=this.safeString2(this.options,"fetchMyTrades","defaultType"),c=this.safeString(r,"type",n),h=this.omit(r,"type"),d=c+"GetFills",u=await this[d](this.extend(a,h));return this.parseMyTrades(u,s,t,i,r)}async fetchOrderTrades(e,t,i,r,s={}){const a={order_id:e};return await this.fetchMyTrades(t,i,r,this.extend(a,s))}async fetchPosition(e,t={}){await this.loadMarkets();const i=this.market(e);let r;const s={instrument_id:i.id},a=i.type;if("futures"===a||"swap"===a)r=a+"GetInstrumentIdPosition";else{if("option"!==a)throw new w(this.id+" fetchPosition() does not support "+a+" market "+e+", supported market types are futures, swap or option");if(void 0===this.safeString(t,"underlying"))throw new o(this.id+" fetchPosition() requires an underlying parameter for "+a+" market "+e);r=a+"GetUnderlyingPosition"}return await this[r](this.extend(s,t))}async fetchPositions(e,t={}){let i;await this.loadMarkets();const r=this.safeString2(this.options,"fetchPositions","defaultType"),s=this.safeString(t,"type",r);if("futures"===s||"swap"===s)i=s+"GetPosition";else{if("option"!==s)throw new w(this.id+" fetchPositions() does not support "+s+" markets, supported market types are futures, swap or option");if(void 0===this.safeString(t,"underlying"))throw new o(this.id+" fetchPositions() requires an underlying parameter for "+s+" markets");i=s+"GetUnderlyingPosition"}return t=this.omit(t,"type"),await this[i](t)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=this.safeString2(this.options,"fetchLedger","defaultType"),a=this.safeString(r,"type",s),n=this.omit(r,"type"),c="account"===a?"":"Accounts";let h="";const d={};let u;if(void 0!==i&&(d.limit=i),"spot"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires a currency code argument for '"+a+"' markets");h="Currency",u=this.currency(e),d.currency=u.id}else if("futures"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires an underlying symbol for '"+a+"' markets");h="Underlying";const t=this.market(e),i=this.safeValue(t,"info",{}),r=this.safeString(i,"settlement_currency"),s=this.safeCurrencyCode(r);u=this.currency(s);const n=this.safeString(i,"underlying");d.underlying=n}else if("margin"===a||"swap"===a){if(void 0===e)throw new o(this.id+" fetchLedger() requires a code argument (a market symbol) for '"+a+"' markets");h="InstrumentId";const t=this.market(e);u=this.currency(t.base),d.instrument_id=t.id}else{if("account"!==a)throw new w(this.id+" fetchLedger does not support the '"+a+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')");void 0!==e&&(u=this.currency(e),d.currency=u.id)}const l=a+"Get"+c+h+"Ledger",f=await this[l](this.extend(d,n));if(f.length<1)return[];const p=Array.isArray(f[0]),m="margin"===a&&p?f[0]:f;if("swap"===a){const r=this.parseLedger(m);return this.filterBySymbolSinceLimit(r,e,t,i)}return this.parseLedger(m,u,t,i)}parseLedgerEntryType(e){return this.safeString({transfer:"transfer",trade:"trade",rebate:"rebate",match:"trade",fee:"fee",settlement:"trade",liquidation:"trade",funding:"fee",margin:"margin"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"ledger_id"),r=this.safeValue(e,"details",{}),s=this.safeString(r,"order_id"),a=this.parseLedgerEntryType(this.safeString(e,"type")),n=this.safeCurrencyCode(this.safeString(e,"currency"),t),o=this.safeNumber(e,"amount"),c=this.parse8601(this.safeString(e,"timestamp")),h={cost:this.safeNumber(e,"fee"),currency:n},d=this.safeNumber(e,"balance"),u=this.safeString(e,"instrument_id");let l;return u in this.markets_by_id&&(l=this.markets_by_id[u].symbol),{info:e,id:i,account:void 0,referenceId:s,referenceAccount:void 0,type:a,currency:n,symbol:l,amount:o,before:void 0,after:d,status:"ok",timestamp:c,datetime:this.iso8601(c),fee:h}}sign(e,t="public",i="GET",r={},s,a){const n=Array.isArray(r);let o="/api/"+t+"/"+this.version+"/";o+=n?e:this.implodeParams(e,r);const c=n?r:this.omit(r,this.extractParams(e));let h=this.implodeHostname(this.urls.api.rest)+o;const d=this.getPathAuthenticationType(e);if("public"===d||"information"===d)Object.keys(c).length&&(h+="?"+this.urlencode(c));else if("private"===d){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());s={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);h+=e,t+=e}}else(n||Object.keys(c).length)&&(t+=a=this.json(c)),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["OK-ACCESS-SIGN"]=r}return{url:h,method:i,body:a,headers:s}}getPathAuthenticationType(e){if("underlying"===e)return"public";const t=this.safeValue(this.options,"auth",{}),i=this.findBroadlyMatchedKey(t,e);return this.safeString(t,i,"private")}handleErrors(e,t,i,r,n,o,c,h,d){if(!c)return;const u=this.id+" "+o;if(503===e)throw new a(u);const l=this.safeString(c,"message"),f=this.safeString2(c,"code","error_code"),p=void 0!==l&&""!==l,m=void 0!==f&&"0"!==f;if(p&&(this.throwExactlyMatchedException(this.exceptions.exact,l,u),this.throwBroadlyMatchedException(this.exceptions.broad,l,u)),m&&this.throwExactlyMatchedException(this.exceptions.exact,f,u),m||p)throw new s(u)}}},62597:(e,t,i)=>{"use strict";const r=i(58579);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex5",alias:!0})}}},30757:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s}=i(73449),a=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87153930-f0f02200-c2c0-11ea-9c0a-40337375ae89.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",fees:"https://www.paymium.com/page/help/fees",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"],referral:"https://www.paymium.com/page/sign-up?referral=eDAzPoRQFMvaAB8sf-qj"},api:{public:{get:["countries","data/{currency}/ticker","data/{currency}/trades","data/{currency}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["user","user/addresses","user/addresses/{address}","user/orders","user/orders/{uuid}","user/price_alerts","merchant/get_payment/{uuid}"],post:["user/addresses","user/orders","user/withdrawals","user/email_transfers","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{uuid}","user/orders/{uuid}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",type:"spot",spot:!0}},fees:{trading:{maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUser(e),i={info:t},r=Object.keys(this.currencies);for(let e=0;e<r.length;e++){const s=r[e],a=this.currency(s).id,n="balance_"+a;if(n in t){const e=this.account(),r="locked_"+a;e.free=this.safeString(t,n),e.used=this.safeString(t,r),i[s]=e}}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.marketId(e)},s=await this.publicGetDataCurrencyDepth(this.extend(r,i));return this.parseOrderBook(s,e,void 0,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currency:this.marketId(e)},r=await this.publicGetDataCurrencyTicker(this.extend(i,t)),s=this.safeTimestamp(r,"at"),a=this.safeNumber(r,"vwap"),n=this.safeNumber(r,"volume");let o;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(r,"price");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:a,open:this.safeNumber(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:this.safeNumber(r,"variation"),average:void 0,baseVolume:n,quoteVolume:o,info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at_int"),r=this.safeString(e,"uuid");let s;void 0!==t&&(s=t.symbol);const n=this.safeString(e,"side"),o=this.safeString(e,"price"),c="traded_"+t.base.toLowerCase(),h=this.safeString(e,c),d=this.parseNumber(o),u=this.parseNumber(h),l=this.parseNumber(a.stringMul(o,h));return{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:n,takerOrMaker:void 0,price:d,amount:u,cost:l,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.id},n=await this.publicGetDataCurrencyTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={type:this.capitalize(t)+"Order",currency:this.marketId(e),direction:i,amount:r};"market"!==t&&(n.price=s);const o=await this.privatePostUserOrders(this.extend(n,a));return{info:o,id:o.uuid}}async cancelOrder(e,t,i={}){const r={uuid:e};return await this.privateDeleteUserOrdersUuidCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t=e+n;if(s={"Api-Key":this.apiKey,"Api-Nonce":e},"POST"===i)Object.keys(o).length&&(t+=a=this.json(o),s["Content-Type"]="application/json");else if(Object.keys(o).length){const e=this.urlencode(o);t+=e,n+="?"+e}s["Api-Signature"]=this.hmac(this.encode(t),this.encode(this.secret))}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&void 0!==this.safeValue(o,"errors"))throw new s(this.id+" "+this.json(o))}}},50788:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,BadSymbol:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c,ArgumentsRequired:h,OrderNotFound:d,BadRequest:u,PermissionDenied:l,AccountSuspended:f,CancelPending:p,DDoSProtection:m,DuplicateOrderId:g}=i(73449),{TICK_SIZE:y}=i(62115),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"phemex",name:"Phemex",countries:["CN"],rateLimit:100,version:"v1",certified:!1,pro:!0,hostname:"api.phemex.com",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchBorrowRate:!1,fetchBorrowRates:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchIndexOHLCV:!1,fetchMarkets:!0,fetchMarkOHLCV:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchPositions:!0,fetchPremiumIndexOHLCV:!1,fetchTicker:!0,fetchTrades:!0,fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/85225056-221eb600-b3d7-11ea-930d-564d2690e3f6.jpg",test:{v1:"https://testnet-api.phemex.com/v1",public:"https://testnet-api.phemex.com/exchange/public",private:"https://testnet-api.phemex.com"},api:{v1:"https://{hostname}/v1",public:"https://{hostname}/exchange/public",private:"https://{hostname}"},www:"https://phemex.com",doc:"https://github.com/phemex/phemex-api-docs",fees:"https://phemex.com/fees-conditions",referral:{url:"https://phemex.com/register?referralCode=EDNVJ",discount:.1}},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","3h":"10800","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800","1M":"2592000"},api:{public:{get:["cfg/v2/products","products","nomics/trades","md/kline"]},v1:{get:["md/orderbook","md/trade","md/ticker/24hr","md/ticker/24hr/all","md/spot/ticker/24hr","md/spot/ticker/24hr/all","exchange/public/products"]},private:{get:["spot/orders/active","spot/orders","spot/wallets","exchange/spot/order","exchange/spot/order/trades","accounts/accountPositions","accounts/positions","orders/activeList","exchange/order/list","exchange/order","exchange/order/trade","phemex-user/users/children","phemex-user/wallets/v2/depositAddress","exchange/margins/transfer","exchange/wallets/confirm/withdraw","exchange/wallets/withdrawList","exchange/wallets/depositList","exchange/wallets/v2/depositAddress"],post:["spot/orders","orders","positions/assign","exchange/wallets/transferOut","exchange/wallets/transferIn","exchange/margins","exchange/wallets/createWithdraw","exchange/wallets/cancelWithdraw","exchange/wallets/createWithdrawAddress"],put:["spot/orders","orders/replace","positions/leverage","positions/riskLimit"],delete:["spot/orders","spot/orders/all","orders/cancel","orders","orders/all"]}},precisionMode:y,fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001")}},requiredCredentials:{apiKey:!0,secret:!0},exceptions:{exact:{412:u,6001:u,19999:u,10001:g,10002:d,10003:p,10004:p,10005:p,11001:o,11002:c,11003:o,11004:c,11005:o,11006:s,11007:s,11008:s,11009:s,11010:o,11011:c,11012:c,11013:c,11014:c,11015:c,11016:u,11017:s,11018:s,11019:s,11020:s,11021:s,11022:f,11023:s,11024:s,11025:u,11026:s,11027:a,11028:a,11029:s,11030:s,11031:m,11032:m,11033:g,11034:c,11035:c,11036:c,11037:c,11038:c,11039:c,11040:c,11041:c,11042:c,11043:c,11044:c,11045:c,11046:c,11047:c,11048:c,11049:c,11050:c,11051:c,11052:c,11053:c,11054:c,11055:c,11056:c,11057:c,11058:c,11059:c,11060:c,11061:p,11062:c,11063:c,11064:c,11065:c,11066:c,11067:c,11068:c,11069:s,11070:a,11071:c,11072:c,11073:c,11074:c,11075:c,11076:c,11077:c,11078:c,11079:c,11080:c,11081:c,11082:o,11083:c,11084:c,11085:g,11086:c,11087:c,11088:c,11089:c,11090:c,11091:c,11092:c,11093:c,11094:c,11095:c,11096:c,11097:u,11098:u,11099:s,11100:o,11101:o,11102:u,11103:u,11104:u,11105:o,11106:o,11107:s,11108:c,11109:c,11110:c,11111:c,11112:c,11113:u,11114:c,11115:c,30018:u,39996:l},broad:{"Failed to find api-key":n,"Missing required parameter":u,"API Signature verification failed":n}},options:{"x-phemex-request-expiry":60,createOrderByQuoteRequiresPrice:!0,networks:{TRC20:"TRX",ERC20:"ETH"},defaultNetworks:{USDT:"ETH"}}})}parseSafeNumber(e){if(void 0===e)return e;let t=e.split(",");return e=t.join(""),t=e.split(" "),this.safeNumber(t,0)}parseSwapMarket(e){const t=this.safeString(e,"symbol"),i=this.safeString2(e,"baseCurrency","contractUnderlyingAssets"),r=this.safeString(e,"quoteCurrency"),s=this.safeCurrencyCode(i),a=this.safeCurrencyCode(r),n=this.safeStringLower(e,"type");let o=!1;this.safeString(e,"settleCurrency")!==r&&(o=!0);const c=!o;let h;h=c?s+"/"+a+":"+a:s+"/"+a+":"+s;const d={amount:this.safeNumber(e,"lotSize"),price:this.safeNumber(e,"tickSize")},u=this.safeInteger(e,"priceScale"),l=this.safeInteger(e,"ratioScale"),f=this.safeInteger(e,"valueScale"),p=this.safeString(e,"minPriceEp"),m=this.safeString(e,"maxPriceEp"),g=this.safeString(e,"makerFeeRateEr"),y=this.safeString(e,"takerFeeRateEr"),b=this.parseNumber(this.fromEn(g,l)),v=this.parseNumber(this.fromEn(y,l)),w={amount:{min:d.amount,max:void 0},price:{min:this.parseNumber(this.fromEn(p,u)),max:this.parseNumber(this.fromEn(m,u))},cost:{min:void 0,max:this.parseNumber(this.safeString(e,"maxOrderQty"))}};return{id:t,symbol:h,base:s,quote:a,baseId:i,quoteId:r,info:e,type:n,spot:!1,swap:!0,linear:c,inverse:o,active:"Listed"===this.safeString(e,"status"),taker:v,maker:b,priceScale:u,valueScale:f,ratioScale:l,precision:d,contractSize:this.safeString(e,"contractSize"),limits:w}}parseSpotMarket(e){const t=this.safeStringLower(e,"type"),i=this.safeString(e,"symbol"),r=this.safeString(e,"quoteCurrency"),s=this.safeString(e,"baseCurrency"),a=this.safeNumber(e,"defaultTakerFee"),n=this.safeNumber(e,"defaultMakerFee"),o={amount:this.parseSafeNumber(this.safeString(e,"baseTickSize")),price:this.parseSafeNumber(this.safeString(e,"quoteTickSize"))},c={amount:{min:o.amount,max:this.parseSafeNumber(this.safeString(e,"maxBaseOrderSize"))},price:{min:o.price,max:void 0},cost:{min:this.parseSafeNumber(this.safeString(e,"minOrderValue")),max:this.parseSafeNumber(this.safeString(e,"maxOrderValue"))}},h=this.safeCurrencyCode(s),d=this.safeCurrencyCode(r);return{id:i,symbol:h+"/"+d,base:h,quote:d,baseId:s,quoteId:r,info:e,type:t,spot:!0,swap:!1,linear:void 0,inverse:void 0,active:"Listed"===this.safeString(e,"status"),taker:a,maker:n,precision:o,priceScale:8,valueScale:8,ratioScale:8,contractSize:void 0,limits:c}}async fetchMarkets(e={}){const t=await this.publicGetCfgV2Products(e),i=await this.v1GetExchangePublicProducts(e),r=this.safeValue(i,"data",[]),s=this.safeValue(t,"data",{}),a=this.safeValue(s,"products",[]),n=this.safeValue(s,"riskLimits",[]),o=this.indexBy(n,"symbol"),c=this.indexBy(r,"symbol"),h=[];for(let e=0;e<a.length;e++){let t=a[e];if("perpetual"===this.safeStringLower(t,"type")){const e=this.safeString(t,"symbol"),i=this.safeValue(o,e,{});t=this.extend(t,i);const r=this.safeValue(c,e,{});t=this.extend(t,r),t=this.parseSwapMarket(t)}else t=this.parseSpotMarket(t);h.push(t)}return h}async fetchCurrencies(e={}){const t=await this.publicGetCfgV2Products(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currency"),a=this.safeString(t,"name"),n=this.safeCurrencyCode(i),o=this.safeString(t,"valueScale"),c=parseInt(o),h=this.safeString(t,"minValueEv"),d=this.safeString(t,"maxValueEv");let u,l,f;if(void 0!==c){const e=this.parsePrecision(o);f=this.parseNumber(e),u=this.parseNumber(b.stringMul(h,e)),l=this.parseNumber(b.stringMul(d,e))}s[n]={id:i,info:t,code:n,name:a,active:void 0,fee:void 0,precision:f,limits:{amount:{min:u,max:l},withdraw:{min:void 0,max:void 0}},valueScale:c}}return s}parseBidAsk(e,t=0,i=1,r){if(void 0===r)throw new h(this.id+" parseBidAsk() requires a market argument");let s=this.safeString(e,i);return r.spot&&(s=this.fromEv(s,r)),[this.parseNumber(this.fromEp(this.safeString(e,t),r)),this.parseNumber(s)]}parseOrderBook(e,t,i,r="bids",s="asks",a=0,n=1,o){const c={symbol:t,timestamp:i,datetime:this.iso8601(i),nonce:void 0},h=[r,s];for(let t=0;t<h.length;t++){const i=h[t],r=[],s=this.safeValue(e,i);for(let e=0;e<s.length;e++)r.push(this.parseBidAsk(s[e],a,n,o));c[i]=r}return c[r]=this.sortBy(c[r],0,!0),c[s]=this.sortBy(c[s],0),c}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r.id},a=await this.v1GetMdOrderbook(this.extend(s,i)),n=this.safeValue(a,"result",{}),o=this.safeValue(n,"book",{}),c=this.safeIntegerProduct(n,"timestamp",1e-6),h=this.parseOrderBook(o,e,c,"bids","asks",0,1,r);return h.nonce=this.safeInteger(n,"sequence"),h}toEn(e,t){const i=e.toString(),r=new b(i);r.decimals=r.decimals-t,r.reduce();const s=r.toString();return parseInt(parseFloat(s))}toEv(e,t){return void 0===e||void 0===t?e:this.toEn(e,t.valueScale)}toEp(e,t){return void 0===e||void 0===t?e:this.toEn(e,t.priceScale)}fromEn(e,t){if(void 0===e)return;const i=new b(e);return i.decimals=this.sum(i.decimals,t),i.reduce(),i.toString()}fromEp(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"priceScale"))}fromEv(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"valueScale"))}fromEr(e,t){return void 0===e||void 0===t?e:this.fromEn(e,this.safeInteger(t,"ratioScale"))}parseOHLCV(e,t){let i;return i=void 0!==t&&t.spot?this.parseNumber(this.fromEv(this.safeString(e,7),t)):this.safeNumber(e,7),[this.safeTimestamp(e,0),this.parseNumber(this.fromEp(this.safeString(e,3),t)),this.parseNumber(this.fromEp(this.safeString(e,4),t)),this.parseNumber(this.fromEp(this.safeString(e,5),t)),this.parseNumber(this.fromEp(this.safeString(e,6),t)),i]}async fetchOHLCV(e,t="1m",i,r,s={}){const a={resolution:this.timeframes[t]},n=this.parseTimeframe(t),o=this.seconds();if(void 0!==i)void 0===r&&(r=2e3),i=parseInt(i/1e3),a.from=i,a.to=Math.min(o,this.sum(i,n*r));else{if(void 0===r)throw new h(this.id+" fetchOHLCV() requires a since argument, or a limit argument, or both");r=Math.min(r,2e3),a.from=o-n*this.sum(r,1),a.to=o}await this.loadMarkets();const c=this.market(e);a.symbol=c.id;const d=await this.publicGetMdKline(this.extend(a,s)),u=this.safeValue(d,"data",{}),l=this.safeValue(u,"rows",[]);return this.parseOHLCVs(l,c,t,i,r)}parseTicker(e,t){const i=this.safeString(e,"symbol"),r=(t=this.safeMarket(i,t)).symbol,s=this.safeIntegerProduct(e,"timestamp",1e-6),a=this.fromEp(this.safeString(e,"lastEp"),t),n=this.parseNumber(a),o=this.parseNumber(this.fromEv(this.safeString(e,"turnoverEv"),t));let c,h,d,u,l=this.safeNumber(e,"volume");void 0===l&&(l=this.parseNumber(this.fromEv(this.safeString(e,"volumeEv"),t))),void 0!==t&&t.spot&&(c=this.vwap(l,o));const f=this.fromEp(this.safeString(e,"openEp"),t),p=this.parseNumber(f);return void 0!==f&&void 0!==a&&(h=this.parseNumber(b.stringSub(a,f)),u=this.parseNumber(b.stringDiv(b.stringAdd(a,f),"2")),d=this.parseNumber(b.stringMul(b.stringSub(b.stringDiv(a,f),"1"),"100"))),{symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.parseNumber(this.fromEp(this.safeString(e,"highEp"),t)),low:this.parseNumber(this.fromEp(this.safeString(e,"lowEp"),t)),bid:this.parseNumber(this.fromEp(this.safeString(e,"bidEp"),t)),bidVolume:void 0,ask:this.parseNumber(this.fromEp(this.safeString(e,"askEp"),t)),askVolume:void 0,vwap:c,open:p,close:n,last:n,previousClose:void 0,change:h,percentage:d,average:u,baseVolume:l,quoteVolume:o,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=i.spot?"v1GetMdSpotTicker24hr":"v1GetMdTicker24hr",a=await this[s](this.extend(r,t)),n=this.safeValue(a,"result",{});return this.parseTicker(n,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.v1GetMdTrade(this.extend(a,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}parseTrade(e,t){let i,r,s,a,n,o,c,h;const d=this.safeString(e,"symbol"),u=(t=this.safeMarket(d,t)).symbol;let l,f;if(Array.isArray(e)){const o=e.length;s=this.safeIntegerProduct(e,0,1e-6),o>4&&(a=this.safeString(e,o-4)),n=this.safeStringLower(e,o-3),i=this.fromEp(this.safeString(e,o-2),t),r=this.fromEv(this.safeString(e,o-1),t)}else{s=this.safeIntegerProduct(e,"transactTimeNs",1e-6),a=this.safeString2(e,"execId","execID"),l=this.safeString(e,"orderID"),n=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"ordType")),"MakerFill"===this.safeString(e,"execStatus")&&(f="maker"),i=this.fromEp(this.safeString(e,"execPriceEp"),t),r=this.fromEv(this.safeString(e,"execBaseQtyEv"),t),r=this.safeString(e,"execQty",r),o=this.fromEv(this.safeString2(e,"execQuoteQtyEv","execValueEv"),t);const d=this.fromEv(this.safeString(e,"execFeeEv"),t);if(void 0!==d){const i=this.fromEr(this.safeString(e,"feeRateEr"),t);let r;if(t.spot)r="buy"===n?t.base:t.quote;else{const e=this.safeValue(t,"info");if(void 0!==e){const t=this.safeString(e,"settlementCurrency");r=this.safeCurrencyCode(t)}}h={cost:this.parseNumber(d),rate:this.parseNumber(i),currency:r}}}return this.safeTrade({info:e,id:a,symbol:u,timestamp:s,datetime:this.iso8601(s),order:l,type:c,side:n,takerOrMaker:f,price:i,amount:r,cost:o,fee:h},t)}parseSpotBalance(e){let t;const i={info:e},r=this.safeValue(e,"data",[]);for(let e=0;e<r.length;e++){const s=r[e],a=this.safeString(s,"currency"),n=this.safeCurrencyCode(a),o=this.safeValue(this.currencies,n,{}),c=this.safeInteger(o,"valueScale",8),h=this.account(),d=this.safeString(s,"balanceEv"),u=this.safeString(s,"lockedTradingBalanceEv"),l=this.safeString(s,"lockedWithdrawEv"),f=this.fromEn(d,c),p=this.fromEn(u,c),m=this.fromEn(l,c),g=b.stringAdd(p,m),y=this.safeIntegerProduct(s,"lastUpdateTimeNs",1e-6);t=void 0===t?y:Math.max(t,y),h.total=f,h.used=g,i[n]=h}return i.timestamp=t,i.datetime=this.iso8601(t),this.parseBalance(i)}parseSwapBalance(e){const t={info:e},i=this.safeValue(e,"data",{}),r=this.safeValue(i,"account",{}),s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.currency(a),o=this.account(),c=this.safeString(r,"accountBalanceEv"),h=this.safeString(r,"totalUsedBalanceEv"),d=this.safeInteger(n,"valueScale",8);return o.total=this.fromEn(c,d),o.used=this.fromEn(h,d),t[a]=o,this.parseBalance(t)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"defaultType","fetchBalance","spot"),i=this.safeString(e,"type",t);let r="privateGetSpotWallets";const s={};if("swap"===i){const t=this.safeString(e,"code");if(void 0!==t){const i=this.currency(t);s.currency=i.id,e=this.omit(e,"code")}else if(void 0===this.safeString(e,"currency"))throw new h(this.id+" fetchBalance() requires a code parameter or a currency parameter for "+i+" type");r="privateGetAccountsAccountPositions"}e=this.omit(e,"type");const a=await this[r](this.extend(s,e));return"swap"===i?this.parseSwapBalance(a):this.parseSpotBalance(a)}parseOrderStatus(e){return this.safeString({Created:"open",Untriggered:"open",Deactivated:"closed",Triggered:"open",Rejected:"rejected",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled"},e,e)}parseOrderType(e){return this.safeString({Limit:"limit",Market:"market"},e,e)}parseTimeInForce(e){return this.safeString({GoodTillCancel:"GTC",PostOnly:"PO",ImmediateOrCancel:"IOC",FillOrKill:"FOK"},e,e)}parseSpotOrder(e,t){const i=this.safeString(e,"orderID");let r=this.safeString(e,"clOrdID");void 0!==r&&r.length<1&&(r=void 0);const s=this.safeString(e,"symbol"),a=this.safeSymbol(s,t),n=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"priceEp"),t))),o=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"baseQtyEv"),t))),c=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"leavesBaseQtyEv"),t))),h=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"cumBaseQtyEv"),t))),d=this.parseNumber(this.omitZero(this.fromEv(this.safeString(e,"quoteQtyEv"),t))),u=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"avgPriceEp"),t))),l=this.parseOrderStatus(this.safeString(e,"ordStatus")),f=this.safeStringLower(e,"side"),p=this.parseOrderType(this.safeString(e,"ordType")),m=this.safeIntegerProduct2(e,"actionTimeNs","createTimeNs",1e-6);let g;const y=this.parseNumber(this.fromEv(this.safeString(e,"cumFeeEv"),t));void 0!==y&&(g={cost:y,currency:void 0});const b=this.parseTimeInForce(this.safeString(e,"timeInForce")),v=this.parseNumber(this.omitZero(this.fromEp(this.safeString(e,"stopPxEp",t)))),w="PO"===b;return this.safeOrder({info:e,id:i,clientOrderId:r,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,symbol:a,type:p,timeInForce:b,postOnly:w,side:f,price:n,stopPrice:v,amount:o,cost:d,average:u,filled:h,remaining:c,status:l,fee:g,trades:void 0})}parseSwapOrder(e,t){const i=this.safeString(e,"orderID");let r=this.safeString(e,"clOrdID");void 0!==r&&r.length<1&&(r=void 0);const s=this.safeString(e,"symbol"),a=this.safeSymbol(s,t),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeStringLower(e,"side"),c=this.parseOrderType(this.safeString(e,"orderType")),h=this.parseNumber(this.fromEp(this.safeString(e,"priceEp"),t)),d=this.safeNumber(e,"orderQty"),u=this.safeNumber(e,"cumQty"),l=this.safeNumber(e,"leavesQty"),f=this.safeIntegerProduct(e,"actionTimeNs",1e-6),p=this.safeNumber(e,"cumValue");let m=this.safeIntegerProduct(e,"transactTimeNs",1e-6);0===m&&(m=void 0);const g=this.parseTimeInForce(this.safeString(e,"timeInForce")),y=this.safeNumber(e,"stopPx"),b="PO"===g;return{info:e,id:i,clientOrderId:r,datetime:this.iso8601(f),timestamp:f,lastTradeTimestamp:m,symbol:a,type:c,timeInForce:g,postOnly:b,side:o,price:h,stopPrice:y,amount:d,filled:u,remaining:l,cost:p,average:void 0,status:n,fee:void 0,trades:void 0}}parseOrder(e,t){return"closedPnl"in e?this.parseSwapOrder(e,t):this.parseSpotOrder(e,t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);i=this.capitalize(i),t=this.capitalize(t);const o={symbol:n.id,side:i,ordType:t};if(n.spot){let e=this.safeValue(a,"qtyType","ByBase");if("Market"!==t&&"Stop"!==t&&"MarketIfTouched"!==t||void 0!==s&&(e="ByQuote"),o.qtyType=e,"ByQuote"===e){let t=this.safeNumber(a,"cost");if(a=this.omit(a,"cost"),this.options.createOrderByQuoteRequiresPrice)if(void 0!==s)t=r*s;else if(void 0===t)throw new h(this.id+" createOrder() "+e+" requires a price argument or a cost parameter");t=void 0===t?r:t;const i=t.toString();o.quoteQtyEv=this.toEv(i,n)}else{const e=r.toString();o.baseQtyEv=this.toEv(e,n)}}else n.swap&&(o.orderQty=parseInt(r));if("Limit"===t){const e=s.toString();o.priceEp=this.toEp(e,n)}const c=this.safeString2(a,"stopPx","stopPrice");void 0!==c&&(o.stopPxEp=this.toEp(c,n)),a=this.omit(a,["stopPx","stopPrice"]);const d=n.spot?"privatePostSpotOrders":"privatePostOrders",u=await this[d](this.extend(o,a)),l=this.safeValue(u,"data",{});return this.parseOrder(l,n)}async editOrder(e,t,i,r,s,a,n={}){if(void 0===t)throw new h(this.id+" editOrder() requires a symbol argument");if(void 0!==i)throw new h(this.id+" editOrder() type changing is not implemented. Try to cancel & recreate order for that purpose");if(void 0!==r)throw new h(this.id+" editOrder() side changing is not implemented. Try to cancel & recreate order for that purpose");await this.loadMarkets();const o=this.market(t),c={symbol:o.id},d=this.safeString2(n,"clientOrderId","clOrdID");n=this.omit(n,["clientOrderId","clOrdID"]),void 0!==d?c.clOrdID=d:c.orderID=e,void 0!==a&&(c.priceEp=this.toEp(a,o));const u=this.safeString(n,"baseQtyEv");n=this.omit(n,["baseQtyEv"]),void 0!==u?c.baseQtyEV=u:void 0!==s&&(c.baseQtyEV=this.toEv(s,o));const l=this.safeString2(n,"stopPx","stopPrice");void 0!==l&&(c.stopPxEp=this.toEp(l,o)),n=this.omit(n,["stopPx","stopPrice"]);const f=o.spot?"privatePutSpotOrders":"privatePutOrdersReplace",p=await this[f](this.extend(c,n)),m=this.safeValue(p,"data",{});return this.parseOrder(m,o)}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id},a=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==a?s.clOrdID=a:s.orderID=e;const n=r.spot?"privateDeleteSpotOrders":"privateDeleteOrdersCancel",o=await this[n](this.extend(s,i)),c=this.safeValue(o,"data",{});return this.parseOrder(c,r)}async cancelAllOrders(e,t={}){if(void 0===e)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const i={},r=this.market(e);let s="privateDeleteSpotOrdersAll";return r.swap&&(s="privateDeleteOrdersAll"),i.symbol=r.id,await this[s](this.extend(i,t))}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.spot?"privateGetSpotOrdersActive":"privateGetExchangeOrder",a={symbol:r.id},n=this.safeString2(i,"clientOrderId","clOrdID");i=this.omit(i,["clientOrderId","clOrdID"]),void 0!==n?a.clOrdID=n:a.orderID=e;const o=await this[s](this.extend(a,i)),c=this.safeValue(o,"data",{});let u=c;if(Array.isArray(c)){if(c.length<1)throw new d(void 0!==n?this.id+" fetchOrder "+t+" order with clientOrderId "+n+" not found":this.id+" fetchOrder "+t+" order with id "+e+" not found");u=this.safeValue(c,0,{})}return this.parseOrder(u,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=s.spot?"privateGetSpotOrders":"privateGetExchangeOrderList",n={symbol:s.id};void 0!==t&&(n.start=t),void 0!==i&&(n.limit=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"rows",[]);return this.parseOrders(d,s,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=s.spot?"privateGetSpotOrders":"privateGetOrdersActiveList",n={symbol:s.id};let o;try{o=await this[a](this.extend(n,r))}catch(e){if(e instanceof d)return[]}const c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,s,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,s,t,i)}}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=s.spot?"privateGetExchangeSpotOrder":"privateGetExchangeOrderList",n={symbol:s.id};void 0!==t&&(n.start=t),void 0!==i&&(n.limit=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",{});if(Array.isArray(c))return this.parseOrders(c,s,t,i);{const e=this.safeValue(c,"rows",[]);return this.parseOrders(e,s,t,i)}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a=s.spot?"privateGetExchangeSpotOrderTrades":"privateGetExchangeOrderTrade",n={symbol:s.id};void 0!==t&&(n.start=t),s.swap&&void 0!==i&&(n.limit=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"rows",[]);return this.parseTrades(d,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=this.safeValue(this.options,"defaultNetworks"),a=this.safeStringUpper(s,e),n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(t,"network",a);o=this.safeString(n,o,o),void 0===o?r.chainName=i.id:(r.chainName=o,t=this.omit(t,"network"));const c=await this.privateGetPhemexUserWalletsV2DepositAddress(this.extend(r,t)),h=this.safeValue(c,"data",{}),d=this.safeString(h,"address"),u=this.safeString(h,"tag");return this.checkAddress(d),{currency:e,address:d,tag:u,network:void 0,info:c}}async fetchDeposits(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.privateGetExchangeWalletsDepositList(r),n=this.safeValue(a,"data",{});return this.parseTransactions(n,s,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.privateGetExchangeWalletsWithdrawList(r),n=this.safeValue(a,"data",{});return this.parseTransactions(n,s,t,i)}parseTransactionStatus(e){return this.safeString({Success:"ok",Succeed:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=void 0,a=this.safeString(e,"txHash"),n=this.safeString(e,"currency"),o=(t=this.safeCurrency(n,t)).code,c=this.safeInteger2(e,"createdAt","submitedAt");let h=this.safeStringLower(e,"type");const d=this.parseNumber(this.fromEn(this.safeString(e,"feeEv"),t.valueScale));let u;void 0!==d&&(h="withdrawal",u={cost:d,currency:o});const l=this.parseTransactionStatus(this.safeString(e,"status")),f=this.parseNumber(this.fromEn(this.safeString(e,"amountEv"),t.valueScale));return{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,addressTo:r,addressFrom:void 0,tag:s,tagTo:s,tagFrom:void 0,type:h,amount:f,currency:o,status:l,updated:void 0,fee:u}}async fetchPositions(e,t={}){await this.loadMarkets();const i=this.safeString(t,"code"),r={};if(void 0===i){if(void 0===this.safeString(t,"currency"))throw new h(this.id+" fetchPositions() requires a currency parameter or a code parameter")}else{const e=this.currency(i);t=this.omit(t,"code"),r.currency=e.id}const s=await this.privateGetAccountsAccountPositions(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.safeValue(a,"positions",[])}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e)),o="/"+this.implodeParams(e,r);let c=o,h="";if("GET"!==i&&"DELETE"!==i&&"PUT"!==i||Object.keys(n).length&&(h=this.urlencodeWithArrayRepeat(n),c+="?"+h),"private"===t){this.checkRequiredCredentials();const e=this.seconds(),t=this.safeInteger(this.options,"x-phemex-request-expiry",60),n=this.sum(e,t).toString();s={"x-phemex-access-token":this.apiKey,"x-phemex-request-expiry":n};let c="";"POST"===i&&(c=this.json(r),a=c,s["Content-Type"]="application/json");const d=o+h+n+c;s["x-phemex-request-signature"]=this.hmac(this.encode(d),this.encode(this.secret))}return c=this.implodeHostname(this.urls.api[t])+c,{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeValue(o,"error",o),u=this.safeString(d,"code"),l=this.safeString(d,"msg");if(void 0!==u&&"0"!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,l,e),new s(e)}}}},67497:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,RequestTimeout:n,AuthenticationError:o,PermissionDenied:c,DDoSProtection:h,InsufficientFunds:d,OrderNotFound:u,InvalidOrder:l,AccountSuspended:f,CancelPending:p,InvalidNonce:m,OnMaintenance:g,BadSymbol:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,certified:!1,pro:!0,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createMarketOrder:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrder:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://www.poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees",referral:"https://poloniex.com/signup?c=UBFZJRPJ"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","cancelAllOrders","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnOrderStatus","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{feeSide:"get",maker:this.parseNumber("0.0009"),taker:this.parseNumber("0.0009")},funding:{}},limits:{amount:{min:1e-6,max:void 0},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BCHABC:"BCHABC",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",KEY:"KEYCoin",MASK:"NFTX Hashmasks Index",PLX:"ParallaxCoin",REPV2:"REP",STR:"XLM",SOC:"SOCC",TRADE:"Unitrade",XAP:"API Coin",USDTTRON:"USDT",USDTETH:"USDT"},options:{networks:{ERC20:"ETH",TRX:"TRON",TRC20:"TRON"},limits:{cost:{min:{BTC:1e-4,ETH:1e-4,USDT:1,TRX:100,BNB:.06,USDC:1,USDJ:1,TUSD:1e-4,DAI:1,PAX:1,BUSD:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":l,"Invalid order number, or you are not the person who placed the order.":u,"Permission denied":c,"Permission denied.":c,"Connection timed out. Please try again.":n,"Internal error. Please try again.":a,"Currently in maintenance mode.":g,"Order not found, or you are not the person who placed it.":u,"Invalid API key/secret pair.":o,"Please do not make more than 8 API calls per second.":h,"Rate must be greater than zero.":l,"Invalid currency pair.":y,"Invalid currencyPair parameter.":y,"Trading is disabled in this market.":y,"Invalid orderNumber parameter.":u,"Order is beyond acceptable bounds.":l},broad:{"Total must be at least":l,"This account is frozen.":f,"This account is locked.":f,"Not enough":d,"Nonce must be greater":m,"You have already called cancelOrder or moveOrder on this order.":p,"Amount must be at least":l,"is either completed or does not exist":u,"Error pulling ":s}}})}parseOHLCV(e,t){return[this.safeTimestamp(e,"date"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"quoteVolume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={currencyPair:a.id,period:this.timeframes[t]};if(void 0===i)n.end=this.seconds(),n.start=void 0===r?n.end-this.parseTimeframe("1w"):n.end-r*this.parseTimeframe(t);else if(n.start=parseInt(i/1e3),void 0!==r){const e=this.sum(n.start,r*this.parseTimeframe(t));n.end=e}const o=await this.publicGetReturnChartData(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);return(void 0===this.safeValue(this.options,"currenciesByNumericId")||e)&&(this.options.currenciesByNumericId=this.indexBy(this.currencies,"numericId")),i}async fetchMarkets(e={}){const t=await this.publicGetReturnTicker(e),i=Object.keys(t),r=[];for(let e=0;e<i.length;e++){const s=i[e],a=t[s],[n,o]=s.split("_"),c=this.safeCurrencyCode(o),h=this.safeCurrencyCode(n),d=c+"/"+h,u=this.extend(this.limits,{cost:{min:this.safeValue(this.options.limits.cost.min,h)}}),l="1"!==this.safeString(a,"isFrozen"),f=this.safeInteger(a,"id"),p={price:8,amount:8};r.push({id:s,numericId:f,symbol:d,baseId:o,quoteId:n,base:c,quote:h,type:"spot",spot:!0,active:l,precision:p,limits:u,info:a})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostReturnCompleteBalances(this.extend({account:"all"},e)),i={info:t,timestamp:void 0,datetime:void 0},r=Object.keys(t);for(let e=0;e<r.length;e++){const s=r[e],a=this.safeValue(t,s,{}),n=this.safeCurrencyCode(s),o=this.account();o.free=this.safeString(a,"available"),o.used=this.safeString(a,"onOrders"),i[n]=o}return this.parseBalance(i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostReturnFeeInfo(e);return{info:t,maker:this.safeNumber(t,"makerFee"),taker:this.safeNumber(t,"takerFee"),withdraw:{},deposit:{}}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),a=this.parseOrderBook(s,e);return a.nonce=this.safeInteger(s,"seq"),a}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r={currencyPair:"all"};void 0!==t&&(r.depth=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),a=Object.keys(s),n={};for(let e=0;e<a.length;e++){const t=a[e];let i;if(t in this.markets_by_id)i=this.markets_by_id[t].symbol;else{const[e,r]=t.split("_");i=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(e)}const r=this.parseOrderBook(s[t],i);r.nonce=this.safeInteger(s[t],"seq"),n[i]=r}return n}parseTicker(e,t){const i=this.milliseconds();let r,s,a,n;t&&(r=t.symbol);const o=this.safeNumber(e,"last"),c=this.safeNumber(e,"percentChange");return-1!==c&&(s=o/this.sum(1,c),a=o-s,n=this.sum(o,s)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high24hr"),low:this.safeNumber(e,"low24hr"),bid:this.safeNumber(e,"highestBid"),bidVolume:void 0,ask:this.safeNumber(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:s,close:o,last:o,previousClose:void 0,change:a,percentage:100*c,average:n,baseVolume:this.safeNumber(e,"quoteVolume"),quoteVolume:this.safeNumber(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetReturnTicker(t),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e];let a,n;if(t in this.markets_by_id)n=this.markets_by_id[t],a=n.symbol;else{const[e,i]=t.split("_");a=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(e),n={symbol:a}}const o=i[t];s[a]=this.parseTicker(o,n)}return this.filterByArray(s,"symbol",e)}async fetchCurrencies(e={}){const t=await this.publicGetReturnCurrencies(e),i=Object.keys(t),r={};for(let e=0;e<i.length;e++){const s=i[e],a=t[s],n=8,o="1e-8",c=this.safeCurrencyCode(s),h=0===a.delisted&&!a.disabled,d=this.safeInteger(a,"id"),u=this.safeNumber(a,"txFee");r[c]={id:s,numericId:d,code:c,info:a,name:a.name,active:h,fee:u,precision:n,limits:{amount:{min:this.parseNumber(o),max:void 0},withdraw:{min:u,max:void 0}}}}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=(await this.publicGetReturnTicker(t))[i.id];return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString2(e,"globalTradeID","tradeID"),r=this.safeString(e,"orderNumber"),s=this.parse8601(this.safeString(e,"date"));let a;if(!t&&"currencyPair"in e){const i=this.safeString(e,"currencyPair");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[e,t]=i.split("_");a=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(e)}}void 0===a&&void 0!==t&&(a=t.symbol);const n=this.safeString(e,"type");let o;const c=this.safeString(e,"rate"),h=this.safeString(e,"amount"),d=this.parseNumber(c),u=this.parseNumber(h);let l,f=this.safeString(e,"total");void 0===f?(f=b.stringMul(c,h),l=this.parseNumber(f)):l=this.parseNumber(f);const p=this.safeString(e,"feeDisplay");if(void 0!==p){const e=p.split(" "),t=this.safeNumber(e,0);if(void 0!==t){const i=this.safeString(e,1),r=this.safeCurrencyCode(i);let s=this.safeString(e,2);if(void 0!==s){s=s.replace("(","");const e=s.split("%");s=this.safeString(e,0),s=parseFloat(s)/100}o={cost:t,currency:r,rate:s}}}else{const i=this.safeString(e,"fee");if(void 0!==i&&void 0!==t){const e="buy"===n?t.base:t.quote,r="buy"===n?h:f,s=b.stringDiv(i,r);o={cost:this.parseNumber(i),currency:e,rate:this.parseNumber(s)}}}let m;return void 0!==this.safeNumber(e,"takerAdjustment")&&(m="taker"),{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:a,order:r,type:"limit",side:n,takerOrMaker:m,price:d,amount:u,cost:l,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id};void 0!==t&&(a.start=parseInt(t/1e3),a.end=this.seconds());const n=await this.publicGetReturnTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a={currencyPair:s?s.id:"all"};void 0!==t&&(a.start=parseInt(t/1e3),a.end=this.sum(this.seconds(),1)),void 0!==i&&(a.limit=parseInt(i));const n=await this.privatePostReturnTradeHistory(this.extend(a,r));let o=[];if(void 0!==s)o=this.parseTrades(n,s);else if(n){const e=Object.keys(n);for(let t=0;t<e.length;t++){const i=e[t];let r;if(i in this.markets_by_id){r=this.markets_by_id[i];const e=this.parseTrades(n[i],r);for(let t=0;t<e.length;t++)o.push(e[t])}else{const[e,t]=i.split("_"),r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(e),a=r+"/"+s,c=n[i];for(let e=0;e<c.length;e++){const t={symbol:a,base:r,quote:s};o.push(this.parseTrade(c[e],t))}}}}return this.filterBySinceLimit(o,t,i)}parseOrderStatus(e){return this.safeString({Open:"open","Partially filled":"open"},e,e)}parseOrder(e,t){let i,r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"date")));const s=this.safeString(e,"currencyPair");if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("_");i=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(e)}let a;void 0===i&&void 0!==t&&(i=t.symbol);let n=this.safeValue(e,"resultingTrades");Array.isArray(n)||(n=this.safeValue(n,this.safeString(t,"id",s))),void 0!==n&&(a=this.parseTrades(n,t));const o=this.safeNumber2(e,"price","rate");let c,h=this.safeNumber(e,"amount"),d=this.safeNumber(e,"startingAmount"),u=0;void 0!==d?void 0!==h&&(c=d-h,void 0!==o&&(u=c*o)):d=h;let l,f,p=this.parseOrderStatus(this.safeString(e,"status"));if(void 0===c&&void 0!==a){c=0,u=0;const e=a.length;if(e>0){f=a[0].timestamp;for(let t=0;t<e;t++){const e=a[t],i=e.amount,r=e.price;c=this.sum(c,i),u=this.sum(u,r*i),f=Math.max(f,e.timestamp)}}void 0!==d&&(h=Math.max(d-c,0),c>=d&&(p="closed"))}void 0!==c&&void 0!==u&&c>0&&(l=u/c);let m=this.safeString(e,"type");const g=this.safeString(e,"side",m);m===g&&(m=void 0);const y=this.safeString(e,"orderNumber");let b;const v=this.safeNumber(e,"fee");if(void 0!==v){let e;void 0!==t&&(e="buy"===g?t.base:t.quote),b={cost:v,currency:e}}return{info:e,id:y,clientOrderId:this.safeString(e,"clientOrderId"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:f,status:p,symbol:i,type:m,timeInForce:void 0,postOnly:void 0,side:g,price:o,stopPrice:void 0,cost:u,average:l,amount:d,filled:c,remaining:h,trades:a,fee:b}}parseOpenOrders(e,t,i){for(let r=0;r<e.length;r++){const s=e[r],a=this.extend(s,{status:"open",type:"limit",side:s.type,price:s.rate});i.push(this.parseOrder(a,t))}return i}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a={currencyPair:s?s.id:"all"},n=await this.privatePostReturnOpenOrders(this.extend(a,r)),o={status:"open"};if(void 0===s){const e=Object.keys(n);let r=[];for(let t=0;t<e.length;t++){const i=e[t],s=n[i],a=this.markets_by_id[i];r=this.arrayConcat(r,this.parseOrders(s,a,void 0,void 0,o))}return this.filterBySinceLimit(r,t,i)}return this.parseOrders(n,s,t,i,o)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" createOrder() does not accept market orders");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e);r=this.amountToPrecision(e,r);const h={currencyPair:c.id,rate:this.priceToPrecision(e,a),amount:r},d=this.safeString(n,"clientOrderId");void 0!==d&&(h.clientOrderId=d,n=this.omit(n,"clientOrderId"));const u=this.milliseconds(),l=await this[o](this.extend(h,n));return this.parseOrder(this.extend({timestamp:u,status:"open",type:t,side:i,price:a,amount:r},l),c)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets(),a=parseFloat(a);const o={orderNumber:e,rate:this.priceToPrecision(t,a)};void 0!==s&&(o.amount=this.amountToPrecision(t,s));const c=await this.privatePostMoveOrder(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={},s=this.safeValue(i,"clientOrderId");return void 0===s?r.orderNumber=e:r.clientOrderId=s,i=this.omit(i,"clientOrderId"),await this.privatePostCancelOrder(this.extend(r,i))}async cancelAllOrders(e,t={}){const i={};let r;return void 0!==e&&(r=this.market(e),i.currencyPair=r.id),await this.privatePostCancelAllOrders(this.extend(i,t))}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={orderNumber:e=e.toString()},s=await this.privatePostReturnOrderStatus(this.extend(r,i)),a=this.safeValue(s.result,e);if(void 0===a)throw new u(this.id+" order id "+e+" not found");return this.parseOrder(a)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={orderNumber:e},s=await this.privatePostReturnOrderTrades(this.extend(r,i)),a=this.parseTrades(s),n=this.safeValue(a,0);if(void 0===n)throw new u(this.id+" order id "+e+" not found");t=this.safeString(n,"symbol",t);const o=this.safeString(n,"side"),c=this.safeNumber(n,"timestamp");return e=this.safeValue(n.info,"globalTradeID",e),this.safeOrder({info:s,id:e,clientOrderId:this.safeValue(n,"clientOrderId"),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:"closed",symbol:t,type:this.safeString(n,"type"),timeInForce:void 0,postOnly:void 0,side:o,price:void 0,stopPrice:void 0,cost:void 0,average:void 0,amount:void 0,filled:void 0,remaining:void 0,trades:a,fee:void 0})}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r=await this.fetchOpenOrders(t,void 0,void 0,i);return e in this.indexBy(r,"id")?"open":"closed"}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={orderNumber:e},n=await this.privatePostReturnOrderTrades(this.extend(a,s));return this.parseTrades(n)}async createDepositAddress(e,t={}){let i,r;await this.loadMarkets(),e in this.currencies?(r=this.currency(e),i=r.id):i=e;const s={currency:i},a=await this.privatePostGenerateNewAddress(this.extend(s,t));let n,o;if(1===a.success&&(n=this.safeString(a,"response")),this.checkAddress(n),void 0!==r){const e=this.safeString(r.info,"depositAddress");void 0!==e&&(o=n,n=e)}return{currency:e,address:n,tag:o,info:a}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostReturnDepositAddresses(t);let r,s;e in this.currencies?(s=this.currency(e),r=s.id):r=e;let a,n=this.safeString(i,r);if(this.checkAddress(n),void 0!==s){const e=this.safeString(s.info,"depositAddress");void 0!==e&&(a=n,n=e)}return{currency:e,address:n,tag:a,network:void 0,info:i}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i};void 0!==r&&(a.paymentId=r);const n=this.safeValue(this.options,"networks",{});let o=this.safeStringUpper(s,"network");o=this.safeString(n,o,o),void 0!==o&&(a.currency+=o,s=this.omit(s,"network"));const c=await this.privatePostWithdraw(this.extend(a,s));return{info:c,id:this.safeString(c,"withdrawalNumber")}}async fetchTransactionsHelper(e,t,i,r={}){await this.loadMarkets();const s=this.seconds(),a={start:void 0!==t?parseInt(t/1e3):s-31104e4,end:s};return void 0!==i&&(a.limit=i),await this.privatePostReturnDepositsWithdrawals(this.extend(a,r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=await this.fetchTransactionsHelper(e,t,i,r);let a;void 0!==e&&(a=this.currency(e));const n=this.safeValue(s,"withdrawals",[]),o=this.safeValue(s,"deposits",[]),c=this.parseTransactions(n,a,t,i),h=this.parseTransactions(o,a,t,i),d=this.arrayConcat(h,c);return this.filterByCurrencySinceLimit(this.sortBy(d,"timestamp"),e,t,i)}async fetchWithdrawals(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);let a;void 0!==e&&(a=this.currency(e));const n=this.safeValue(s,"withdrawals",[]),o=this.parseTransactions(n,a,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}async fetchDeposits(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);let a;void 0!==e&&(a=this.currency(e));const n=this.safeValue(s,"deposits",[]),o=this.parseTransactions(n,a,t,i);return this.filterByCurrencySinceLimit(o,e,t,i)}parseTransactionStatus(e){return this.safeString({COMPLETE:"ok","AWAITING APPROVAL":"pending",PENDING:"pending",PROCESSING:"pending","COMPLETE ERROR":"failed"},e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r);let a=this.safeString(e,"status","pending"),n=this.safeString(e,"txid");if(void 0!==a){const e=a.split(": "),t=e.length;a=e[0],t>1&&void 0===n&&(n=e[1]),a=this.parseTransactionStatus(a)}const o="withdrawalNumber"in e?"withdrawal":"deposit",c=this.safeString(e,"type",o),h=this.safeString2(e,"withdrawalNumber","depositNumber");let d=this.safeNumber(e,"amount");const u=this.safeString(e,"address"),l=this.safeString(e,"paymentID"),f=this.safeNumber(e,"fee",0);return"withdrawal"===c&&(d-=f),{info:e,id:h,currency:s,amount:d,address:u,tag:l,status:a,type:c,updated:void 0,txid:n,timestamp:i,datetime:this.iso8601(i),fee:{currency:s,cost:f}}}async fetchPosition(e,t={}){await this.loadMarkets();const i={currencyPair:this.market(e).id};return await this.privatePostGetMarginPosition(this.extend(i,t))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.extend({command:e},r);return"public"===t?n+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o.nonce=this.nonce(),a=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"error"in o){const e=o.error,t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(t)}}}},96818:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ExchangeNotAvailable:a,BadResponse:n,BadRequest:o,InvalidOrder:c,InsufficientFunds:h,AuthenticationError:d,ArgumentsRequired:u,InvalidAddress:l,RateLimitExceeded:f,DDoSProtection:p,BadSymbol:m}=i(73449),{TRUNCATE:g,TICK_SIZE:y}=i(62115),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"probit",name:"ProBit",countries:["SC","KR"],rateLimit:50,has:{cancelOrder:!0,CORS:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,signIn:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","10m":"10m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","6h":"6h","12h":"12h","1d":"1D","1w":"1W","1M":"1M"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/79268032-c4379480-7ea2-11ea-80b3-dd96bb29fd0d.jpg",api:{accounts:"https://accounts.probit.com",public:"https://api.probit.com/api/exchange",private:"https://api.probit.com/api/exchange"},www:"https://www.probit.com",doc:["https://docs-en.probit.com","https://docs-ko.probit.com"],fees:"https://support.probit.com/hc/en-us/articles/360020968611-Trading-Fees",referral:"https://www.probit.com/r/34608773"},api:{public:{get:{market:1,currency:1,currency_with_platform:1,time:1,ticker:1,order_book:1,trade:1,candle:1}},private:{post:{new_order:2,cancel_order:1,withdrawal:2},get:{balance:1,order:1,open_order:1,order_history:1,trade_history:1,deposit_address:1}},accounts:{post:{token:1}}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{exact:{UNAUTHORIZED:d,INVALID_ARGUMENT:o,TRADING_UNAVAILABLE:a,NOT_ENOUGH_BALANCE:h,NOT_ALLOWED_COMBINATION:o,INVALID_ORDER:c,RATE_LIMIT_EXCEEDED:f,MARKET_UNAVAILABLE:a,INVALID_MARKET:m,MARKET_CLOSED:m,MARKET_NOT_FOUND:m,INVALID_CURRENCY:o,TOO_MANY_OPEN_ORDERS:p,DUPLICATE_ADDRESS:l,invalid_grant:d}},requiredCredentials:{apiKey:!0,secret:!0},precisionMode:y,options:{createMarketBuyOrderRequiresPrice:!0,timeInForce:{limit:"gtc",market:"ioc"},networks:{BEP20:"BSC",ERC20:"ETH",TRC20:"TRON",TRX:"TRON"}},commonCurrencies:{AUTO:"Cube",BCC:"BCC",BDP:"BidiPass",BIRD:"Birdchain",BTCBEAR:"BEAR",BTCBULL:"BULL",CBC:"CryptoBharatCoin",CHE:"Chellit",DIP:"Dipper",EPS:"Epanus",FX:"Fanzy",GDT:"Gorilla Diamond",GOGOL:"GOL",GOL:"Goldofir",GRB:"Global Reward Bank",HBC:"Hybrid Bank Cash",LBK:"Legal Block",ORC:"Oracle System",ROOK:"Reckoon",SOC:"Soda Coin",SST:"SocialSwap",TCT:"Top Coin Token",TPAY:"Tetra Pay",UNI:"UNICORN Token",UNISWAP:"UNI"}})}async fetchMarkets(e={}){const t=await this.publicGetMarket(e),i=this.safeValue(t,"data",[]),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeString(t,"base_currency_id"),n=this.safeString(t,"quote_currency_id"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=!this.safeValue(t,"closed",!1),u=this.safeString(t,"quantity_precision"),l=this.safeString(t,"cost_precision"),f=this.parsePrecision(u),p=this.parsePrecision(l),m={amount:this.parseNumber(f),price:this.safeNumber(t,"price_increment"),cost:this.parseNumber(p)},g=this.safeString(t,"taker_fee_rate"),y=b.stringDiv(g,"100"),v=this.safeString(t,"maker_fee_rate"),w=b.stringDiv(v,"100");r.push({id:s,info:t,symbol:h,base:o,quote:c,baseId:a,quoteId:n,type:"spot",spot:!0,active:d,precision:m,taker:this.parseNumber(y),maker:this.parseNumber(w),limits:{amount:{min:this.safeNumber(t,"min_quantity"),max:this.safeNumber(t,"max_quantity")},price:{min:this.safeNumber(t,"min_price"),max:this.safeNumber(t,"max_price")},cost:{min:this.safeNumber(t,"min_cost"),max:this.safeNumber(t,"max_cost")}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencyWithPlatform(e),i=this.safeValue(t,"data"),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeCurrencyCode(s),n=this.safeValue(t,"display_name"),o=this.safeString(n,"en-us"),c=this.safeValue(t,"platform",[]),h=this.sortBy(c,"priority"),d=this.safeValue(h,0,{}),u=this.safeInteger(d,"precision"),l=this.safeValue(d,"deposit_suspended"),f=this.safeValue(d,"withdrawal_suspended"),p=!(l&&f),m=this.safeValue(d,"withdrawal_fee",{}),g=[];for(let e=0;e<m.length;e++){const t=m[e],i=this.safeNumber(t,"amount"),r=this.safeInteger(t,"priority");void 0!==i&&void 0!==r&&g.push(t)}const y=this.sortBy(g,"priority"),b=this.safeValue(y,0,{}),v=this.safeNumber(b,"amount");r[a]={id:s,code:a,info:t,name:o,active:p,fee:v,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},deposit:{min:this.safeNumber(d,"min_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(d,"min_withdrawal_amount"),max:void 0}}}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data");for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"currency_id"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(t,"total"),n.free=this.safeString(t,"available"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market_id:this.market(e).id},s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"data",[]),n=this.groupBy(a,"side");return this.parseOrderBook(n,e,void 0,"buy","sell","price","quantity")}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.market_ids=t.join(",")}const r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_ids:i.id},s=await this.publicGetTicker(this.extend(r,t)),a=this.safeValue(s,"data",[]),o=this.safeValue(a,0);if(void 0===o)throw new n(this.id+" fetchTicker() returned an empty response");return this.parseTicker(o,i)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"market_id"),s=this.safeSymbol(r,t,"-"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"change"),o=this.safeNumber(e,"base_volume"),c=this.safeNumber(e,"quote_volume"),h=this.vwap(o,c);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:h,open:void 0,close:a,last:a,previousClose:void 0,change:n,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:e},t)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={limit:100,start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds())};void 0!==e&&(s=this.market(e),a.market_id=s.id),void 0!==t&&(a.start_time=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.privateGetTradeHistory(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market_id:s.id,limit:100,start_time:"1970-01-01T00:00:00.000Z",end_time:this.iso8601(this.milliseconds())};void 0!==t&&(a.start_time=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.publicGetTrade(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"time")),r=this.safeString(e,"id");let s;if(void 0!==r){const e=r.split(":");s=this.safeString(e,0)}s=this.safeString(e,"market_id",s);const a=this.safeSymbol(s,t,"-"),n=this.safeString(e,"side"),o=this.safeString(e,"price"),c=this.safeString(e,"quantity"),h=this.parseNumber(o),d=this.parseNumber(c),u=this.parseNumber(b.stringMul(o,c)),l=this.safeString(e,"order_id"),f=this.safeNumber(e,"fee_amount");let p;if(void 0!==f){const t=this.safeString(e,"fee_currency_id");p={cost:f,currency:this.safeCurrencyCode(t)}}return{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,order:l,type:void 0,side:n,takerOrMaker:void 0,price:h,amount:d,cost:u,fee:p}}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.parse8601(this.safeString(t,"data"))}normalizeOHLCVTimestamp(e,t,i=!1){const r=this.parseTimeframe(t);if("1M"===t){const t=this.iso8601(e).split("-"),r=this.safeString(t,0);let s=this.safeInteger(t,1);return i&&(s=this.sum(s,1)),s=s<10?"0"+s.toString():s.toString(),r+"-"+s+"-01T00:00:00.000Z"}if("1w"===t){const t=259200,s=(e=parseInt(e/1e3))-t,a=Math.floor(s/r);let n=this.sum(t,a*r);return i&&(n=this.sum(n,r)),this.iso8601(1e3*n)}return e=parseInt(e/1e3),e=r*parseInt(e/r),i&&(e=this.sum(e,r)),this.iso8601(1e3*e)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.timeframes[t];r=void 0===r?100:r;let o=this.sum(r,1);o=Math.min(1e3,o);const c={market_ids:a.id,interval:n,sort:"asc",limit:o},h=this.milliseconds(),d=this.parseTimeframe(t);let l=i,f=h;if(void 0===i){if(void 0===r)throw new u(this.id+" fetchOHLCV() requires either a since argument or a limit argument");l=h-r*d*1e3}else f=void 0===r?h:this.sum(i,this.sum(r,1)*d*1e3);const p=this.normalizeOHLCVTimestamp(l,t),m=this.normalizeOHLCVTimestamp(f,t,!0);c.start_time=p,c.end_time=m;const g=await this.publicGetCandle(this.extend(c,s)),y=this.safeValue(g,"data",[]);return this.parseOHLCVs(y,a,t,i,r)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"start_time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"base_volume")]}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),t=this.parse8601(t);const s={};let a;void 0!==e&&(a=this.market(e),s.market_id=a.id);const n=await this.privateGetOpenOrder(this.extend(s,r)),o=this.safeValue(n,"data");return this.parseOrders(o,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={start_time:this.iso8601(0),end_time:this.iso8601(this.milliseconds()),limit:100};let a;void 0!==e&&(a=this.market(e),s.market_id=a.id),t&&(s.start_time=this.iso8601(t)),i&&(s.limit=i);const n=await this.privateGetOrderHistory(this.extend(s,r)),o=this.safeValue(n,"data");return this.parseOrders(o,a,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={market_id:r.id},a=this.safeString2(i,"clientOrderId","client_order_id");void 0!==a?s.client_order_id=a:s.order_id=e;const n=this.omit(i,["clientOrderId","client_order_id"]),o=await this.privateGetOrder(this.extend(s,n)),c=this.safeValue(o,"data",[]),h=this.safeValue(c,0);return this.parseOrder(h,r)}parseOrderStatus(e){return this.safeString({open:"open",cancelled:"canceled",filled:"closed"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"id"),s=this.safeString(e,"type"),a=this.safeString(e,"side"),n=this.safeString(e,"market_id"),o=this.safeSymbol(n,t,"-"),c=this.parse8601(this.safeString(e,"time"));let h=this.safeString(e,"limit_price");const d=this.safeString(e,"filled_quantity");let u=this.safeString(e,"open_quantity");const l=this.safeString(e,"cancelled_quantity");void 0!==l&&(u=b.stringAdd(u,l));const f=this.safeString(e,"quantity",b.stringAdd(d,u)),p=this.safeString2(e,"filled_cost","cost");"market"===s&&(h=void 0);let m=this.safeString(e,"client_order_id");""===m&&(m=void 0);const g=this.safeStringUpper(e,"time_in_force");return this.safeOrder2({id:r,info:e,clientOrderId:m,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:o,type:s,timeInForce:g,side:a,status:i,price:h,stopPrice:void 0,amount:f,filled:d,remaining:u,average:void 0,cost:p,fee:void 0,trades:void 0},t)}costToPrecision(e,t){return this.decimalToPrecision(t,g,this.markets[e].precision.cost,this.precisionMode)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeValue(this.options,"timeInForce"),h=this.safeValue(o,t),d=this.safeString2(a,"timeInForce","time_in_force",h),u={market_id:n.id,type:t,side:i,time_in_force:d},l=this.safeString2(a,"clientOrderId","client_order_id");let f;if(void 0!==l&&(u.client_order_id=l),"limit"===t)u.limit_price=this.priceToPrecision(e,s),u.quantity=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let t=this.safeNumber(a,"cost");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0)){if(void 0!==s)void 0===t&&(t=r*s);else if(void 0===t)throw new c(this.id+" createOrder() requires the price argument for market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'amount' argument or in the 'cost' extra parameter (the exchange-specific behaviour)")}else t=void 0===t?r:t;f=this.costToPrecision(e,t),u.cost=f}else u.quantity=this.amountToPrecision(e,r);const p=this.omit(a,["timeInForce","time_in_force","clientOrderId","client_order_id"]),m=await this.privatePostNewOrder(this.extend(u,p)),g=this.safeValue(m,"data"),y=this.parseOrder(g,n);return"market"===t&&"buy"===i&&(y.amount=void 0,y.cost=this.parseNumber(f),y.remaining=void 0),y}async cancelOrder(e,t,i={}){if(void 0===t)throw new u(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r={market_id:this.market(t).id,order_id:e},s=await this.privatePostCancelOrder(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}parseDepositAddress(e,t){const i=this.safeString(e,"address"),r=this.safeString(e,"destination_tag"),s=this.safeString(e,"currency_id"),a=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:a,address:i,tag:r,network:void 0,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency_id:i.id},s=await this.privateGetDepositAddress(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0);if(void 0===n)throw new l(this.id+" fetchDepositAddress returned an empty response");return this.parseDepositAddress(n,i)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i={};if(e){const t=[];for(let i=0;i<e.length;i++){const r=this.currency(e[i]);t.push(r.id)}i.currency_id=e.join(",")}const r=await this.privateGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data",[]);return this.parseDepositAddresses(s)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);void 0===r&&(r="");const n={currency_id:a.id,address:i,destination_tag:r,amount:this.numberToString(t)},o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeString(o,c,c),void 0!==c&&(n.platform_id=c,s=this.omit(s,"network"));const h=await this.privatePostWithdrawal(this.extend(n,s)),d=this.safeValue(h,"data");return this.parseTransaction(d,a)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeNumber(e,"amount"),s=this.safeString(e,"address"),a=this.safeString(e,"destination_tag"),n=this.safeString(e,"hash"),o=this.parse8601(this.safeString(e,"time")),c=this.safeString(e,"type"),h=this.safeString(e,"currency_id"),d=this.safeCurrencyCode(h),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeNumber(e,"fee");let f;return void 0!==l&&0!==l&&(f={currency:d,cost:l}),{id:i,currency:d,amount:r,addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:a,tagTo:a,status:u,type:c,txid:n,timestamp:o,datetime:this.iso8601(o),fee:f,info:e}}parseTransactionStatus(e){return this.safeString({requested:"pending",pending:"pending",confirming:"pending",confirmed:"pending",applying:"pending",done:"ok",cancelled:"canceled",cancelling:"canceled"},e,e)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";const o=this.omit(r,this.extractParams(e));if("accounts"===t){this.checkRequiredCredentials(),n+=this.implodeParams(e,r);const t=this.apiKey+":"+this.secret,i=this.stringToBase64(t);s={Authorization:"Basic "+this.decode(i),"Content-Type":"application/json"},Object.keys(o).length&&(a=this.json(o))}else if(n+=this.version+"/","public"===t)n+=this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){const t=this.milliseconds();this.checkRequiredCredentials();const c=this.safeInteger(this.options,"expires");if(void 0===c||c<t)throw new d(this.id+" access token expired, call signIn() method");s={Authorization:"Bearer "+this.safeString(this.options,"accessToken")},n+=this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:s}}async signIn(e={}){this.checkRequiredCredentials();const t=await this.accountsPostToken(this.extend({grant_type:"client_credentials"},e)),i=this.safeInteger(t,"expires_in"),r=this.safeString(t,"access_token");return this.options.accessToken=r,this.options.expires=this.sum(this.milliseconds(),1e3*i),t}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"errorCode"in o){const e=this.safeString(o,"errorCode"),t=this.safeString(o,"message");if(void 0!==e){const i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.exact,e,i),new s(i)}}}}},82715:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InvalidOrder:a,InsufficientFunds:n,AuthenticationError:o,RateLimitExceeded:c,BadSymbol:h}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"qtrade",name:"qTrade",countries:["US"],rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/51840849/80491487-74a99c00-896b-11ea-821e-d307e832f13e.jpg",api:"https://api.qtrade.io",www:"https://qtrade.io",doc:"https://qtrade-exchange.github.io/qtrade-docs",referral:"https://qtrade.io/?ref=BKOQWVFGRH2C"},has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDeposit:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawal:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"5m":"fivemin","15m":"fifteenmin","30m":"thirtymin","1h":"onehour","2h":"twohour","4h":"fourhour","1d":"oneday"},api:{public:{get:["ticker/{market_string}","tickers","currency/{code}","currencies","common","market/{market_string}","markets","market/{market_string}/trades","orderbook/{market_string}","market/{market_string}/ohlcv/{interval}"]},private:{get:["me","balances","balances_all","market/{market_string}","orders","order/{order_id}","trades","withdraw/{withdraw_id}","withdraws","deposit/{deposit_id}","deposits","transfers"],post:["cancel_order","withdraw","deposit_address/{currency}","sell_limit","buy_limit"]}},fees:{trading:{feeSide:"quote",tierBased:!0,percentage:!0,taker:.005,maker:0},funding:{withdraw:{}}},commonCurrencies:{BTM:"Bitmark"},exceptions:{exact:{invalid_auth:o,insuff_funds:n,market_not_found:h,too_small:a,limit_exceeded:c}}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"markets",[]),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"market_string"),a=this.safeInteger(t,"id"),n=this.safeString(t,"market_currency"),o=this.safeString(t,"base_currency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u={amount:this.safeInteger(t,"market_precision"),price:this.safeInteger(t,"base_precision")},l=this.safeValue(t,"can_view",!1),f=this.safeValue(t,"can_trade",!1)&&l;s.push({symbol:d,id:i,numericId:a,baseId:n,quoteId:o,base:c,quote:h,type:"spot",spot:!0,active:f,precision:u,taker:this.safeNumber(t,"taker_fee"),maker:this.safeNumber(t,"maker_fee"),limits:{amount:{min:this.safeNumber(t,"minimum_sell_value"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minimum_buy_value"),max:void 0}},info:t})}return s}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"currencies",[]),s={};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"code"),a=this.safeCurrencyCode(i),n=this.safeString(t,"long_name"),o=this.safeString(t,"type"),c=this.safeValue(t,"can_withdraw",!0),h=this.safeValue(t,"deposit_disabled",!1),d=this.safeValue(t,"config",{}),u=this.safeString(t,"status"),l=c&&"ok"===u&&!h;s[a]={id:i,code:a,info:t,type:o,name:n,fee:this.safeNumber(d,"withdraw_fee"),precision:this.safeInteger(t,"precision"),active:l,limits:{amount:{min:this.safeNumber(t,"minimum_order"),max:void 0},withdraw:{min:void 0,max:void 0}}}}return s}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"time")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"market_volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market_string:a.id,interval:this.timeframes[t]},o=await this.publicGetMarketMarketStringOhlcvInterval(this.extend(n,s)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"slices",[]);return this.parseOHLCVs(h,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market_string:this.marketId(e)},s=await this.publicGetOrderbookMarketString(this.extend(r,i)),a=this.safeValue(s,"data",{}),n={},o={buy:"bids",sell:"asks"},c=Object.keys(o);for(let e=0;e<c.length;e++){const t=c[e],i=o[t],r=this.safeValue(a,t,{}),s=Object.keys(r),h=[];for(let e=0;e<s.length;e++){const t=s[e],i=this.safeNumber(s,e),a=this.safeNumber(r,t);h.push([i,a])}n[i]=h}const h=this.safeIntegerProduct(a,"last_change",.001);return this.parseOrderBook(n,e,h)}parseTicker(e,t){const i=this.safeString(e,"id_hr"),r=this.safeSymbol(i,t,"_"),s=this.safeIntegerProduct(e,"last_change",.001),a=this.safeNumber(e,"day_open"),n=this.safeNumber(e,"last"),o=this.safeNumber(e,"day_change");let c,h;const d=this.safeNumber(e,"day_avg_price");void 0!==o&&(c=100*o,void 0!==a&&(h=o*a));const u=this.safeNumber(e,"day_volume_market"),l=this.safeNumber(e,"day_volume_base"),f=this.vwap(u,l);return this.safeTicker({symbol:r,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"day_high"),low:this.safeNumber(e,"day_low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:f,open:a,close:n,last:n,previousClose:void 0,change:h,percentage:c,average:d,baseVolume:u,quoteVolume:l,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"markets",[]),a={};for(let e=0;e<s.length;e++){const t=this.parseTicker(s[e]);a[t.symbol]=t}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_string:i.id},s=await this.publicGetTickerMarketString(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market_string:s.id},n=await this.publicGetMarketMarketStringTrades(this.extend(a,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={desc:!0};let a;const n=this.safeValue(r,"market_id");void 0!==n?s.market_id=n:void 0!==e&&(a=this.market(e),s.market_string=a.id);const o=await this.privateGetTrades(this.extend(s,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"trades",[]);return this.parseTrades(h,a,t,i)}parseTrade(e,t){const i=this.safeString(e,"id");let r=this.safeIntegerProduct(e,"created_at_ts",.001);void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));const s=this.safeString(e,"side"),a=this.safeString(e,"market_string");t=this.safeMarket(a,t);const n=this.safeString2(e,"base_volume","base_amount"),o=this.safeString(e,"price"),c=this.safeString2(e,"market_amount","amount");let h;const d=this.safeString(e,"base_fee");void 0!==d&&(h={currency:void 0===t?void 0:t.quote,cost:d});const u=this.safeValue(e,"taker",!0)?"taker":"maker",l=this.safeString(e,"order_id");return this.safeTrade({id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:l,type:void 0,side:s,takerOrMaker:u,price:o,amount:c,cost:n,fee:h},t)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesAll(e),i=this.safeValue(t,"data",{});let r=this.safeValue(i,"balances",[]);const s={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currency"),a=this.safeCurrencyCode(i),n=a in s?s[a]:this.account();n.free=this.safeString(t,"balance"),n.used="0",s[a]=n}r=this.safeValue(i,"order_balances",[]);for(let e=0;e<r.length;e++){const t=r[e],i=this.safeString(t,"currency"),a=this.safeCurrencyCode(i),n=a in s?s[a]:this.account();n.used=this.safeString(t,"balance"),s[a]=n}return this.parseBalance(s)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new a(this.id+" createOrder() allows limit orders only");await this.loadMarkets();const o=this.market(e),c={amount:this.amountToPrecision(e,r),market_id:o.numericId,price:this.priceToPrecision(e,s)},h="sell"===i?"privatePostSellLimit":"privatePostBuyLimit",d=await this[h](this.extend(c,n)),u=this.safeValue(d,"data",{}),l=this.safeValue(u,"order",{});return this.parseOrder(l,o)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"order_type");let a,n;if(void 0!==s){const e=s.split("_");n=this.safeString(e,0),a=this.safeString(e,1)}const o=this.safeNumber(e,"price"),c=this.safeNumber(e,"market_amount"),h=this.safeNumber(e,"market_amount_remaining"),d=this.safeValue(e,"open",!1),u=this.safeString(e,"close_reason");let l;l=d?"open":"canceled"===u?"canceled":"closed";const f=this.safeString(e,"market_string"),p=(t=this.safeMarket(f,t,"_")).symbol,m=this.safeValue(e,"trades",[]),g=this.parseTrades(m,t,void 0,void 0,{order:i,side:n,type:a});return this.safeOrder({info:e,id:i,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:p,type:a,timeInForce:void 0,postOnly:void 0,side:n,price:o,stopPrice:void 0,average:void 0,amount:c,remaining:h,filled:void 0,status:l,fee:void 0,fees:void 0,cost:void 0,trades:g})}async cancelOrder(e,t,i={}){const r={id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrderOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"order",{});return this.parseOrder(n)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;const n=this.safeValue(r,"market_id");void 0!==n?s.market_id=n:void 0!==e&&(a=this.market(e),s.market_string=a.id);const o=await this.privateGetOrders(this.extend(s,r)),c=this.safeValue(o,"data",{}),h=this.safeValue(c,"orders",[]);return this.parseOrders(h,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({open:!0},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({open:!1},r))}parseDepositAddress(e,t){const i=void 0===t?void 0:t.code;let r,s=this.safeString(e,"address");if(void 0!==s){const e=s.split(":");s=this.safeString(e,0),r=this.safeString(e,1)}return this.checkAddress(s),{currency:i,address:s,tag:r,network:void 0,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privatePostDepositAddressCurrency(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseDepositAddress(a,i)}async fetchDeposit(e,t,i={}){await this.loadMarkets();const r={deposit_id:e},s=await this.privateGetDepositDepositId(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"deposit",{});return this.parseTransaction(n)}async fetchDeposits(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.privateGetDeposits(r),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"deposits",[]);return this.parseTransactions(o,s,t,i)}async fetchWithdrawal(e,t,i={}){await this.loadMarkets();const r={withdraw_id:e},s=await this.privateGetWithdrawWithdrawId(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"withdraw",{});return this.parseTransaction(n)}async fetchWithdrawals(e,t,i,r={}){let s;await this.loadMarkets(),void 0!==e&&(s=this.currency(e));const a=await this.privateGetWithdraws(r),n=this.safeValue(a,"data",{}),o=this.safeValue(n,"withdraws",[]);return this.parseTransactions(o,s,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeValue(e,"network_data",{}),a=this.safeValue(s,"unsigned_tx",{}),n=this.safeString(a,"from"),o=this.safeString(s,"txid");let c,h=this.safeString(e,"address");if(void 0!==h){const e=h.split(":");e.length>1&&(h=this.safeString(e,0),c=this.safeString(e,1))}const d=h,u=c,l=this.safeValue(e,"cancel_requested"),f=void 0===l?"deposit":"withdrawal",p=this.safeNumber(e,"amount"),m=this.safeString(e,"currency"),g=this.safeCurrencyCode(m);let y=this.parseTransactionStatus(this.safeString(e,"status"));const b=this.safeString(e,"code");return l?y="canceled":void 0===y&&(y=this.parseTransactionStatus(b)),{info:e,id:r,txid:o,timestamp:i,datetime:this.iso8601(i),addressFrom:n,addressTo:d,address:h,tagFrom:void 0,tagTo:u,tag:c,type:f,amount:p,currency:g,status:y,updated:void 0,fee:void 0}}parseTransactionStatus(e){return this.safeString({initiated:"pending",needs_create:"pending",credited:"ok",confirmed:"ok"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),await this.loadMarkets();const a={address:i,amount:t,currency:this.currency(e).id};void 0!==r&&(a.address+=":"+r);const n=await this.privatePostWithdraw(this.extend(a,s)),o=this.safeValue(n,"data",{}),c=this.parseTransaction(o);return this.extend(c,{currency:e,address:i,addressTo:i,tag:r,tagTo:r,amount:t})}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/";"private"===t&&(n+="user/"),n+=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("POST"===i?a=this.json(o):Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){const e=this.milliseconds().toString(),t=[i,n,e,"POST"===i?a:"",this.secret].join("\n"),r=this.hash(this.encode(t),"sha256","base64");let o=this.apiKey;"string"!=typeof o&&(o=o.toString()),s={Authorization:"HMAC-SHA256 "+o+":"+r,"HMAC-Timestamp":e},"POST"===i&&(s["Content-Type"]="application/json")}return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeValue(o,"errors",[]);if(d.length<1)return;const u=this.id+" "+n;for(let e=0;e<d.length;e++){const t=d[e],i=this.safeString(t,"code");this.throwExactlyMatchedException(this.exceptions.exact,i,u)}throw new s(u)}}},2041:(e,t,i)=>{"use strict";const r=i(48819),{AuthenticationError:s,ExchangeError:a,BadSymbol:n,BadRequest:o,InvalidOrder:c,ArgumentsRequired:h,OrderNotFound:d,InsufficientFunds:u,DDoSProtection:l}=i(73449),{TICK_SIZE:f}=i(62115),p=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ripio",name:"Ripio",countries:["AR","BR"],rateLimit:50,version:"v1",pro:!0,has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/94507548-a83d6a80-0218-11eb-9998-28b9cec54165.jpg",api:{public:"https://api.exchange.ripio.com/api",private:"https://api.exchange.ripio.com/api"},www:"https://exchange.ripio.com",doc:["https://exchange.ripio.com/en/api/"],fees:"https://exchange.ripio.com/en/fee"},api:{public:{get:["rate/all/","rate/{pair}/","orderbook/{pair}/","tradehistory/{pair}/","pair/","currency/","orderbook/{pair}/depth/"]},private:{get:["balances/exchange_balances/","order/{pair}/{order_id}/","order/{pair}/","trade/{pair}/"],post:["order/{pair}/","order/{pair}/{order_id}/cancel/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:0,maker:0}},precisionMode:f,requiredCredentials:{apiKey:!0,secret:!1},exceptions:{exact:{},broad:{"Authentication credentials were not provided":s,"Disabled pair":n,"Invalid order type":c,"Your balance is not enough":u,"Order couldn't be created":a,"not found":d,"Invalid pair":n,"amount must be a number":o,"Total must be at least":c,"Account not found":o,"Wrong password provided":s,"User tokens limit":l,"Something unexpected ocurred":a,account_balance:o}}})}async fetchMarkets(e={}){const t=await this.publicGetPair(e),i=[],r=this.safeValue(t,"results",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"base"),a=this.safeString(t,"quote"),n=this.safeString(t,"symbol"),o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:this.safeNumber(t,"min_amount"),price:this.safeNumber(t,"price_tick")},u={amount:{min:this.safeNumber(t,"min_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"min_value"),max:void 0}},l=this.safeValue(t,"enabled",!0),f=this.safeValue(t,"fees",[]),p=this.safeValue(f,0,{}),m=this.safeNumber(p,"maker_fee",0),g=this.safeNumber(p,"taker_fee",0);i.push({id:n,symbol:h,base:o,quote:c,baseId:s,quoteId:a,type:"spot",spot:!0,active:l,precision:d,maker:m,taker:g,limits:u,info:t})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i=this.safeValue(t,"results",[]),r={};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.safeString(t,"name"),o=this.safeValue(t,"enabled",!0),c=this.safeInteger(t,"decimal_places");r[a]={id:s,code:a,name:n,info:t,active:o,fee:void 0,precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return r}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"pair"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"last_price"),n=this.safeNumber(e,"avg");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:this.safeNumber(e,"bid_volume"),ask:this.safeNumber(e,"ask"),askVolume:this.safeNumber(e,"ask_volume"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:n,baseVolume:void 0,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetRatePair(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetRateAll(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetOrderbookPair(this.extend(r,i)),a=this.parseOrderBook(s,e,void 0,"buy","sell","price","amount");return a.nonce=this.safeInteger(s,"updated_id"),a}parseTrade(e,t){const i=this.safeString(e,"id");let r=this.safeInteger(e,"timestamp");r=this.safeTimestamp(e,"created_at",r);let s=this.safeString(e,"side");const a=this.safeString(e,"taker_side")===s?"taker":"maker";void 0!==s&&(s=s.toLowerCase());const n=this.safeString2(e,"price","match_price"),o=this.safeString2(e,"amount","exchanged"),c=this.parseNumber(n),h=this.parseNumber(o),d=this.parseNumber(p.stringMul(n,o)),u=this.safeString(e,"pair");t=this.safeMarket(u,t);const l=this.safeNumber(e,a+"_fee"),f=this.safeString(e,a);let m;return void 0!==l&&(m={cost:l,currency:"buy"===s?t.base:t.quote}),{id:i,order:f,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:s,price:c,amount:h,cost:d,takerOrMaker:a,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetTradehistoryPair(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalancesExchangeBalances(e),i={info:t};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"available"),n.used=this.safeString(r,"locked"),i[a]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=t.toUpperCase(),c=i.toUpperCase(),h={pair:n.id,order_type:o,side:c,amount:this.amountToPrecision(e,r)};"LIMIT"===o&&(h.limit_price=this.priceToPrecision(e,s));const d=await this.privatePostOrderPair(this.extend(h,a));return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={pair:r.id,order_id:e},a=await this.privatePostOrderPairOrderIdCancel(this.extend(s,i));return this.parseOrder(a,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new h(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={pair:r.id,order_id:e},a=await this.privateGetOrderPairOrderId(this.extend(s,i));return this.parseOrder(a,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.offset=i);const n=await this.privateGetOrderPair(this.extend(a,r)),o=this.safeValue(n,"results",{}),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"OPEN,PART"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"CLOS,CANC,COMP"},r))}parseOrderStatus(e){return this.safeString({OPEN:"open",PART:"open",CLOS:"canceled",CANC:"canceled",COMP:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeNumber(e,"amount");let s=this.safeNumber(e,"notional");const a=this.safeStringLower(e,"order_type"),n="market"===a?"fill_price":"limit_price",o=this.safeNumber(e,n),c=this.safeStringLower(e,"side"),h=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeTimestamp(e,"created_at");let u,l=this.safeValue(e,"fill_price"),f=this.safeNumber(e,"filled");const p=this.safeValue(e,"fills");let m,g;if(void 0!==p&&p.length>0){f=0,s=0,m=this.parseTrades(p,t,void 0,void 0,{order:i,side:c});for(let e=0;e<m.length;e++){const t=m[e];f=this.sum(t.amount,f),s=this.sum(t.cost,s),g=t.timestamp}void 0===l&&f>0&&(l=s/f)}void 0!==f&&(void 0===s&&void 0!==o&&(s=o*f),void 0!==r&&(u=Math.max(0,r-f)));const y=this.safeString(e,"pair"),b=this.safeSymbol(y,t,"_"),v=this.safeNumber(e,"stop_price");return{id:i,clientOrderId:void 0,info:e,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:g,symbol:b,type:a,timeInForce:void 0,postOnly:void 0,side:c,price:o,stopPrice:v,amount:r,cost:s,average:l,filled:f,remaining:u,status:h,fee:void 0,trades:m}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new h(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.privateGetTradePair(this.extend(a,r)),o=this.safeValue(n,"results",{}),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i)}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.version+"/"+this.implodeParams(e,r);let o=this.urls.api[t]+n;const c=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(c).length&&(o+="?"+this.urlencode(c)):"private"===t&&(this.checkRequiredCredentials(),"POST"===i?a=this.json(c):Object.keys(c).length&&(o+="?"+this.urlencode(c)),s={"Content-Type":"application/json",Authorization:"Bearer "+this.apiKey}),{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"detail");if(void 0!==d){const e=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions.broad,d,e)}const u=this.safeValue(o,"errors");if(void 0!==u){const e=this.id+" "+n,t=Object.keys(u);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeValue(u,r,[]),a=this.safeString(s,0);this.throwBroadlyMatchedException(this.exceptions.broad,a,e)}throw new a(e)}}}},35060:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i(48764).Buffer}catch(e){}function o(e,t,i){for(var s=0,a=Math.min(e.length,i),n=0,o=t;o<a;o++){var c,h=e.charCodeAt(o)-48;s<<=4,s|=c=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,n|=c}return r(!(240&n),"Invalid character in "+e),s}function c(e,t,i,s){for(var a=0,n=0,o=Math.min(e.length,i),c=t;c<o;c++){var h=e.charCodeAt(c)-48;a*=s,n=h>=49?h-49+10:h>=17?h-17+10:h,r(h>=0&&n<s,"Invalid character"),a+=n}return a}function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,a=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303),this._strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,h=0,d=i;d<o;d+=r)h=c(e,d,d+r,t),this.imuln(s),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==n){var u=1;for(h=c(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h:a.prototype.inspect=h;var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i._strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},n&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){this._strip();var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var n=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](n,s),n},a.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i++]=255&n,i<e.length&&(e[i++]=n>>8&255),i<e.length&&(e[i++]=n>>16&255),6===a?(i<e.length&&(e[i++]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i--]=255&n,i>=0&&(e[i--]=n>>8&255),i>=0&&(e[i--]=n>>16&255),6===a?(i>=0&&(e[i--]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this._strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i._strip()}function g(e,t,i){return m(e,t,i)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?m(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},y.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},y.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},y.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},y.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},y.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},y.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},y.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},y.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},y.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var i=0,s=0;s<this.length;s++){var a=(0|this.words[s])*e,n=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=n>>>26,this.words[s]=67108863&n}return 0!==i&&(this.words[s]=i,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=e.words[r]>>>s&1}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this._strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this._strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,s=0,a=this.length-1;a>=0;a--)s=(i*s+(0|this.words[a]))%e;return t?-s:s},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,s=this.length-1;s>=0;s--){var a=(0|this.words[s])+67108864*i;this.words[s]=a/e|0,i=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new M(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i._strip(),i},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},s(w,v),w.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(k,v),s(S,v),s(_,v),_.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return b[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(e.umod(this.m)._forceRed(this)._move(e),e)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},M.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},s(T,M),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},27295:function(e,t){var i,r,s,a,n,o;e.exports=(o=o||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),r={},s=r.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},n=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,r=this.sigBytes,s=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<s;a++){var n=i[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=n<<24-(r+a)%4*8}else for(a=0;a<s;a+=4)t[r+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,r=[],s=function(t){t=t;var i=987654321,r=4294967295;return function(){var s=((i=36969*(65535&i)+(i>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return s/=4294967296,(s+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var o=s(4294967296*(i||e.random()));i=987654071*o(),r.push(4294967296*o()|0)}return new n.init(r,t)}}),o=r.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r+=2)i[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new n.init(i,t/2)}},h=o.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new n.init(i,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},u=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,r=i.words,s=i.sigBytes,a=this.blockSize,o=s/(4*a),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,h=e.min(4*c,s);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(r,d);var u=r.splice(0,c);i.sigBytes-=h}return new n.init(u,h)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(s.Hasher=u.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new l.HMAC.init(e,i).finalize(t)}}}),r.algo={});return r}(Math),n=(a=o).lib.WordArray,a.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,r=this._map;e.clamp();for(var s=[],a=0;a<i;a+=3)for(var n=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<i;o++)s.push(r.charAt(n>>>6*(3-o)&63));var c=r.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e){var t=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<i.length;s++)r[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(t=o)}return function(e,t,i){for(var r=[],s=0,a=0;a<t;a++)if(a%4){var o=i[e.charCodeAt(a-1)]<<a%4*2,c=i[e.charCodeAt(a)]>>>6-a%4*2;r[s>>>2]|=(o|c)<<24-s%4*8,s++}return n.create(r,s)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){var t=o,i=t.lib,r=i.WordArray,s=i.Hasher,a=t.algo,n=[];!function(){for(var t=0;t<64;t++)n[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a=this._hash.words,o=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],w=e[t+9],k=e[t+10],S=e[t+11],_=e[t+12],M=e[t+13],T=e[t+14],O=e[t+15],x=a[0],I=a[1],C=a[2],A=a[3];x=h(x,I,C,A,o,7,n[0]),A=h(A,x,I,C,c,12,n[1]),C=h(C,A,x,I,f,17,n[2]),I=h(I,C,A,x,p,22,n[3]),x=h(x,I,C,A,m,7,n[4]),A=h(A,x,I,C,g,12,n[5]),C=h(C,A,x,I,y,17,n[6]),I=h(I,C,A,x,b,22,n[7]),x=h(x,I,C,A,v,7,n[8]),A=h(A,x,I,C,w,12,n[9]),C=h(C,A,x,I,k,17,n[10]),I=h(I,C,A,x,S,22,n[11]),x=h(x,I,C,A,_,7,n[12]),A=h(A,x,I,C,M,12,n[13]),C=h(C,A,x,I,T,17,n[14]),x=d(x,I=h(I,C,A,x,O,22,n[15]),C,A,c,5,n[16]),A=d(A,x,I,C,y,9,n[17]),C=d(C,A,x,I,S,14,n[18]),I=d(I,C,A,x,o,20,n[19]),x=d(x,I,C,A,g,5,n[20]),A=d(A,x,I,C,k,9,n[21]),C=d(C,A,x,I,O,14,n[22]),I=d(I,C,A,x,m,20,n[23]),x=d(x,I,C,A,w,5,n[24]),A=d(A,x,I,C,T,9,n[25]),C=d(C,A,x,I,p,14,n[26]),I=d(I,C,A,x,v,20,n[27]),x=d(x,I,C,A,M,5,n[28]),A=d(A,x,I,C,f,9,n[29]),C=d(C,A,x,I,b,14,n[30]),x=u(x,I=d(I,C,A,x,_,20,n[31]),C,A,g,4,n[32]),A=u(A,x,I,C,v,11,n[33]),C=u(C,A,x,I,S,16,n[34]),I=u(I,C,A,x,T,23,n[35]),x=u(x,I,C,A,c,4,n[36]),A=u(A,x,I,C,m,11,n[37]),C=u(C,A,x,I,b,16,n[38]),I=u(I,C,A,x,k,23,n[39]),x=u(x,I,C,A,M,4,n[40]),A=u(A,x,I,C,o,11,n[41]),C=u(C,A,x,I,p,16,n[42]),I=u(I,C,A,x,y,23,n[43]),x=u(x,I,C,A,w,4,n[44]),A=u(A,x,I,C,_,11,n[45]),C=u(C,A,x,I,O,16,n[46]),x=l(x,I=u(I,C,A,x,f,23,n[47]),C,A,o,6,n[48]),A=l(A,x,I,C,b,10,n[49]),C=l(C,A,x,I,T,15,n[50]),I=l(I,C,A,x,g,21,n[51]),x=l(x,I,C,A,_,6,n[52]),A=l(A,x,I,C,p,10,n[53]),C=l(C,A,x,I,k,15,n[54]),I=l(I,C,A,x,c,21,n[55]),x=l(x,I,C,A,v,6,n[56]),A=l(A,x,I,C,O,10,n[57]),C=l(C,A,x,I,y,15,n[58]),I=l(I,C,A,x,M,21,n[59]),x=l(x,I,C,A,m,6,n[60]),A=l(A,x,I,C,S,10,n[61]),C=l(C,A,x,I,f,15,n[62]),I=l(I,C,A,x,w,21,n[63]),a[0]=a[0]+x|0,a[1]=a[1]+I|0,a[2]=a[2]+C|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,i=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var a=e.floor(r/4294967296),n=r;i[15+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,h=0;h<4;h++){var d=c[h];c[h]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,i,r,s,a,n){var o=e+(t&i|~t&r)+s+n;return(o<<a|o>>>32-a)+t}function d(e,t,i,r,s,a,n){var o=e+(t&r|i&~r)+s+n;return(o<<a|o>>>32-a)+t}function u(e,t,i,r,s,a,n){var o=e+(t^i^r)+s+n;return(o<<a|o>>>32-a)+t}function l(e,t,i,r,s,a,n){var o=e+(i^(t|~r))+s+n;return(o<<a|o>>>32-a)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),function(){var e=o,t=e.lib,i=t.WordArray,r=t.Hasher,s=e.algo,a=[],n=s.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],n=i[2],o=i[3],c=i[4],h=0;h<80;h++){if(h<16)a[h]=0|e[t+h];else{var d=a[h-3]^a[h-8]^a[h-14]^a[h-16];a[h]=d<<1|d>>>31}var u=(r<<5|r>>>27)+c+a[h];u+=h<20?1518500249+(s&n|~s&o):h<40?1859775393+(s^n^o):h<60?(s&n|s&o|n&o)-1894007588:(s^n^o)-899497514,c=o,o=n,n=s<<30|s>>>2,s=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+n|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(r+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(n),e.HmacSHA1=r._createHmacHelper(n)}(),function(e){var t=o,i=t.lib,r=i.WordArray,s=i.Hasher,a=t.algo,n=[],c=[];!function(){function t(t){for(var i=e.sqrt(t),r=2;r<=i;r++)if(!(t%r))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var r=2,s=0;s<64;)t(r)&&(s<8&&(n[s]=i(e.pow(r,.5))),c[s]=i(e.pow(r,1/3)),s++),r++}();var h=[],d=a.SHA256=s.extend({_doReset:function(){this._hash=new r.init(n.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],a=i[2],n=i[3],o=i[4],d=i[5],u=i[6],l=i[7],f=0;f<64;f++){if(f<16)h[f]=0|e[t+f];else{var p=h[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=h[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;h[f]=m+h[f-7]+y+h[f-16]}var b=r&s^r&a^s&a,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&u)+c[f]+h[f];l=u,u=d,d=o,o=n+w|0,n=a,a=s,s=r,r=w+(v+b)|0}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+n|0,i[4]=i[4]+o|0,i[5]=i[5]+d|0,i[6]=i[6]+u|0,i[7]=i[7]+l|0},_doFinalize:function(){var t=this._data,i=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=e.floor(r/4294967296),i[15+(s+64>>>9<<4)]=r,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(d),t.HmacSHA256=s._createHmacHelper(d)}(Math),function(){var e=o,t=e.lib.WordArray,i=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s+=2){var a=t[s>>>2]>>>16-s%4*8&65535;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var i=e.length,r=[],s=0;s<i;s++)r[s>>>1]|=e.charCodeAt(s)<<16-s%2*16;return t.create(r,2*i)}},i.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,s=[],a=0;a<i;a+=2){var n=r(t[a>>>2]>>>16-a%4*8&65535);s.push(String.fromCharCode(n))}return s.join("")},parse:function(e){for(var i=e.length,s=[],a=0;a<i;a++)s[a>>>1]|=r(e.charCodeAt(a)<<16-a%2*16);return t.create(s,2*i)}}}(),function(){if("function"==typeof ArrayBuffer){var e=o.lib.WordArray,t=e.init,i=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var i=e.byteLength,r=[],s=0;s<i;s++)r[s>>>2]|=e[s]<<24-s%4*8;t.call(this,r,i)}else t.apply(this,arguments)};i.prototype=e}}(),function(e){var t=o,i=t.lib,r=i.WordArray,s=i.Hasher,a=t.algo,n=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),l=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=s.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a,o,f,w,k,S,_,M,T,O,x,I=this._hash.words,C=u.words,A=l.words,E=n.words,N=c.words,P=h.words,B=d.words;for(S=a=I[0],_=o=I[1],M=f=I[2],T=w=I[3],O=k=I[4],i=0;i<80;i+=1)x=a+e[t+E[i]]|0,x+=i<16?p(o,f,w)+C[0]:i<32?m(o,f,w)+C[1]:i<48?g(o,f,w)+C[2]:i<64?y(o,f,w)+C[3]:b(o,f,w)+C[4],x=(x=v(x|=0,P[i]))+k|0,a=k,k=w,w=v(f,10),f=o,o=x,x=S+e[t+N[i]]|0,x+=i<16?b(_,M,T)+A[0]:i<32?y(_,M,T)+A[1]:i<48?g(_,M,T)+A[2]:i<64?m(_,M,T)+A[3]:p(_,M,T)+A[4],x=(x=v(x|=0,B[i]))+O|0,S=O,O=T,T=v(M,10),M=_,_=x;x=I[1]+f+T|0,I[1]=I[2]+w+O|0,I[2]=I[3]+k+S|0,I[3]=I[4]+a+_|0,I[4]=I[0]+o+M|0,I[0]=x},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,a=s.words,n=0;n<5;n++){var o=a[n];a[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return s},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,i){return e^t^i}function m(e,t,i){return e&t|~e&i}function g(e,t,i){return(e|~t)^i}function y(e,t,i){return e&i|t&~i}function b(e,t,i){return e^(t|~i)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=s._createHelper(f),t.HmacRIPEMD160=s._createHmacHelper(f)}(Math),function(){var e=o,t=e.lib.Base,i=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,s=4*r;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),n=this._iKey=t.clone(),o=a.words,c=n.words,h=0;h<r;h++)o[h]^=1549556828,c[h]^=909522486;a.sigBytes=n.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})}(),function(){var e=o,t=e.lib,i=t.Base,r=t.WordArray,s=e.algo,a=s.SHA1,n=s.HMAC,c=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,s=n.create(i.hasher,e),a=r.create(),o=r.create([1]),c=a.words,h=o.words,d=i.keySize,u=i.iterations;c.length<d;){var l=s.update(t).finalize(o);s.reset();for(var f=l.words,p=f.length,m=l,g=1;g<u;g++){m=s.finalize(m),s.reset();for(var y=m.words,b=0;b<p;b++)f[b]^=y[b]}a.concat(l),h[0]++}return a.sigBytes=4*d,a}});e.PBKDF2=function(e,t,i){return c.create(i).compute(e,t)}}(),function(){var e=o,t=e.lib,i=t.Base,r=t.WordArray,s=e.algo,a=s.MD5,n=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,s=i.hasher.create(),a=r.create(),n=a.words,o=i.keySize,c=i.iterations;n.length<o;){h&&s.update(h);var h=s.update(e).finalize(t);s.reset();for(var d=1;d<c;d++)h=s.finalize(h),s.reset();a.concat(h)}return a.sigBytes=4*o,a}});e.EvpKDF=function(e,t,i){return n.create(i).compute(e,t)}}(),function(){var e=o,t=e.lib.WordArray,i=e.algo,r=i.SHA256,s=i.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(s),e.HmacSHA224=r._createHmacHelper(s)}(),function(e){var t=o,i=t.lib,r=i.Base,s=i.WordArray,a=t.x64={};a.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],r=0;r<t;r++){var a=e[r];i.push(a.high),i.push(a.low)}return s.create(i,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),i=t.length,s=0;s<i;s++)t[s]=t[s].clone();return e}})}(),function(e){var t=o,i=t.lib,r=i.WordArray,s=i.Hasher,a=t.x64.Word,n=t.algo,c=[],h=[],d=[];!function(){for(var e=1,t=0,i=0;i<24;i++){c[e+5*t]=(i+1)*(i+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var s=1,n=0;n<24;n++){for(var o=0,u=0,l=0;l<7;l++){if(1&s){var f=(1<<l)-1;f<32?u^=1<<f:o^=1<<f-32}128&s?s=s<<1^113:s<<=1}d[n]=a.create(o,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=a.create()}();var l=n.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,r=this.blockSize/2,s=0;s<r;s++){var a=e[t+2*s],n=e[t+2*s+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),(I=i[s]).high^=n,I.low^=a}for(var o=0;o<24;o++){for(var l=0;l<5;l++){for(var f=0,p=0,m=0;m<5;m++)f^=(I=i[l+5*m]).high,p^=I.low;var g=u[l];g.high=f,g.low=p}for(l=0;l<5;l++){var y=u[(l+4)%5],b=u[(l+1)%5],v=b.high,w=b.low;for(f=y.high^(v<<1|w>>>31),p=y.low^(w<<1|v>>>31),m=0;m<5;m++)(I=i[l+5*m]).high^=f,I.low^=p}for(var k=1;k<25;k++){var S=(I=i[k]).high,_=I.low,M=c[k];M<32?(f=S<<M|_>>>32-M,p=_<<M|S>>>32-M):(f=_<<M-32|S>>>64-M,p=S<<M-32|_>>>64-M);var T=u[h[k]];T.high=f,T.low=p}var O=u[0],x=i[0];for(O.high=x.high,O.low=x.low,l=0;l<5;l++)for(m=0;m<5;m++){var I=i[k=l+5*m],C=u[k],A=u[(l+1)%5+5*m],E=u[(l+2)%5+5*m];I.high=C.high^~A.high&E.high,I.low=C.low^~A.low&E.low}I=i[0];var N=d[o];I.high^=N.high,I.low^=N.low}},_doFinalize:function(){var t=this._data,i=t.words,s=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;i[s>>>5]|=1<<24-s%32,i[(e.ceil((s+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var n=this._state,o=this.cfg.outputLength/8,c=o/8,h=[],d=0;d<c;d++){var u=n[d],l=u.high,f=u.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(l)}return new r.init(h,o)},clone:function(){for(var e=s.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});t.SHA3=s._createHelper(l),t.HmacSHA3=s._createHmacHelper(l)}(Math),function(){var e=o,t=e.lib.Hasher,i=e.x64,r=i.Word,s=i.WordArray,a=e.algo;function n(){return r.create.apply(r,arguments)}var c=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],h=[];!function(){for(var e=0;e<80;e++)h[e]=n()}();var d=a.SHA512=t.extend({_doReset:function(){this._hash=new s.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],a=i[2],n=i[3],o=i[4],d=i[5],u=i[6],l=i[7],f=r.high,p=r.low,m=s.high,g=s.low,y=a.high,b=a.low,v=n.high,w=n.low,k=o.high,S=o.low,_=d.high,M=d.low,T=u.high,O=u.low,x=l.high,I=l.low,C=f,A=p,E=m,N=g,P=y,B=b,R=v,L=w,V=k,D=S,q=_,G=M,F=T,j=O,U=x,z=I,H=0;H<80;H++){var K=h[H];if(H<16)var W=K.high=0|e[t+2*H],Z=K.low=0|e[t+2*H+1];else{var X=h[H-15],Y=X.high,$=X.low,Q=(Y>>>1|$<<31)^(Y>>>8|$<<24)^Y>>>7,J=($>>>1|Y<<31)^($>>>8|Y<<24)^($>>>7|Y<<25),ee=h[H-2],te=ee.high,ie=ee.low,re=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,se=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),ae=h[H-7],ne=ae.high,oe=ae.low,ce=h[H-16],he=ce.high,de=ce.low;W=(W=(W=Q+ne+((Z=J+oe)>>>0<J>>>0?1:0))+re+((Z+=se)>>>0<se>>>0?1:0))+he+((Z+=de)>>>0<de>>>0?1:0),K.high=W,K.low=Z}var ue,le=V&q^~V&F,fe=D&G^~D&j,pe=C&E^C&P^E&P,me=A&N^A&B^N&B,ge=(C>>>28|A<<4)^(C<<30|A>>>2)^(C<<25|A>>>7),ye=(A>>>28|C<<4)^(A<<30|C>>>2)^(A<<25|C>>>7),be=(V>>>14|D<<18)^(V>>>18|D<<14)^(V<<23|D>>>9),ve=(D>>>14|V<<18)^(D>>>18|V<<14)^(D<<23|V>>>9),we=c[H],ke=we.high,Se=we.low,_e=U+be+((ue=z+ve)>>>0<z>>>0?1:0),Me=ye+me;U=F,z=j,F=q,j=G,q=V,G=D,V=R+(_e=(_e=(_e=_e+le+((ue+=fe)>>>0<fe>>>0?1:0))+ke+((ue+=Se)>>>0<Se>>>0?1:0))+W+((ue+=Z)>>>0<Z>>>0?1:0))+((D=L+ue|0)>>>0<L>>>0?1:0)|0,R=P,L=B,P=E,B=N,E=C,N=A,C=_e+(ge+pe+(Me>>>0<ye>>>0?1:0))+((A=ue+Me|0)>>>0<ue>>>0?1:0)|0}p=r.low=p+A,r.high=f+C+(p>>>0<A>>>0?1:0),g=s.low=g+N,s.high=m+E+(g>>>0<N>>>0?1:0),b=a.low=b+B,a.high=y+P+(b>>>0<B>>>0?1:0),w=n.low=w+L,n.high=v+R+(w>>>0<L>>>0?1:0),S=o.low=S+D,o.high=k+V+(S>>>0<D>>>0?1:0),M=d.low=M+G,d.high=_+q+(M>>>0<G>>>0?1:0),O=u.low=O+j,u.high=T+F+(O>>>0<j>>>0?1:0),I=l.low=I+z,l.high=x+U+(I>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(r+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),function(){var e=o,t=e.x64,i=t.Word,r=t.WordArray,s=e.algo,a=s.SHA512,n=s.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(n),e.HmacSHA384=a._createHmacHelper(n)}(),o.lib.Cipher||function(e){var t=o,i=t.lib,r=i.Base,s=i.WordArray,a=i.BufferedBlockAlgorithm,n=t.enc,c=(n.Utf8,n.Base64),h=t.algo.EvpKDF,d=i.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(i,r,s){return e(r).encrypt(t,i,r,s)},decrypt:function(i,r,s){return e(r).decrypt(t,i,r,s)}}}}()}),u=(i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),l=i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=u.CBC=function(){var e=l.extend();function t(e,t,i){var r=this._iv;if(r){var s=r;this._iv=void 0}else s=this._prevBlock;for(var a=0;a<i;a++)e[t+a]^=s[a]}return e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize;t.call(this,e,i,s),r.encryptBlock(e,i),this._prevBlock=e.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=e.slice(i,i+s);r.decryptBlock(e,i),t.call(this,e,i,s),this._prevBlock=a}}),e}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,r=i-e.sigBytes%i,a=r<<24|r<<16|r<<8|r,n=[],o=0;o<r;o+=4)n.push(a);var c=s.create(n,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:f,padding:p}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,i=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=i.createEncryptor;else r=i.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(i,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;if(i)var r=s.create([1398893684,1701076831]).concat(i).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),i=t.words;if(1398893684==i[0]&&1701076831==i[1]){var r=s.create(i.slice(2,4));i.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:r})}},y=i.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(e,t,i,r){r=this.cfg.extend(r);var s=e.createEncryptor(i,r),a=s.finalize(t),n=s.cfg;return m.create({ciphertext:a,key:i,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(t.kdf={}).OpenSSL={execute:function(e,t,i,r){r||(r=s.random(8));var a=h.create({keySize:t+i}).compute(e,r),n=s.create(a.words.slice(t),4*i);return a.sigBytes=4*t,m.create({key:a,iv:n,salt:r})}},v=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,i,r){var s=(r=this.cfg.extend(r)).kdf.execute(i,e.keySize,e.ivSize);r.iv=s.iv;var a=y.encrypt.call(this,e,t,s.key,r);return a.mixIn(s),a},decrypt:function(e,t,i,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var s=r.kdf.execute(i,e.keySize,e.ivSize,t.salt);return r.iv=s.iv,y.decrypt.call(this,e,t,s.key,r)}})}(),o.mode.CFB=function(){var e=o.lib.BlockCipherMode.extend();function t(e,t,i,r){var s=this._iv;if(s){var a=s.slice(0);this._iv=void 0}else a=this._prevBlock;r.encryptBlock(a,0);for(var n=0;n<i;n++)e[t+n]^=a[n]}return e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize;t.call(this,e,i,s,r),this._prevBlock=e.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=e.slice(i,i+s);t.call(this,e,i,s,r),this._prevBlock=a}}),e}(),o.mode.ECB=((s=o.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),s.Decryptor=s.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),s),o.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,r=4*t,s=r-i%r,a=i+s-1;e.clamp(),e.words[a>>>2]|=s<<24-a%4*8,e.sigBytes+=s},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso10126={pad:function(e,t){var i=4*t,r=i-e.sigBytes%i;e.concat(o.lib.WordArray.random(r-1)).concat(o.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso97971={pad:function(e,t){e.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(e,t)},unpad:function(e){o.pad.ZeroPadding.unpad(e),e.sigBytes--}},o.mode.OFB=(r=(i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,a=this._keystream;s&&(a=this._keystream=s.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var n=0;n<r;n++)e[t+n]^=a[n]}}),i.Decryptor=r,i),o.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var t=o,i=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return i.create({ciphertext:t})}}}(),function(){var e=o,t=e.lib.BlockCipher,i=e.algo,r=[],s=[],a=[],n=[],c=[],h=[],d=[],u=[],l=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,o=0;for(t=0;t<256;t++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,r[i]=p,s[p]=i;var m=e[i],g=e[m],y=e[g],b=257*e[p]^16843008*p;a[i]=b<<24|b>>>8,n[i]=b<<16|b>>>16,c[i]=b<<8|b>>>24,h[i]=b,b=16843009*y^65537*g^257*m^16843008*i,d[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,l[p]=b<<8|b>>>24,f[p]=b,i?(i=m^e[e[e[y^m]]],o^=e[e[o]]):i=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,s=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],n=0;n<s;n++)if(n<i)a[n]=t[n];else{var o=a[n-1];n%i?i>6&&n%i==4&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=r[(o=o<<8|o>>>24)>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=p[n/i|0]<<24),a[n]=a[n-i]^o}for(var c=this._invKeySchedule=[],h=0;h<s;h++)n=s-h,o=h%4?a[n]:a[n-4],c[h]=h<4||n<=4?o:d[r[o>>>24]]^u[r[o>>>16&255]]^l[r[o>>>8&255]]^f[r[255&o]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,n,c,h,r)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,d,u,l,f,s),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,r,s,a,n,o){for(var c=this._nRounds,h=e[t]^i[0],d=e[t+1]^i[1],u=e[t+2]^i[2],l=e[t+3]^i[3],f=4,p=1;p<c;p++){var m=r[h>>>24]^s[d>>>16&255]^a[u>>>8&255]^n[255&l]^i[f++],g=r[d>>>24]^s[u>>>16&255]^a[l>>>8&255]^n[255&h]^i[f++],y=r[u>>>24]^s[l>>>16&255]^a[h>>>8&255]^n[255&d]^i[f++],b=r[l>>>24]^s[h>>>16&255]^a[d>>>8&255]^n[255&u]^i[f++];h=m,d=g,u=y,l=b}m=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&l])^i[f++],g=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[l>>>8&255]<<8|o[255&h])^i[f++],y=(o[u>>>24]<<24|o[l>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^i[f++],b=(o[l>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^i[f++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}(),function(){var e=o,t=e.lib,i=t.WordArray,r=t.BlockCipher,s=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],n=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=s.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var r=a[i]-1;t[i]=e[r>>>5]>>>31-r%32&1}for(var s=this._subKeys=[],o=0;o<16;o++){var h=s[o]=[],d=c[o];for(i=0;i<24;i++)h[i/6|0]|=t[(n[i]-1+d)%28]<<31-i%6,h[4+(i/6|0)]|=t[28+(n[i+24]-1+d)%28]<<31-i%6;for(h[0]=h[0]<<1|h[0]>>>31,i=1;i<7;i++)h[i]=h[i]>>>4*(i-1)+3;h[7]=h[7]<<5|h[7]>>>27}var u=this._invSubKeys=[];for(i=0;i<16;i++)u[i]=s[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),l.call(this,1,1431655765);for(var r=0;r<16;r++){for(var s=i[r],a=this._lBlock,n=this._rBlock,o=0,c=0;c<8;c++)o|=h[c][((n^s[c])&d[c])>>>0];this._lBlock=n,this._rBlock=a^o}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,l.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function f(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}e.DES=r._createHelper(u);var p=s.TripleDES=r.extend({_doReset:function(){var e=this._key.words;this._des1=u.createEncryptor(i.create(e.slice(0,2))),this._des2=u.createEncryptor(i.create(e.slice(2,4))),this._des3=u.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(p)}(),function(){var e=o,t=e.lib.StreamCipher,i=e.algo,r=i.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,r=this._S=[],s=0;s<256;s++)r[s]=s;s=0;for(var a=0;s<256;s++){var n=s%i,o=t[n>>>2]>>>24-n%4*8&255;a=(a+r[s]+o)%256;var c=r[s];r[s]=r[a],r[a]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var e=this._S,t=this._i,i=this._j,r=0,s=0;s<4;s++){i=(i+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[i],e[i]=a,r|=e[(e[t]+e[i])%256]<<24-8*s}return this._i=t,this._j=i,r}e.RC4=t._createHelper(r);var a=i.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)s.call(this)}});e.RC4Drop=t._createHelper(a)}(),o.mode.CTRGladman=function(){var e=o.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,i=e>>8&255,r=255&e;255===t?(t=0,255===i?(i=0,255===r?r=0:++r):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=r}else e+=1<<24;return e}var i=e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=this._iv,n=this._counter;a&&(n=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(n);var o=n.slice(0);r.encryptBlock(o,0);for(var c=0;c<s;c++)e[i+c]^=o[c]}});return e.Decryptor=i,e}(),function(){var e=o,t=e.lib.StreamCipher,i=e.algo,r=[],s=[],a=[],n=i.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)s[i]^=r[i+4&7];if(t){var a=t.words,n=a[0],o=a[1],h=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=h>>>16|4294901760&d,l=d<<16|65535&h;for(s[0]^=h,s[1]^=u,s[2]^=d,s[3]^=l,s[4]^=h,s[5]^=u,s[6]^=d,s[7]^=l,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var s=0;s<4;s++)r[s]=16711935&(r[s]<<8|r[s]>>>24)|4278255360&(r[s]<<24|r[s]>>>8),e[t+s]^=r[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0,i=0;i<8;i++){var r=e[i]+t[i],n=65535&r,o=r>>>16,c=((n*n>>>17)+n*o>>>15)+o*o,h=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=c^h}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(n)}(),o.mode.CTR=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0);var n=a.slice(0);i.encryptBlock(n,0),a[r-1]=a[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=n[o]}});return e.Decryptor=t,e}(),function(){var e=o,t=e.lib.StreamCipher,i=e.algo,r=[],s=[],a=[],n=i.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var s=0;s<4;s++)c.call(this);for(s=0;s<8;s++)r[s]^=i[s+4&7];if(t){var a=t.words,n=a[0],o=a[1],h=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=h>>>16|4294901760&d,l=d<<16|65535&h;for(r[0]^=h,r[1]^=u,r[2]^=d,r[3]^=l,r[4]^=h,r[5]^=u,r[6]^=d,r[7]^=l,s=0;s<4;s++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var s=0;s<4;s++)r[s]=16711935&(r[s]<<8|r[s]>>>24)|4278255360&(r[s]<<24|r[s]>>>8),e[t+s]^=r[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0,i=0;i<8;i++){var r=e[i]+t[i],n=65535&r,o=r>>>16,c=((n*n>>>17)+n*o>>>15)+o*o,h=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=c^h}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(n)}(),o.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){for(var t=e.words,i=e.sigBytes-1;!(t[i>>>2]>>>24-i%4*8&255);)i--;e.sigBytes=i+1}},o)},73150:(e,t,i)=>{"use strict";var r=t;r.inherits=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e},r.version="6.5.0",r.utils=i(27882),r.curve=i(15261),r.curves=i(61198),r.ec=i(61643),r.eddsa=i(34096)},63235:(e,t,i)=>{"use strict";var r=i(35060),s=i(73150).utils,a=s.getNAF,n=s.getJSF,o=s.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var i=e._getDoubles(),r=a(t,1),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;for(var n=[],c=0;c<r.length;c+=i.step){var h=0;for(t=c+i.step-1;t>=c;t--)h=(h<<1)+r[t];n.push(h)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=s;l>0;l--){for(c=0;c<n.length;c++)(h=n[c])===l?u=u.mixedAdd(i.points[c]):h===-l&&(u=u.mixedAdd(i.points[c].neg()));d=d.add(u)}return d.toP()},c.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var s=r.points,n=a(t,i),c=this.jpoint(null,null,null),h=n.length-1;h>=0;h--){for(t=0;h>=0&&0===n[h];h--)t++;if(h>=0&&t++,c=c.dblp(t),h<0)break;var d=n[h];o(0!==d),c="affine"===e.type?d>0?c.mixedAdd(s[d-1>>1]):c.mixedAdd(s[-d-1>>1].neg()):d>0?c.add(s[d-1>>1]):c.add(s[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,i,r,s){for(var o=this._wnafT1,c=this._wnafT2,h=this._wnafT3,d=0,u=0;u<r;u++){var l=(T=t[u])._getNAFPoints(e);o[u]=l.wnd,c[u]=l.points}for(u=r-1;u>=1;u-=2){var f=u-1,p=u;if(1===o[f]&&1===o[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=n(i[f],i[p]);d=Math.max(y[0].length,d),h[f]=new Array(d),h[p]=new Array(d);for(var b=0;b<d;b++){var v=0|y[0][b],w=0|y[1][b];h[f][b]=g[3*(v+1)+(w+1)],h[p][b]=0,c[f]=m}}else h[f]=a(i[f],o[f]),h[p]=a(i[p],o[p]),d=Math.max(h[f].length,d),d=Math.max(h[p].length,d)}var k=this.jpoint(null,null,null),S=this._wnafT4;for(u=d;u>=0;u--){for(var _=0;u>=0;){var M=!0;for(b=0;b<r;b++)S[b]=0|h[b][u],0!==S[b]&&(M=!1);if(!M)break;_++,u--}if(u>=0&&_++,k=k.dblp(_),u<0)break;for(b=0;b<r;b++){var T,O=S[b];0!==O&&(O>0?T=c[b][O-1>>1]:O<0&&(T=c[b][-O-1>>1].neg()),k="affine"===T.type?k.mixedAdd(T):k.add(T))}}for(u=0;u<r;u++)c[u]=null;return s?k:k.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)r=r.dbl();i.push(r)}return{step:e,points:i}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(r);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},95595:(e,t,i)=>{"use strict";var r=i(15261),s=i(73150),a=i(35060),n=s.inherits,o=r.base,c=s.utils.assert;function h(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function d(e,t,i,r,s){o.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=r?new a(r,16):this.curve.one,this.t=s&&new a(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}n(h,o),e.exports=h,h.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},h.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},h.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},h.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),n=r.redMul(s.redInvm()),o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},h.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.one),s=i.redMul(this.d).redAdd(this.one),n=r.redMul(s.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},h.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(s)},n(d,o.BasePoint),h.prototype.pointFromJSON=function(e){return d.fromJSON(this,e)},h.prototype.point=function(e,t,i,r){return new d(this,e,t,i,r)},d.fromJSON=function(e,t){return new d(e,t[0],t[1],t[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},d.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),n=a.redSub(i),o=r.redSub(t),c=s.redMul(n),h=a.redMul(o),d=s.redMul(o),u=n.redMul(a);return this.curve.point(c,h,u,d)},d.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var n=(h=this.curve._mulA(s)).redAdd(a);if(this.zOne)e=r.redSub(s).redSub(a).redMul(n.redSub(this.curve.two)),t=n.redMul(h.redSub(a)),i=n.redSqr().redSub(n).redSub(n);else{var o=this.z.redSqr(),c=n.redSub(o).redISub(o);e=r.redSub(s).redISub(a).redMul(c),t=n.redMul(h.redSub(a)),i=n.redMul(c)}}else{var h=s.redAdd(a);o=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=h.redSub(o).redSub(o),e=this.curve._mulC(r.redISub(h)).redMul(c),t=this.curve._mulC(h).redMul(s.redISub(a)),i=h.redMul(c)}return this.curve.point(e,t,i)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(t),n=s.redSub(r),o=s.redAdd(r),c=i.redAdd(t),h=a.redMul(n),d=o.redMul(c),u=a.redMul(c),l=n.redMul(o);return this.curve.point(h,d,l,u)},d.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),s=r.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(n),c=s.redSub(o),h=s.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),u=r.redMul(c).redMul(d);return this.curve.twisted?(t=r.redMul(h).redMul(n.redSub(this.curve._mulA(a))),i=c.redMul(h)):(t=r.redMul(h).redMul(n.redSub(a)),i=this.curve._mulC(c).redMul(h)),this.curve.point(u,t,i)},d.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},d.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},d.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},d.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},15261:(e,t,i)=>{"use strict";var r=t;r.base=i(63235),r.short=i(42669),r.mont=i(54152),r.edwards=i(95595)},54152:(e,t,i)=>{"use strict";var r=i(15261),s=i(35060),a=i(73150).inherits,n=r.base,o=i(73150).utils;function c(e){n.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(e,t,i){n.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,n),e.exports=c,c.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(h,n.BasePoint),c.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},c.prototype.point=function(e,t){return new h(this,e,t)},c.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(e,t){return new h(e,t[0],t[1]||e.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),s=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,s)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(i),n=s.redMul(r),o=t.z.redMul(a.redAdd(n).redSqr()),c=t.x.redMul(a.redISub(n).redSqr());return this.curve.point(o,c)},h.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)0===s[a]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},42669:(e,t,i)=>{"use strict";var r=i(15261),s=i(73150),a=i(35060),n=s.inherits,o=r.base,c=s.utils.assert;function h(e){o.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(e,t,i,r){o.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,i,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(i,16),this.z=new a(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(h,o),e.exports=h,h.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new a(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?i=s[0]:(i=s[1],c(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(i)}}},h.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),i=new a(2).toRed(t).redInvm(),r=i.redNeg(),s=new a(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},h.prototype._getEndoBasis=function(e){for(var t,i,r,s,n,o,c,h,d,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new a(1),m=new a(0),g=new a(0),y=new a(1),b=0;0!==l.cmpn(0);){var v=f.div(l);h=f.sub(v.mul(l)),d=g.sub(v.mul(p));var w=y.sub(v.mul(m));if(!r&&h.cmp(u)<0)t=c.neg(),i=p,r=h.neg(),s=d;else if(r&&2==++b)break;c=h,f=l,l=h,g=p,p=d,y=m,m=w}n=h.neg(),o=d;var k=r.sqr().add(s.sqr());return n.sqr().add(o.sqr()).cmp(k)>=0&&(n=t,o=i),r.negative&&(r=r.neg(),s=s.neg()),n.negative&&(n=n.neg(),o=o.neg()),[{a:r,b:s},{a:n,b:o}]},h.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],s=r.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),n=s.mul(i.a),o=a.mul(r.a),c=s.mul(i.b),h=a.mul(r.b);return{k1:e.sub(n).sub(o),k2:c.add(h).neg()}},h.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(t&&!s||!t&&s)&&(r=r.redNeg()),this.point(e,r)},h.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(s).cmpn(0)},h.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var n=this._endoSplit(t[a]),o=e[a],c=o._getBeta();n.k1.negative&&(n.k1.ineg(),o=o.neg(!0)),n.k2.negative&&(n.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,s[2*a]=n.k1,s[2*a+1]=n.k2}for(var h=this._wnafMulAdd(1,r,s,2*a,i),d=0;d<2*a;d++)r[d]=null,s[d]=null;return h},n(d,o.BasePoint),h.prototype.point=function(e,t,i){return new d(this,e,t,i)},h.prototype.pointFromJSON=function(e,t){return d.fromJSON(this,e,t)},d.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(e,t,i){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function s(t){return e.point(t[0],t[1],i)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(s))}},r},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},d.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),a=s.redSqr().redISub(this.x.redAdd(this.x)),n=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,n)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(e){return e=new a(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s):this.curve._wnafMulAdd(1,r,s,2)},d.prototype.jmulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s,!0):this.curve._wnafMulAdd(1,r,s,2,!0)},d.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},d.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},n(u,o.BasePoint),h.prototype.jpoint=function(e,t,i){return new u(this,e,t,i)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),n=e.y.redMul(i.redMul(this.z)),o=r.redSub(s),c=a.redSub(n);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),d=h.redMul(o),u=r.redMul(h),l=c.redSqr().redIAdd(d).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),n=i.redSub(r),o=s.redSub(a);if(0===n.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=n.redSqr(),h=c.redMul(n),d=i.redMul(c),u=o.redSqr().redIAdd(h).redISub(d).redISub(d),l=o.redMul(d.redISub(u)).redISub(s.redMul(h)),f=this.z.redMul(n);return this.curve.jpoint(u,l,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var r=this.curve.a,s=this.curve.tinv,a=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),h=n.redAdd(n);for(i=0;i<e;i++){var d=a.redSqr(),u=h.redSqr(),l=u.redSqr(),f=d.redAdd(d).redIAdd(d).redIAdd(r.redMul(c)),p=a.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(o);i+1<e&&(c=c.redMul(l)),a=m,o=b,h=y}return this.curve.jpoint(a,h.redMul(s),o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(n).redISub(n),h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),e=c,t=o.redMul(n.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(d).redISub(l);f=f.redIAdd(f);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},u.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(n).redISub(n);e=c;var h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),t=o.redMul(n.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(d).redMul(this.x.redAdd(d));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,s=r.redSqr().redSqr(),a=t.redSqr(),n=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=t.redAdd(t),h=(c=c.redIAdd(c)).redMul(n),d=o.redSqr().redISub(h.redAdd(h)),u=h.redISub(d),l=n.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(r);return this.curve.jpoint(d,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(n=(n=(n=n.redIAdd(n)).redAdd(n).redIAdd(n)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=s.redIAdd(n).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.y.redMul(h.redMul(c.redISub(h)).redISub(n.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(n).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},u.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),s=i.redMul(e.z);return 0===this.y.redMul(s).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),s=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),0===this.x.cmp(i))return!0}return!1},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},61198:(e,t,i)=>{"use strict";var r,s=t,a=i(73150),n=a.utils.assert;function o(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var i=new o(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:i}),i}})}s.PresetCurve=o,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:"SHA256",gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:"SHA256",gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:"SHA256",gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:"SHA384",gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:"SHA512",gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i(14935)}catch(e){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:"SHA256",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},61643:(e,t,i)=>{"use strict";var r=i(35060),s=i(50448),a=i(73150),n=a.utils.assert,o=i(60331),c=i(20562);function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(n(a.curves.hasOwnProperty(e),"Unknown curve "+e),e=a.curves[e]),e instanceof a.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new o(this,e)},h.prototype.keyFromPrivate=function(e,t){return o.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return o.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new s({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||null,entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new r(2));;){var n=new r(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}},h.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,i,a){"object"==typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),h=e.toArray("be",n),d=new s({hash:this.hash,entropy:a.extraEntropy?o.concat(a.extraEntropy):o,nonce:h,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new r(1)),l=0;;l++){var f=a.k?a.k(l):new r(d.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return a.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new c({r:g,s:y,recoveryParam:b})}}}}}},h.prototype.verify=function(e,t,i,s){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,s);var a=(t=new c(t,"hex")).r,n=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var o,h=n.invm(this.n),d=h.mul(e).umod(this.n),u=h.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(d,i.getPublic(),u)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(d,i.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},h.prototype.recoverPubKey=function(e,t,i,s){n((3&i)===i,"The recovery param is more than two bits"),t=new c(t,s);var a=this.n,o=new r(e),h=t.r,d=t.s,u=1&i,l=i>>1;if(h.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");h=l?this.curve.pointFromX(h.add(this.curve.n),u):this.curve.pointFromX(h,u);var f=t.r.invm(a),p=a.sub(o).mul(f).umod(a),m=d.mul(f).umod(a);return this.g.mulAdd(p,h,m)},h.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new c(t,r)).recoveryParam)return t.recoveryParam;for(var s=0;s<4;s++){var a;try{a=this.recoverPubKey(e,t,s)}catch(e){continue}if(a.eq(i))return s}throw new Error("Unable to find valid recovery factor")}},60331:(e,t,i)=>{"use strict";var r=i(35060),s=i(73150).utils.assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,i){return t instanceof a?t:new a(e,{pub:t,pubEnc:i})},a.fromPrivate=function(e,t,i){return t instanceof a?t:new a(e,{priv:t,privEnc:i})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},20562:(e,t,i)=>{"use strict";var r=i(35060),s=i(73150).utils.assert;e.exports=function e(t,i){if(t instanceof e)return t;s(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam}},34096:(e,t,i)=>{"use strict";var r=i(61198),s=i(27882),a=s.assert,n=s.parseBytes,o=i(72429),c=i(7423);const h=i(35060),{byteArrayToWordArray:d}=i(80651),u=i(27295);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);var t=r[e].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8)}e.exports=l,l.prototype.sign=function(e,t){e=n(e);var i=this.keyFromSecret(t),r=this.hashInt(i.secret(),e),s=this.g.mul(r),a=this.encodePoint(s),o=this.hashInt(a,i.pubBytes(),e);o=o.mul(i.priv());var c=r.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:a})},l.prototype.signModified=function(e,t){e=n(e);var i=this.keyFromSecret(t);const r=new h(i.secret(),16,"le"),s=this.encodePoint(this.g.mul(r)),a=128&s[31];var o=this.hashInt(i.secret(),e),c=this.g.mul(o),d=this.encodePoint(c);let u=this.hashInt(d,s,e);u=u.mul(r);var l=o.add(u).umod(this.curve.n),f=l.toArray("le",32);return f[31]|=a,this.makeSignature({R:c,S:l,Rencoded:d,Sencoded:f})},l.prototype.verify=function(e,t,i){e=n(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(s)).eq(a)},l.prototype.hashInt=function(){let e=Array.from(arguments).reduce(((e,t)=>e.concat(t)));e=d(e);const t=u.SHA512(e).toString(u.enc.Hex);return s.intFromLE(t).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return o.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return o.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),a=s.intFromLE(i);return this.curve.pointFromY(a,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return s.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},72429:(e,t,i)=>{"use strict";var r=i(27882),s=r.assert,a=r.parseBytes,n=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},n(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r})),n(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.signModified=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.signModified(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o},7423:(e,t,i)=>{"use strict";var r=i(35060),s=i(27882),a=s.assert,n=s.cachedProperty,o=s.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}n(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},14935:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},27882:(e,t,i)=>{"use strict";var r=t,s=i(35060);function a(e,t){var i=[];return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&255),t>2&&i.push(e>>>8&255),t>3&&i.push(255&e),i}function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",i=0;i<e.length;i++)t+=n(e[i].toString(16));return t}r.assert=function(e,t){if(!e)throw new Error(t)},r.getNAF=function(e,t){for(var i=[],r=1<<t+1,s=e.clone();s.cmpn(1)>=0;){var a;if(s.isOdd()){var n=s.andln(r-1);a=n>(r>>1)-1?(r>>1)-n:n,s.isubn(a)}else a=0;i.push(a);for(var o=0!==s.cmpn(0)&&0===s.andln(r-1)?t+1:1,c=1;c<o;c++)i.push(0);s.iushrn(o)}return i},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r=0,s=0;e.cmpn(-r)>0||t.cmpn(-s)>0;){var a,n,o,c=e.andln(3)+r&3,h=t.andln(3)+s&3;3===c&&(c=-1),3===h&&(h=-1),a=0==(1&c)?0:3!=(o=e.andln(7)+r&7)&&5!==o||2!==h?c:-c,i[0].push(a),n=0==(1&h)?0:3!=(o=t.andln(7)+s&7)&&5!==o||2!==c?h:-h,i[1].push(n),2*r===a+1&&(r=1-r),2*s===n+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new s(e,"hex","le")},r.wordArrayToBuffer=function(e){let t;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;const i=[];let r=[],s=0;for(;t>0;)r=a(e[s],Math.min(4,t)),t-=r.length,i.push(r),s++;return[].concat.apply([],i)},r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var s=e.charCodeAt(r),a=s>>8,n=255&s;a?i.push(a,n):i.push(n)}return i},r.zero2=n,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},50448:(e,t,i)=>{"use strict";var r=i(27295),s=i(27882).assert,a=i(27882),{byteArrayToWordArray:n}=i(80651);const o=r.enc.Utf8.parse(""),c=r.enc.Utf8.parse("\0");function h(e){if(!(this instanceof h))return new h(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.slice(3,6),this.minEntropy=e.minEntropy||192,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=e.entropy,i=e.nonce;s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,[])}e.exports=h,h.prototype._init=function(e,t,i){var s=e.concat(t).concat(i);this.K=new r.lib.WordArray.init,this.V=new r.lib.WordArray.init,this.V.words=Array(this.outLen/32).fill(16843009),this.V.sigBytes=32,this._update(s),this._reseed=1,this.reseedInterval=281474976710656},h.prototype._hmac=function(){return new r.lib.WordArray.init},h.prototype._update=function(e){var t=this._hmac();t.concat(this.V),t.concat(c),e&&t.concat(n(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K),e&&((t=this._hmac()).concat(this.V),t.concat(o),t.concat(n(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K))},h.prototype.reseed=function(e,t,i,r){"string"!=typeof t&&(i=t,t=null),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},h.prototype.generate=function(e,t,i,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=t,t=null),i&&(i=r.enc.Utf8.parse(i),this._update(i));for(var n=new r.lib.WordArray.init;n.sigBytes<e;)this.V=r["Hmac"+this.hash](this.V,this.K),n.concat(this.V);return this._update(i),this._reseed++,a.wordArrayToBuffer(n)}},79323:(e,t,i)=>{"use strict";var r=i(61214);function s(e){const t=function(t,i){return"string"==typeof t&&"//"===t.slice(0,2)?e("https:"+t,i):e(t,i)};return t.http=e.http,t.https=e.https,t}e.exports=function(e){return e&&e.Promise&&(r.Promise=e.Promise),{fetch:s(r),Headers:r.Headers,Request:r.Request,Response:r.Response}}},61214:(e,t,i)=>{"use strict";var r=i(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const s=Symbol("buffer"),a=Symbol("type");class n{constructor(){this[a]="";const e=arguments[0],t=arguments[1],i=[];if(e){const t=e,a=Number(t.length);for(let e=0;e<a;e++){const a=t[e];let o;o=a instanceof r?a:ArrayBuffer.isView(a)?r.from(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer?r.from(a):a instanceof n?a[s]:r.from("string"==typeof a?a:String(a)),i.push(o)}}this[s]=r.concat(i);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[a]=o)}get size(){return this[s].length}get type(){return this[a]}slice(){const e=this.size,t=arguments[0],i=arguments[1];let r,a;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),a=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const o=Math.max(a-r,0),c=this[s].slice(r,r+o),h=new n([],{type:arguments[2]});return h[s]=c,h}}function o(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(n.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(n.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name="FetchError";const c=i(42830),h=i(42830).PassThrough,d=Symbol("Body internals");function u(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.size;let a=void 0===s?0:s;var h=i.timeout;let u=void 0===h?0:h;null==e?e=null:"string"==typeof e||f(e)||e instanceof n||r.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||e instanceof c||(e=String(e)),this[d]={body:e,disturbed:!1,error:null},this.size=a,this.timeout=u,e instanceof c&&e.on("error",(function(e){t[d].error=new o(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e)}))}function l(){var e=this;if(this[d].disturbed)return u.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[d].disturbed=!0,this[d].error)return u.Promise.reject(this[d].error);if(null===this.body)return u.Promise.resolve(r.alloc(0));if("string"==typeof this.body)return u.Promise.resolve(r.from(this.body));if(this.body instanceof n)return u.Promise.resolve(this.body[s]);if(r.isBuffer(this.body))return u.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return u.Promise.resolve(r.from(this.body));if(!(this.body instanceof c))return u.Promise.resolve(r.alloc(0));let t=[],i=0,a=!1;return new u.Promise((function(s,n){let c;e.timeout&&(c=setTimeout((function(){a=!0,n(new o(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),e.body.on("error",(function(t){n(new o(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),e.body.on("data",(function(r){if(!a&&null!==r){if(e.size&&i+r.length>e.size)return a=!0,void n(new o(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=r.length,t.push(r)}})),e.body.on("end",(function(){if(!a){clearTimeout(c);try{s(r.concat(t))}catch(t){n(new o(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function f(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function p(e){let t,i,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof c&&"function"!=typeof r.getBoundary&&(t=new h,i=new h,r.pipe(t),r.pipe(i),e[d].body=t,r=i),r}function m(e){const t=e.body;return null===t?0:"string"==typeof t?r.byteLength(t):f(t)?r.byteLength(String(t)):t instanceof n?t.size:r.isBuffer(t)?t.length:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?t.byteLength:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}u.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return l.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return l.call(this).then((function(t){return Object.assign(new n([],{type:e.toLowerCase()}),{[s]:t})}))},json(){var e=this;return l.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return u.Promise.reject(new o(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return l.call(this).then((function(e){return e.toString()}))},buffer(){return l.call(this)},textConverted(){var e=this;return l.call(this).then((function(t){return function(e,t){if("function"!=typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let r,s,a="utf-8";return i&&(r=/charset=([^;]*)/i.exec(i)),s=e.slice(0,1024).toString(),!r&&s&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!r&&s&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&s&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),r&&(a=r.pop(),"gb2312"!==a&&"gbk"!==a||(a="gb18030")),convert(e,"UTF-8",a).toString()}(t,e.headers)}))}},Object.defineProperties(u.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),u.mixIn=function(e){for(const t of Object.getOwnPropertyNames(u.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor(u.prototype,t);Object.defineProperty(e,t,i)}},u.Promise=i.g.Promise;const g=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,y=/[^\t\x20-\x7e\x80-\xff]/;function b(e){if(e=`${e}`,g.test(e))throw new TypeError(`${e} is not a legal HTTP header name`)}function v(e){if(e=`${e}`,y.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function w(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const k=Symbol("map");class S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[k]=Object.create(null),e instanceof S){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const i=e[t];this.append(t,i)}}}}get(e){b(e=`${e}`);const t=w(this[k],e);return void 0===t?null:this[k][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=_(this),r=0;for(;r<i.length;){var s=i[r];const a=s[0],n=s[1];e.call(t,n,a,this),i=_(this),r++}}set(e,t){t=`${t}`,b(e=`${e}`),v(t);const i=w(this[k],e);this[k][void 0!==i?i:e]=[t]}append(e,t){t=`${t}`,b(e=`${e}`),v(t);const i=w(this[k],e);void 0!==i?this[k][i].push(t):this[k][e]=[t]}has(e){return b(e=`${e}`),void 0!==w(this[k],e)}delete(e){b(e=`${e}`);const t=w(this[k],e);void 0!==t&&delete this[k][t]}raw(){return this[k]}keys(){return T(this,"key")}values(){return T(this,"value")}[Symbol.iterator](){return T(this,"key+value")}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const i=Object.keys(e[k]).sort();return i.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[k][t].join(", ")}:function(t){return[t.toLowerCase(),e[k][t].join(", ")]})}S.prototype.entries=S.prototype[Symbol.iterator],Object.defineProperty(S.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(S.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const M=Symbol("internal");function T(e,t){const i=Object.create(O);return i[M]={target:e,kind:t,index:0},i}const O=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==O)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[M];const t=e.target,i=e.kind,r=e.index,s=_(t,i);return r>=s.length?{value:void 0,done:!0}:(this[M].index=r+1,{value:s[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function x(e){const t=Object.assign({__proto__:null},e[k]),i=w(e[k],"Host");return void 0!==i&&(t[i]=t[i][0]),t}Object.defineProperty(O,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const I=i(8501).STATUS_CODES,C=Symbol("Response internals");class A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.call(this,e,t);const i=t.status||200;this[C]={url:t.url,status:i,statusText:t.statusText||I[i],headers:new S(t.headers)}}get url(){return this[C].url}get status(){return this[C].status}get ok(){return this[C].status>=200&&this[C].status<300}get statusText(){return this[C].statusText}get headers(){return this[C].headers}clone(){return new A(p(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}u.mixIn(A.prototype),Object.defineProperties(A.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(A.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var E=i(8575);const N=E.format,P=E.parse,B=Symbol("Request internals");function R(e){return"object"==typeof e&&"object"==typeof e[B]}class L{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(e)?t=P(e.url):(t=e&&e.href?P(e.href):P(`${e}`),e={});let s=i.method||e.method||"GET";if(s=s.toUpperCase(),(null!=i.body||R(e)&&null!==e.body)&&("GET"===s||"HEAD"===s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=null!=i.body?i.body:R(e)&&null!==e.body?p(e):null;u.call(this,a,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const o=new S(i.headers||e.headers||{});if(null!=i.body){const e=function(e){const t=e.body;return null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":f(t)?"application/x-www-form-urlencoded;charset=UTF-8":t instanceof n?t.type||null:r.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:"function"==typeof t.getBoundary?`multipart/form-data;boundary=${t.getBoundary()}`:null}(this);null===e||o.has("Content-Type")||o.append("Content-Type",e)}this[B]={method:s,redirect:i.redirect||e.redirect||"follow",headers:o,parsedURL:t},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[B].method}get url(){return N(this[B].parsedURL)}get headers(){return this[B].headers}get redirect(){return this[B].redirect}clone(){return new L(this)}}u.mixIn(L.prototype),Object.defineProperty(L.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(L.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const V=i(8501),D=i(79267),q=i(42830).PassThrough,G=i(8575).resolve,F=i(42635);function j(e,t){if(!j.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return u.Promise=j.Promise,new j.Promise((function(i,a){const c=new L(e,t),h=function(e){const t=e[B].parsedURL,i=new S(e[B].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=m(e);"number"==typeof t&&(r=String(t))}return r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&i.set("Accept-Encoding","gzip,deflate"),i.has("Connection")||e.agent||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:x(i),agent:e.agent})}(c),d=(0,("https:"===h.protocol?D:V).request)(h);let u;function l(){d.abort(),clearTimeout(u)}c.timeout&&d.once("socket",(function(e){u=setTimeout((function(){a(new o(`network timeout at: ${c.url}`,"request-timeout")),l()}),c.timeout)})),d.on("error",(function(e){a(new o(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),l()})),d.on("response",(function(e){clearTimeout(u);const t=function(e){const t=new S;for(const i of Object.keys(e))if(!g.test(i))if(Array.isArray(e[i]))for(const r of e[i])y.test(r)||(void 0===t[k][i]?t[k][i]=[r]:t[k][i].push(r));else y.test(e[i])||(t[k][i]=[e[i]]);return t}(e.headers);if(j.isRedirect(e.statusCode)){const r=t.get("Location"),s=null===r?null:G(c.url,r);switch(c.redirect){case"error":return a(new o(`redirect mode is set to error: ${c.url}`,"no-redirect")),void l();case"manual":null!==s&&t.set("Location",s);break;case"follow":if(null===s)break;if(c.counter>=c.follow)return a(new o(`maximum redirect reached at: ${c.url}`,"max-redirect")),void l();const r={headers:new S(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body};return 303!==e.statusCode&&c.body&&null===m(c)?(a(new o("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void l()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),i(j(new L(s,r))),void l())}}let r=e.pipe(new q);const s={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout},n=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===n||204===e.statusCode||304===e.statusCode)return void i(new A(r,s));const h={flush:F.Z_SYNC_FLUSH,finishFlush:F.Z_SYNC_FLUSH};if("gzip"==n||"x-gzip"==n)return r=r.pipe(F.createGunzip(h)),void i(new A(r,s));"deflate"!=n&&"x-deflate"!=n?i(new A(r,s)):e.pipe(new q).once("data",(function(e){r=8==(15&e[0])?r.pipe(F.createInflate()):r.pipe(F.createInflateRaw()),i(new A(r,s))}))})),function(e,t){const i=t.body;null===i?e.end():"string"==typeof i?(e.write(i),e.end()):f(i)?(e.write(r.from(String(i))),e.end()):i instanceof n?(e.write(i[s]),e.end()):r.isBuffer(i)?(e.write(i),e.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(i)?(e.write(r.from(i)),e.end()):i.pipe(e)}(d,c)}))}j.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},j.default=j,j.Promise=i.g.Promise,j.http=V,j.https=D,e.exports=t=j,t.Headers=S,t.Request=L,t.Response=A,t.FetchError=o},21286:(e,t,i)=>{var r=i(48764).Buffer,s=i(939),a=i(41147)._,n=i(48173),o=i(41917);e.exports=function(){var e={browser:["md5","ripemd160","sha1","sha256","sha512"]},t="pkcs1",i="pkcs1",c={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function h(e,n,o){if(!(this instanceof h))return new h(e,n,o);a.isObject(n)&&(o=n,n=void 0),this.$options={signingScheme:i,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:t,encryptionSchemeOptions:{hash:"sha1",label:null},environment:"browser",rsaUtils:this},this.keyPair=new s.Key,this.$cache={},r.isBuffer(e)||a.isString(e)?this.importKey(e,n):a.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(o)}return h.prototype.setOptions=function(r){if((r=r||{}).environment&&(this.$options.environment=r.environment),r.signingScheme){if(a.isString(r.signingScheme)){var s=r.signingScheme.toLowerCase().split("-");1==s.length?e.node.indexOf(s[0])>-1?(this.$options.signingSchemeOptions={hash:s[0]},this.$options.signingScheme=i):(this.$options.signingScheme=s[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:s[1]},this.$options.signingScheme=s[0])}else a.isObject(r.signingScheme)&&(this.$options.signingScheme=r.signingScheme.scheme||i,this.$options.signingSchemeOptions=a.omit(r.signingScheme,"scheme"));if(!n.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(r.encryptionScheme){if(a.isString(r.encryptionScheme)?(this.$options.encryptionScheme=r.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):a.isObject(r.encryptionScheme)&&(this.$options.encryptionScheme=r.encryptionScheme.scheme||t,this.$options.encryptionSchemeOptions=a.omit(r.encryptionScheme,"scheme")),!n.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},h.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=c[t]||t),!o.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},h.prototype.isPrivate=function(){return this.keyPair.isPrivate()},h.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},h.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},h.prototype.sign=function(e,t,i){if(!this.isPrivate())throw Error("This is not private key");var r=this.keyPair.sign(this.$getDataForEncrypt(e,i));return t&&"buffer"!=t&&(r=r.toString(t)),r},h.prototype.$getDataForEncrypt=function(e,t){if(a.isString(e)||a.isNumber(e))return r.from(""+e,t||"utf8");if(r.isBuffer(e))return e;if(a.isObject(e))return r.from(JSON.stringify(e));throw Error("Unexpected data type")},h}()},29470:e=>{e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},42046:(e,t,i)=>{var r=i(29470),s=i(54275),a=i(32758);for(var n in e.exports={Reader:a},s)s.hasOwnProperty(n)&&(e.exports[n]=s[n]);for(var o in r)r.hasOwnProperty(o)&&(e.exports[o]=r[o])},32758:(e,t,i)=>{var r=i(48764).Buffer,s=i(69282),a=i(54275),n=i(29470).newInvalidAsn1Error;function o(e){if(!e||!r.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(o.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(o.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),o.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},o.prototype.peek=function(){return this.readByte(!0)},o.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0==(t&=127))throw n("Indefinite length not supported");if(t>4)throw n("encoding too long");if(this._size-e<t)return null;this._len=0;for(var i=0;i<t;i++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},o.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw n("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);return null===i?null:(this._offset=i,t)},o.prototype.readInt=function(){return this._readTag(a.Integer)},o.prototype.readBoolean=function(){return 0!==this._readTag(a.Boolean)},o.prototype.readEnumeration=function(){return this._readTag(a.Enumeration)},o.prototype.readString=function(e,t){e||(e=a.OctetString);var i=this.peek();if(null===i)return null;if(i!==e)throw n("Expected 0x"+e.toString(16)+": got 0x"+i.toString(16));var s=this.readLength(this._offset+1);if(null===s)return null;if(this.length>this._size-s)return null;if(this._offset=s,0===this.length)return t?r.alloc(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?o:o.toString("utf8")},o.prototype.readOID=function(e){e||(e=a.OID);var t=this.readString(e,!0);if(null===t)return null;for(var i=[],r=0,s=0;s<t.length;s++){var n=255&t[s];r<<=7,r+=127&n,0==(128&n)&&(i.push(r),r=0)}return r=i.shift(),i.unshift(r%40),i.unshift(r/40>>0),i.join(".")},o.prototype._readTag=function(e){s.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw n("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>4)throw n("Integer too long: "+this.length);if(this.length>this._size-i)return null;this._offset=i;for(var r=this._buf[this._offset],a=0,o=0;o<this.length;o++)a<<=8,a|=255&this._buf[this._offset++];return 128==(128&r)&&4!==o&&(a-=1<<8*o),a>>0},e.exports=o},54275:e=>{e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},4449:(e,t,i)=>{var r=i(42046);e.exports={Ber:r,BerReader:r.Reader}},73666:(e,t,i)=>{i(41147)._,i(41147),e.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,i){if(!(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff))throw Error("Invalid key data");e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff)},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,i){if(!t.n||!t.e)throw Error("Invalid key data");e.setPublic(t.n,t.e)},autoImport:function(t,i){return!(!i.n||!i.e||(i.d&&i.p&&i.q&&i.dmp1&&i.dmq1&&i.coeff?(e.exports.privateImport(t,i),0):(e.exports.publicImport(t,i),0)))}}},41917:(e,t,i)=>{i(41147)._,e.exports={pkcs1:i(37073),pkcs8:i(27158),components:i(73666),detectAndImport:function(t,i,r){if(void 0===r){for(var s in e.exports)if("function"==typeof e.exports[s].autoImport&&e.exports[s].autoImport(t,i))return!0}else if(r){var a=formatParse(r);if(!e.exports[a.scheme])throw Error("Unsupported key format");"private"===a.keyType?e.exports[a.scheme].privateImport(t,i,a.keyOpt):e.exports[a.scheme].publicImport(t,i,a.keyOpt)}return!1}}},37073:(e,t,i)=>{var r=i(48764).Buffer,s=i(4449).Ber,a=i(41147)._,n=i(41147);const o="-----BEGIN RSA PRIVATE KEY-----",c="-----END RSA PRIVATE KEY-----",h="-----BEGIN RSA PUBLIC KEY-----",d="-----END RSA PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=e.d.toBuffer(),a=e.p.toBuffer(),h=e.q.toBuffer(),d=e.dmp1.toBuffer(),u=e.dmq1.toBuffer(),l=e.coeff.toBuffer(),f=i.length+r.length+a.length+h.length+d.length+u.length+l.length+512,p=new s.Writer({size:f});return p.startSequence(),p.writeInt(0),p.writeBuffer(i,2),p.writeInt(e.e),p.writeBuffer(r,2),p.writeBuffer(a,2),p.writeBuffer(h,2),p.writeBuffer(d,2),p.writeBuffer(u,2),p.writeBuffer(l,2),p.endSequence(),"der"===t.type?p.buffer:o+"\n"+n.linebrk(p.buffer.toString("base64"),64)+"\n"+c},privateImport:function(e,t,i){var h;if("der"!==(i=i||{}).type){if(r.isBuffer(t)&&(t=t.toString("utf8")),!a.isString(t))throw Error("Unsupported key format");var d=n.trimSurroundingText(t,o,c).replace(/\s+|\n\r|\n|\r$/gm,"");h=r.from(d,"base64")}else{if(!r.isBuffer(t))throw Error("Unsupported key format");h=t}var u=new s.Reader(h);u.readSequence(),u.readString(2,!0),e.setPrivate(u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=i.length+512,a=new s.Writer({size:r});return a.startSequence(),a.writeBuffer(i,2),a.writeInt(e.e),a.endSequence(),"der"===t.type?a.buffer:h+"\n"+n.linebrk(a.buffer.toString("base64"),64)+"\n"+d},publicImport:function(e,t,i){var o;if("der"!==(i=i||{}).type){if(r.isBuffer(t)&&(t=t.toString("utf8")),a.isString(t)){var c=n.trimSurroundingText(t,h,d).replace(/\s+|\n\r|\n|\r$/gm,"");o=r.from(c,"base64")}}else{if(!r.isBuffer(t))throw Error("Unsupported key format");o=t}var u=new s.Reader(o);u.readSequence(),e.setPublic(u.readString(2,!0),u.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}},27158:(e,t,i)=>{var r=i(48764).Buffer,s=i(4449).Ber,a=i(41147)._,n="1.2.840.113549.1.1.1",o=i(41147);const c="-----BEGIN PRIVATE KEY-----",h="-----END PRIVATE KEY-----",d="-----BEGIN PUBLIC KEY-----",u="-----END PUBLIC KEY-----";e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=e.d.toBuffer(),a=e.p.toBuffer(),d=e.q.toBuffer(),u=e.dmp1.toBuffer(),l=e.dmq1.toBuffer(),f=e.coeff.toBuffer(),p=i.length+r.length+a.length+d.length+u.length+l.length+f.length+512,m=new s.Writer({size:p});m.startSequence(),m.writeInt(0),m.writeBuffer(i,2),m.writeInt(e.e),m.writeBuffer(r,2),m.writeBuffer(a,2),m.writeBuffer(d,2),m.writeBuffer(u,2),m.writeBuffer(l,2),m.writeBuffer(f,2),m.endSequence();var g=new s.Writer({size:p});return g.startSequence(),g.writeInt(0),g.startSequence(),g.writeOID(n),g.writeNull(),g.endSequence(),g.writeBuffer(m.buffer,4),g.endSequence(),"der"===t.type?g.buffer:c+"\n"+o.linebrk(g.buffer.toString("base64"),64)+"\n"+h},privateImport:function(e,t,i){var d;if("der"!==(i=i||{}).type){if(r.isBuffer(t)&&(t=t.toString("utf8")),!a.isString(t))throw Error("Unsupported key format");var u=o.trimSurroundingText(t,c,h).replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");d=r.from(u,"base64")}else{if(!r.isBuffer(t))throw Error("Unsupported key format");d=t}var l=new s.Reader(d);if(l.readSequence(),l.readInt(0),new s.Reader(l.readString(48,!0)).readOID(6,!0)!==n)throw Error("Invalid Public key format");var f=new s.Reader(l.readString(4,!0));f.readSequence(),f.readString(2,!0),e.setPrivate(f.readString(2,!0),f.readString(2,!0),f.readString(2,!0),f.readString(2,!0),f.readString(2,!0),f.readString(2,!0),f.readString(2,!0),f.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),r=i.length+512,a=new s.Writer({size:r});a.writeByte(0),a.startSequence(),a.writeBuffer(i,2),a.writeInt(e.e),a.endSequence();var c=new s.Writer({size:r});return c.startSequence(),c.startSequence(),c.writeOID(n),c.writeNull(),c.endSequence(),c.writeBuffer(a.buffer,3),c.endSequence(),"der"===t.type?c.buffer:d+"\n"+o.linebrk(c.buffer.toString("base64"),64)+"\n"+u},publicImport:function(e,t,i){var c;if("der"!==(i=i||{}).type){if(r.isBuffer(t)&&(t=t.toString("utf8")),a.isString(t)){var h=o.trimSurroundingText(t,d,u).replace(/\s+|\n\r|\n|\r$/gm,"");c=r.from(h,"base64")}}else{if(!r.isBuffer(t))throw Error("Unsupported key format");c=t}var l=new s.Reader(c);if(l.readSequence(),new s.Reader(l.readString(48,!0)).readOID(6,!0)!==n)throw Error("Invalid Public key format");var f=new s.Reader(l.readString(3,!0));f.readByte(),f.readSequence(),e.setPublic(f.readString(2,!0),f.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}},28446:(e,t,i)=>{var r=i(48764).Buffer,s=i(41147)._;function a(e,t){null!=e&&("number"==typeof e?this.fromNumber(e,t):r.isBuffer(e)?this.fromBuffer(e):null==t&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,t))}function n(){return new a(null)}a.prototype.am=function(e,t,i,r,s,a){for(var n=16383&t,o=t>>14;--a>=0;){var c=16383&this[e],h=this[e++]>>14,d=o*c+h*n;s=((c=n*c+((16383&d)<<14)+i[r]+s)>>28)+(d>>14)+o*h,i[r++]=268435455&c}return s},a.prototype.DB=28,a.prototype.DM=268435455,a.prototype.DV=1<<28,a.prototype.FV=Math.pow(2,52),a.prototype.F1=24,a.prototype.F2=4;var o,c,h=new Array;for(o="0".charCodeAt(0),c=0;c<=9;++c)h[o++]=c;for(o="a".charCodeAt(0),c=10;c<36;++c)h[o++]=c;for(o="A".charCodeAt(0),c=10;c<36;++c)h[o++]=c;function d(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){var i=h[e.charCodeAt(t)];return null==i?-1:i}function l(e){var t=n();return t.fromInt(e),t}function f(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function p(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e,t){return e&t}function y(e,t){return e|t}function b(e,t){return e^t}function v(e){if(0===e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function w(){}function k(e){return e}function S(e){this.r2=n(),this.q3=n(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}p.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},p.prototype.revert=function(e){return e},p.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},p.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],r=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.convert=k,w.prototype.revert=k,w.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},S.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},S.prototype.revert=function(e){return e},S.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},S.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},S.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},a.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0},a.prototype.fromString=function(e,t,i){var r;switch(t){case 2:r=1;break;case 4:r=2;break;case 8:r=3;break;case 16:r=4;break;case 32:r=5;break;case 256:r=8;break;default:return void this.fromRadix(e,t)}this.t=0,this.s=0;for(var s=e.length,n=!1,o=0;--s>=0;){var c=8==r?255&e[s]:u(e,s);c<0?"-"==e.charAt(s)&&(n=!0):(n=!1,0===o?this[this.t++]=c:o+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,(o+=r)>=this.DB&&(o-=this.DB))}i||8!=r||0==(128&e[0])||(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&a.ZERO.subTo(this,this)},a.prototype.fromByteArray=function(e,t){this.fromString(e,256,t)},a.prototype.fromBuffer=function(e){this.fromString(e,256,!0)},a.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},a.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},a.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.lShiftTo=function(e,t){var i,r=e%this.DB,s=this.DB-r,a=(1<<s)-1,n=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t[i+n+1]=this[i]>>s|o,o=(this[i]&a)<<r;for(i=n-1;i>=0;--i)t[i]=0;t[n]=o,t.t=this.t+n+1,t.s=this.s,t.clamp()},a.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var r=e%this.DB,s=this.DB-r,a=(1<<r)-1;t[0]=this[i]>>r;for(var n=i+1;n<this.t;++n)t[n-i-1]|=(this[n]&a)<<s,t[n-i]=this[n]>>r;r>0&&(t[this.t-i-1]|=(this.s&a)<<s),t.t=this.t-i,t.clamp()}},a.prototype.subTo=function(e,t){for(var i=0,r=0,s=Math.min(e.t,this.t);i<s;)r+=this[i]-e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r-=e[i],t[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[i++]=this.DV+r:r>0&&(t[i++]=r),t.t=i,t.clamp()},a.prototype.multiplyTo=function(e,t){var i=this.abs(),r=e.abs(),s=i.t;for(t.t=s+r.t;--s>=0;)t[s]=0;for(s=0;s<r.t;++s)t[s+i.t]=i.am(0,r[s],t,s,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.squareTo=function(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},a.prototype.divRemTo=function(e,t,i){var r=e.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var o=n(),c=this.s,h=e.s,d=this.DB-f(r[r.t-1]);d>0?(r.lShiftTo(d,o),s.lShiftTo(d,i)):(r.copyTo(o),s.copyTo(i));var u=o.t,l=o[u-1];if(0!==l){var p=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,y=1<<this.F2,b=i.t,v=b-u,w=null==t?n():t;for(o.dlShiftTo(v,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),a.ONE.dlShiftTo(u,w),w.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--v>=0;){var k=i[--b]==l?this.DM:Math.floor(i[b]*m+(i[b-1]+y)*g);if((i[b]+=o.am(0,k,i,v,0,u))<k)for(o.dlShiftTo(v,w),i.subTo(w,i);i[b]<--k;)i.subTo(w,i)}null!=t&&(i.drShiftTo(u,t),c!=h&&a.ZERO.subTo(t,t)),i.t=u,i.clamp(),d>0&&i.rShiftTo(d,i),c<0&&a.ZERO.subTo(i,i)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},a.prototype.isEven=function(){return 0===(this.t>0?1&this[0]:this.s)},a.prototype.exp=function(e,t){if(e>4294967295||e<1)return a.ONE;var i=n(),r=n(),s=t.convert(this),o=f(e)-1;for(s.copyTo(i);--o>=0;)if(t.sqrTo(i,r),(e&1<<o)>0)t.mulTo(r,s,i);else{var c=i;i=r,r=c}return t.revert(i)},a.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},a.prototype.toRadix=function(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=l(i),s=n(),a=n(),o="";for(this.divRemTo(r,s,a);s.signum()>0;)o=(i+a.intValue()).toString(e).substr(1)+o,s.divRemTo(r,s,a);return a.intValue().toString(e)+o},a.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),s=!1,n=0,o=0,c=0;c<e.length;++c){var h=u(e,c);h<0?"-"==e.charAt(c)&&0===this.signum()&&(s=!0):(o=t*o+h,++n>=i&&(this.dMultiply(r),this.dAddOffset(o,0),n=0,o=0))}n>0&&(this.dMultiply(Math.pow(t,n)),this.dAddOffset(o,0)),s&&a.ZERO.subTo(this,this)},a.prototype.bitwiseTo=function(e,t,i){var r,s,a=Math.min(e.t,this.t);for(r=0;r<a;++r)i[r]=t(this[r],e[r]);if(e.t<this.t){for(s=e.s&this.DM,r=a;r<this.t;++r)i[r]=t(this[r],s);i.t=this.t}else{for(s=this.s&this.DM,r=a;r<e.t;++r)i[r]=t(s,e[r]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},a.prototype.addTo=function(e,t){for(var i=0,r=0,s=Math.min(e.t,this.t);i<s;)r+=this[i]+e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r+=e[i],t[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[i++]=r:r<-1&&(t[i++]=this.DV+r),t.t=i,t.clamp()},a.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},a.prototype.dAddOffset=function(e,t){if(0!==e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},a.prototype.multiplyLowerTo=function(e,t,i){var r,s=Math.min(this.t+e.t,t);for(i.s=0,i.t=s;s>0;)i[--s]=0;for(r=i.t-this.t;s<r;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(r=Math.min(e.t,t);s<r;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()},a.prototype.multiplyUpperTo=function(e,t,i){--t;var r=i.t=this.t+e.t-t;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)i[this.t+r-t]=this.am(t-r,e[r],i,0,0,this.t+r-t);i.clamp(),i.drShiftTo(1,i)},a.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,s=!1,a="",n=this.t,o=this.DB-n*this.DB%t;if(n-- >0)for(o<this.DB&&(i=this[n]>>o)>0&&(s=!0,a=d(i));n>=0;)o<t?(i=(this[n]&(1<<o)-1)<<t-o,i|=this[--n]>>(o+=this.DB-t)):(i=this[n]>>(o-=t)&r,o<=0&&(o+=this.DB,--n)),i>0&&(s=!0),s&&(a+=d(i));return s?a:"0"},a.prototype.negate=function(){var e=n();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},a.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t},a.prototype.clone=function(){var e=n();return this.copyTo(e),e},a.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},a.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},a.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var i,r=this.DB-e*this.DB%8,s=0;if(e-- >0)for(r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=i|this.s<<this.DB-r);e>=0;)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&i)&&(i|=-256),0===s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i);return t},a.prototype.toBuffer=function(e){var t=r.from(this.toByteArray());if(!0===e&&0===t[0])t=t.slice(1);else if(s.isNumber(e)){if(t.length>e){for(var i=0;i<t.length-e;i++)if(0!==t[i])return null;return t.slice(t.length-e)}if(t.length<e){var a=r.alloc(e);return a.fill(0,0,e-t.length),t.copy(a,e-t.length),a}}return t},a.prototype.equals=function(e){return 0==this.compareTo(e)},a.prototype.min=function(e){return this.compareTo(e)<0?this:e},a.prototype.max=function(e){return this.compareTo(e)>0?this:e},a.prototype.and=function(e){var t=n();return this.bitwiseTo(e,g,t),t},a.prototype.or=function(e){var t=n();return this.bitwiseTo(e,y,t),t},a.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,b,t),t},a.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},a.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+v(this[e]);return this.s<0?this.t*this.DB:-1},a.prototype.add=function(e){var t=n();return this.addTo(e,t),t},a.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},a.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},a.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},a.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},a.prototype.modPow=function(e,t){var i,r,s=e.bitLength(),a=l(1);if(s<=0)return a;i=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new p(t):t.isEven()?new S(t):new m(t);var o=new Array,c=3,h=i-1,d=(1<<i)-1;if(o[1]=r.convert(this),i>1){var u=n();for(r.sqrTo(o[1],u);c<=d;)o[c]=n(),r.mulTo(u,o[c-2],o[c]),c+=2}var g,y,b=e.t-1,v=!0,w=n();for(s=f(e[b])-1;b>=0;){for(s>=h?g=e[b]>>s-h&d:(g=(e[b]&(1<<s+1)-1)<<h-s,b>0&&(g|=e[b-1]>>this.DB+s-h)),c=i;0==(1&g);)g>>=1,--c;if((s-=c)<0&&(s+=this.DB,--b),v)o[g].copyTo(a),v=!1;else{for(;c>1;)r.sqrTo(a,w),r.sqrTo(w,a),c-=2;c>0?r.sqrTo(a,w):(y=a,a=w,w=y),r.mulTo(w,o[g],a)}for(;b>=0&&0==(e[b]&1<<s);)r.sqrTo(a,w),y=a,a=w,w=y,--s<0&&(s=this.DB-1,--b)}return r.revert(a)},a.prototype.pow=function(e){return this.exp(e,new w)},a.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var r=t;t=i,i=r}var s=t.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)return t;for(s<a&&(a=s),a>0&&(t.rShiftTo(a,t),i.rShiftTo(a,i));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return a>0&&i.lShiftTo(a,i),i},a.int2char=d,a.ZERO=l(0),a.ONE=l(1),a.prototype.square=function(){var e=n();return this.squareTo(e),e},e.exports=a},939:(e,t,i)=>{var r=i(41147)._,s=i(28446),a=i(41147),n=i(48173);e.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=n[e.signingScheme],i=n[e.encryptionScheme];t===i?this.signingScheme=this.encryptionScheme=i.makeScheme(this,e):(this.encryptionScheme=i.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e))},e.prototype.setPrivate=function(e,t,i,n,o,c,h,d){if(!(e&&t&&i&&e.length>0&&(r.isNumber(t)||t.length>0)&&i.length>0))throw Error("Invalid RSA private key");this.n=new s(e),this.e=r.isNumber(t)?t:a.get32IntFromBuffer(t,0),this.d=new s(i),n&&o&&c&&h&&d&&(this.p=new s(n),this.q=new s(o),this.dmp1=new s(c),this.dmq1=new s(h),this.coeff=new s(d)),this.$$recalculateCache()},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},93679:(e,t,i)=>{var r=i(48764).Buffer,s=i(28446),a=i(27295);i(83208);var n={md2:r.from("3020300c06082a864886f70d020205000410","hex"),md5:r.from("3020300c06082a864886f70d020505000410","hex"),sha1:r.from("3021300906052b0e03021a05000414","hex"),sha224:r.from("302d300d06096086480165030402040500041c","hex"),sha256:r.from("3031300d060960864801650304020105000420","hex"),sha384:r.from("3041300d060960864801650304020205000430","hex"),sha512:r.from("3051300d060960864801650304020305000440","hex"),ripemd160:r.from("3021300906052b2403020105000414","hex"),rmd160:r.from("3021300906052b2403020105000414","hex")},o={ripemd160:"rmd160"};function c(e,t){var i=[];return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&255),t>2&&i.push(e>>>8&255),t>3&&i.push(255&e),i}e.exports={isEncryption:!0,isSignature:!0},e.exports.makeScheme=function(e,t){function i(e,t){this.key=e,this.options=t}return i.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&3==this.options.encryptionSchemeOptions.padding?this.key.encryptedDataLength:this.key.encryptedDataLength-11},i.prototype.encUnPad=function(e,t){t=t||{};var i=0;if(this.options.encryptionSchemeOptions&&3==this.options.encryptionSchemeOptions.padding)return"function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length);if(e.length<4)return null;if(1===t.type){if(0!==e[0]&&1!==e[1])return null;for(i=3;0!==e[i];)if(255!=e[i]||++i>=e.length)return null}else{if(0!==e[0]&&2!==e[1])return null;for(i=3;0!==e[i];)if(++i>=e.length)return null}return e.slice(i+1,e.length)},i.prototype.sign=function(e){var t=this.options.signingSchemeOptions.hash||"sha256";if("browser"===this.options.environment){var i=function(e){let t;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;const i=[];let s=[],a=0;for(;t>0;)s=c(e[a],Math.min(4,t)),t-=s.length,i.push(s),a++;return new r.from([].concat.apply([],i),"hex")}(a[(t=o[t]||t).toUpperCase()](e.toString())),n=this.pkcs1pad(i,t);return this.key.$doPrivate(new s(n)).toBuffer(this.key.encryptedDataLength)}throw new Error("CCXT only supports browser mode :P")},i.prototype.pkcs1pad=function(e,t){var i=n[t];if(!i)throw Error("Unsupported hash algorithm");var s=r.concat([i,e]);if(s.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+t+")");var a=r.alloc(this.key.encryptedDataLength-s.length-1);return a.fill(255,0,a.length-1),a[0]=1,a[a.length-1]=0,r.concat([a,s])},new i(e,t)}},48173:(e,t,i)=>{e.exports={pkcs1:i(93679),isEncryption:function(t){return e.exports[t]&&e.exports[t].isEncryption},isSignature:function(t){return e.exports[t]&&e.exports[t].isSignature}}},41147:e=>{e.exports.linebrk=function(e,t){for(var i="",r=0;r+t<e.length;)i+=e.substring(r,r+t)+"\n",r+=t;return i+e.substring(r,e.length)},e.exports.get32IntFromBuffer=function(e,t){var i;if(t=t||0,(i=e.length-t)>0){if(i>=4)return e.readUInt32BE(t);for(var r=0,s=t+i,a=0;s>t;s--,a+=2)r+=e[s-1]*Math.pow(16,a);return r}return NaN},e.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var i={};for(var r in e)e.hasOwnProperty(r)&&r!==t&&(i[r]=e[r]);return i}},e.exports.trimSurroundingText=function(e,t,i){var r=0,s=e.length,a=e.indexOf(t);a>=0&&(r=a+t.length);var n=e.indexOf(i,a);return n>=0&&(s=n),e.substring(r,s)}},57539:e=>{"use strict";var t=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return t.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},84106:(e,t,i)=>{"use strict";var r=i(68633),s=i(58006),a=i(57539);e.exports={formats:a,parse:s,stringify:r}},58006:(e,t,i)=>{"use strict";var r=i(48578),s=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o=function(e,t,i){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(r),o=n?r.slice(0,n.index):r,c=[];if(o){if(!i.plainObjects&&s.call(Object.prototype,o)&&!i.allowPrototypes)return;c.push(o)}for(var h=0;null!==(n=a.exec(r))&&h<i.depth;){if(h+=1,!i.plainObjects&&s.call(Object.prototype,n[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(n[1])}return n&&c.push("["+r.slice(n.index)+"]"),function(e,t,i){for(var r=t,s=e.length-1;s>=0;--s){var a,n=e[s];if("[]"===n&&i.parseArrays)a=[].concat(r);else{a=i.plainObjects?Object.create(null):{};var o="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,c=parseInt(o,10);i.parseArrays||""!==o?!isNaN(c)&&n!==o&&String(c)===o&&c>=0&&i.parseArrays&&c<=i.arrayLimit?(a=[])[c]=r:a[o]=r:a={0:r}}r=a}return r}(c,t,i)}};e.exports=function(e,t){var i=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth?e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return i.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var i,o={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,h),u=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<d.length;++i)0===d[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[i]?l="utf-8":"utf8=%26%2310003%3B"===d[i]&&(l="iso-8859-1"),u=i,i=d.length);for(i=0;i<d.length;++i)if(i!==u){var f,p,m=d[i],g=m.indexOf("]="),y=-1===g?m.indexOf("="):g+1;-1===y?(f=t.decoder(m,a.decoder,l),p=t.strictNullHandling?null:""):(f=t.decoder(m.slice(0,y),a.decoder,l),p=t.decoder(m.slice(y+1),a.decoder,l)),p&&t.interpretNumericEntities&&"iso-8859-1"===l&&(p=n(p)),p&&t.comma&&p.indexOf(",")>-1&&(p=p.split(",")),s.call(o,f)?o[f]=r.combine(o[f],p):o[f]=p}return o}(e,i):e,h=i.plainObjects?Object.create(null):{},d=Object.keys(c),u=0;u<d.length;++u){var l=d[u],f=o(l,c[l],i);h=r.merge(h,f,i)}return r.compact(h)}},68633:(e,t,i)=>{"use strict";var r=i(48578),s=i(57539),a=Object.prototype.hasOwnProperty,n={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,h=function(e,t){c.apply(e,o(t)?t:[t])},d=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:s.formatters[s.default],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,i,s,a,n,c,d,l,f,p,m,g,y){var b=t;if("function"==typeof d?b=d(i,b):b instanceof Date?b=p(b):"comma"===s&&o(b)&&(b=b.join(",")),null===b){if(a)return c&&!g?c(i,u.encoder,y):i;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||r.isBuffer(b))return c?[m(g?i:c(i,u.encoder,y))+"="+m(c(b,u.encoder,y))]:[m(i)+"="+m(String(b))];var v,w=[];if(void 0===b)return w;if(o(d))v=d;else{var k=Object.keys(b);v=l?k.sort(l):k}for(var S=0;S<v.length;++S){var _=v[S];n&&null===b[_]||(o(b)?h(w,e(b[_],"function"==typeof s?s(i,_):i,s,a,n,c,d,l,f,p,m,g,y)):h(w,e(b[_],i+(f?"."+_:"["+_+"]"),s,a,n,c,d,l,f,p,m,g,y)))}return w};e.exports=function(e,t){var i,r=e,c=function(e){if(!e)return u;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=s.default;if(void 0!==e.format){if(!a.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var r=s.formatters[i],n=u.filter;return("function"==typeof e.filter||o(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:void 0===e.allowDots?u.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,delimiter:void 0===e.delimiter?u.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:u.encode,encoder:"function"==typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):o(c.filter)&&(i=c.filter);var d,f=[];if("object"!=typeof r||null===r)return"";d=t&&t.arrayFormat in n?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=n[d];i||(i=Object.keys(r)),c.sort&&i.sort(c.sort);for(var m=0;m<i.length;++m){var g=i[m];c.skipNulls&&null===r[g]||h(f,l(r[g],g,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var y=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}},48578:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i=Array.isArray,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(i[r]=e[r]);return i};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,i){return e[i]=t[i],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],s=0;s<t.length;++s)for(var a=t[s],n=a.obj[a.prop],o=Object.keys(n),c=0;c<o.length;++c){var h=o[c],d=n[h];"object"==typeof d&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:n,prop:h}),r.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var s=[],a=0;a<r.length;++a)void 0!==r[a]&&s.push(r[a]);t.obj[t.prop]=s}}}(t),e},decode:function(e,t,i){var r=e.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,i){if(0===e.length)return e;var s="string"==typeof e?e:String(e);if("iso-8859-1"===i)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",n=0;n<s.length;++n){var o=s.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?a+=s.charAt(n):o<128?a+=r[o]:o<2048?a+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?a+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&s.charCodeAt(n)),a+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(r,a,n){if(!a)return r;if("object"!=typeof a){if(i(r))r.push(a);else{if(!r||"object"!=typeof r)return[r,a];(n&&(n.plainObjects||n.allowPrototypes)||!t.call(Object.prototype,a))&&(r[a]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(a);var o=r;return i(r)&&!i(a)&&(o=s(r,n)),i(r)&&i(a)?(a.forEach((function(i,s){if(t.call(r,s)){var a=r[s];a&&"object"==typeof a&&i&&"object"==typeof i?r[s]=e(a,i,n):r.push(i)}else r[s]=i})),r):Object.keys(a).reduce((function(i,r){var s=a[r];return t.call(i,r)?i[r]=e(i[r],s,n):i[r]=s,i}),o)}}},80842:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,OrderNotFound:c,PermissionDenied:h,BadRequest:d,BadSymbol:u,DDoSProtection:l,InvalidOrder:f}=i(73449),p=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"stex",name:"STEX",countries:["EE"],rateLimit:1e3/3,certified:!1,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},version:"v3",urls:{logo:"https://user-images.githubusercontent.com/1294454/69680782-03fd0b80-10bd-11ea-909e-7f603500e9cc.jpg",api:"https://api3.stex.com",www:"https://www.stex.com",doc:["https://help.stex.com/en/collections/1593608-api-v3-documentation"],fees:"https://app.stex.com/en/pairs-specification",referral:"https://app.stex.com?ref=36416021"},requiredCredentials:{apiKey:!1,secret:!1,token:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D"},api:{public:{get:{currencies:1,"currencies/{currencyId}":1,markets:1,"pairs-groups":1,"currency_pairs/list/{code}":1,"currency_pairs/group/{currencyPairGroupId}":1,"currency_pairs/{currencyPairId}":1,ticker:1,"ticker/{currencyPairId}":1,"trades/{currencyPairId}":1,"orderbook/{currencyPairId}":1,"chart/{currencyPairId}/{candlesType}":1,"deposit-statuses":1,"deposit-statuses/{statusId}":1,"withdrawal-statuses":1,"withdrawal-statuses/{statusId}":1,ping:1,"mobile-versions":1,twitter:1}},trading:{get:{"fees/{currencyPairId}":1,orders:12,"orders/{currencyPairId}":6,"order/{orderId}":12},post:{"orders/{currencyPairId}":1.5,"orders/bulk/{currencyPairId}":12},delete:{orders:30,"orders/{currencyPairId}":12,"order/{orderId}":1.5}},reports:{get:{currencies:12,currency_pairs:12,orders:12,"orders/{orderId}":12,"trades/{currencyPairId}":12,"background/{listMode}":12,"background/{id}":12,"background/download/{id}":12},post:{"background/create":12},delete:{"background/{id}":12}},profile:{get:{info:3,wallets:3,"wallets/{walletId}":3,"wallets/address/{walletId}":3,deposits:3,"deposits/{id}":3,rewards:3,"rewards/{id}":3,addressbook:3,"addressbook/{itemId}":3,withdrawals:3,"withdrawals/{id}":3,notifications:3,"notifications/price":3,"favorite/currency_pairs":3,"token-scopes":3},post:{"wallets/burn/{walletId}":3,"wallets/{walletId}/hold_amount":3,"wallets/{currencyId}":3,"wallets/address/{walletId}":3,"addressbook/disable_item/{itemId}":3,"addressbook/enable_item/{itemId}":3,"addressbook/enable_strict_wd":3,"addressbook/disable_strict_wd":3,withdraw:30,"notifications/price":3,"referral/program":3,"referral/insert/{code}":3,"referral/bonus_transfer/{currencyId}":3},put:{"favorite/currency_pairs/set":3},delete:{"addressbook/{itemId}":3,"withdraw/{withdrawalId}":30,"notifications/price/{priceAlertId}":3}},verification:{get:{countries:1,status:1,"fractal/url":1,"smart-id":1,stex:1,"cryptonomica/code":1},post:{"smart-id":1,stex:1,cryptonomica:1}},settings:{get:{"notifications/{event}":1,notifications:1},put:{notifications:1,"notifications/set":1}}},fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")}},commonCurrencies:{BC:"Bitcoin Confidential",BITS:"Bitcoinus",BITSW:"BITS",BHD:"Bithold",BTH:"Bithereum",MPH:"Chasyr Token",SBTC:"SBTCT"},options:{parseOrderToPrecision:!1,networks:{ERC20:5,ETH:5,OMNI:10,XLM:20,BEP2:22,TRC20:24,TRX:24,SOL:25,BEP20:501}},exceptions:{exact:{"Wrong parameters":d,"Unauthenticated.":a,"Server Error":n,"This feature is only enabled for users verifies by Cryptonomica":h,"Too Many Attempts.":l,"Selected Pair is disabled":u,"Invalid scope(s) provided.":h,"The maximum amount of open orders with the same price cannot exceed 10":f},broad:{"Not enough":o}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"id"),a=this.safeInteger(t,"id"),n=this.safeCurrencyCode(this.safeString(t,"code")),o=this.safeString(t,"precision"),c=this.parsePrecision(o),h=this.safeNumber(t,"withdrawal_fee_const"),d=this.safeValue(t,"active",!0);i[n]={id:s,numericId:a,code:n,info:t,type:void 0,name:this.safeString(t,"name"),active:d,fee:h,precision:parseInt(o),limits:{amount:{min:this.parseNumber(c),max:void 0},deposit:{min:this.safeNumber(t,"minimum_deposit_amount"),max:void 0},withdraw:{min:this.safeNumber(t,"minimum_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsListCode(this.extend({code:"ALL"},e)),i=[],r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeString(t,"id"),a=this.safeInteger(t,"id"),n=this.safeString(t,"currency_id"),o=this.safeString(t,"market_currency_id"),c=this.safeInteger(t,"currency_id"),h=this.safeInteger(t,"market_currency_id"),d=this.safeCurrencyCode(this.safeString(t,"currency_code")),u=this.safeCurrencyCode(this.safeString(t,"market_code")),l=d+"/"+u,f={amount:this.safeInteger(t,"currency_precision"),price:this.safeInteger(t,"market_precision")},p=this.safeValue(t,"active"),m=this.safeNumber(t,"min_buy_price"),g=this.safeNumber(t,"min_sell_price"),y=Math.max(m,g),b=this.safeNumber(t,"buy_fee_percent")/100,v=this.safeNumber(t,"sell_fee_percent")/100,w=Math.max(b,v);i.push({id:s,numericId:a,symbol:l,base:d,quote:u,baseId:n,quoteId:o,baseNumericId:c,quoteNumericId:h,info:t,type:"spot",spot:!0,active:p,maker:w,taker:w,precision:f,limits:{amount:{min:this.safeNumber(t,"min_order_amount"),max:void 0},price:{min:y,max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currencyPairId:i.id},s=await this.publicGetTickerCurrencyPairId(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTime(e={}){const t=await this.publicGetPing(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"server_datetime",{});return this.parse8601(this.safeString(r,"date"))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPairId:this.market(e).id};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetOrderbookCurrencyPairId(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrderBook(a,e,void 0,"bid","ask","price","amount")}parseTicker(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString2(e,"id","symbol"),s=this.safeSymbol(r,t,"_"),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open");return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volumeQuote"),quoteVolume:this.safeNumber(e,"volume"),info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeValue(i,"data",[]);return this.parseTickers(r,e)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={currencyPairId:a.id,candlesType:this.timeframes[t]};void 0===r?r=100:n.limit=r;const o=r*this.parseTimeframe(t);void 0===i?(n.timeEnd=this.seconds(),n.timeStart=n.timeEnd-o):(n.timeStart=parseInt(i/1e3),n.timeEnd=this.sum(n.timeStart,o));const c=await this.publicGetChartCurrencyPairIdCandlesType(this.extend(n,s)),h=this.safeValue(c,"data",[]);return this.parseOHLCVs(h,a,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"price"),a=this.safeString(e,"amount"),n=this.parseNumber(s),o=this.parseNumber(a),c=this.parseNumber(p.stringMul(s,a));let h;void 0===h&&void 0!==t&&(h=t.symbol);const d=this.safeStringLower2(e,"type","trade_type");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:h,id:i,order:void 0,type:void 0,takerOrMaker:void 0,side:d,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPairId:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.sort="ASC",a.from=parseInt(t/1e3));const n=await this.publicGetTradesCurrencyPairId(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.profileGetWallets(e),i={info:t,timestamp:void 0,datetime:void 0},r=this.safeValue(t,"data",[]);for(let e=0;e<r.length;e++){const t=r[e],s=this.safeCurrencyCode(this.safeString(t,"currency_id")),a=this.account();a.free=this.safeString(t,"balance"),a.used=this.safeString(t,"frozen_balance"),i[s]=a}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({PROCESSING:"open",PENDING:"open",PARTIAL:"open",FINISHED:"closed",CANCELLED:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString2(e,"currency_pair_id","currency_pair_name"),a=this.safeSymbol(s,t,"_"),n=this.safeTimestamp(e,"timestamp"),o=this.safeNumber(e,"price"),c=this.safeNumber(e,"initial_amount"),h=this.safeNumber(e,"processed_amount");let d,u;void 0!==h&&(void 0!==c&&(d=c-h,this.options.parseOrderToPrecision&&(d=parseFloat(this.amountToPrecision(a,d))),d=Math.max(d,0)),void 0!==o&&void 0===u&&(u=o*h));let l=this.safeString(e,"original_type");"BUY"!==l&&"SELL"!==l||(l=void 0);const f=this.safeStringLower(e,"type"),p=this.safeValue(e,"trades");let m;void 0!==p&&(m=this.parseTrades(p,t,void 0,void 0,{symbol:a,order:i}));const g=this.safeNumber(e,"trigger_price"),y={info:e,id:i,clientOrderId:void 0,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:a,type:l,timeInForce:void 0,postOnly:void 0,side:f,price:o,stopPrice:g,amount:c,cost:u,average:void 0,filled:h,remaining:d,status:r,trades:m},b=this.safeValue(e,"fees");if(void 0===b)y.fee=void 0;else if(b.length>0){y.fees=[];for(let e=0;e<b.length;e++){const t=this.safeNumber(b[e],"amount");if(void 0!==t){const i=this.safeString(b[e],"currency_id"),r=this.safeCurrencyCode(i);y.fees.push({cost:t,currency:r})}}}else y.fee=void 0;return y}async createOrder(e,t,i,r,s,a={}){if("market"===t)throw new n(this.id+" createOrder allows limit orders only");await this.loadMarkets();const o=this.market(e);"limit"===t&&(t=i);const c={currencyPairId:o.id,type:t.toUpperCase(),amount:parseFloat(this.amountToPrecision(e,r)),price:parseFloat(this.priceToPrecision(e,s))},h=await this.tradingPostOrdersCurrencyPairId(this.extend(c,a)),d=this.safeValue(h,"data",{});return this.parseOrder(d,o)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingGetOrderOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{});let n;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.reportsGetOrdersOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{});let n;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchOrderTrades(e,t,i,r,s={}){return(await this.fetchClosedOrder(e,t,s)).trades}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();let a="tradingGetOrders";const n={};void 0!==e&&(a="tradingGetOrdersCurrencyPairId",s=this.market(e),n.currencyPairId=s.id),void 0!==i&&(n.limit=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingDeleteOrderOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"put_into_processing_queue",[]),o=this.safeValue(a,"not_put_into_processing_queue",[]),h=n.length,d=o.length;if(h<1){if(d<1)throw new c(this.id+" cancelOrder received an empty response: "+this.json(s));return this.parseOrder(o[0])}if(d<1)return this.parseOrder(n[0]);throw new c(this.id+" cancelOrder received an empty response: "+this.json(s))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r="tradingDeleteOrders";if(void 0!==e){const t=this.market(e);i.currencyPairId=t.id,r="tradingDeleteOrdersCurrencyPairId"}return await this[r](this.extend(i,t))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={currencyPairId:a.id};void 0!==t&&(n.timeStart=this.iso8601(t)),void 0!==i&&(n.limit=i);const o=await this.reportsGetTradesCurrencyPairId(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currencyId:this.currency(e).id},r=await this.profilePostWalletsCurrencyId(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeValue(s,"deposit_address",{}),n=this.safeString(a,"address"),o=this.safeString(a,"additional_address_parameter");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchBalance(),r=this.safeValue(i.info,"data",[]),s=this.indexBy(r,"currency_id"),a=this.currency(e),o=this.safeValue(s,a.id);if(void 0===o)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const c=this.safeInteger(o,"id");if(void 0===c)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const h={walletId:c},d=await this.profileGetWalletsWalletId(this.extend(h,t)),u=this.safeValue(d,"data",[]),l=this.safeValue(u,"deposit_address",{}),f=this.safeString(l,"address"),p=this.safeString(l,"additional_address_parameter");return this.checkAddress(f),{currency:e,address:f,tag:p,network:void 0,info:d}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(this.checkRequiredCredentials(),s={Authorization:"Bearer "+this.token},"GET"===i||"DELETE"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(a=this.json(o),Object.keys(o).length&&(s["Content-Type"]="application/json"))),{url:n,method:i,body:a,headers:s}}parseTransactionStatus(e){return this.safeString({processing:"pending","checking by system":"pending",hodl:"pending","amount too low":"failed","not confirmed":"pending","cancelled by user":"canceled",approved:"pending",finished:"ok","withdrawal error":"failed","deposit error":"failed","cancelled by admin":"canceled",awaiting:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeValue(e,"withdrawal_address",{}),s=this.safeString(r,"address"),a=this.safeString(r,"additional_address_parameter"),n=this.safeString(e,"currency_id");let o;n in this.currencies_by_id?t=this.currencies_by_id[n]:o=this.commonCurrencyCode(this.safeString(e,"currency_code")),void 0===o&&void 0!==t&&(o=t.code);const c="deposit_status_id"in e?"deposit":"withdrawal",h=this.safeNumber(e,"amount"),d=this.parseTransactionStatus(this.safeStringLower(e,"status")),u=this.safeTimestamp2(e,"timestamp","created_ts"),l=this.safeTimestamp(e,"updated_ts"),f=this.safeString(e,"txid");let p;const m=this.safeNumber(e,"fee");if(void 0!==m){const t=this.safeString(e,"fee_currency_id","deposit_fee_currency_id");p={cost:m,currency:this.safeCurrencyCode(t)}}return{info:e,id:i,txid:f,timestamp:u,datetime:this.iso8601(u),addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:a,tagTo:a,type:c,amount:h,currency:o,status:d,updated:l,fee:p}}async fetchDeposits(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.currency(e),a.currencyId=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.timeStart=t);const n=await this.profileGetDeposits(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.currency(e),a.currencyId=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.timeStart=t);const n=await this.profileGetWithdrawals(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency_id:a.id,amount:parseFloat(this.currencyToPrecision(e,t)),address:i};void 0!==r&&(n.additional_address_parameter=r);const o=this.safeValue(this.options,"networks",{});let c=this.safeStringUpper(s,"network");c=this.safeInteger(o,c,c),void 0!==c&&(n.protocol_id=c,s=this.omit(s,"network"));const h=await this.profilePostWithdraw(this.extend(n,s)),d=this.safeValue(h,"data",{});return this.parseTransaction(d,a)}async fetchFundingFees(e,t={}){await this.loadMarkets();const i=await this.publicGetCurrencies(t),r=this.safeValue(i,"data",[]),s={},a={};for(let e=0;e<r.length;e++){const t=this.safeString(r[e],"id"),i=this.safeCurrencyCode(t);s[i]=this.safeNumber(r[e],"withdrawal_fee_const"),a[i]=this.safeNumber(r[e],"deposit_fee_const")}return{withdraw:s,deposit:a,info:i}}handleErrors(e,t,i,r,s,a,o,c,h){if(void 0!==o&&!this.safeValue(o,"success",!1)){const e=this.safeString(o,"message"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new n(t)}}}},9269:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidAddress:c}=i(73449),h=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:"emulated",fetchWithdrawals:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}},exceptions:{exact:{"Request already running":n,"cannot specify multiple address types":n,"Currency is not included in the list":n,"Record not found":o},broad:{"before must be greater than after param":n,"must be shorter than 60 days":n,"must be a multiple of (period param) in minutes":n,"Address allocation limit reached for currency":c,"is not a valid value for param currency":n," is invalid":c}}})}async fetchMarkets(e={}){const t=await this.publicGetFunds(e),i=this.safeValue(t,"funds"),r=[];if(void 0===i)throw new s(this.id+" fetchMarkets got an unexpected response");for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeString(t,"trade_currency"),n=this.safeString(t,"base_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h=o+"/"+c,d=this.safeNumber(t,"buy_fee"),u=this.safeNumber(t,"sell_fee");let l=Math.max(d,u);l/=100;const f=l;r.push({id:s,symbol:h,base:o,quote:c,baseId:a,quoteId:n,info:t,type:"spot",spot:!0,active:!0,maker:f,taker:l,precision:{amount:this.safeInteger(t,"trade_currency_decimals"),price:this.safeInteger(t,"base_currency_decimals")},limits:{amount:{min:this.safeNumber(t,"minimum_quantity_offer"),max:void 0},price:{min:this.safeNumber(t,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i=this.safeValue(t,"balances",[]),r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"trading_balance"),n.total=this.safeString(t,"balance"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetFundsIdOrderbook(this.extend(r,i)),a=this.parse8601(this.safeString(s,"date"));return this.parseOrderBook(s,e,a,"bids","asks","price","amount")}parseTicker(e,t){const i=this.parse8601(e.date);let r;void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:this.safeNumber(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume_traded"),quoteVolume:this.safeNumber(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetFundsTickers(t),r=this.indexBy(i.tickers,"fund_id"),s=Object.keys(r),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeMarket(t),n=i.symbol,o=r[t];a[n]=this.parseTicker(o,i)}return this.filterByArray(a,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetFundsIdTicker(this.extend({id:i.id},t));return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString(e,"fund_id"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"date")),a=this.safeString(e,"id"),n=this.safeString(e,"order_id"),o=this.safeString(e,"side"),c=this.safeString(e,"price"),d=this.safeString(e,"amount"),u=this.parseNumber(c),l=this.parseNumber(d),f=this.parseNumber(h.stringMul(c,d));let p,m;const g=this.safeValue(e,"transactions",[]),y=this.groupBy(g,"type"),b=this.safeValue(y,"paid_commission",[]);for(let e=0;e<b.length;e++)void 0===m&&(m=0),m=this.sum(m,this.safeNumber(b[e],"price"));return void 0!==m&&(p={cost:m,currency:t.quote}),{info:e,id:a,order:n,timestamp:s,datetime:this.iso8601(s),symbol:r,type:void 0,side:o,takerOrMaker:void 0,price:u,amount:l,cost:f,fee:p}}parseLedgerEntryDirection(e){return this.safeString({affiliate_earnings:"in",atm_payment:"in",bought_currency_from_fund:"out",bought_shares:"out",paid_commission:"out",paypal_payment:"in",pos_payment:"in",released_currency_to_fund:"out",rollover_commission:"out",sold_currency_to_fund:"in",sold_shares:"in",transfer_received:"in",transfer_sent:"out",withdraw:"out"},e,e)}parseLedgerEntryType(e){return this.safeString({affiliate_earnings:"referral",atm_payment:"transaction",bought_currency_from_fund:"trade",bought_shares:"trade",paid_commission:"fee",paypal_payment:"transaction",pos_payment:"transaction",released_currency_to_fund:"trade",rollover_commission:"fee",sold_currency_to_fund:"trade",sold_shares:"trade",transfer_received:"transfer",transfer_sent:"transfer",withdraw:"transaction"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r,s=this.safeString(e,"type");const a=this.parseLedgerEntryDirection(s);s=this.parseLedgerEntryType(s),"trade"!==s&&"fee"!==s||(r=this.safeString(e,"trade_id"));const n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n),c=this.safeNumber(e,"price"),h=this.parse8601(this.safeString(e,"date"));return{info:e,id:i,direction:a,account:void 0,referenceId:r,referenceAccount:void 0,type:s,currency:o,amount:c,before:void 0,after:void 0,status:"ok",timestamp:h,datetime:this.iso8601(h),fee:void 0}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.after=this.iso8601(t));const n=await this.privateGetTransactions(this.extend(s,r)),o=this.safeValue(n,"transactions",[]);return this.parseLedger(o,a,t,i)}parseTransactionType(e){return this.safeString({withdraw:"withdrawal",atm_payment:"deposit"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parseTransactionType(this.safeString(e,"type")),s=this.safeValue(e,"transfer_detail",{}),a=this.safeString(s,"method");let n,o;void 0!==a&&"wire_transfer"!==a&&(n=this.safeString(s,"id"),o=this.safeString(s,"recipient"));const c=this.safeString(e,"currency"),h=this.safeCurrencyCode(c),d=this.safeNumber(e,"price"),u=this.parse8601(this.safeString(e,"date"));return{info:e,id:i,currency:h,amount:d,addressFrom:void 0,addressTo:o,address:o,tagFrom:void 0,tagTo:void 0,tag:void 0,status:"ok",type:r,updated:void 0,txid:n,timestamp:u,datetime:this.iso8601(u),fee:void 0}}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"withdraw"},r))}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"atm_payment"},r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.after=this.iso8601(t)),r=this.extend(s,r);const n=await this.privateGetTransactions(r),o=this.safeValue(n,"transactions",[]),c=this.filterByArray(o,"type",["withdraw","atm_payment"],!1);return this.parseTransactions(c,a,t,i)}parseOrderStatus(e){return this.safeString({active:"open",executed:"closed",deleted:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"fund_id"),s=this.safeSymbol(r,t),a=this.parseOrderStatus(this.safeString(e,"status")),n=this.parse8601(this.safeString(e,"date")),o=this.safeString(e,"type"),c=this.safeString(e,"side"),h=this.safeNumber(e,"amount"),d=this.safeNumber(e,"amount_unfilled");let u;void 0!==h&&void 0!==d&&(u=h-d);const l=this.safeNumber(e,"price");let f,p,m,g=this.safeValue(e,"trades");if(void 0!==g){const e=g.length;if(e>0){g=this.parseTrades(g,t,void 0,void 0,{orderId:i}),f=0,u=0;for(let t=0;t<e;t++){const e=g[t];f=this.sum(f,e.cost),u=this.sum(u,e.amount)}u>0&&(p=f/u),m=g[e-1].timestamp}else f=0}const y=this.safeNumber(e,"conditional_price");return{id:i,clientOrderId:void 0,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:m,status:a,symbol:s,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:l,stopPrice:y,cost:f,amount:h,filled:u,average:p,remaining:d,fee:void 0,trades:g}}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"active"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"executed"},r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={fund_id:s.id};void 0!==t&&(n.after=this.iso8601(t));const o=await this.privateGetFundsFundIdOrders(this.extend(n,r)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,s,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={id:e,fund_id:this.market(t).id},s=await this.privatePostFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),"market"===t&&(s=0);const n={fund_id:this.marketId(e),side:i,amount:r,price:s},o=await this.privatePostFundsFundIdOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e,fund_id:this.marketId(t)},s=await this.privateDeleteFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={id:s.id};void 0!==i&&(n.per_page=i),void 0!==t&&(n.after=this.iso8601(t));const o=await this.privateGetFundsIdTrades(this.extend(n,r));return this.parseTrades(o.trades,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id};void 0!==i&&(a.per_page=i),void 0!==t&&(a.after=this.iso8601(t));const n=await this.publicGetFundsIdTrades(this.extend(a,r));return this.parseTrades(n.trades,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s=void 0===s?{}:s,"private"===t){if(this.checkRequiredCredentials(),Object.keys(o).length)if("POST"===i)a=this.json(o),s["Content-Type"]="application/json";else{const e=this.rawencode(o);e.length&&(n+="?"+e)}const e=this.nonce().toString(),t=e+n;s["X-TRT-KEY"]=this.apiKey,s["X-TRT-NONCE"]=e,s["X-TRT-SIGN"]=this.hmac(this.encode(t),this.encode(this.secret),"sha512")}else"public"===t&&Object.keys(o).length&&(n+="?"+this.rawencode(o));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeValue(o,"errors",[]),u=d.length;if(u>0){const e=this.id+" "+n;for(let t=0;t<u;t++){const i=d[t],r=this.safeString(i,"message");this.throwExactlyMatchedException(this.exceptions.exact,r,e),this.throwBroadlyMatchedException(this.exceptions.broad,r,e)}throw new s(e)}}}},51783:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,InsufficientFunds:a,OrderNotFound:n,ArgumentsRequired:o}=i(73449),c=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{cancelOrder:!0,CORS:void 0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/51840849/87460811-1e690280-c616-11ea-8652-69f187305add.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"],referral:"http://bit.ly/2IX0LrM"},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.003"),taker:this.parseNumber("0.003")},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:a,2003:n}})}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetDepositAddress(this.extend(i,t));if("success"in r&&r.success){const t=this.safeString(r,"address"),i=this.safeString(r,"addressTag");return{currency:e,address:this.checkAddress(t),tag:i,info:r}}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"id"),a=this.safeString(r,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o);i.push({id:s,symbol:a,base:c,quote:h,baseId:n,quoteId:o,info:r,type:"spot",spot:!0,active:void 0,precision:this.precision,limits:this.limits})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(t,"balance"),n.used=this.safeString(t,"locked"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r.id};void 0!==t&&(s.limit=t),s.market=r.id;const a=await this.publicGetDepth(this.extend(s,i)),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,e,n)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");let r;e=this.safeValue(e,"ticker",{}),void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),ask:this.safeNumber(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e],a=this.safeMarket(t),n=a.symbol,o=i[t];s[n]=this.parseTicker(o,a)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeString(e,"price"),a=this.safeString(e,"volume"),n=this.parseNumber(s),o=this.parseNumber(a);let h,d=this.safeNumber(e,"funds");return void 0===d&&(d=this.parseNumber(c.stringMul(s,a))),void 0!==t&&(h=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:n,amount:o,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=30);const n={market:a.id,period:this.timeframes[t],limit:r};n.timestamp=void 0!==i?parseInt(i/1e3):18e5;const o=await this.publicGetK(this.extend(n,s));return"null"===o?[]:this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"created_at")),a=this.parseOrderStatus(this.safeString(e,"state")),n=this.safeString(e,"id"),o=this.safeString(e,"ord_type"),c=this.safeString(e,"side"),h=this.safeString(e,"price"),d=this.safeString(e,"volume"),u=this.safeString(e,"executed_volume"),l=this.safeString(e,"remaining_volume"),f=this.safeString(e,"avg_price");return this.safeOrder2({id:n,clientOrderId:void 0,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:a,symbol:r,type:o,timeInForce:void 0,postOnly:void 0,side:c,price:h,stopPrice:void 0,amount:d,filled:u,remaining:l,cost:void 0,trades:void 0,fee:void 0,info:e,average:f},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(n.price=s.toString());const o=await this.privatePostOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),a=this.parseOrder(s),o=this.safeString(a,"status");if("closed"===o||"canceled"===o)throw new n(this.id+" "+this.json(a));return a}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.safeString(s,"id");if(void 0===n)throw new o(this.id+" withdraw() requires an extra `id` param (withdraw account id according to withdraws/bind_account_list endpoint");const c={id:n,currency_type:"coin",currency:a.id,body:t};return void 0!==r&&(c.memo=r),{info:await this.privatePostWithdrawsApply(this.extend(c,s)),id:void 0}}nonce(){return this.milliseconds()}encodeParams(e){return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,a){const n="/api/"+this.version+"/"+this.implodeParams(e,r)+".json",o=this.omit(r,this.extractParams(e));let c=this.urls.api+n;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.keysort(this.extend({access_key:this.apiKey,tonce:e},r)),o=this.urlencode(t),h=i+"|"+n+"|"+o,d=o+"&signature="+this.hmac(this.encode(h),this.encode(this.secret));"GET"===i?c+="?"+d:(a=d,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(400===e||void 0===o){const e=this.id+" "+n;if(void 0===o)throw new s(e);const t=this.safeValue(o,"error",{}),i=this.safeString(t,"code");this.throwExactlyMatchedException(this.exceptions,i,e)}}}},46974:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,DDoSProtection:h,InvalidOrder:d,AuthenticationError:u,PermissionDenied:l}=i(73449),f=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",userAgent:this.userAgents.chrome,has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",referral:"https://tidex.com/exchange/?ref=57f5638d9cd7",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]},public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfoExt","getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","getDepositAddress","createWithdraw","getWithdraw"]}},fees:{trading:{feeSide:"get",tierBased:!1,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001")}},commonCurrencies:{DSH:"DASH",EMGO:"MGO",MGO:"WMGO"},exceptions:{exact:{803:d,804:d,805:d,806:d,807:d,831:o,832:o,833:c},broad:{"Invalid pair name":s,"invalid api key":u,"invalid sign":u,"api key dont have trade permission":u,"invalid parameter":d,"invalid order":d,"Requests too often":h,"not available":n,"data unavailable":n,"external service unavailable":n,"IP restricted":l}},options:{fetchTickersMaxLength:2048},orders:{}})}async fetchCurrencies(e={}){const t=await this.webGetCurrency(e),i={};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"symbol"),a=this.safeInteger(r,"amountPoint"),n=this.safeCurrencyCode(s);let o=!0===this.safeValue(r,"visible");const c=!0===this.safeValue(r,"withdrawEnable"),h=!0===this.safeValue(r,"depositEnable");c&&h||(o=!1);const d=this.safeString(r,"name"),u=this.safeNumber(r,"withdrawFee");i[n]={id:s,code:n,name:d,active:o,precision:a,funding:{withdraw:{active:c,fee:u},deposit:{active:h,fee:this.parseNumber("0")}},limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(r,"withdrawMinAmount"),max:void 0},deposit:{min:this.safeNumber(r,"depositMinAmount"),max:void 0}},info:r}}return i}async fetchMarkets(e={}){const t=(await this.publicGetInfo(e)).pairs,i=Object.keys(t),r=[];for(let e=0;e<i.length;e++){const s=i[e],a=t[s],[n,o]=s.split("_"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u={amount:this.safeInteger(a,"decimal_places"),price:this.safeInteger(a,"decimal_places")},l={amount:{min:this.safeNumber(a,"min_amount"),max:this.safeNumber(a,"max_amount")},price:{min:this.safeNumber(a,"min_price"),max:this.safeNumber(a,"max_price")},cost:{min:this.safeNumber(a,"min_total")}},p=0===this.safeInteger(a,"hidden");let m=this.safeString(a,"fee");m=f.stringDiv(m,"100");const g=this.parseNumber(m);r.push({id:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:p,taker:g,precision:u,limits:l,info:a})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfoExt(e),i=this.safeValue(t,"return"),r=this.safeTimestamp(i,"server_time"),s={info:t,timestamp:r,datetime:this.iso8601(r)},a=this.safeValue(i,"funds",{}),n=Object.keys(a);for(let e=0;e<n.length;e++){const t=n[e],i=this.safeCurrencyCode(t),r=this.safeValue(a,t,{}),o=this.account();o.free=this.safeString(r,"value"),o.used=this.safeString(r,"inOrders"),s[i]=o}return this.parseBalance(s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),a={pair:r.id};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i));if(!(r.id in n))throw new s(this.id+" "+r.symbol+" order book is empty or not available");const o=n[r.id];return this.parseOrderBook(o,e)}async fetchOrderBooks(e,t,i={}){let r;if(await this.loadMarkets(),void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const a={pair:r};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};r=Object.keys(n);for(let e=0;e<r.length;e++){const t=r[e];o[this.safeSymbol(t)]=this.parseOrderBook(n[t])}return o}parseTicker(e,t){let i,r=this.safeTimestamp(e,"updated");void 0!==t&&(i=t.symbol,t.active||(r=void 0));const s=this.safeNumber(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;if(i=i.join("-"),i.length>this.options.fetchTickersMaxLength){const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),n={},o=Object.keys(s);for(let e=0;e<o.length;e++){const t=o[e],i=this.safeMarket(t);n[i.symbol]=this.parseTicker(s[t],i)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeString2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),h=this.safeString(e,"amount"),d=this.parseNumber(s),u=this.parseNumber(h),l=this.parseNumber(f.stringMul(s,h)),p="limit";let m,g;const y=this.safeNumber(e,"commission");if(void 0!==y){const t=this.safeString(e,"commissionCurrency");g={cost:y,currency:this.safeCurrencyCode(t)}}const b=this.safeValue(e,"is_your_order");return void 0!==b&&(m="taker",b&&(m="maker"),void 0===g&&(g=this.calculateFee(c,p,r,u,d,m))),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:c,type:p,side:r,takerOrMaker:m,price:d,amount:u,cost:l,fee:g,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTradesPair(this.extend(a,r));return Array.isArray(n)&&0===n.length?[]:this.parseTrades(n[s.id],s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");const o=r.toString(),c=a.toString();await this.loadMarkets();const h=this.market(e),d={pair:h.id,type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,a)},u=await this.privatePostTrade(this.extend(d,n));let l,f="open",p="0.0",m=o;const g=this.safeValue(u,"return");void 0!==g&&(l=this.safeString(g,"order_id"),"0"===l&&(l=this.safeString(g,"init_order_id"),f="closed"),p=this.safeString(g,"received",p),m=this.safeString(g,"remains",o));const y=this.milliseconds();return this.safeOrder2({id:l,timestamp:y,datetime:this.iso8601(y),lastTradeTimestamp:void 0,status:f,symbol:e,type:t,side:i,price:c,cost:void 0,amount:o,remaining:m,filled:p,fee:void 0,info:u,clientOrderId:void 0,average:void 0,trades:void 0},h)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created"),a=this.safeString(e,"pair"),n=this.safeSymbol(a,t);let o,c;const h=this.safeString(e,"rate");return"start_amount"in e?(c=this.safeString(e,"start_amount"),o=this.safeString(e,"amount")):o=this.safeString(e,"amount"),this.safeOrder2({info:e,id:i,clientOrderId:void 0,symbol:n,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:this.safeString(e,"type"),price:h,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:r,fee:void 0,average:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const a=this.safeValue(s,"return",{}),n=this.safeValue(a,e);return this.parseOrder(this.extend({id:e},n))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.pair=a.id);const n=await this.privatePostActiveOrders(this.extend(s,r)),o=this.safeValue(n,"return",[]);return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.pair=s.id),void 0!==i&&(a.count=parseInt(i)),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privatePostTradeHistory(this.extend(a,r)),o=this.safeValue(n,"return",[]);return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a={asset:this.currency(e).id,amount:parseFloat(t),address:i};void 0!==r&&(a.memo=r);const n=await this.privatePostCreateWithdraw(this.extend(a,s)),o=this.safeValue(n,"return",{});return{info:n,id:this.safeString(o,"withdraw_id")}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"==typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}}},41378:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,PermissionDenied:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:h,RateLimitExceeded:d,NotSupported:u,BadRequest:l,AuthenticationError:f}=i(73449),p=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"timex",name:"TimeX",countries:["AU"],version:"v1",rateLimit:1500,has:{cancelOrder:!0,cancelOrders:!0,CORS:void 0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!0},timeframes:{"1m":"I1","5m":"I5","15m":"I15","30m":"I30","1h":"H1","2h":"H2","4h":"H4","6h":"H6","12h":"H12","1d":"D1","1w":"W1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/70423869-6839ab00-1a7f-11ea-8f94-13ae72c31115.jpg",api:"https://plasma-relay-backend.timex.io",www:"https://timex.io",doc:"https://docs.timex.io",referral:"https://timex.io/?refcode=1x27vNkTbP1uwkCck"},api:{custody:{get:["credentials","credentials/h/{hash}","credentials/k/{key}","credentials/me/address","deposit-addresses","deposit-addresses/h/{hash}"]},history:{get:["orders","orders/details","orders/export/csv","trades","trades/export/csv"]},currencies:{get:["a/{address}","i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},markets:{get:["i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},public:{get:["candles","currencies","markets","orderbook","orderbook/raw","orderbook/v2","tickers","trades"]},statistics:{get:["address"]},trading:{get:["balances","fees","orders"],post:["orders","orders/json"],put:["orders","orders/json"],delete:["orders","orders/json"]},tradingview:{get:["config","history","symbol_info","time"]}},exceptions:{exact:{0:s,1:u,4e3:l,4001:l,4002:o,4003:f,4004:f,4005:l,4006:l,4007:l,4300:a,4100:f,4400:c,5001:h,5002:s,400:l,401:f,403:a,404:c,429:d,500:s,503:n},broad:{Insufficient:o}},options:{fetchTickers:{period:"1d"},fetchTrades:{sort:"timestamp,asc"},fetchMyTrades:{sort:"timestamp,asc"},fetchOpenOrders:{sort:"createdAt,asc"},fetchClosedOrders:{sort:"createdAt,asc"},defaultSort:"timestamp,asc",defaultSortOrders:"createdAt,asc"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let e=0;e<t.length;e++)i.push(this.parseMarket(t[e]));return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=[];for(let e=0;e<t.length;e++){const r=t[e];i.push(this.parseCurrency(r))}return this.indexBy(i,"code")}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options.fetchTickers,"period","1d"),r={period:this.timeframes[i]},s=await this.publicGetTickers(this.extend(r,t));return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeString(this.options.fetchTickers,"period","1d"),s={market:i.id,period:this.timeframes[r]},a=await this.publicGetTickers(this.extend(s,t)),n=this.safeValue(a,0);return this.parseTicker(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderbookV2(this.extend(r,i)),a=this.parse8601(this.safeString(s,"timestamp"));return this.parseOrderBook(s,e,a,"bid","ask","price","baseTokenAmount")}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.safeValue(this.options,"fetchTrades",{}),n=this.safeValue(a,"sort","timestamp,asc"),o=this.safeString(r,"sort",n),c=this.omit(r,"sort"),h={market:s.id,sort:o};void 0!==t&&(h.from=this.iso8601(t)),void 0!==i&&(h.size=i);const d=await this.publicGetTrades(this.extend(h,c));return this.parseTrades(d,s,t,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,period:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0!==i)n.from=this.iso8601(i),void 0!==r&&(n.till=this.iso8601(this.sum(i,this.sum(r,1)*o*1e3)));else if(void 0!==r){const e=this.milliseconds();n.till=this.iso8601(e),n.from=this.iso8601(e-r*o*1e3-1)}else n.till=this.iso8601(this.milliseconds());const c=await this.publicGetCandles(this.extend(n,s));return this.parseOHLCVs(c,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.tradingGetBalances(e),i={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeString(r,"totalBalance"),n.used=this.safeString(r,"lockedBalance"),i[a]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=i.toUpperCase(),c=t.toUpperCase(),d={symbol:n.id,quantity:this.amountToPrecision(e,r),side:o,orderTypes:c};let u=a;if("LIMIT"===c){d.price=this.priceToPrecision(e,s);const i=this.safeInteger(this.options,"expireIn"),r=this.safeValue(a,"expireTime"),n=this.safeValue(a,"expireIn",i);if(void 0!==r)d.expireTime=r;else{if(void 0===n)throw new h(this.id+" createOrder() method requires a expireTime or expireIn param for a "+t+" order, you can also set the expireIn exchange-wide option");d.expireIn=n}u=this.omit(a,["expireTime","expireIn"])}else d.price=0;const l=await this.tradingPostOrders(this.extend(d,u)),f=this.safeValue(l,"orders",[]),p=this.safeValue(f,0,{});return this.parseOrder(p,n)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t),c={id:e};void 0!==s&&(c.quantity=this.amountToPrecision(t,s)),void 0!==a&&(c.price=this.priceToPrecision(t,a));const h=await this.tradingPutOrders(this.extend(c,n));if("unchangedOrders"in h){const e=this.safeValue(h,"unchangedOrders",[]);return{id:this.safeString(e,0),info:h}}const d=this.safeValue(h,"changedOrders",[]),u=this.safeValue(d,0,{}),l=this.safeValue(u,"newOrder",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.cancelOrders([e],t,i)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.tradingDeleteOrders(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderHash:e},s=await this.historyGetOrdersDetails(r),a=this.safeValue(s,"order",{}),n=this.safeValue(s,"trades",[]);return this.parseOrder(this.extend(a,{trades:n}))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchOpenOrders",{}),a=this.safeValue(s,"sort","createdAt,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n};let h;void 0!==e&&(h=this.market(e),c.symbol=h.id),void 0!==i&&(c.size=i);const d=await this.tradingGetOrders(this.extend(c,o)),u=this.safeValue(d,"orders",[]);return this.parseOrders(u,h,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchClosedOrders",{}),a=this.safeValue(s,"sort","createdAt,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n,side:"BUY"};let h;void 0!==e&&(h=this.market(e),c.symbol=h.id),void 0!==t&&(c.from=this.iso8601(t)),void 0!==i&&(c.size=i);const d=await this.historyGetOrders(this.extend(c,o)),u=this.safeValue(d,"orders",[]);return this.parseOrders(u,h,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchMyTrades",{}),a=this.safeValue(s,"sort","timestamp,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n};let h;void 0!==e&&(h=this.market(e),c.symbol=h.id),void 0!==t&&(c.from=this.iso8601(t)),void 0!==i&&(c.size=i);const d=await this.historyGetTrades(this.extend(c,o)),u=this.safeValue(d,"trades",[]);return this.parseTrades(u,h,t,i)}parseTradingFee(e,t){const i=this.safeString(e,"market"),r=this.safeNumber(e,"fee");return{info:e,symbol:this.safeSymbol(i,t),maker:r,taker:r}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r={markets:i.id},s=await this.tradingGetFees(this.extend(r,t)),a=this.safeValue(s,0,{});return this.parseTradingFee(a,i)}parseMarket(e){const t=!this.safeValue(e,"locked"),i=this.safeString(e,"symbol"),r=this.safeString(e,"baseCurrency"),s=this.safeString(e,"quoteCurrency"),a=this.safeCurrencyCode(r),n=this.safeCurrencyCode(s),o=a+"/"+n,c={amount:this.precisionFromString(this.safeString(e,"quantityIncrement")),price:this.precisionFromString(this.safeString(e,"tickSize"))},h=this.safeNumber(e,"quantityIncrement"),d=this.safeNumber(e,"baseMinSize"),u=Math.max(h,d),l=this.safeNumber(e,"tickSize"),f=this.safeNumber(e,"quoteMinSize");return{id:i,symbol:o,base:a,quote:n,baseId:r,quoteId:s,type:"spot",spot:!0,active:t,precision:c,limits:{amount:{min:u,max:void 0},price:{min:l,max:void 0},cost:{min:Math.max(f,u*l),max:void 0}},taker:this.safeNumber(e,"takerFee"),maker:this.safeNumber(e,"makerFee"),info:e}}parseCurrency(e){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),r=this.safeString(e,"name"),s=this.safeInteger(e,"decimals"),a=this.safeValue(e,"active"),n=this.safeString(e,"withdrawalFee"),o=this.safeInteger(e,"tradeDecimals");let c;if(void 0!==n&&void 0!==o){const e=n.length-o;if(e>0){const t=n.slice(0,e),i=n.slice(-e);c=this.parseNumber(t+"."+i)}else{let t=".";for(let i=0;i<-e;i++)t+="0";c=this.parseNumber(t+n)}}return{id:i,code:i,info:e,type:void 0,name:r,active:a,fee:c,precision:s,limits:{withdraw:{min:c,max:void 0},amount:{min:void 0,max:void 0}}}}parseTicker(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"/"),s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeNumber(e,"last"),n=this.safeNumber(e,"open");return this.safeTicker({symbol:r,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"volumeQuote")},t)}parseTrade(e,t){const i=this.safeString(e,"symbol"),r=this.safeSymbol(i,t),s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeString(e,"price"),n=this.safeString(e,"quantity"),o=this.parseNumber(a),c=this.parseNumber(n),h=this.parseNumber(p.stringMul(a,n)),d=this.safeString(e,"id"),u=this.safeStringLower2(e,"direction","side"),l=this.safeStringLower(e,"makerOrTaker");let f,m;void 0!==l&&(f=this.safeString(e,l+"OrderId"));const g=this.safeNumber(e,"fee"),y=this.safeCurrencyCode(this.safeString(e,"feeToken"));return void 0!==g&&(m={cost:g,currency:y}),{info:e,id:d,timestamp:s,datetime:this.iso8601(s),symbol:r,order:f,type:void 0,side:u,price:o,amount:c,cost:h,takerOrMaker:l,fee:m}}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"timestamp")),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeStringLower(e,"type"),s=this.safeStringLower(e,"side"),a=this.safeString(e,"symbol"),n=this.safeSymbol(a,t),o=this.parse8601(this.safeString(e,"createdAt")),c=this.safeNumber(e,"price"),h=this.safeNumber(e,"quantity"),d=this.safeNumber(e,"filledQuantity"),u=this.safeNumber(e,"cancelledQuantity");let l;void 0!==h&&void 0!==d&&(l=d>=h?"closed":void 0!==u&&u>0?"canceled":"open");const f=this.safeValue(e,"trades",[]),p=this.parseTrades(f,t,void 0,void 0,{order:i,type:r}),m=this.safeString(e,"clientOrderId");return this.safeOrder({info:e,id:i,clientOrderId:m,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:n,type:r,timeInForce:void 0,postOnly:void 0,side:s,price:c,stopPrice:void 0,amount:h,cost:void 0,average:void 0,filled:d,remaining:void 0,status:l,fee:void 0,trades:p})}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+t+"/"+e;if(Object.keys(r).length&&(n+="?"+this.urlencodeWithArrayRepeat(r)),"public"!==t){this.checkRequiredCredentials();const e=this.stringToBase64(this.apiKey+":"+this.secret);s={authorization:"Basic "+this.decode(e)}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&e>=400){const e=this.id+" "+n;let t=this.safeValue(o,"error");void 0===t&&(t=o);const i=this.safeString2(t,"code","status"),r=this.safeString2(t,"message","debugMessage");throw this.throwBroadlyMatchedException(this.exceptions.broad,r,e),this.throwExactlyMatchedException(this.exceptions.exact,i,e),this.throwExactlyMatchedException(this.exceptions.exact,r,e),new s(e)}}}},7705:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,BadRequest:a,AuthenticationError:n,InvalidOrder:o,InsufficientFunds:c,OrderNotFound:h,PermissionDenied:d,AddressPending:u}=i(73449),l=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,pro:!0,has:{cancelOrder:!0,CORS:!0,createDepositAddress:!0,createMarketOrder:!0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:void 0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchOrders:void 0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},hostname:"api.upbit.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:{public:"https://{hostname}",private:"https://{hostname}"},www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.0025"),taker:this.parseNumber("0.0025")},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"This key has expired.":n,"Missing request parameter error. Check the required parameters!":a,"side is missing, side does not have a valid value":o},broad:{thirdparty_agreement_required:d,out_of_scope:d,order_not_found:h,insufficient_funds:c,invalid_access_key:n,jwt_verification:n,create_ask_error:s,create_bid_error:s,volume_too_large:o,invalid_funds:o}},options:{createMarketBuyOrderRequiresPrice:!0,fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,tradingFeesByQuoteCurrency:{KRW:5e-4}},commonCurrencies:{TON:"Tokamak Network"}})}async fetchCurrency(e,t={}){await this.loadMarkets();const i=this.currency(e);return await this.fetchCurrencyById(i.id,t)}async fetchCurrencyById(e,t={}){const i={currency:e},r=await this.privateGetWithdrawsChance(this.extend(i,t)),s=this.safeValue(r,"member_level",{}),a=this.safeValue(r,"currency",{}),n=this.safeValue(r,"withdraw_limit",{}),o=this.safeValue(n,"can_withdraw"),c=this.safeString(a,"wallet_state"),h=this.safeValue(s,"wallet_locked"),d=this.safeValue(s,"locked");let u=!0;void 0===o||o?("working"!==c||void 0!==h&&h||void 0!==d&&d)&&(u=!1):u=!1;const l=this.safeNumber(n,"onetime"),f=this.safeNumber(n,"daily",l),p=this.safeNumber(n,"remaining_daily",f);let m;m=p>0?p:f;const g=this.safeString(a,"code"),y=this.safeCurrencyCode(g);return{info:r,id:g,code:y,name:y,active:u,fee:this.safeNumber(a,"withdraw_fee"),precision:void 0,limits:{withdraw:{min:this.safeNumber(n,"minimum"),max:m}}}}async fetchMarket(e,t={}){await this.loadMarkets();const i=this.market(e);return await this.fetchMarketById(i.id,t)}async fetchMarketById(e,t={}){const i={market:e},r=await this.privateGetOrdersChance(this.extend(i,t)),s=this.safeValue(r,"market"),a=this.safeValue(s,"bid"),n=this.safeValue(s,"ask"),o=this.safeString(s,"id"),c=this.safeString(n,"currency"),h=this.safeString(a,"currency"),d=this.safeCurrencyCode(c),u=this.safeCurrencyCode(h),l=d+"/"+u,f={amount:8,price:8},p="active"===this.safeString(s,"state"),m=this.safeNumber(r,"bid_fee"),g=this.safeNumber(r,"ask_fee"),y=Math.max(m,g);return{info:r,id:o,symbol:l,base:d,quote:u,baseId:c,quoteId:h,type:"spot",spot:!0,active:p,precision:f,maker:y,taker:y,limits:{amount:{min:this.safeNumber(n,"min_total"),max:void 0},price:{min:Math.pow(10,-f.price),max:void 0},cost:{min:this.safeNumber(a,"min_total"),max:this.safeNumber(s,"max_total")}}}}async fetchMarkets(e={}){const t=await this.publicGetMarketAll(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"market"),[a,n]=s.split("-"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),h=o+"/"+c,d={amount:8,price:8},u=!0,l=this.safeNumber(this.options.tradingFeesByQuoteCurrency,c,this.fees.trading.maker),f=this.safeNumber(this.options.tradingFeesByQuoteCurrency,c,this.fees.trading.taker);i.push({id:s,symbol:h,base:o,quote:c,baseId:n,quoteId:a,active:u,info:r,precision:d,maker:l,taker:f,limits:{amount:{min:Math.pow(10,-d.amount),max:void 0},price:{min:Math.pow(10,-d.price),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeString(r,"balance"),n.used=this.safeString(r,"locked"),i[a]=n}return this.parseBalance(i)}async fetchOrderBooks(e,t,i={}){let r;if(await this.loadMarkets(),void 0===e){if(r=this.ids.join(","),r.length>this.options.fetchOrderBooksMaxLength){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols ("+r.length.toString()+" characters) exceeding max URL length ("+this.options.fetchOrderBooksMaxLength.toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const a={markets:r},n=await this.publicGetOrderbook(this.extend(a,i)),o={};for(let e=0;e<n.length;e++){const t=n[e],i=this.safeString(t,"market"),r=this.safeSymbol(i,void 0,"-"),s=this.safeInteger(t,"timestamp");o[r]={symbol:r,bids:this.sortBy(this.parseBidsAsks(t.orderbook_units,"bid_price","bid_size"),0,!0),asks:this.sortBy(this.parseBidsAsks(t.orderbook_units,"ask_price","ask_size"),0),timestamp:s,datetime:this.iso8601(s),nonce:void 0}}return o}async fetchOrderBook(e,t,i={}){const r=await this.fetchOrderBooks([e],t,i);return this.safeValue(r,e)}parseTicker(e,t){const i=this.safeInteger(e,"trade_timestamp"),r=this.safeString2(e,"market","code"),s=this.safeSymbol(r,t,"-"),a=this.safeNumber(e,"prev_closing_price"),n=this.safeNumber(e,"trade_price"),o=this.safeNumber(e,"signed_change_price"),c=this.safeNumber(e,"signed_change_rate");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high_price"),low:this.safeNumber(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"opening_price"),close:n,last:n,previousClose:a,change:o,percentage:c,average:void 0,baseVolume:this.safeNumber(e,"acc_trade_volume_24h"),quoteVolume:this.safeNumber(e,"acc_trade_price_24h"),info:e}}async fetchTickers(e,t={}){let i;if(await this.loadMarkets(),void 0===e){if(i=this.ids.join(","),i.length>this.options.fetchTickersMaxLength){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join(",");const r={markets:i},a=await this.publicGetTicker(this.extend(r,t)),n={};for(let e=0;e<a.length;e++){const t=this.parseTicker(a[e]);n[t.symbol]=t}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeString2(e,"sequential_id","uuid");let r,s=this.safeInteger(e,"timestamp");void 0===s&&(s=this.parse8601(this.safeString(e,"created_at")));const a=this.safeStringLower2(e,"ask_bid","side");"ask"===a?r="sell":"bid"===a&&(r="buy");let n=this.safeNumber(e,"funds");const o=this.safeString2(e,"trade_price","price"),c=this.safeString2(e,"trade_volume","volume"),h=this.parseNumber(o),d=this.parseNumber(c);void 0===n&&(n=this.parseNumber(l.stringMul(o,c)));const u=this.safeString2(e,"market","code");let f,p,m;if(void 0!==(t=this.safeMarket(u,t)))m=t.symbol,p=t.quote;else{const[e,t]=u.split("-"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);m=i+"/"+r,p=r}const g=this.safeString(e,a+"_fee");return void 0!==g&&(f={currency:p,cost:g}),{id:i,info:e,order:void 0,timestamp:s,datetime:this.iso8601(s),symbol:m,type:void 0,side:r,takerOrMaker:void 0,price:h,amount:d,cost:n,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=200);const a={market:s.id,count:i},n=await this.publicGetTradesTicks(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t){return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeNumber(e,"opening_price"),this.safeNumber(e,"high_price"),this.safeNumber(e,"low_price"),this.safeNumber(e,"trade_price"),this.safeNumber(e,"candle_acc_trade_volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.parseTimeframe(t),o=this.timeframes[t];void 0===r&&(r=200);const c={market:a.id,timeframe:o,count:r};let h="publicGetCandlesTimeframe";if("minutes"===o){const e=Math.round(n/60);c.unit=e,h+="Unit"}void 0!==i&&(c.to=this.iso8601(this.sum(i,n*r*1e3)));const d=await this[h](this.extend(c,s));return this.parseOHLCVs(d,a,t,i,r)}async createOrder(e,t,i,r,s,a={}){if("market"===t&&"buy"===i&&this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}let n;if("buy"===i)n="bid";else{if("sell"!==i)throw new o(this.id+" createOrder allows buy or sell side only!");n="ask"}await this.loadMarkets();const c={market:this.market(e).id,side:n};"limit"===t?(c.volume=this.amountToPrecision(e,r),c.price=this.priceToPrecision(e,s),c.ord_type=t):"market"===t&&("buy"===i?(c.ord_type="price",c.price=this.priceToPrecision(e,r)):"sell"===i&&(c.ord_type=t,c.volume=this.amountToPrecision(e,r)));const h=this.safeString2(a,"clientOrderId","identifier");void 0!==h&&(c.identifier=h),a=this.omit(a,["clientOrderId","identifier"]);const d=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(s)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetDeposits(this.extend(s,r));return this.parseTransactions(n,a,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetWithdraws(this.extend(s,r));return this.parseTransactions(n,a,t,i)}parseTransactionStatus(e){return this.safeString({submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"uuid"),r=this.safeNumber(e,"amount"),s=this.safeString(e,"txid"),a=this.parse8601(this.safeString(e,"done_at")),n=this.parse8601(this.safeString(e,"created_at",a));let o=this.safeString(e,"type");"withdraw"===o&&(o="withdrawal");const c=this.safeString(e,"currency"),h=this.safeCurrencyCode(c),d=this.parseTransactionStatus(this.safeStringLower(e,"state")),u=this.safeNumber(e,"fee");return{info:e,id:i,currency:h,amount:r,address:void 0,tag:void 0,status:d,type:o,updated:a,txid:s,timestamp:n,datetime:this.iso8601(n),fee:{currency:h,cost:u}}}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"uuid");let r=this.safeString(e,"side");r="bid"===r?"buy":"sell";let s=this.safeString(e,"ord_type");const a=this.parse8601(this.safeString(e,"created_at")),n=this.parseOrderStatus(this.safeString(e,"state"));let o,c=this.safeNumber(e,"price");const h=this.safeNumber(e,"volume"),d=this.safeNumber(e,"remaining_volume"),u=this.safeNumber(e,"executed_volume");let l,f,p;"price"===s&&(s="market",l=c,c=void 0);let m=this.safeNumber(e,"paid_fee");const g=this.safeString(e,"market");t=this.safeMarket(g,t);let y=this.safeValue(e,"trades",[]);y=this.parseTrades(y,t,void 0,void 0,{order:i,type:s});const b=y.length;if(b>0){o=y[b-1].timestamp;let e=!1;void 0===m&&(e=!0,m=0),l=0;for(let t=0;t<b;t++){const i=y[t];if(l=this.sum(l,i.cost),e){const e=this.safeValue(y[t],"fee",{}),i=this.safeNumber(e,"cost");void 0!==i&&(m=this.sum(m,i))}}f=l/u}return void 0!==m&&(p={currency:t.quote,cost:m}),{info:e,id:i,clientOrderId:void 0,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:o,symbol:t.symbol,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:c,stopPrice:void 0,cost:l,average:f,amount:h,filled:u,remaining:d,status:n,fee:p,trades:y}}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const a={state:e};let n;void 0!==t&&(n=this.market(t),a.market=n.id);const o=await this.privateGetOrders(this.extend(a,s));return this.parseOrders(o,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("wait",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("done",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrdersByState("cancel",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetDepositsCoinAddresses(t);return this.parseDepositAddresses(i)}parseDepositAddress(e,t){const i=this.safeString(e,"deposit_address"),r=this.safeString(e,"secondary_address"),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:a,address:i,tag:r,network:void 0,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=await this.privateGetDepositsCoinAddress(this.extend({currency:i.id},t));return this.parseDepositAddress(r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostDepositsGenerateCoinAddress(this.extend(i,t));if(void 0!==this.safeString(r,"message"))throw new u(this.id+" is generating "+e+" deposit address, call fetchDepositAddress or createDepositAddress one more time later to retrieve the generated address");return this.parseDepositAddress(r)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={amount:t};let o="privatePostWithdraws";"KRW"!==e?(o+="Coin",n.currency=a.id,n.address=i,void 0!==r&&(n.secondary_address=r)):o+="Krw";const c=await this[o](this.extend(n,s));return this.parseTransaction(c)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api[t],{hostname:this.hostname});n+="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("POST"!==i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce(),t={access_key:this.apiKey,nonce:e};if(Object.keys(o).length){const e=this.urlencode(o),i=this.hash(this.encode(e),"sha512");t.query_hash=i,t.query_hash_alg="SHA512"}s={Authorization:"Bearer "+this.jwt(t,this.encode(this.secret))},"GET"!==i&&"DELETE"!==i&&(a=this.json(r),s["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeValue(o,"error");if(void 0!==d){const e=this.safeString(d,"message"),t=this.safeString(d,"name"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,e,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}},43571:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,OrderNotFound:a,InvalidOrder:n,BadRequest:o,AuthenticationError:c,RateLimitExceeded:h,RequestTimeout:d,BadSymbol:u,AddressPending:l,PermissionDenied:f,InsufficientFunds:p}=i(73449),{ROUND:m}=i(62115),g=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"vcc",name:"VCC Exchange",countries:["VN"],rateLimit:1e3,version:"v3",has:{cancelAllOrders:!0,cancelOrder:!0,createOrder:!0,editOrder:void 0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:void 0,fetchTicker:"emulated",fetchTickers:!0,fetchTrades:!0,fetchTradingFees:void 0,fetchTransactions:!0,fetchWithdrawals:!0},timeframes:{"1m":"60000","5m":"300000","15m":"900000","30m":"1800000","1h":"3600000","2h":"7200000","4h":"14400000","6h":"21600000","12h":"43200000","1d":"86400000","1w":"604800000"},urls:{logo:"https://user-images.githubusercontent.com/1294454/100545356-8427f500-326c-11eb-9539-7d338242d61b.jpg",api:{public:"https://api.vcc.exchange",private:"https://api.vcc.exchange"},www:"https://vcc.exchange",doc:["https://vcc.exchange/api"],fees:"https://support.vcc.exchange/hc/en-us/articles/360016401754",referral:"https://vcc.exchange?ref=l4xhrH"},api:{public:{get:["summary","exchange_info","assets","ticker","trades/{market_pair}","orderbook/{market_pair}","chart/bars","tick_sizes"]},private:{get:["user","balance","orders/{order_id}","orders/open","orders","orders/trades","deposit-address","transactions"],post:["orders"],put:["orders/{order_id}/cancel","orders/cancel-by-type","orders/cancel-all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:this.parseNumber("0.002"),taker:this.parseNumber("0.002")}},exceptions:{exact:{},broad:{"limit may not be greater than":o,"Insufficient balance":p,Unauthenticated:c,"signature is invalid":c,Timeout:d,"Too many requests":h,"quantity field is required":n,"price field is required":n,error_security_level:f,"pair is invalid":u,"type is invalid":n,"Data not found":a}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"symbols"),s=[];for(let e=0;e<r.length;e++){const t=this.safeValue(r,e),i=this.safeString(t,"symbol"),a=i.replace("/","_"),n=this.safeString(t,"coin"),o=this.safeString(t,"currency"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=this.safeValue(t,"active"),u=this.safeValue(t,"precision",{}),l=this.safeValue(t,"limits",{}),f=this.safeValue(l,"amount",{}),p=this.safeValue(l,"price",{}),m=this.safeValue(l,"cost",{}),g={info:t,id:a,symbol:i,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:d,precision:{price:this.safeInteger(u,"price"),amount:this.safeInteger(u,"amount"),cost:this.safeInteger(u,"cost")},limits:{amount:{min:this.safeNumber(f,"min"),max:void 0},price:{min:this.safeNumber(p,"min"),max:void 0},cost:{min:this.safeNumber(m,"min"),max:void 0}}};s.push(g)}return s}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={},r=this.safeValue(t,"data"),s=Object.keys(r);for(let e=0;e<s.length;e++){const t=this.safeStringLower(s,e),a=this.safeValue(r,s[e]),n=this.safeCurrencyCode(t),o=this.safeValue(a,"can_deposit"),c=this.safeValue(a,"can_withdraw"),h=o&&c;i[n]={id:t,code:n,name:this.safeString(a,"name"),active:h,fee:this.safeNumber(a,"withdrawal_fee"),precision:this.safeInteger(a,"decimal"),limits:{withdraw:{min:this.safeNumber(a,"min_withdraw"),max:this.safeNumber(a,"max_withdraw")}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.extend({symbol:i.id},this.omit(t,"symbol")),s=await this.privateGetTradingFeeSymbol(r);return{info:s,maker:this.safeNumber(s,"provideLiquidityRate"),taker:this.safeNumber(s,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"data"),r={info:t,timestamp:void 0,datetime:void 0},s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e],a=this.safeCurrencyCode(t),n=this.safeValue(i,t),o=this.account();o.free=this.safeString(n,"available_balance"),o.total=this.safeString(n,"balance"),r[a]=o}return this.parseBalance(r)}parseOHLCV(e,t){return[this.safeInteger(e,"time"),this.safeNumber(e,"open"),this.safeNumber(e,"high"),this.safeNumber(e,"low"),this.safeNumber(e,"close"),this.safeNumber(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={coin:a.baseId,currency:a.quoteId,resolution:this.timeframes[t]};r=void 0===r?100:r,r=Math.min(100,r);const o=this.parseTimeframe(t);if(void 0===i){const e=this.seconds();n.to=e,n.from=e-r*o}else{const e=parseInt(i/1e3);n.from=e,n.to=this.sum(e,r*o)}const c=await this.publicGetChartBars(this.extend(n,s));return this.parseOHLCVs(c,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market_pair:this.market(e).id,level:2};if(void 0!==t){if(0!==t&&5!==t&&10!==t&&20!==t&&50!==t&&100!==t&&500!==t)throw new o(this.id+" fetchOrderBook limit must be 0, 5, 10, 20, 50, 100, 500 if specified");r.depth=t}const s=await this.publicGetOrderbookMarketPair(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeValue(a,"timestamp");return this.parseOrderBook(a,e,n,"bids","asks",0,1)}parseTicker(e,t){const i=this.milliseconds(),r=this.safeNumber(e,"base_volume"),s=this.safeNumber(e,"quote_volume"),a=this.safeNumber(e,"open_price"),n=this.safeNumber(e,"last_price"),o=this.vwap(r,s),c=this.safeSymbol(void 0,t);return this.safeTicker({symbol:c,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"max_price"),low:this.safeNumber(e,"min_price"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:o,open:a,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r,quoteVolume:s,info:e},t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=this.safeValue(i,"data"),a=Object.keys(s);for(let e=0;e<a.length;e++){const t=a[e],i=this.safeMarket(t,void 0,"_");r[i.symbol]=this.parseTicker(s[t],i)}return this.filterByArray(r,"symbol",e)}parseTrade(e,t){const i=this.safeInteger2(e,"trade_timestamp","created_at"),r=this.safeStringUpper(e,"coin"),s=this.safeStringUpper(e,"currency");let a;void 0!==r&&void 0!==s&&(a=r+"_"+s);const n=(t=this.safeMarket(a,t,"_")).symbol,o=this.safeString(e,"price"),c=this.safeString2(e,"base_volume","quantity"),h=this.parseNumber(o),d=this.parseNumber(c);let u=this.safeNumber2(e,"quote_volume","amount");void 0===u&&(u=this.parseNumber(g.stringMul(o,c)));const l=this.safeString2(e,"type","trade_type"),f=this.safeString2(e,"trade_id","id"),p=this.safeNumber(e,"fee");let m;return void 0!==p&&(m={cost:p,currency:t.quote}),{info:e,id:f,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:n,type:void 0,side:l,takerOrMaker:void 0,price:h,amount:d,cost:u,fee:m}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market_pair:s.id};void 0!==i&&(a.count=Math.min(1e3,i));const n=await this.publicGetTradesMarketPair(this.extend(a,r)),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=Math.min(1e3,i)),void 0!==t&&(s.start=t);const n=await this.privateGetTransactions(this.extend(s,r));let o=this.safeValue(n,"data",{});return o=this.safeValue(o,"data",[]),this.parseTransactions(o,a,t,i)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"deposit"},r))}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"withdraw"},r))}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"created_at"),s=this.safeInteger(e,"updated_at"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeNumber(e,"amount");void 0!==c&&(c=Math.abs(c));const h=this.safeString(e,"blockchain_address"),d=this.safeString(e,"transaction_id"),u=this.safeString(e,"destination_tag");let l;const f=this.safeNumber(e,"fee");void 0!==f&&(l={cost:f,currency:n});const p=c>0?"deposit":"withdrawal";return{info:e,id:i,txid:d,timestamp:r,datetime:this.iso8601(r),address:h,addressTo:h,addressFrom:void 0,tag:u,tagTo:u,tagFrom:void 0,type:p,amount:c,currency:n,status:o,updated:s,fee:l}}parseTransactionStatus(e){return this.safeString({pending:"pending",error:"failed",success:"ok",cancel:"canceled"},e,e)}parseTransactionType(e){return this.safeString({deposit:"deposit",withdraw:"withdrawal"},e,e)}costToPrecision(e,t){return this.decimalToPrecision(t,m,this.markets[e].precision.cost,this.precisionMode,this.paddingMode)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c={coin:o.baseId,currency:o.quoteId,trade_type:i,type:t};if("ceiling_market"===t){const i=this.safeValue(a,"ceiling");if(void 0!==i)c.ceiling=this.costToPrecision(e,i);else{if(void 0===s)throw new n(this.id+" createOrder() requires a price argument or a ceiling parameter for "+t+" orders");c.ceiling=this.costToPrecision(e,r*s)}}else c.quantity=this.amountToPrecision(e,r);"limit"===t&&(c.price=this.priceToPrecision(e,s));const h=this.safeValue2(a,"stop_price","stopPrice");void 0!==h&&(c.is_stop=1,c.stop_condition="buy"===i?"le":"ge",c.stop_price=this.priceToPrecision(e,h)),a=this.omit(a,["stop_price","stopPrice"]);const d=await this.privatePostOrders(this.extend(c,a)),u=this.safeValue(d,"data");return this.parseOrder(u,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePutOrdersOrderIdCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){const i=this.safeString(t,"type"),r=void 0===i?"privatePutOrdersCancelAll":"privatePutOrdersCancelByType",s={};void 0!==i&&(s.type=i),await this.loadMarkets();const a=await this[r](this.extend(s,t));let n=this.safeValue(a,"data",{});return n=this.safeValue(a,"data",[]),this.parseOrders(n)}parseOrderStatus(e){return this.safeString({pending:"open",stopping:"open",executing:"open",executed:"closed",canceled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeValue(e,"created_at"),r=this.safeValue(e,"updated_at"),s=this.safeStringUpper(e,"coin")+"_"+this.safeStringUpper(e,"currency"),a=(t=this.safeMarket(s,t,"_")).symbol,n=this.safeString(e,"quantity"),o=this.safeString(e,"executed_quantity"),c=this.parseOrderStatus(this.safeString(e,"status")),h=this.safeString(e,"ceiling"),d=this.safeString(e,"id"),u=this.safeString(e,"price"),l=this.safeString(e,"executed_price"),f=this.safeString(e,"remaining"),p=this.safeString(e,"type"),m=this.safeString(e,"trade_type"),g={currency:t.quote,cost:this.safeNumber(e,"fee"),rate:this.safeNumber(e,"fee_rate")};let y;r!==i&&(y=r);const b=this.safeNumber(e,"stopPrice");return this.safeOrder2({id:d,clientOrderId:d,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:y,status:c,symbol:a,type:p,timeInForce:void 0,postOnly:void 0,side:m,price:u,stopPrice:b,average:l,amount:n,cost:h,filled:o,remaining:f,fee:g,trades:void 0,info:e},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async fetchOrdersWithMethod(e,t,i,r,s={}){await this.loadMarkets();const a={};let n;void 0!==t&&(n=this.market(t),a.coin=n.baseId,a.currency=n.quoteId),void 0!==i&&(a.start_date=i),void 0!==r&&(a.limit=Math.min(1e3,r));const o=await this[e](this.extend(a,s));let c=this.safeValue(o,"data",{});return c=this.safeValue(c,"data",[]),this.parseOrders(c,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrdersOpen",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("privateGetOrders",e,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.market(e),s.coin=a.baseId,s.currency=a.quoteId),void 0!==t&&(s.start_date=t),void 0!==i&&(s.limit=Math.min(1e3,i));const n=await this.privateGetOrdersTrades(this.extend(s,r));let o=this.safeValue(n,"data",{});return o=this.safeValue(o,"data",[]),this.parseTrades(o,a,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"data");if("REQUESTED"===this.safeString(s,"status"))throw new l(this.id+" is generating "+e+" deposit address, call fetchDepositAddress one more time later to retrieve the generated address");const a=this.safeString(s,"blockchain_address");this.checkAddress(a);const n=this.safeString(s,"blockchain_tag"),o=this.safeString(s,"currency");return{currency:this.safeCurrencyCode(o),address:a,tag:n,network:void 0,info:s}}sign(e,t="public",i="GET",r={},s,a){let n=this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();"GET"!==i&&(a=this.json(o));const t=i+" "+n,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256");s={Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json",timestamp:e,signature:r}}return n=this.urls.api[t]+"/"+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.safeString(o,"message");if(void 0!==d){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,d,e),this.throwBroadlyMatchedException(this.exceptions.broad,n,e),new s(e)}}}},86091:(e,t,i)=>{"use strict";const r=i(48819),{ArgumentsRequired:s,AuthenticationError:a,InsufficientFunds:n,InvalidOrder:o,AccountSuspended:c,ExchangeError:h,DuplicateOrderId:d,OrderNotFound:u,BadSymbol:l,ExchangeNotAvailable:f,BadRequest:p}=i(73449),m=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"wavesexchange",name:"Waves.Exchange",countries:["CH"],rateLimit:500,certified:!0,pro:!1,has:{cancelOrder:!0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTrades:!0,signIn:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","3h":"3h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/84547058-5fb27d80-ad0b-11ea-8711-78ac8b3c7f31.jpg",test:{matcher:"http://matcher-testnet.waves.exchange",node:"https://nodes-testnet.wavesnodes.com",public:"https://api-testnet.wavesplatform.com/v0",private:"https://api-testnet.waves.exchange/v1",forward:"https://testnet.waves.exchange/api/v1/forward/matcher",market:"https://testnet.waves.exchange/api/v1/forward/marketdata/api/v1"},api:{matcher:"http://matcher.waves.exchange",node:"https://nodes.waves.exchange",public:"https://api.wavesplatform.com/v0",private:"https://api.waves.exchange/v1",forward:"https://waves.exchange/api/v1/forward/matcher",market:"https://waves.exchange/api/v1/forward/marketdata/api/v1"},doc:"https://docs.waves.exchange",www:"https://waves.exchange"},api:{matcher:{get:["matcher","matcher/settings","matcher/settings/rates","matcher/balance/reserved/{publicKey}","matcher/debug/allSnashotOffsets","matcher/debug/currentOffset","matcher/debug/lastOffset","matcher/debug/oldestSnapshotOffset","matcher/orderbook","matcher/orderbook/{amountAsset}/{priceAsset}","matcher/orderbook/{baseId}/{quoteId}/publicKey/{publicKey}","matcher/orderbook/{baseId}/{quoteId}/{orderId}","matcher/orderbook/{baseId}/{quoteId}/info","matcher/orderbook/{baseId}/{quoteId}/status","matcher/orderbook/{baseId}/{quoteId}/tradeableBalance/{address}","matcher/orderbook/{publicKey}","matcher/orderbook/{publicKey}/{orderId}","matcher/orders/{address}","matcher/orders/{address}/{orderId}","matcher/transactions/{orderId}"],post:["matcher/orderbook","matcher/orderbook/market","matcher/orderbook/cancel","matcher/orderbook/{baseId}/{quoteId}/cancel","matcher/debug/saveSnapshots","matcher/orders/{address}/cancel","matcher/orders/cancel/{orderId}"],delete:["matcher/orderbook/{baseId}/{quoteId}","matcher/settings/rates/{assetId}"],put:["matcher/settings/rates/{assetId}"]},node:{get:["addresses","addresses/balance/{address}","addresses/balance/{address}/{confirmations}","addresses/balance/details/{address}","addresses/data/{address}","addresses/data/{address}/{key}","addresses/effectiveBalance/{address}","addresses/effectiveBalance/{address}/{confirmations}","addresses/publicKey/{publicKey}","addresses/scriptInfo/{address}","addresses/scriptInfo/{address}/meta","addresses/seed/{address}","addresses/seq/{from}/{to}","addresses/validate/{address}","alias/by-address/{address}","alias/by-alias/{alias}","assets/{assetId}/distribution/{height}/{limit}","assets/balance/{address}","assets/balance/{address}/{assetId}","assets/details/{assetId}","assets/nft/{address}/limit/{limit}","blockchain/rewards","blockchain/rewards/height","blocks/address/{address}/{from}/{to}/","blocks/at/{height}","blocks/delay/{signature}/{blockNum}","blocks/first","blocks/headers/last","blocks/headers/seq/{from}/{to}","blocks/height","blocks/height/{signature}","blocks/last","blocks/seq/{from}/{to}","blocks/signature/{signature}","consensus/algo","consensus/basetarget","consensus/basetarget/{blockId}","consensus/{generatingbalance}/address","consensus/generationsignature","consensus/generationsignature/{blockId}","debug/balances/history/{address}","debug/blocks/{howMany}","debug/configInfo","debug/historyInfo","debug/info","debug/minerInfo","debug/portfolios/{address}","debug/state","debug/stateChanges/address/{address}","debug/stateChanges/info/{id}","debug/stateWaves/{height}","leasing/active/{address}","node/state","node/version","peers/all","peers/blacklisted","peers/connected","peers/suspended","transactions/address/{address}/limit/{limit}","transactions/info/{id}","transactions/status","transactions/unconfirmed","transactions/unconfirmed/info/{id}","transactions/unconfirmed/size","utils/seed","utils/seed/{length}","utils/time","wallet/seed"],post:["addresses","addresses/data/{address}","addresses/sign/{address}","addresses/signText/{address}","addresses/verify/{address}","addresses/verifyText/{address}","debug/blacklist","debug/print","debug/rollback","debug/validate","node/stop","peers/clearblacklist","peers/connect","transactions/broadcast","transactions/calculateFee","tranasctions/sign","transactions/sign/{signerAddress}","tranasctions/status","utils/hash/fast","utils/hash/secure","utils/script/compileCode","utils/script/compileWithImports","utils/script/decompile","utils/script/estimate","utils/sign/{privateKey}","utils/transactionsSerialize"],delete:["addresses/{address}","debug/rollback-to/{signature}"]},public:{get:["assets","pairs","candles/{baseId}/{quoteId}","transactions/exchange"]},private:{get:["deposit/addresses/{currency}","deposit/addresses/{currency}/{platform}","platforms","deposit/currencies","withdraw/currencies","withdraw/addresses/{currency}/{address}"],post:["oauth2/token"]},forward:{get:["matcher/orders/{address}","matcher/orders/{address}/{orderId}"],post:["matcher/orders/{wavesAddress}/cancel"]},market:{get:["tickers"]}},options:{allowedCandles:1440,accessToken:void 0,matcherPublicKey:void 0,quotes:void 0,createOrderDefaultExpiry:24192e5,wavesAddress:void 0,withdrawFeeUSDN:7420,withdrawFeeWAVES:1e5,wavesPrecision:8,messagePrefix:"W",networks:{ERC20:"ETH",BEP20:"BSC"},reverseNetworks:{ETH:"ERC20",BSC:"BEP20"}},commonCurrencies:{EGG:"Waves Ducks"},requiresEddsa:!0,exceptions:{3147270:n,112:n,4:h,13:f,14:f,3145733:c,3148040:d,3148801:a,9440512:a,9440771:l,9441026:o,9441282:o,9441286:o,9441295:o,9441540:o,9441542:o,106954752:a,106954769:a,106957828:a,106960131:a,106981137:a,9437193:u,1048577:p,1051904:a}})}setSandboxMode(e){return this.options.messagePrefix=e?"T":"W",super.setSandboxMode(e)}async getQuotes(){let e=this.safeValue(this.options,"quotes");if(e)return e;{const t=await this.matcherGetMatcherSettings();e={};const i=this.safeValue(t,"priceAssets");for(let t=0;t<i.length;t++)e[i[t]]=!0;return this.options.quotes=e,e}}async fetchMarkets(e={}){const t=await this.marketGetTickers(),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"amountAssetID"),a=this.safeString(r,"priceAssetID"),n=s+"/"+a,o=this.safeString(r,"symbol"),[c,h]=o.split("/"),d=this.safeCurrencyCode(c)+"/"+this.safeCurrencyCode(h),u={amount:this.safeInteger(r,"amountAssetDecimals"),price:this.safeInteger(r,"priceAssetDecimals")};i.push({symbol:d,id:n,base:c,quote:h,baseId:s,quoteId:a,type:"spot",spot:!0,active:void 0,info:r,precision:u})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s=this.extend({amountAsset:r.baseId,priceAsset:r.quoteId},i),a=await this.matcherGetMatcherOrderbookAmountAssetPriceAsset(s),n=this.safeInteger(a,"timestamp");return{symbol:e,bids:this.parseOrderBookSide(this.safeValue(a,"bids"),r,t),asks:this.parseOrderBookSide(this.safeValue(a,"asks"),r,t),timestamp:n,datetime:this.iso8601(n),nonce:void 0}}parseOrderBookSide(e,t,i){const r=t.precision,s=this.safeInteger(this.options,"wavesPrecision",8),a=Math.pow(10,r.amount),n=r.amount-r.price,o=Math.pow(10,s-n),c=[];for(let t=0;t<e.length;t++){const r=e[t],s=this.safeInteger(r,"price",0)/o,n=this.safeInteger(r,"amount",0)/a;if(void 0!==i&&t>i)break;c.push([s,n])}return c}checkRequiredKeys(){if(void 0===this.apiKey)throw new a(this.id+" requires apiKey credential");if(void 0===this.secret)throw new a(this.id+" requires secret credential");let e,t;try{e=this.base58ToBinary(this.apiKey)}catch(e){throw new a(this.id+" apiKey must be a base58 encoded public key")}try{t=this.base58ToBinary(this.secret)}catch(e){throw new a(this.id+" secret must be a base58 encoded private key")}const i=this.binaryToBase16(e),r=this.binaryToBase16(t);if(64!==i.length)throw new a(this.id+" apiKey must be a base58 encoded public key");if(64!==r.length)throw new a(this.id+" secret must be a base58 encoded private key")}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e)),o="matcher/orders/{wavesAddress}/cancel"===e;e=this.implodeParams(e,r);let c=this.urls.api[t]+"/"+e,h=this.urlencodeWithArrayRepeat(n);if("private"===t||"forward"===t){s={Accept:"application/json"};const e=this.safeString(this.options,"accessToken");e&&(s.Authorization="Bearer "+e),s["content-type"]="POST"===i?"application/json":"application/x-www-form-urlencoded",o&&(a=this.json([n.orderId]),h=""),h.length>0&&(c+="?"+h)}else"matcher"===t?"POST"===i?(s={"content-type":"application/json"},a=this.json(n)):s=n:"POST"===i?(s={"content-type":"application/json"},a=this.json(n)):(s={"content-type":"application/x-www-form-urlencoded"},h.length>0&&(c+="?"+h));return{url:c,method:i,body:a,headers:s}}async signIn(e={}){if(!this.safeString(this.options,"accessToken")){const e="ffffff01",t=604800;let i=this.sum(this.seconds(),t);i=i.toString();const r="waves.exchange",s=this.safeString(this.options,"messagePrefix","W")+":"+r+":"+i,a=e+this.binaryToBase16(this.stringToBinary(this.encode(s))),n=this.binaryToBase16(this.base58ToBinary(this.secret)),o=this.eddsa(a,n,"ed25519"),c={grant_type:"password",scope:"general",username:this.apiKey,password:i+":"+o,client_id:r},h=await this.privatePostOauth2Token(c);return this.options.accessToken=this.safeString(h,"access_token"),this.options.accessToken}}parseTicker(e,t){const i=void 0,r=this.safeString(e,"amountAsset"),s=this.safeString(e,"priceAsset");let a;if(void 0!==r&&void 0!==s){const e=r+"/"+s;e in this.markets_by_id?t=this.markets_by_id[e]:a=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(s)}void 0===a&&void 0!==t&&(a=t.symbol);const n=this.safeValue(e,"data",{}),o=this.safeNumber(n,"lastPrice"),c=this.safeNumber(n,"low"),h=this.safeNumber(n,"high"),d=this.safeNumber(n,"weightedAveragePrice"),u=this.safeNumber(n,"volume"),l=this.safeNumber(n,"quoteVolume"),f=this.safeNumber(n,"firstPrice");return this.safeTicker({symbol:a,timestamp:i,datetime:this.iso8601(i),high:h,low:c,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:d,open:f,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:u,quoteVolume:l,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pairs:i.id},s=await this.publicGetPairs(this.extend(r,t)),a=this.safeValue(s,"data",[]),n=this.safeValue(a,0,{});return this.parseTicker(n,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={baseId:a.baseId,quoteId:a.quoteId,interval:this.timeframes[t]};if(void 0!==i)n.timeStart=i.toString();else{const e=this.safeInteger(this.options,"allowedCandles",1440),i=1e3*this.parseTimeframe(t),r=Math.floor(this.milliseconds()/i)*i-(e-1)*i;n.timeStart=r.toString()}const o=await this.publicGetCandlesBaseIdQuoteId(this.extend(n,s)),c=this.safeValue(o,"data",[]),h=this.parseOHLCVs(c,a,t,i,r);let d;const u=h.length;for(let e=0;e<h.length;e++){const t=u-e-1,i=h[t];void 0===i[1]&&(i[1]=d,i[2]=d,i[3]=d,i[4]=d,h[t]=i),d=i[4]}return h}parseOHLCV(e,t){const i=this.safeValue(e,"data",{});return[this.parse8601(this.safeString(i,"time")),this.safeNumber(i,"open"),this.safeNumber(i,"high"),this.safeNumber(i,"low"),this.safeNumber(i,"close"),this.safeNumber(i,"volume",0)]}async fetchDepositAddress(e,t={}){await this.signIn();const i=this.safeValue(this.options,"networks",{}),r=this.safeStringUpper(t,"network"),s=this.safeString(i,r,r);t=this.omit(t,["network"]);const a=await this.privateGetPlatforms(),n={},o={},c=this.safeValue(a,"items",[]);for(let e=0;e<c.length;e++){const t=c[e],i=this.safeString(t,"id"),r=this.safeValue(t,"currencies",[]);for(let e=0;e<r.length;e++){const t=this.safeString(r,e);n[t]=!0,t in o||(o[t]={}),o[t][i]=!0}}if(!(e in n)){const t=Object.keys(n);throw new h(this.id+" fetch "+e+" deposit address not supported. Currency code must be one of "+t.join(", "))}let d;if(void 0===s){const i={currency:e};d=await this.privateGetDepositAddressesCurrency(this.extend(i,t))}else{const i=o[e];if(!(s in i)){const t=Object.keys(i);throw new h(this.id+" "+s+" network "+e+" deposit address not supported. Network must be one of "+t.join(", "))}if("WAVES"===s){const t={publicKey:this.apiKey},i=await this.nodeGetAddressesPublicKeyPublicKey(this.extend(t,t));return{address:this.safeString(i,"address"),code:e,network:s,tag:void 0,info:i}}{const i={currency:e,platform:s};d=await this.privateGetDepositAddressesCurrencyPlatform(this.extend(i,t))}}const u=this.safeValue(d,"currency"),l=this.safeString(u,"platform_id"),f=this.safeValue(this.options,"reverseNetworks",{}),p=this.safeString(f,l,l),m=this.safeValue(d,"deposit_addresses");return{address:this.safeString(m,0),code:e,tag:void 0,network:p,info:d}}async getMatcherPublicKey(){const e=this.safeString(this.options,"matcherPublicKey");if(e)return e;{const e=await this.matcherGetMatcher();return this.options.matcherPublicKey=e.slice(1,e.length-1),this.options.matcherPublicKey}}getAssetBytes(e){return"WAVES"===e?this.numberToBE(0,1):this.binaryConcat(this.numberToBE(1,1),this.base58ToBinary(e))}getAssetId(e){return"WAVES"===e?"":e}priceToPrecision(e,t){const i=this.markets[e],r=this.safeInteger(this.options,"wavesPrecision",8),s=i.precision.amount-i.precision.price;return parseInt(parseFloat(this.toPrecision(t,r-s)))}amountToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.markets[e].precision.amount)))}currencyToPrecision(e,t){return parseInt(parseFloat(this.toPrecision(t,this.currencies[e].precision)))}fromPrecision(e,t){if(void 0===e)return;const i=new m(e);return i.decimals=i.decimals+t,i.reduce(),i.toString()}toPrecision(e,t){const i=e.toString(),r=new m(i);return r.decimals=r.decimals-t,r.reduce(),r.toString()}currencyFromPrecision(e,t){const i=this.currencies[e].precision;return this.fromPrecision(t,i)}priceFromPrecision(e,t){const i=this.markets[e],r=this.safeInteger(this.options,"wavesPrecision",8)-i.precision.amount+i.precision.price;return this.fromPrecision(t,r)}async createOrder(e,t,i,r,s,a={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const o=this.market(e),c=await this.getMatcherPublicKey(),h=this.getAssetId(o.baseId),d=this.getAssetId(o.quoteId);r=this.amountToPrecision(e,r),s=this.priceToPrecision(e,s);const u="buy"===i?0:1,l=this.milliseconds(),f=this.safeInteger(this.options,"createOrderDefaultExpiry",24192e5),p=this.sum(l,f),g=await this.matcherGetMatcherSettings(),y=this.safeValue(g,"orderFee"),b=this.safeValue(y,"dynamic"),v=this.safeString(b,"baseFee"),w=this.currencyFromPrecision("WAVES",v),k=this.safeValue(b,"rates"),S=Object.keys(k);let _,M;if("feeAssetId"in a)_=a.feeAssetId;else if("feeAssetId"in this.options)_=this.options.feeAssetId;else{const e=await this.fetchBalance(),t=parseFloat(w);if(e.WAVES.free>t)_="WAVES",M=v;else for(let t=0;t<S.length;t++){const i=S[t],r=this.safeCurrencyCode(i),s=this.safeString(this.safeValue(e,r,{}),"free"),a=m.stringMul(k[i],w);if(void 0!==s&&m.stringGt(s,a)){_=i;break}}}if(void 0===_)throw n(this.id+" not enough funds to cover the fee, specify feeAssetId in params or options, or buy some WAVES");if(void 0===M){const e=this.safeInteger(this.options,"wavesPrecision",8),t=this.safeString(k,_),i=this.safeCurrencyCode(_),r=e-this.currency(i).precision;M=this.fromPrecision(m.stringMul(t,v),r),M=m.stringDiv(m.stringAdd(M,"1"),"1",0)}const T=[this.numberToBE(3,1),this.base58ToBinary(this.apiKey),this.base58ToBinary(c),this.getAssetBytes(o.baseId),this.getAssetBytes(o.quoteId),this.numberToBE(u,1),this.numberToBE(s,8),this.numberToBE(r,8),this.numberToBE(l,8),this.numberToBE(p,8),this.numberToBE(M,8),this.getAssetBytes(_)],O=this.binaryConcatArray(T),x=this.eddsa(this.binaryToBase16(O),this.binaryToBase16(this.base58ToBinary(this.secret)),"ed25519"),I={amountAsset:h,priceAsset:d},C={senderPublicKey:this.apiKey,matcherPublicKey:c,assetPair:I,orderType:i,price:s,amount:r,timestamp:l,expiration:p,matcherFee:parseInt(M),signature:x,version:3};"WAVES"!==_&&(C.matcherFeeAssetId=_);const A=await this.matcherPostMatcherOrderbook(C),E=this.safeValue(A,"message");return this.parseOrder(E,o)}async cancelOrder(e,t,i={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.signIn();const r=await this.getWavesAddress(),s=await this.forwardPostMatcherOrdersWavesAddressCancel({wavesAddress:r,orderId:e}),a=this.safeValue(s,"message"),n=this.safeValue(a,0),o=this.safeValue(n,0);return{info:s,id:this.safeString(o,"orderId"),clientOrderId:void 0,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:t,type:void 0,side:void 0,price:void 0,amount:void 0,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}async fetchOrders(e,t,i,r={}){if(this.checkRequiredDependencies(),this.checkRequiredKeys(),void 0===e)throw new s(this.id+" fetchOrders() requires symbol argument");await this.loadMarkets();const a=this.market(e),n=this.milliseconds(),o=[this.base58ToBinary(this.apiKey),this.numberToBE(n,8)],c=this.binaryConcatArray(o),h=this.binaryToBase16(this.base58ToBinary(this.secret)),d=this.eddsa(this.binaryToBase16(c),h,"ed25519"),u={Accept:"application/json",Timestamp:n.toString(),Signature:d,publicKey:this.apiKey,baseId:a.baseId,quoteId:a.quoteId},l=await this.matcherGetMatcherOrderbookBaseIdQuoteIdPublicKeyPublicKey(this.extend(u,r));return this.parseOrders(l,a,t,i)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets(),await this.signIn(),void 0!==e&&(s=this.market(e));const a={address:await this.getWavesAddress(),activeOnly:!0},n=await this.forwardGetMatcherOrdersAddress(a);return this.parseOrders(n,s,t,i)}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets(),await this.signIn(),void 0!==e&&(s=this.market(e));const a={address:await this.getWavesAddress(),closedOnly:!0},n=await this.forwardGetMatcherOrdersAddress(a);return this.parseOrders(n,s,t,i)}parseOrderStatus(e){return this.safeString({Cancelled:"canceled",Accepted:"open",Filled:"closed",PartiallyFilled:"open"},e,e)}getSymbolFromAssetPair(e){const t=this.safeString(e,"amountAsset","WAVES"),i=this.safeString(e,"priceAsset","WAVES");return this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}parseOrder(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeString2(e,"type","orderType");let s="limit";"type"in e&&(s=this.safeString(e,"orderType",s));const a=this.safeString(e,"id"),n=this.safeString(e,"filled"),o=this.safeString(e,"price"),c=this.safeString(e,"amount"),h=this.safeValue(e,"assetPair");let d;void 0!==h?d=this.getSymbolFromAssetPair(h):void 0!==t&&(d=t.symbol);const u=this.safeCurrencyCode(this.safeString(h,"amountAsset","WAVES")),l=this.priceFromPrecision(d,o),f=this.currencyFromPrecision(u,c),p=this.currencyFromPrecision(u,n),m=this.priceFromPrecision(d,this.safeString(e,"avgWeighedPrice")),g=this.parseOrderStatus(this.safeString(e,"status"));let y;if("type"in e){const t=this.safeCurrencyCode(this.safeString(e,"feeAsset"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"filledFee")))}}else{const t=this.safeCurrencyCode(this.safeString(e,"matcherFeeAssetId","WAVES"));y={currency:t,fee:this.parseNumber(this.currencyFromPrecision(t,this.safeString(e,"matcherFee")))}}return this.safeOrder2({info:e,id:a,clientOrderId:void 0,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:d,type:s,timeInForce:void 0,postOnly:void 0,side:r,price:l,stopPrice:void 0,amount:f,cost:void 0,average:m,filled:p,remaining:void 0,status:g,fee:y,trades:void 0},t)}async getWavesAddress(){const e=this.safeString(this.options,"wavesAddress");if(void 0===e){const e={publicKey:this.apiKey},t=await this.nodeGetAddressesPublicKeyPublicKey(e);return this.options.wavesAddress=this.safeString(t,"address"),this.options.wavesAddress}return e}async fetchBalance(e={}){this.checkRequiredDependencies(),this.checkRequiredKeys(),await this.loadMarkets();const t=await this.getWavesAddress(),i={address:t},r=await this.nodeGetAssetsBalanceAddress(i),s=this.safeValue(r,"balances"),a={};let n;const o=[],c=[];for(let e=0;e<s.length;e++){const t=s[e],i=this.safeInteger(t,"timestamp");n=void 0===n?i:Math.max(n,i);const r=this.safeValue(t,"issueTransaction"),h=this.safeString(t,"assetId"),d=this.safeString(t,"balance");if(void 0===r){o.push(h),c.push(d);continue}const u=this.safeInteger(r,"decimals");let l;h in this.currencies_by_id&&(l=this.safeCurrencyCode(h),a[l]=this.account(),a[l].total=this.fromPrecision(d,u))}if(o.length){const e={ids:o},t=await this.publicGetAssets(e),i=this.safeValue(t,"data");for(let e=0;e<i.length;e++){const t=i[e],r=c[e],s=this.safeValue(t,"data"),n=this.safeInteger(s,"precision"),o=this.safeString(s,"ticker"),h=this.safeCurrencyCode(o);a[h]=this.account(),a[h].total=this.fromPrecision(r,n)}}const h=this.milliseconds(),d=[this.base58ToBinary(this.apiKey),this.numberToBE(h,8)],u=this.binaryConcatArray(d),l=this.binaryToBase16(this.base58ToBinary(this.secret)),f=this.eddsa(this.binaryToBase16(u),l,"ed25519"),p={publicKey:this.apiKey,signature:f,timestamp:h.toString()},m=await this.matcherGetMatcherBalanceReservedPublicKey(p),g=Object.keys(m);for(let e=0;e<g.length;e++){const t=g[e],i=this.safeCurrencyCode(t);i in a||(a[i]=this.account());const r=this.safeString(m,t);i in this.currencies?a[i].used=this.currencyFromPrecision(i,r):a[i].used=r}const y={address:t},b=await this.nodeGetAddressesBalanceAddress(y);a.WAVES=this.safeValue(a,"WAVES",{}),a.WAVES.total=this.currencyFromPrecision("WAVES",this.safeString(b,"balance"));const v=Object.keys(a);for(let e=0;e<v.length;e++){const t=v[e];void 0===this.safeValue(a[t],"used")&&(a[t].used="0")}return a.timestamp=n,a.datetime=this.iso8601(n),this.parseBalance(a)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={sender:await this.getWavesAddress(),amountAsset:s.baseId,priceAsset:s.quoteId},n=await this.publicGetTransactionsExchange(a),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={amountAsset:s.baseId,priceAsset:s.quoteId};void 0!==i&&(a.limit=i),void 0!==t&&(a.timeStart=t);const n=await this.publicGetTransactionsExchange(a),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}parseTrade(e,t){const i=this.safeValue(e,"data"),r=this.safeString(i,"timestamp"),s=this.parse8601(r),a=this.safeString(i,"id"),n=this.safeString(i,"price"),o=this.safeString(i,"amount"),c=this.parseNumber(n),h=this.parseNumber(o),d=this.parseNumber(m.stringMul(n,o)),u=this.safeValue(i,"order1"),l=this.safeValue(i,"order2");let f,p;f=this.safeString(u,"senderPublicKey")===this.apiKey?u:l;const g=this.safeValue(f,"assetPair");void 0!==g?p=this.getSymbolFromAssetPair(g):void 0!==t&&(p=t.symbol);const y=this.safeString(f,"orderType");return{info:e,timestamp:s,datetime:r,symbol:p,id:a,order:this.safeString(f,"id"),type:void 0,side:y,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:{cost:this.safeNumber(f,"matcherFee"),currency:this.safeCurrencyCode(this.safeString(f,"matcherFeeAssetId","WAVES"))}}}handleErrors(e,t,i,r,s,a,n,o,c){const d=this.safeString(n,"error"),u=this.safeValue(n,"success",!0),l=this.safeValue(this.exceptions,d);if(void 0!==l){const e=this.safeString(n,"message");throw new l(this.id+" "+e)}if("Validation Error"===this.safeString(n,"message"))throw new p(this.id+" "+a);if(!u)throw new h(this.id+" "+a)}async withdraw(e,t,i,r,s={}){if([r,s]=this.handleWithdrawTagAndParams(r,s),"WAVES"!==e){const t=await this.privateGetWithdrawCurrencies(),i={},r=this.safeValue(t,"items",[]);for(let e=0;e<r.length;e++){const t=r[e];i[this.safeString(t,"id")]=!0}if(!(e in i)){const t=Object.keys(i);throw new h(this.id+" fetch "+e+" withdrawals are not supported. Currency code must be one of "+t.toString())}}await this.loadMarkets();const a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n={};for(let e=0;e<a.length;e++)n[a[e]]=!0;let o=!0;const c=this.remove0xPrefix(i).toLowerCase();for(let e=0;e<c.length;e++)if(!(c[e]in n)){o=!1;break}let d;if(await this.signIn(),"WAVES"!==e||o){const r={address:i,currency:e},s=await this.privateGetWithdrawAddressesCurrencyAddress(r),a=this.safeValue(s,"currency"),n=this.safeValue(a,"allowed_amount"),o=this.safeNumber(n,"min");if(t<=o)throw new p(this.id+" "+e+" withdraw failed, amount "+t.toString()+" must be greater than the minimum allowed amount of "+o.toString());const c=this.safeValue(s,"proxy_addresses",[]);d=this.safeString(c,0)}else d=i;const u=this.safeInteger(this.options,"withdrawFeeWAVES",1e5),l="WAVES",f=this.currencyToPrecision(e,t),m=this.currency(e),g=this.milliseconds(),y=[this.numberToBE(4,1),this.numberToBE(2,1),this.base58ToBinary(this.apiKey),this.getAssetBytes(m.id),this.getAssetBytes(l),this.numberToBE(g,8),this.numberToBE(f,8),this.numberToBE(u,8),this.base58ToBinary(d),this.numberToBE(0,2)],b=this.binaryConcatArray(y),v=this.binaryToBase16(this.base58ToBinary(this.secret)),w=this.eddsa(this.binaryToBase16(b),v,"ed25519"),k={senderPublicKey:this.apiKey,amount:f,fee:u,type:4,version:2,attachment:"",feeAssetId:this.getAssetId(l),proofs:[w],assetId:this.getAssetId(m.id),recipient:d,timestamp:g,signature:w};return await this.nodePostTransactionsBroadcast(k)}}},70390:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeNotAvailable:s,ExchangeError:a,DDoSProtection:n,BadSymbol:o}=i(73449),c=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"whitebit",name:"WhiteBit",version:"v2",countries:["EE"],rateLimit:500,has:{cancelOrder:void 0,CORS:void 0,createDepositAddress:void 0,createLimitOrder:void 0,createMarketOrder:void 0,createOrder:void 0,deposit:void 0,editOrder:void 0,fetchBalance:void 0,fetchBidsAsks:void 0,fetchCurrencies:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,privateAPI:void 0,publicAPI:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/66732963-8eb7dd00-ee66-11e9-849b-10d9282bb9e0.jpg",api:{web:"https://whitebit.com/",publicV2:"https://whitebit.com/api/v2/public",publicV1:"https://whitebit.com/api/v1/public"},www:"https://www.whitebit.com",doc:"https://documenter.getpostman.com/view/7473075/Szzj8dgv?version=latest",fees:"https://whitebit.com/fee-schedule",referral:"https://whitebit.com/referral/d9bdf40e-28f2-4b52-b2f9-cd1415d82963"},api:{web:{get:["v1/healthcheck"]},publicV1:{get:["markets","tickers","ticker","symbols","depth/result","history","kline"]},publicV2:{get:["markets","ticker","assets","fee","depth/{market}","trades/{market}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0.001")}},options:{fetchTradesMethod:"fetchTradesV1"},exceptions:{exact:{503:s},broad:{"Market is not available":o}}})}async fetchMarkets(e={}){const t=await this.publicV2GetMarkets(e),i=this.safeValue(t,"result"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"name"),a=this.safeString(t,"stock"),n=this.safeString(t,"money"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),h={id:s,symbol:o+"/"+c,base:o,quote:c,baseId:a,quoteId:n,info:t,type:"spot",spot:!0,active:this.safeValue(t,"tradesEnabled"),precision:{amount:this.safeInteger(t,"stockPrec"),price:this.safeInteger(t,"moneyPrec")},limits:{amount:{min:this.safeNumber(t,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(t,"minTotal"),max:void 0}}};r.push(h)}return r}async fetchCurrencies(e={}){const t=await this.publicV2GetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e],a=i[t],n=this.safeValue(a,"canDeposit",!0),o=this.safeValue(a,"canWithdraw",!0),c=n&&o,h=this.safeCurrencyCode(t);s[h]={id:t,code:h,info:a,name:void 0,active:c,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(a,"minWithdrawal"),max:this.safeNumber(a,"maxWithdrawal")}}}}return s}async fetchTradingFees(e={}){const t=await this.publicV2GetFee(e),i=this.safeValue(t,"result");return{maker:this.safeNumber(i,"makerFee"),taker:this.safeNumber(i,"takerFee")}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicV1GetTicker(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseTicker(a,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"at",this.milliseconds());let r;e=this.safeValue(e,"ticker",e),void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last"),a=this.safeNumber(e,"change");let n;return void 0!==a&&(n=this.numberToString(.01*a)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeNumber(e,"open"),close:s,last:s,previousClose:void 0,change:n,percentage:a,average:void 0,baseVolume:this.safeNumber(e,"volume"),quoteVolume:this.safeNumber(e,"deal"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicV1GetTickers(t),r=this.safeValue(i,"result"),s=Object.keys(r),a={};for(let e=0;e<s.length;e++){const t=s[e],i=this.safeMarket(t),n=this.parseTicker(r[t],i);a[n.symbol]=n}return this.filterByArray(a,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicV2GetDepthMarket(this.extend(r,i)),a=this.safeValue(s,"result",{}),n=this.parse8601(this.safeString(a,"lastUpdateTimestamp"));return this.parseOrderBook(a,e,n)}async fetchTradesV1(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id,lastId:1};void 0!==i&&(a.limit=i);const n=await this.publicV1GetHistory(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTradesV2(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicV2GetTradesMarket(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){const s=this.safeString(this.options,"fetchTradesMethod","fetchTradesV2");return await this[s](e,t,i,r)}parseTrade(e,t){let i=this.safeValue(e,"time");i="string"==typeof i?this.parse8601(i):parseInt(1e3*i);const r=this.safeString(e,"price"),s=this.safeString2(e,"amount","volume"),a=this.parseNumber(c.stringMul(r,s)),n=this.parseNumber(r),o=this.parseNumber(s),h=this.safeString2(e,"id","tradeId");let d,u=this.safeString(e,"type");return void 0===u&&(u=this.safeValue(e,"isBuyerMaker")?"buy":"sell"),void 0!==t&&(d=t.symbol),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,id:h,order:void 0,type:void 0,takerOrMaker:void 0,side:u,price:n,amount:o,cost:a,fee:void 0}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,interval:this.timeframes[t]};if(void 0!==i){const e=1440;void 0===r&&(r=e),r=Math.min(r,e);const s=parseInt(i/1e3),a=this.parseTimeframe(t),o=this.sum(s,a*r);n.start=s,n.end=o}void 0!==r&&(n.limit=r);const o=await this.publicV1GetKline(this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,a,t,i,r)}parseOHLCV(e,t){return[this.safeTimestamp(e,0),this.safeNumber(e,1),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,2),this.safeNumber(e,5)]}async fetchStatus(e={}){const t=await this.webGetV1Healthcheck(e);let i="ok";return 503===this.safeInteger(t,"status")&&(i="maintenance"),this.status=this.extend(this.status,{status:i,updated:this.milliseconds()}),this.status}sign(e,t="publicV1",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.urls.api[t]+"/"+this.implodeParams(e,r);return Object.keys(n).length&&(o+="?"+this.urlencode(n)),{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,o,c,h,d){if(418===e||429===e)throw new n(this.id+" "+e.toString()+" "+t+" "+o);if(404===e)throw new a(this.id+" "+e.toString()+" endpoint not found");if(void 0!==c&&!this.safeValue(c,"success")){const e=this.id+" "+o,t=this.safeString(c,"status");throw"string"==typeof t&&this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,o,e),new a(e)}}}},29741:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,InsufficientFunds:o,InvalidAddress:c,BadSymbol:h,InvalidOrder:d}=i(73449),u=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"xena",name:"Xena Exchange",countries:["VC","UK"],rateLimit:100,has:{cancelAllOrders:!0,cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createOrder:!0,editOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/51840849/87489843-bb469280-c64c-11ea-91aa-69c6326506af.jpg",test:{public:"https://trading.demo.xena.io/api",private:"https://api.demo.xena.io"},api:{public:"https://trading.xena.exchange/api",private:"https://api.xena.exchange"},www:"https://xena.exchange",doc:"https://support.xena.exchange/support/solutions/44000808700",fees:"https://trading.xena.exchange/en/platform-specification/fee-schedule"},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["common/currencies","common/instruments","common/features","common/commissions","common/news","market-data/candles/{marketId}/{timeframe}","market-data/market-watch","market-data/dom/{symbol}","market-data/candles/{symbol}/{timeframe}","market-data/trades/{symbol}","market-data/server-time","market-data/v2/candles/{symbol}/{timeframe}","market-data/v2/trades/{symbol}","market-data/v2/dom/{symbol}/","market-data/v2/server-time"]},private:{get:["trading/accounts/{accountId}/order","trading/accounts/{accountId}/active-orders","trading/accounts/{accountId}/last-order-statuses","trading/accounts/{accountId}/positions","trading/accounts/{accountId}/positions-history","trading/accounts/{accountId}/margin-requirements","trading/accounts","trading/accounts/{accountId}/balance","trading/accounts/{accountId}/trade-history","transfers/accounts","transfers/accounts/{accountId}","transfers/accounts/{accountId}/deposit-address/{currency}","transfers/accounts/{accountId}/deposits","transfers/accounts/{accountId}/trusted-addresses","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/balance-history"],post:["trading/order/new","trading/order/heartbeat","trading/order/cancel","trading/order/mass-cancel","trading/order/replace","trading/position/maintenance","transfers/accounts/{accountId}/withdrawals","transfers/accounts/{accountId}/deposit-address/{currency}"]}},fees:{trading:{maker:5e-4,taker:.001,tierBased:!0,percentage:!0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Validation failed":n,"Unknown derivative symbol":h,"Unknown account":n,"Wrong TransactTime":n,"ClOrdId is empty":n},broad:{"Invalid aggregation ratio or depth":n,address:c,"Money not enough":o,"parse error":n,"Not enough":o}},options:{defaultType:"margin",accountId:void 0}})}async fetchTime(e={}){const t=await this.publicGetMarketDataV2ServerTime(e),i=this.safeInteger(t,"transactTime");return parseInt(i/1e6)}async fetchMarkets(e={}){const t=await this.publicGetCommonInstruments(e),i=[];for(let e=0;e<t.length;e++){const r=t[e];let s=this.safeStringLower(r,"type");const a=this.safeString(r,"symbol"),n=this.safeString(r,"id"),o=this.safeString(r,"marginType"),c=this.safeString(r,"baseCurrency"),h=this.safeString(r,"quoteCurrency"),d=this.safeCurrencyCode(c),u=this.safeCurrencyCode(h);let l=a;"margin"===s&&("XenaFuture"===o?s="future":"XenaListedPerpetual"===o&&(s="swap",l=d+"/"+u));const f="future"===s,p="swap"===s,m={price:this.safeInteger2(r,"tickSize","pricePrecision"),amount:0},g=this.safeNumber(r,"maxOrderQty"),y={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(r,"minOrderQuantity"),max:g}},b=this.safeValue(r,"enabled",!1),v=this.safeValue(r,"inverse",!1);i.push({id:a,symbol:l,base:d,quote:u,baseId:c,quoteId:h,numericId:n,active:b,type:s,spot:!1,future:f,swap:p,inverse:v,precision:m,limits:y,info:r})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCommonCurrencies(e),i=Object.keys(t),r={};for(let e=0;e<i.length;e++){const s=i[e],a=t[s],n=this.safeCurrencyCode(s),o=this.safeString(a,"title"),c=this.safeInteger(a,"precision"),h=!0===this.safeValue(a,"enabled"),d=this.safeValue(a,"withdraw",{});r[n]={id:s,code:n,info:a,name:o,active:h,fee:this.safeNumber(d,"commission"),precision:c,limits:{amount:{min:void 0,max:void 0},withdraw:{min:this.safeNumber(d,"minAmount"),max:void 0}}}}return r}parseTicker(e,t){const i=this.milliseconds(),r=this.safeString(e,"symbol"),s=this.safeSymbol(r,t),a=this.safeNumber(e,"lastPx"),n=this.safeNumber(e,"firstPx"),o=this.safeNumber(e,"buyVolume"),c=this.safeNumber(e,"sellVolume"),h=this.sum(o,c);return this.safeTicker({symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"highPx"),low:this.safeNumber(e,"lowPx"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:h,quoteVolume:void 0,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(void 0,t);if(e in i)return i[e];throw new h(this.id+" fetchTicker could not find a ticker with symbol "+e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataMarketWatch(t),r={};for(let e=0;e<i.length;e++){const t=this.parseTicker(i[e]);r[t.symbol]=t}return this.filterByArray(r,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetMarketDataV2DomSymbol(this.extend(r,i)),a=this.safeValue(s,"mdEntry",[]),n=this.groupBy(a,"mdEntryType"),o=this.safeInteger(s,"lastUpdateTime"),c=parseInt(o/1e6);return this.parseOrderBook(n,e,c,"0","1","mdEntryPx","mdEntrySize")}async fetchAccounts(e={}){const t=await this.privateGetTradingAccounts(e),i=this.safeValue(t,"accounts"),r=[];for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"id"),a=this.safeString(t,"currency"),n=this.safeCurrencyCode(a),o=this.safeStringLower(t,"kind");r.push({id:s,type:o,currency:n,info:t})}return r}async findAccountByType(e){await this.loadMarkets(),await this.loadAccounts();const t=this.groupBy(this.accounts,"type"),i=this.safeValue(t,e);if(void 0===i)throw new s(this.id+" findAccountByType() could not find an accountId with type '"+e+"', specify the 'accountId' parameter instead");if(i.length>1)throw new s(this.id+" findAccountByType() found more than one accountId with type '"+e+"', specify the 'accountId' parameter instead");return i[0]}async getAccountId(e){await this.loadMarkets(),await this.loadAccounts();const t=this.safeString(this.options,"accountId"),i=this.safeString(e,"accountId",t);if(void 0!==i)return i;const r=this.safeString(this.options,"defaultType","margin"),s=this.safeString(e,"type",r);if(e=this.omit(e,"type"),void 0===s)throw new a(this.id+" requires an 'accountId' parameter or a 'type' parameter ('spot' or 'margin')");return(await this.findAccountByType(s)).id}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t={accountId:await this.getAccountId(e)},i=await this.privateGetTradingAccountsAccountIdBalance(this.extend(t,e)),r={info:i};let s;const a=this.safeValue(i,"balances",[]);for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"lastUpdateTime").slice(0,13),n=parseInt(i);s=void 0===s?n:Math.max(s,n);const o=this.safeString(t,"currency"),c=this.safeCurrencyCode(o),h=this.account();h.free=this.safeString(t,"available"),h.used=this.safeString(t,"onHold"),r[c]=h}return r.timestamp=s,r.datetime=this.iso8601(s),this.parseBalance(r)}parseTrade(e,t){const i=this.safeString(e,"tradeId");let r=this.safeInteger(e,"transactTime");void 0!==r&&(r=parseInt(r/1e6));let s=this.safeStringLower2(e,"side","aggressorSide");"1"===s?s="buy":"2"===s&&(s="sell");const a=this.safeString(e,"orderId"),n=this.safeString(e,"symbol"),o=this.safeSymbol(n,t),c=this.safeString2(e,"lastPx","mdEntryPx"),h=this.safeString2(e,"lastQty","mdEntrySize"),d=this.parseNumber(c),l=this.parseNumber(h),f=this.parseNumber(u.stringMul(c,h));let p;const m=this.safeNumber(e,"commission");if(void 0!==m){const t=this.safeString(e,"commCurrency"),i=this.safeCurrencyCode(t);p={cost:m,rate:this.safeNumber(e,"commRate"),currency:i}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,order:a,side:s,takerOrMaker:void 0,price:d,amount:l,cost:f,fee:p}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s={accountId:await this.getAccountId(r)};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==t&&(s.from=1e6*t),void 0!==i&&(s.limit=i);const n=await this.privateGetTradingAccountsAccountIdTradeHistory(this.extend(s,r));return this.parseTrades(n,a,t,i)}parseOHLCV(e,t){const i=this.safeInteger(e,"transactTime"),r=parseInt(i/1e6),s=this.safeNumber(e,"buyVolume"),a=this.safeNumber(e,"sellVolume"),n=this.sum(s,a);return[r,this.safeNumber(e,"firstPx"),this.safeNumber(e,"highPx"),this.safeNumber(e,"lowPx"),this.safeNumber(e,"lastPx"),n]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,timeframe:this.timeframes[t]},o=1e3*this.parseTimeframe(t);if(void 0!==i)n.from=1e6*i,void 0!==r&&(n.to=1e6*this.sum(i,r*o));else{const e=this.milliseconds();void 0!==r&&(n.from=1e6*(e-r*o))}const c=await this.publicGetMarketDataV2CandlesSymbolTimeframe(this.extend(n,s)),h=this.safeValue(c,"mdEntry",[]);return this.parseOHLCVs(h,a,t,i,r)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.from=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.publicGetMarketDataV2TradesSymbol(this.extend(a,r)),o=this.safeValue(n,"mdEntry",[]);return this.parseTrades(o,s,t,i)}parseOrderStatus(e){return this.safeString({A:"open",0:"open",1:"open",2:"closed",6:"canceled",4:"canceled",E:"open",8:"rejected"},e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeString(e,"clOrdId"),s=this.safeInteger(e,"transactTime"),a=parseInt(s/1e6),n=this.parseOrderStatus(this.safeString(e,"ordStatus")),o=this.safeString(e,"symbol"),c=this.safeSymbol(o,t),h=this.safeString(e,"price"),d=this.safeString(e,"orderQty"),u=this.safeString(e,"cumQty"),l=this.safeString(e,"leavesQty");let f=this.safeString(e,"side");"1"===f?f="buy":"2"===f&&(f="sell");let p=this.safeString(e,"ordType");return"1"===p?p="market":"2"===p?p="limit":"3"===p?p="stop":"4"===p&&(p="stop-limit"),this.safeOrder2({id:i,clientOrderId:r,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:c,type:p,timeInForce:void 0,postOnly:void 0,side:f,price:h,stopPrice:void 0,amount:d,cost:void 0,average:void 0,filled:u,remaining:l,status:n,fee:void 0,trades:void 0},t)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=await this.getAccountId(a),o=this.safeString({market:"1",limit:"2",stop:"3","stop-limit":"4"},t);if(void 0===o)throw new d(this.id+" createOrder does not support order type "+t+", supported order types are market, limit, stop, stop-limit");const c=this.safeString({buy:"1",sell:"2"},i);if(void 0===c)throw new d(this.id+" createOrder does not support order side "+i+", supported order sides are buy, sell");const h=this.market(e),u={account:parseInt(n),symbol:h.id,ordType:o,side:c,orderQty:this.amountToPrecision(e,r),transactTime:1e6*this.milliseconds()};if("limit"===t||"stop-limit"===t){if(void 0===s)throw new d(this.id+" createOrder() requires a price argument for order type "+t);u.price=this.priceToPrecision(e,s)}if("stop"===t||"stop-limit"===t){const i=this.safeNumber(a,"stopPx");if(void 0===i)throw new d(this.id+" createOrder() requires a stopPx param for order type "+t);u.stopPx=this.priceToPrecision(e,i),a=this.omit(a,"stopPx")}const l=this.safeString2(a,"clientOrderId","clOrdId",this.uuid());void 0!==l&&(u.clOrdId=l,a=this.omit(a,["clientOrderId","clOrdId"]));const f=await this.privatePostTradingOrderNew(this.extend(u,a));return this.parseOrder(f,h)}async editOrder(e,t,i,r,s,n,o={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const c=await this.getAccountId(o),h=this.market(t),d={account:parseInt(c),clOrdId:this.uuid(),symbol:h.id,transactTime:1e6*this.milliseconds()},u=this.safeString2(o,"clientOrderId","origClOrdId");void 0!==u?(d.origClOrdId=u,o=this.omit(o,["clientOrderId","origClOrdId"])):d.orderId=e,void 0!==s&&(d.orderQty=this.amountToPrecision(t,s)),void 0!==n&&(d.price=this.priceToPrecision(t,n));const l=this.safeNumber(o,"stopPx");void 0!==l&&(d.stopPx=this.priceToPrecision(t,l),o=this.omit(o,"stopPx"));const f=this.safeNumber(o,"capPrice");void 0!==f&&(d.capPrice=this.priceToPrecision(t,f),o=this.omit(o,"capPrice"));const p=await this.privatePostTradingOrderReplace(this.extend(d,o));return this.parseOrder(p,h)}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const r=await this.getAccountId(i),s=this.safeString2(i,"clientOrderId","origClOrdId");i=this.omit(i,["clientOrderId","origClOrdId"]);const n=this.market(t),o={account:parseInt(r),symbol:n.id,clOrdId:this.uuid(),transactTime:1e6*this.milliseconds()};void 0!==s?o.origClOrdId=s:o.orderId=e;const c=await this.privatePostTradingOrderCancel(this.extend(o,i));return this.parseOrder(c,n)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=await this.getAccountId(t),r={account:parseInt(i),clOrdId:this.uuid()};if(void 0!==e){const t=this.market(e);r.symbol=t.id,r.massCancelRequestType="1"}else r.massCancelRequestType="7";return await this.privatePostTradingOrderMassCancel(this.extend(r,t))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s={accountId:await this.getAccountId(r)};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id);const n=await this.privateGetTradingAccountsAccountIdActiveOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s={accountId:await this.getAccountId(r)};let a;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==t&&(s.from=1e6*this.iso8601(t)),void 0!==i&&(s.limit=i);const n=await this.privateGetTradingAccountsAccountIdLastOrderStatuses(this.extend(s,r));return this.parseOrders(n,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i={accountId:await this.getAccountId(t),currency:this.currency(e).id},r=await this.privatePostTransfersAccountsAccountIdDepositAddressCurrency(this.extend(i,t)),s=this.safeValue(r,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i={accountId:await this.getAccountId(t),currency:this.currency(e).id},r=await this.privateGetTransfersAccountsAccountIdDepositAddressCurrency(this.extend(i,t)),s=this.safeValue(r,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,network:void 0,info:r}}async fetchTransactionsByType(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets(),await this.loadAccounts();const n=await this.getAccountId(s),o=this.currency(t),c={currency:o.id,accountId:n};void 0!==i&&(c.since=parseInt(i/1e3));const h="privateGetTransfersAccountsAccountId"+this.capitalize(e),d=await this[h](this.extend(c,s)),u=this.safeValue(d,e,[]);return this.parseTransactions(u,o,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdrawals",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposits",e,t,i,r)}parseTransaction(e,t){const i=this.safeString(e,"withdrawalRequestId"),r=void 0===i?"deposit":"withdrawal";let s=this.safeInteger(e,"lastUpdated");void 0!==s&&(s=parseInt(s/1e6));const a=void 0,n=this.safeString(e,"txId"),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),h=this.safeString(e,"address"),d=h,u=this.safeNumber(e,"amount"),l=this.parseTransactionStatus(this.safeString(e,"status"));return{info:e,id:i,txid:n,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,addressTo:d,address:h,tagFrom:void 0,tagTo:void 0,tag:void 0,type:r,amount:u,currency:c,status:l,updated:s,fee:void 0}}parseTransactionStatus(e){return this.safeString({1:"pending",2:"ok",3:"failed",4:"failed",5:"pending",100:"pending",101:"pending",102:"pending",103:"pending"},e,e)}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets(),await this.loadAccounts();const a=await this.getAccountId(s),n=this.currency(e);let o=this.uuid();o=o.split("-"),o=o.join("");const c={currency:n.id,accountId:a,amount:this.currencyToPrecision(e,t),address:i,id:o},h=await this.privatePostTransfersAccountsAccountIdWithdrawals(this.extend(c,s));return this.parseTransaction(h,n)}parseLedgerEntryType(e){return this.safeString({deposit:"transaction",withdrawal:"transaction","internal deposit":"transfer","internal withdrawal":"transfer",rebate:"rebate",reward:"reward"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r;const s=this.safeString(e,"accountId"),a=this.parseLedgerEntryType(this.safeString(e,"kind")),n=this.safeCurrencyCode(this.safeString(e,"currency"),t);let o=this.safeNumber(e,"amount");o<0?(r="out",o=Math.abs(o)):r="in";let c=this.safeInteger(e,"ts");void 0!==c&&(c=parseInt(c/1e6));const h={cost:this.safeNumber(e,"commission"),currency:n};return{info:e,id:i,direction:r,account:s,referenceId:void 0,referenceAccount:void 0,type:a,currency:n,amount:o,before:void 0,after:this.safeNumber(e,"balance"),status:"ok",timestamp:c,datetime:this.iso8601(c),fee:h}}async fetchLedger(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();const s={accountId:await this.getAccountId(r)};let a;void 0!==e&&(a=this.currency(e),s.symbol=a.id),void 0!==t&&(s.from=1e6*t),void 0!==i&&(s.limit=i);const n=await this.privateGetTransfersAccountsAccountIdBalanceHistory(this.extend(s,r));return this.parseLedger(n,a,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();let e=this.nonce();e=e.toString(),e+="000000";const t="AUTH"+e,r=this.secret.slice(14,78),c=this.ecdsa(t,r,"p256","sha256"),h=c.r+c.s;s={"X-AUTH-API-KEY":this.apiKey,"X-AUTH-API-PAYLOAD":t,"X-AUTH-API-SIGNATURE":h,"X-AUTH-API-NONCE":e},"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"POST"===i&&(a=this.json(o),s["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&e>=400){const e=this.id+" "+this.json(o),t=this.safeString(o,"error"),i=this.exceptions.exact;if(t in i)throw new i[t](e);const r=this.exceptions.broad,a=this.findBroadlyMatchedKey(r,n);if(void 0!==a)throw new r[a](e);throw new s(e)}}}},65927:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InvalidNonce:o,InsufficientFunds:c,OrderNotFound:h,DDoSProtection:d,InvalidOrder:u,AuthenticationError:l,RateLimitExceeded:f}=i(73449),p=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{cancelOrder:!0,CORS:void 0,createDepositAddress:!0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchDepositAddress:!0,fetchDeposits:void 0,fetchMarkets:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTransactions:void 0,fetchWithdrawals:void 0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BITS:"Bitstar",BLN:"Bulleon",BNS:"Benefit Bonus Coin",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BST:"BitStone",BTS:"Bitshares2",CAT:"BitClave",CBC:"CryptoBossCoin",CMT:"CometCoin",COIN:"Coin.com",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CREDIT:"Creditbit",CS:"CryptoSpots",DCT:"Discount",DFT:"DraftCoin",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",DSH:"DASH",EGG:"EggCoin",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUND:"FUNDChains",FUNK:"FUNKCoin",FX:"FCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",GSX:"GlowShares",GT:"GTcoin",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",JWL:"Jewels",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",LUNA:"Luna Coin",MASK:"Yobit MASK",MDT:"Midnight",MIS:"MIScoin",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",ONX:"Onix",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PutinCoin",SPACE:"Spacecoin",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RAI:"RaiderCoin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",SBTC:"Super Bitcoin",SOLO:"SoloCoin",SUPER:"SuperCoin",TTC:"TittieCoin",UNI:"Universe",UST:"Uservice",VOL:"VolumeCoin",XIN:"XINCoin",XMT:"SummitCoin",XRA:"Ratecoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512},exceptions:{exact:{803:u,804:u,805:u,806:u,807:u,831:c,832:c,833:h},broad:{"Invalid pair name":s,"invalid api key":l,"invalid sign":l,"api key dont have trade permission":l,"invalid parameter":u,"invalid order":u,"The given order has already been cancelled":u,"Requests too often":d,"not available":n,"data unavailable":n,"external service unavailable":n,"Total transaction amount":u,"The given order has already been closed and cannot be cancelled":u,"Insufficient funds":c,"invalid key":l,"invalid nonce":o,"Total order amount is less than minimal amount":u,"Rate Limited":f}},orders:{}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeInteger(i,"server_time"),s={info:t,timestamp:r,datetime:this.iso8601(r)},a=this.safeValue(i,"funds",{}),n=this.safeValue(i,"funds_incl_orders",{}),o=Object.keys(this.extend(a,n));for(let e=0;e<o.length;e++){const t=o[e],i=this.safeCurrencyCode(t),r=this.account();r.free=this.safeString(a,t),r.total=this.safeString(n,t),s[i]=r}return this.parseBalance(s)}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=this.safeValue(t,"pairs"),r=Object.keys(i),s=[];for(let e=0;e<r.length;e++){const t=r[e],a=i[t],[n,o]=t.split("_");let c=n.toUpperCase(),h=o.toUpperCase();c=this.safeCurrencyCode(c),h=this.safeCurrencyCode(h);const d=c+"/"+h,u={amount:this.safeInteger(a,"decimal_places"),price:this.safeInteger(a,"decimal_places")},l={amount:{min:this.safeNumber(a,"min_amount"),max:this.safeNumber(a,"max_amount")},price:{min:this.safeNumber(a,"min_price"),max:this.safeNumber(a,"max_price")},cost:{min:this.safeNumber(a,"min_total")}},f=0===this.safeInteger(a,"hidden");let m=this.safeString(a,"fee");m=p.stringDiv(m,"100");const g=this.parseNumber(m),y=this.parseNumber(m);s.push({id:t,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:f,taker:g,maker:y,precision:u,limits:l,info:a})}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),a={pair:r.id};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i));if(!(r.id in n))throw new s(this.id+" "+r.symbol+" order book is empty or not available");const o=n[r.id];return this.parseOrderBook(o,e)}async fetchOrderBooks(e,t,i={}){let r;if(await this.loadMarkets(),void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const a={pair:r};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};r=Object.keys(n);for(let e=0;e<r.length;e++){const t=r[e],i=this.safeSymbol(t);o[i]=this.parseOrderBook(n[t],i)}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r;void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"avg"),baseVolume:this.safeNumber(e,"vol_cur"),quoteVolume:this.safeNumber(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;i=i.join("-");const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);if(i.length>this.options.fetchTickersMaxLength)throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),n={},o=Object.keys(s);for(let e=0;e<o.length;e++){const t=o[e],i=s[t],r=this.safeMarket(t);n[r.symbol]=this.parseTicker(i,r)}return this.filterByArray(n,"symbol",e)}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeString2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id"),o=this.safeString(e,"pair"),c=this.safeSymbol(o,t),h=this.safeString(e,"amount"),d=this.parseNumber(p.stringMul(s,h)),u=this.parseNumber(s),l=this.parseNumber(h),f="limit";let m;const g=this.safeNumber(e,"commission");if(void 0!==g){const t=this.safeString(e,"commissionCurrency");m={cost:g,currency:this.safeCurrencyCode(t)}}return void 0!==this.safeValue(e,"is_your_order")&&void 0===m&&(m=this.calculateFee(c,f,r,l,u,"taker")),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:c,type:f,side:r,takerOrMaker:void 0,price:u,amount:l,cost:d,fee:m,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTradesPair(this.extend(a,r));return Array.isArray(n)&&0===n.length?[]:this.parseTrades(n[s.id],s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o={pair:this.market(e).id,type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,a)},c=await this.privatePostTrade(this.extend(o,n));let h,d="open",u=0,l=r;"return"in c&&(h=this.safeString(c.return,"order_id"),"0"===h&&(h=this.safeString(c.return,"init_order_id"),d="closed"),u=this.safeNumber(c.return,"received",0),l=this.safeNumber(c.return,"remains",r));const f=this.milliseconds();return{id:h,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,status:d,symbol:e,type:t,side:i,price:a,cost:a*u,amount:r,remaining:l,filled:u,fee:void 0,info:c,clientOrderId:void 0,average:void 0,trades:void 0}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created"),a=this.safeString(e,"pair"),n=this.safeSymbol(a,t),o=this.safeString(e,"amount"),c=this.safeString(e,"start_amount"),h=this.safeString(e,"rate"),d=this.safeString(e,"type");return this.safeOrder2({info:e,id:i,clientOrderId:void 0,symbol:n,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",timeInForce:void 0,postOnly:void 0,side:d,price:h,stopPrice:void 0,cost:void 0,amount:c,remaining:o,filled:void 0,status:r,fee:void 0,average:void 0,trades:void 0},t)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const a=this.safeValue(s,"return",{});return this.parseOrder(this.extend({id:e},a[e]))}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s.pair=t.id}const n=await this.privatePostActiveOrders(this.extend(s,r)),o=this.safeValue(n,"return",[]);return this.parseOrders(o,void 0,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={pair:s.id};void 0!==i&&(n.count=parseInt(i)),void 0!==t&&(n.since=parseInt(t/1e3));const o=await this.privatePostTradeHistory(this.extend(n,r)),c=this.safeValue(o,"return",{}),h=Object.keys(c),d=[];for(let e=0;e<h.length;e++){const t=h[e],i=this.parseTrade(this.extend(c[t],{trade_id:t}),s);d.push(i)}return this.filterBySymbolSinceLimit(d,e,t,i)}async createDepositAddress(e,t={}){const i=await this.fetchDepositAddress(e,this.extend({need_new:1},t)),r=this.safeString(i,"address");return this.checkAddress(r),{currency:e,address:r,tag:void 0,info:i.info}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={coinName:this.currency(e).id,need_new:0},r=await this.privatePostGetDepositAddress(this.extend(i,t)),s=this.safeString(r.return,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,network:void 0,info:r}}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n={coinName:this.currency(e).id,amount:t,address:i};if(void 0!==r)throw new s(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");return{info:await this.privatePostWithdrawCoinsToAddress(this.extend(n,a)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.version+"/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"==typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}}},34422:(e,t,i)=>{"use strict";const r=i(48819),{ExchangeError:s,BadRequest:a}=i(73449),n=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchMarkets:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:this.parseNumber("0.001"),maker:this.parseNumber("0")}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},options:{fees:{"BTC/JPY":{maker:0,taker:0},"BCH/JPY":{maker:0,taker:.003},"BCH/BTC":{maker:0,taker:.003},"PEPECASH/JPY":{maker:0,taker:1e-4},"PEPECASH/BT":{maker:0,taker:1e-4}}},exceptions:{exact:{"unsupported currency_pair":a},broad:{}}})}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsAll(e),i=[];for(let e=0;e<t.length;e++){const r=t[e],s=this.safeString(r,"currency_pair"),a=this.safeString(r,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u={amount:-Math.log10(this.safeNumber(r,"item_unit_step")),price:this.safeInteger(r,"aux_unit_point")},l=this.safeValue(this.options.fees,d,this.fees.trading),f=l.taker,p=l.maker;i.push({id:s,symbol:d,base:c,quote:h,baseId:n,quoteId:o,type:"spot",spot:!0,active:!0,precision:u,taker:f,maker:p,limits:{amount:{min:this.safeNumber(r,"item_unit_min"),max:void 0},price:{min:this.safeNumber(r,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:r})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeValue(i,"deposit"),s={info:t,timestamp:void 0,datetime:void 0},a=this.safeValue(i,"funds",{}),n=Object.keys(a);for(let e=0;e<n.length;e++){const t=n[e],i=this.safeCurrencyCode(t),o=this.safeString(a,t),c=this.account();c.free=o,c.total=o,void 0!==r&&t in r&&(c.total=this.safeString(r,t)),s[i]=c}return this.parseBalance(s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetDepthPair(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.milliseconds(),a=this.safeNumber(r,"vwap"),n=this.safeNumber(r,"volume");let o;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeNumber(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeNumber(r,"high"),low:this.safeNumber(r,"low"),bid:this.safeNumber(r,"bid"),bidVolume:void 0,ask:this.safeNumber(r,"ask"),askVolume:void 0,vwap:a,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:r}}parseTrade(e,t){let i=this.safeString(e,"trade_type");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"date"),s=this.safeString2(e,"id","tid"),a=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.parseNumber(a),h=this.parseNumber(o),d=this.parseNumber(n.stringMul(a,o)),u=this.safeString(e,"currency_pair"),l=this.safeSymbol(u,t,"_");return{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};let n=await this.publicGetTradesPair(this.extend(a,r));if(1===n.length){const e=n[0];Object.keys(e).length||(n=[])}return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={currency_pair:this.marketId(e),action:"buy"===i?"bid":"ask",amount:r,price:a},c=await this.privatePostTrade(this.extend(o,n));return{info:c,id:c.return.order_id.toString()}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i=this.safeString(e,"action");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"currency_pair"),a=this.safeSymbol(s,t,"_"),n=this.safeString(e,"price"),o=this.safeString(e,"amount"),c=this.safeString(e,"id");return this.safeOrder2({id:c,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,cost:void 0,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:void 0,info:e,average:void 0},t)}async fetchOpenOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.currency_pair=s.id);const n=await this.privatePostActiveOrders(this.extend(a,r));return this.parseOrders(n.return,s,t,i)}async fetchClosedOrders(e,t,i,r={}){let s;await this.loadMarkets();const a={};void 0!==e&&(s=this.market(e),a.currency_pair=s.id);const n=await this.privatePostTradeHistory(this.extend(a,r));return this.parseOrders(n.return,s,t,i)}async withdraw(e,t,i,r,a={}){[r,a]=this.handleWithdrawTagAndParams(r,a),this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if("JPY"===e)throw new s(this.id+" withdraw() does not allow "+e+" withdrawals");const o={currency:n.id,amount:t,address:i};void 0!==r&&(o.message=r);const c=await this.privatePostWithdraw(this.extend(o,a));return{info:c,id:c.return.txid,fee:c.return.fee}}nonce(){return parseFloat(this.milliseconds()/1e3).toFixed(8)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/";if("public"===t)n+="api/"+this.version+"/"+this.implodeParams(e,r);else if("fapi"===t)n+="fapi/"+this.version+"/"+this.implodeParams(e,r);else{this.checkRequiredCredentials(),n+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";const i=this.nonce();a=this.urlencode(this.extend({method:e,nonce:i},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,h){if(void 0===o)return;const d=this.id+" "+n,u=this.safeString(o,"error");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions.exact,u,d),this.throwBroadlyMatchedException(this.exceptions.broad,u,d),new s(d);if(!this.safeValue(o,"success",!0))throw new s(d)}}},90927:(e,t,i)=>{"use strict";const r=i(48819),{BadRequest:s,ExchangeError:a,ArgumentsRequired:n,AuthenticationError:o,InsufficientFunds:c,OrderNotFound:h,ExchangeNotAvailable:d,RateLimitExceeded:u,PermissionDenied:l,InvalidOrder:f,InvalidAddress:p,OnMaintenance:m,RequestTimeout:g,AccountSuspended:y}=i(73449),b=i(6832);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zb",name:"ZB",countries:["CN"],rateLimit:100,version:"v1",certified:!0,pro:!0,has:{cancelOrder:!0,CORS:void 0,createMarketOrder:void 0,createOrder:!0,fetchBalance:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDepositAddresses:!0,fetchDeposits:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{ws:{1001:a,1002:a,1003:o,1004:o,1005:o,1006:l,1007:a,1009:m,1010:d,1012:l,1013:a,1014:a,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:h,3002:f,3003:f,3004:o,3005:s,3006:l,3007:g,3008:a,3009:f,3010:l,3011:f,3012:f,4001:y,4002:u},exact:{1001:a,1002:a,1003:o,1004:o,1005:o,1006:o,1009:d,1010:d,1012:l,1013:a,1014:a,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2008:c,2009:c,3001:h,3002:f,3003:f,3004:o,3005:s,3006:o,3007:o,3008:h,3009:f,3010:l,3011:f,3012:f,4001:d,4002:u},broad:{"":p}},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"https://api.zb.work/data",private:"https://trade.zb.work/api",trade:"https://trade.zb.work/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate",referral:{url:"https://www.zbex.club/en/register?ref=4301lera",discount:.16}},api:{trade:{get:["getFeeInfo"]},public:{get:["markets","ticker","allTicker","depth","trades","kline","getGroupMarkets"]},private:{get:["order","orderMoreV2","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getFinishedAndPartialOrders","getAccountInfo","getUserAddress","getPayinAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","addSubUser","getSubUserList","doTransferFunds","createSubUserKey","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","autoBorrow","repay","doAllRepay","getRepayments","getFinanceRecords","changeInvestMark","changeLoop","getCrossAssets","getCrossBills","transferInCross","transferOutCross","doCrossLoan","doCrossRepay","getCrossRepayRecords"]}},fees:{funding:{withdraw:{}},trading:{maker:.002,taker:.002}},commonCurrencies:{ANG:"Anagram",ENT:"ENTCash",BCHABC:"BCHABC",BCHSV:"BCHSV"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),r=[];for(let e=0;e<i.length;e++){const s=i[e],a=t[s],[n,o]=s.split("_"),c=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),d=c+"/"+h,u=this.safeString(a,"amountScale"),l=this.safeString(a,"priceScale"),f=this.parsePrecision(l),p={amount:parseInt(u),price:parseInt(l)};r.push({id:s,symbol:d,baseId:n,quoteId:o,base:c,quote:h,type:"spot",spot:!0,active:!0,precision:p,limits:{amount:{min:this.safeNumber(a,"minAmount"),max:void 0},price:{min:this.parseNumber(f),max:void 0},cost:{min:this.safeNumber(a,"minSize"),max:void 0}},info:a})}return r}async fetchCurrencies(e={}){const t=await this.tradeGetGetFeeInfo(e),i=this.safeValue(t,"result",{}),r=Object.keys(i),s={};for(let e=0;e<r.length;e++){const t=r[e],a=i[t],n=this.safeCurrencyCode(t),o=void 0;let c=!0,h=!0;const d={};for(let e=0;e<a.length;e++){const t=a[e],i=this.safeString(t,"chainName"),r=this.safeNumber(t,"fee"),s=this.safeValue(t,"canDeposit"),n=this.safeValue(t,"canWithdraw");h=h||s,c=c||n,d[i]=r}const u=c&&h;s[n]={id:t,name:void 0,code:n,precision:o,info:a,active:u,fee:void 0,fees:d,limits:this.limits}}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetAccountInfo(e),i=this.safeValue(t.result,"coins"),r={info:t,timestamp:void 0,datetime:void 0};for(let e=0;e<i.length;e++){const t=i[e],s=this.account(),a=this.safeString(t,"key"),n=this.safeCurrencyCode(a);s.free=this.safeString(t,"available"),s.used=this.safeString(t,"freez"),r[n]=s}return this.parseBalance(r)}parseDepositAddress(e,t){let i,r=this.safeString2(e,"key","address");const s=this.safeString(e,"memo");if(void 0!==s)i=s;else if(r.indexOf("_")>=0){const e=r.split("_");r=e[0],i=e[1]}const a=this.safeString(e,"blockChain");return{currency:this.safeCurrencyCode(a,t),address:r,tag:i,network:void 0,info:e}}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetGetPayinAddress(t),r=this.safeValue(i,"message",{}),s=this.safeValue(r,"datas",[]);return this.parseDepositAddresses(s,e)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privateGetGetUserAddress(this.extend(r,t)),a=this.safeValue(s,"message",{}),n=this.safeValue(a,"datas",{});return this.parseDepositAddress(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.size=t);const s=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(s,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetAllTicker(t),r={},s={},a=Object.keys(this.markets_by_id);for(let e=0;e<a.length;e++)s[a[e].replace("_","")]=this.markets_by_id[a[e]];const n=Object.keys(i);for(let e=0;e<n.length;e++){const t=s[n[e]];r[t.symbol]=this.parseTicker(i[n[e]],t)}return this.filterByArray(r,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTicker(this.extend(r,t)),a=this.safeValue(s,"ticker",{});return a.date=this.safeValue(s,"date"),this.parseTicker(a,i)}parseTicker(e,t){const i=this.safeInteger(e,"date",this.milliseconds());let r;void 0!==t&&(r=t.symbol);const s=this.safeNumber(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeNumber(e,"high"),low:this.safeNumber(e,"low"),bid:this.safeNumber(e,"buy"),bidVolume:void 0,ask:this.safeNumber(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeNumber(e,"vol"),quoteVolume:void 0,info:e}}parseOHLCV(e,t){return[this.safeInteger(e,0),this.safeNumber(e,1),this.safeNumber(e,2),this.safeNumber(e,3),this.safeNumber(e,4),this.safeNumber(e,5)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=1e3);const n={market:a.id,type:this.timeframes[t],limit:r};void 0!==i&&(n.since=i);const o=await this.publicGetKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=this.safeString(e,"trade_type");r="bid"===r?"buy":"sell";const s=this.safeString(e,"tid"),a=this.safeString(e,"price"),n=this.safeString(e,"amount"),o=b.stringMul(a,n),c=this.parseNumber(a),h=this.parseNumber(n),d=this.parseNumber(o);let u;return void 0!==t&&(u=t.symbol),{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:u,type:void 0,side:r,order:void 0,takerOrMaker:void 0,price:c,amount:h,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new f(this.id+" allows limit orders only");await this.loadMarkets();const n={price:this.priceToPrecision(e,s),amount:this.amountToPrecision(e,r),tradeType:"buy"===i?"1":"0",currency:this.marketId(e)},o=await this.privateGetOrder(this.extend(n,a));return{info:o,id:o.id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)};return await this.privateGetCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)},s=await this.privateGetGetOrder(this.extend(r,i));return this.parseOrder(s,void 0)}async fetchOrders(e,t,i=50,r={}){if(void 0===e)throw new n(this.id+"fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currency:s.id,pageIndex:1,pageSize:i};let o,c="privateGetGetOrdersIgnoreTradeType";"tradeType"in r&&(c="privateGetGetOrdersNew");try{o=await this[c](this.extend(a,r))}catch(e){if(e instanceof h)return[];throw e}return this.parseOrders(o,s,t,i)}async fetchClosedOrders(e,t,i=10,r={}){if(void 0===e)throw new n(this.id+"fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currency:s.id,pageIndex:1,pageSize:i},o=await this.privateGetGetFinishedAndPartialOrders(this.extend(a,r));return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i=10,r={}){if(void 0===e)throw new n(this.id+"fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={currency:s.id,pageIndex:1,pageSize:i};let o,c="privateGetGetUnfinishedOrdersIgnoreTradeType";"tradeType"in r&&(c="privateGetGetOrdersNew");try{o=await this[c](this.extend(a,r))}catch(e){if(e instanceof h)return[];throw e}return this.parseOrders(o,s,t,i)}parseOrder(e,t){let i=this.safeInteger(e,"type");i=1===i?"buy":"sell";const r=this.safeInteger(e,"trade_date"),s=this.safeString(e,"currency"),a=this.safeSymbol(s,t,"_"),n=this.safeString(e,"price"),o=this.safeString(e,"trade_amount"),c=this.safeString(e,"total_amount"),h=this.safeString(e,"trade_money"),d=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"id"),l=this.safeNumber(e,"fees");let f;if(void 0!==l){let r;!0===this.safeValue(e,"useZbFee")?r="ZB":void 0!==t&&(r="sell"===i?t.quote:t.base),f={cost:l,currency:r}}return this.safeOrder2({info:e,id:u,clientOrderId:void 0,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:"limit",timeInForce:void 0,postOnly:void 0,side:i,price:n,stopPrice:void 0,average:void 0,cost:h,amount:c,filled:o,remaining:void 0,status:d,fee:f,trades:void 0},t)}parseOrderStatus(e){return this.safeString({0:"open",1:"canceled",2:"closed",3:"open"},e,e)}parseTransactionStatus(e){return this.safeString({0:"pending",1:"failed",2:"ok",3:"canceled",5:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"hash"),s=this.safeNumber(e,"amount");let a=this.parse8601(this.safeString(e,"submit_time"));a=this.safeInteger(e,"submitTime",a);let n,o=this.safeString2(e,"toAddress","address");if(void 0!==o){const e=o.split("_");o=this.safeString(e,0),n=this.safeString(e,1)}const c=this.safeInteger(e,"confirmTimes"),h=this.safeInteger(e,"manageTime");let d;const u=this.safeString(e,"currency"),l=this.safeCurrencyCode(u,t);void 0!==o&&(d=void 0===c?"withdrawal":"deposit");const f=this.parseTransactionStatus(this.safeString(e,"status"));let p;const m=this.safeNumber(e,"fees");return void 0!==m&&(p={cost:m,currency:l}),{info:e,id:i,txid:r,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,address:o,addressTo:o,tagFrom:void 0,tag:n,tagTo:n,type:d,amount:s,currency:l,status:f,updated:h,fee:p}}async withdraw(e,t,i,r,s={}){[r,s]=this.handleWithdrawTagAndParams(r,s);const a=this.safeString(s,"safePwd",this.password);if(void 0===a)throw new n(this.id+" withdraw() requires exchange.password or a safePwd parameter");const o=this.safeNumber(s,"fees");if(void 0===o)throw new n(this.id+" withdraw() requires a fees parameter");this.checkAddress(i),await this.loadMarkets();const c=this.currency(e);void 0!==r&&(i+="_"+r);const h={amount:this.currencyToPrecision(e,t),currency:c.id,fees:this.currencyToPrecision(e,o),method:"withdraw",receiveAddr:i,safePwd:a},d=await this.privateGetWithdraw(this.extend(h,s)),u=this.parseTransaction(d,c);return this.extend(u,{type:"withdrawal",address:i,addressTo:i,amount:t})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);const n=await this.privateGetGetWithdrawRecord(this.extend(s,r)),o=this.safeValue(n,"message",{}),c=this.safeValue(o,"datas",{}),h=this.safeValue(c,"list",[]);return this.parseTransactions(h,a,t,i)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);const n=await this.privateGetGetChargeRecord(this.extend(s,r)),o=this.safeValue(n,"message",{}),c=this.safeValue(o,"datas",{}),h=this.safeValue(c,"list",[]);return this.parseTransactions(h,a,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];if("public"===t)n+="/"+this.version+"/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("trade"===t)n+="/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else{let t=this.keysort(this.extend({method:e,accesskey:this.apiKey},r));const i=this.nonce();t=this.keysort(t);const s=this.rawencode(t),a=this.hash(this.encode(this.secret),"sha1");n+="/"+e+"?"+s+"&sign="+this.hmac(this.encode(s),this.encode(a),"md5")+"&reqTime="+i.toString()}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,h){if(void 0!==o&&"{"===n[0]){const e=this.id+" "+n;if(this.throwBroadlyMatchedException(this.exceptions.broad,n,e),"code"in o){const t=this.safeString(o,"code");if(this.throwExactlyMatchedException(this.exceptions.exact,t,e),"1000"!==t)throw new a(e)}const t=this.safeValue(o,"result");if(void 0!==t&&!t)throw""===this.safeString(o,"message")?new d(e):new a(e)}}}},55492:(e,t,i)=>{"use strict";const r=i(61985);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zipmex",name:"Zipmex",countries:["AU","SG","TH","ID"],certified:!1,pro:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/146103275-c39a34d9-68a4-4cd2-b1f1-c684548d311b.jpg",test:void 0,api:{public:"https://apws.zipmex.com:8443/AP",private:"https://apws.zipmex.com:8443/AP"},www:"https://zipmex.com/",referral:"https://trade.zipmex.com/global/accounts/sign-up?aff=KLm7HyCsvN",fees:"https://zipmex.com/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:this.parseNumber("0.002"),maker:this.parseNumber("0.002")}}})}}},79264:(e,t,i)=>{"use strict";const r=i(48819),{InvalidNonce:s,InsufficientFunds:a,AuthenticationError:n,InvalidOrder:o,ExchangeError:c,OrderNotFound:h,AccountSuspended:d,BadSymbol:u,OrderImmediatelyFillable:l,RateLimitExceeded:f,OnMaintenance:p,PermissionDenied:m}=i(73449);e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zonda",name:"Zonda",countries:["EE"],rateLimit:1e3,has:{cancelOrder:!0,CORS:!0,createOrder:!0,fetchBalance:!0,fetchLedger:!0,fetchMarkets:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTrades:!0,withdraw:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","3d":"259200","1w":"604800"},hostname:"zondaglobal.com",urls:{referral:"https://auth.zondaglobal.com/ref/jHlbB4mIkdS1",logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://zondaglobal.com",api:{public:"https://{hostname}/API/Public",private:"https://{hostname}/API/Trading/tradingApi.php",v1_01Public:"https://api.{hostname}/rest",v1_01Private:"https://api.{hostname}/rest"},doc:["https://docs.zonda.exchange/","https://github.com/BitBayNet/API"],support:"https://zondaglobal.com/en/helpdesk/zonda-exchange",fees:"https://zondaglobal.com/legal/zonda-exchange/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]},v1_01Public:{get:["trading/ticker","trading/ticker/{symbol}","trading/stats","trading/orderbook/{symbol}","trading/transactions/{symbol}","trading/candle/history/{symbol}/{resolution}"]},v1_01Private:{get:["payments/withdrawal/{detailId}","payments/deposit/{detailId}","trading/offer","trading/config/{symbol}","trading/history/transactions","balances/BITBAY/history","balances/BITBAY/balance","fiat_cantor/rate/{baseId}/{quoteId}","fiat_cantor/history"],post:["trading/offer/{symbol}","trading/config/{symbol}","balances/BITBAY/balance","balances/BITBAY/balance/transfer/{source}/{destination}","fiat_cantor/exchange"],delete:["trading/offer/{symbol}/{id}/{side}/{price}"],put:["balances/BITBAY/balance/{id}"]}},fees:{trading:{maker:this.parseNumber("0.0"),taker:this.parseNumber("0.001"),percentage:!0,tierBased:!1},fiat:{maker:.003,taker:.0043,percentage:!0,tierBased:!0,tiers:{taker:[[.0043,0],[.0042,1250],[.0041,3750],[.004,7500],[.0039,1e4],[.0038,15e3],[.0037,2e4],[.0036,25e3],[.0035,37500],[.0034,5e4],[.0033,75e3],[.0032,1e5],[.0031,15e4],[.003,2e5],[.0029,25e4],[.0028,375e3],[.0027,5e5],[.0026,625e3],[.0025,875e3]],maker:[[.003,0],[.0029,1250],[.0028,3750],[.0028,7500],[.0027,1e4],[.0026,15e3],[.0025,2e4],[.0025,25e3],[.0024,37500],[.0023,5e4],[.0023,75e3],[.0022,1e5],[.0021,15e4],[.0021,2e5],[.002,25e4],[.0019,375e3],[.0018,5e5],[.0018,625e3],[.0017,875e3]]}},funding:{withdraw:{}}},options:{fiatCurrencies:["EUR","USD","GBP","PLN"]},exceptions:{400:c,401:o,402:o,403:o,404:o,405:o,406:a,408:o,501:n,502:n,503:s,504:c,505:n,506:d,509:c,510:u,FUNDS_NOT_SUFFICIENT:a,OFFER_FUNDS_NOT_EXCEEDING_MINIMUMS:o,OFFER_NOT_FOUND:h,OFFER_WOULD_HAVE_BEEN_PARTIALLY_FILLED:l,ACTION_LIMIT_EXCEEDED:f,UNDER_MAINTENANCE:p,REQUEST_TIMESTAMP_TOO_OLD:s,PERMISSIONS_NOT_SUFFICIENT:m},commonCurrencies:{GGC:"Global Game Coin"}})}async fetchMarkets(e={}){const t=await this.v1_01PublicGetTradingTicker(e),i=this.safeValue(this.options,"fiatCurrencies",[]),r=[],s=this.safeValue(t,"items"),a=Object.keys(s);for(let e=0;e<a.length;e++){const t=s[a[e]],n=this.safeValue(t,"market",{}),o=this.safeValue(n,"first",{}),c=this.safeValue(n,"second",{}),h=this.safeString(o,"currency"),d=this.safeString(c,"currency"),u=h+d,l=this.safeCurrencyCode(h),f=this.safeCurrencyCode(d),p=l+"/"+f,m={amount:this.safeInteger(o,"scale"),price:this.safeInteger(c,"scale")};let g=this.safeValue(this.fees,"trading",{});(this.inArray(l,i)||this.inArray(f,i))&&(g=this.safeValue(this.fees,"fiat",{}));const y=this.safeNumber(g,"maker"),b=this.safeNumber(g,"taker");r.push({id:u,symbol:p,base:l,quote:f,baseId:h,quoteId:d,precision:m,type:"spot",spot:!0,active:void 0,maker:y,taker:b,limits:{amount:{min:this.safeNumber(o,"minOffer"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeNumber(c,"minOffer"),max:void 0}},info:t})}return r}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.v1_01PrivateGetTradingOffer(this.extend({},r)),a=this.safeValue(s,"items",[]);return this.parseOrders(a,void 0,t,i,{status:"open"})}parseOrder(e,t){const i=this.safeString(e,"market"),r=this.safeSymbol(i,t,"-"),s=this.safeInteger(e,"time"),a=this.safeString(e,"startAmount"),n=this.safeString(e,"currentAmount"),o=this.safeValue(e,"postOnly");return this.safeOrder2({id:this.safeString(e,"id"),clientOrderId:void 0,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:void 0,symbol:r,type:this.safeString(e,"mode"),timeInForce:void 0,postOnly:o,side:this.safeStringLower(e,"offerType"),price:this.safeString(e,"rate"),stopPrice:void 0,amount:a,cost:void 0,filled:void 0,remaining:n,average:void 0,fee:void 0,trades:void 0},t)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(e){const t=[this.marketId(e)];s.markets=t}const a={query:this.json(this.extend(s,r))},n=await this.v1_01PrivateGetTradingHistoryTransactions(a),o=this.safeValue(n,"items"),c=this.parseTrades(o,void 0,t,i);return void 0===e?c:this.filterBySymbol(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1_01PrivateGetBalancesBITBAYBalance(e),i=this.safeValue(t,"balances");if(void 0===i)throw new c(this.id+" empty balance response "+this.json(t));const r={info:t};for(let e=0;e<i.length;e++){const t=i[e],s=this.safeString(t,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.used=this.safeString(t,"lockedFunds"),n.free=this.safeString(t,"availableFunds"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetIdOrderbook(this.extend(r,i));return this.parseOrderBook(s,e)}parseTicker(e,t){const i=this.safeSymbol(void 0,t),r=this.milliseconds(),s=this.safeNumber(e,"volume"),a=this.safeNumber(e,"vwap");let n;void 0!==s&&void 0!==a&&(n=s*a);const o=this.safeNumber(e,"last");return this.safeTicker({symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeNumber(e,"max"),low:this.safeNumber(e,"min"),bid:this.safeNumber(e,"bid"),bidVolume:void 0,ask:this.safeNumber(e,"ask"),askVolume:void 0,vwap:a,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeNumber(e,"average"),baseVolume:s,quoteVolume:n,info:e},t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetIdTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchLedger(e,t,i,r={}){const s=[];if(void 0!==e){const t=this.currency(e);s.push(t.id)}let a={balanceCurrencies:s};void 0!==t&&(a.fromTime=t),void 0!==i&&(a.limit=i),a=this.extend(a,r);const n=(await this.v1_01PrivateGetBalancesBITBAYHistory({query:this.json(a)})).items;return this.parseLedger(n,void 0,t,i)}parseLedgerEntry(e,t){const i=this.safeInteger(e,"time"),r=this.safeValue(e,"balance",{}),s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.safeValue(e,"change",{});let o=this.safeNumber(n,"total"),c="in";o<0&&(c="out",o=-o);const h=this.safeString(e,"historyId"),d=this.safeString(e,"detailId"),u=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeValue(e,"fundsBefore",{}),f=this.safeNumber(l,"total"),p=this.safeValue(e,"fundsAfter",{});return{info:e,id:h,direction:c,account:void 0,referenceId:d,referenceAccount:void 0,type:u,currency:a,amount:o,before:f,after:this.safeNumber(p,"total"),status:"ok",timestamp:i,datetime:this.iso8601(i),fee:void 0}}parseLedgerEntryType(e){return this.safeString({ADD_FUNDS:"transaction",BITCOIN_GOLD_FORK:"transaction",CREATE_BALANCE:"transaction",FUNDS_MIGRATION:"transaction",WITHDRAWAL_LOCK_FUNDS:"transaction",WITHDRAWAL_SUBTRACT_FUNDS:"transaction",WITHDRAWAL_UNLOCK_FUNDS:"transaction",TRANSACTION_COMMISSION_OUTCOME:"fee",TRANSACTION_COMMISSION_RETURN:"fee",TRANSACTION_OFFER_ABORTED_RETURN:"trade",TRANSACTION_OFFER_COMPLETED_RETURN:"trade",TRANSACTION_POST_INCOME:"trade",TRANSACTION_POST_OUTCOME:"trade",TRANSACTION_PRE_LOCKING:"trade"},e,e)}parseOHLCV(e,t){const i=this.safeValue(e,1,{});return[this.safeInteger(e,0),this.safeNumber(i,"o"),this.safeNumber(i,"h"),this.safeNumber(i,"l"),this.safeNumber(i,"c"),this.safeNumber(i,"v")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.baseId+"-"+a.quoteId,resolution:this.timeframes[t]};void 0===r&&(r=100);const o=r*this.parseTimeframe(t)*1e3;void 0===i?(n.to=this.milliseconds(),n.from=n.to-o):(n.from=parseInt(i),n.to=this.sum(n.from,o));const c=await this.v1_01PublicGetTradingCandleHistorySymbolResolution(this.extend(n,s)),h=this.safeValue(c,"items",[]);return this.parseOHLCVs(h,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger2(e,"time","t"),r=this.safeStringLower2(e,"userAction","ty"),s=this.safeValue(e,"wasTaker");let a;void 0!==s&&(a=s?"taker":"maker");const n=this.safeString2(e,"rate","r"),o=this.safeString2(e,"amount","a"),c=this.safeString(e,"commissionValue"),h=this.safeString(e,"market"),d=(t=this.safeMarket(h,t,"-")).symbol;let u;void 0!==c&&(u={currency:"buy"===r?t.base:t.quote,cost:c});const l=this.safeString(e,"offerId");let f;return void 0!==l&&(f=l?"limit":"market"),this.safeTrade({id:this.safeString(e,"id"),order:l,timestamp:i,datetime:this.iso8601(i),symbol:d,type:f,side:r,price:n,amount:o,cost:void 0,takerOrMaker:a,fee:u,info:e},t)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.baseId+"-"+s.quoteId};void 0!==t&&(a.fromTime=t-1),void 0!==i&&(a.limit=i);const n=await this.v1_01PublicGetTradingTransactionsSymbol(this.extend(a,r)),o=this.safeValue(n,"items");return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n.baseId+"-"+n.quoteId,offerType:i,amount:r,mode:t};"limit"===t&&(o.rate=s,s=parseFloat(s)),r=parseFloat(r);const c=await this.v1_01PrivatePostTradingOfferSymbol(this.extend(o,a)),h=this.milliseconds(),d=this.safeString(c,"offerId"),u=this.safeValue(c,"completed",!1)?"closed":"open";let l,f=0;const p=this.safeValue(c,"transactions");let m;if(void 0!==p){m=this.parseTrades(p,n,void 0,void 0,{timestamp:h,datetime:this.iso8601(h),symbol:e,side:i,type:t,orderId:d}),l=0;for(let e=0;e<m.length;e++)f=this.sum(f,m[e].amount),l=this.sum(l,m[e].cost)}const g=r-f;return{id:d,info:c,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:s,amount:r,cost:l,filled:f,remaining:g,average:void 0,fee:void 0,trades:m,clientOrderId:void 0}}async cancelOrder(e,t,i={}){const r=this.safeString(i,"side");if(void 0===r)throw new c(this.id+' cancelOrder() requires a `side` parameter ("buy" or "sell")');const s=this.safeValue(i,"price");if(void 0===s)throw new c(this.id+" cancelOrder() requires a `price` parameter (float or string)");await this.loadMarkets();const a=this.market(t),n={symbol:a.baseId+"-"+a.quoteId,id:e,side:r,price:s};return this.v1_01PrivateDeleteTradingOfferSymbolIdSidePrice(this.extend(n,i))}isFiat(e){return this.safeValue({USD:!0,EUR:!0,PLN:!0},e,!1)}async withdraw(e,t,i,r,s={}){let a;[r,s]=this.handleWithdrawTagAndParams(r,s),this.checkAddress(i),await this.loadMarkets();const n={currency:this.currency(e).id,quantity:t};return this.isFiat(e)?a="privatePostWithdraw":(a="privatePostTransfer",void 0!==r&&(i+="?dt="+r.toString()),n.address=i),{info:await this[a](this.extend(n,s)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeHostname(this.urls.api[t]);if("public"===t){const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r)+".json",Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Public"===t){const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r),Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Private"===t){this.checkRequiredCredentials();const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r);const o=this.milliseconds().toString();let c;"POST"!==i?(Object.keys(t).length&&(n+="?"+this.urlencode(t)),c=this.apiKey+o):void 0===a&&(a=this.json(t),c=this.apiKey+o+a),s={"Request-Timestamp":o,"Operation-Id":this.uuid(),"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(c),this.encode(this.secret),"sha512"),"Content-Type":"application/json"}}else this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,moment:this.nonce()},r)),s={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(a),this.encode(this.secret),"sha512")};return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,h){if(void 0!==n){if("code"in n){const e=this.safeString(n,"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new c(t)}if("status"in n&&"Fail"===this.safeString(n,"status")){const e=this.safeValue(n,"errors"),t=this.id+" "+a;for(let i=0;i<e.length;i++){const r=e[i];this.throwExactlyMatchedException(this.exceptions,r,t)}throw new c(t)}}}}},68107:(e,t,i)=>{const r=i(47947);e.exports=r},45195:e=>{e.exports=function(e,t){this.depth=e,this.callback=t,this.curHeight=null,this.buffer=[],this.add=t=>{const i=t.header,r=i.height;if(null==this.curHeight)this.buffer[0]={header:{hash:i.parent}},this.buffer[1]=t,this.curHeight=r-1;else{if(r<=this.curHeight)throw`HeaderBuffer: confirmation depth violation: block at height ${r} got orphaned`;{const e=r-this.curHeight,s=this.buffer[e-1].header.hash;if(i.parent!==s)throw`HeaderBuffer: inconsistent chain at height ${r}. Parent ${s} doesn't match expected value ${i.parent}`;this.buffer[e]=t}}for(;this.buffer.length-1>e;){this.buffer.shift();const e=this.buffer[0];if(this.curHeight+=1,!e)throw`HeaderBuffer: missing block at height ${this.curHeight}`;this.callback(e)}}}},47947:(e,t,i)=>{var r=i(25108);const s=i(60983),a=i(83300),n=i(98751),o=i(42693),c=i(45195),h=e=>JSON.parse(s.decode(e));class d extends Error{constructor(e){super(`Request ${e.url} failed with ${e.status}, ${e.statusText}`),this.response=e}}const u=async(e,t)=>{const i=(e={onFailedAttempt:e=>r.log("failed fetch attempt:",e.message),retries:2,minTimeout:500,randomize:!0,retry404:!1,...e}).retry404;return await o((async()=>{const e=await t();if(200==e.status)return e;throw 404==e.status&&i||408==e.status||423==e.status||425==e.status||429==e.status||500==e.status||502==e.status||503==e.status||504==e.status?new d(e):(e.status,new o.AbortError(new d(e)))}),e)},l=(e="mainnet01",t="https://api.chainweb.com",i)=>new URL(`${t}/chainweb/0.0/${e}/${i}`),f=(e,t,i,r)=>{if(null==e)throw new Error("missing chainId parameter");return l(t,i,`chain/${e}/${r}`)},m=async(e,t,i)=>(await u(i,(()=>a(l(e,t,"cut"))))).json(),g=async(e,t,i)=>(await u(i,(()=>a(l(e,t,"cut/peer"))))).json(),y=async(e,t,i,r,s,n,o,c,h,d,l)=>{var p="";switch(c=c||"json"){case"json":p="application/json;blockheader-encoding=object";break;case"binary":p="application/json";break;default:throw new Error(`Unsupported header format ${c}. Supported values are 'json' and 'binary'.`)}let m=f(e,h,d,"header/branch");null!=r&&m.searchParams.append("minheight",r),null!=s&&m.searchParams.append("maxheight",s),null!=n&&m.searchParams.append("limit",n),null!=o&&m.searchParams.append("next",o);const g={upper:t,lower:i};return(await u(l,(()=>a(m,{method:"post",body:JSON.stringify(g),headers:{"Content-Type":"application/json",Accept:p}})))).json()},b=async(e,t,i,r,s,a,n,o,c,h)=>await(async(a,d)=>{const u=async function*(e,t){let i=null,r=0;do{const s=t?t-r:null,a=await e(i,s);i=a.next,r+=a.limit,yield a.items}while(i&&(!t||r<t))}(((a,d)=>y(e,t,i,r,s,d,a,n,o,c,h)),d);let l=[];for await(p of u)l.unshift(p.reverse());return l.flat()})(0,a),v=async(e,t,i,r,s,a,n)=>{const o=await m(a,n);return await b(e,[o.hashes[`${e}`].hash],[],t,i,r,s,a,n)},w=async(e,t,i,r,s,n)=>{i=i||"json";const o=f(e,r,s,"payload/outputs/batch"),c=await u(n,(()=>a(o,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})));let d=await c.json();if("json"==i)return d.map((e=>{const t=e.transactions;return e.minerData=h(e.minerData),e.coinbase=h(e.coinbase),e.transactions=t.map((e=>{const t=h(e[0]),i=h(e[1]);return t.cmd=JSON.parse(t.cmd),{transaction:t,output:i}})),e}));if("base64"==i)return x;throw new Error(`Unsupported format '${i}'. Supported formats are 'json' (default) and 'base64'`)},k=(e,t,i,r,s)=>{let a={};return t.forEach((t=>a[t]=new c(e,i))),((e,t,i)=>{const r=l(t,i,"header/updates"),s=new n(`${r}`);return s.onerror=e=>{throw e},s.addEventListener("BlockHeader",(e=>{return t=JSON.parse(e.data),null==a[t.header.chainId]||null==a[t.header.chainId].add?void 0:a[t.header.chainId].add(t);var t})),s})(0,r,s)},S=async(e,t,i,r,s)=>await v(e,t,i,null,"json",r,s),_=async(e,t=0,i=1,r,s)=>{const a=await m(r,s),n=a.hashes[0].height-t-i+1,o=a.hashes[0].height-t,c=a.hashes[`${e}`].hash;return await b(e,[c],[],n,o,i,"json",r,s)},M=(e,t,i,r,s)=>k(e,t,(e=>i(e.header)),r,s),T=async(e,t,i,r)=>(await b(e,[t],[],null,null,1,null,i,r,null))[0],O=async(e,t,i,r)=>{let s=e;const a=[];for(;s.length>0;){const n=e[0].chainId,o=await w(n,e.map((e=>e.payloadHash)),"json",t,i,r);if(0===o.length)throw new Error(`failed to get payloads for some headers. Missing ${s.map((e=>({hash:e.hash,height:e.height})))}`);const c=o.reduce(((e,t)=>(e[t.payloadHash]=t,e)),{});s=s.filter(((e,t)=>{const i=c[e.payloadHash];return!i||(a.push({header:e,payload:i}),!1)}))}return a},I=async(e,t,i,r,s)=>{let a=await S(e,t,i,r,s);return O(a,r,s)},C=async(e,t=0,i=1,r,s)=>{let a=await _(e,t,i,r,s),n={};return t<=1&&(n={retry404:!0,minTimeout:1e3}),O(a,r,s,n)},A=async(e,t,i,r)=>{const s=await T(e,t,i,r);return(await O([s],i,r))[0]},E=e=>e.filter((e=>e.payload.transactions.length>0)).flatMap((e=>{let t=e.payload.transactions;return t.forEach((t=>t.height=e.header.height)),t})),N=async(e,t,i,r,s)=>{const a=await I(e,t,i,r,s);return E(a)},P=e=>e.filter((e=>e.payload.transactions.length>0)).flatMap((e=>e.payload.transactions.flatMap((t=>{let i=t.output.events?t.output.events:[];return i.forEach((t=>t.height=e.header.height)),i})))),B=async(e,t,i,r,s)=>{const a=await I(e,t,i,r,s);return P(a)};e.exports={ResponseError:d,cut:{current:m,peers:async(e,t,i)=>(await g(e,t,i)).items.reverse()},header:{range:S,recent:_,stream:M,height:async(e,t,i,r)=>(await S(e,t,t,i,r))[0],blockHash:T},block:{range:I,recent:C,stream:(e,t,i,s,a)=>{const n=e>1?{}:{retry404:!0,minTimeout:1e3};return M(e,t,(e=>{O([e],s,a,n).then((e=>i(e[0]))).catch((e=>r.log(e)))}),s,a)},height:async(e,t,i,r)=>(await I(e,t,t,i,r))[0],blockHash:A},transaction:{range:N,recent:async(e,t=0,i=1,r,s)=>{const a=await C(e,t,i,r,s);return E(a)},stream:(e,t,i,s,a)=>{const n=e>1?{}:{retry404:!0,minTimeout:1e3};return k(e,t,(e=>{e.txCount>0&&O([e.header],s,a,n).then((e=>E(e).forEach(i))).catch((e=>r.log(e)))}),s,a)},height:async(e,t,i,r)=>N(e,t,t,i,r),blockHash:async(e,t,i,r)=>{const s=await A(e,t,i,r);return E([s])}},event:{range:B,recent:async(e,t=0,i=1,r,s)=>{const a=await C(e,t,i,r,s);return P(a)},stream:(e,t,i,s,a)=>{const n=e>1?{}:{retry404:!0,minTimeout:1e3};return k(e,t,(e=>{e.txCount>0&&O([e.header],s,a,n).then((e=>P(e).forEach(i))).catch((e=>r.log(e)))}),s,a)},height:async(e,t,i,r)=>B(e,t,t,i,r),blockHash:async(e,t,i,r)=>{const s=await A(e,t,i,r);return P([s])}},internal:{branchPage:y,branch:b,currentBranch:v,payloads:w,cutPeerPage:g}}},71027:(e,t,i)=>{var r=i(89509).Buffer,s=i(42830).Transform,a=i(32553).s;function n(e){s.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i(35717)(n,s),n.prototype.update=function(e,t,i){"string"==typeof e&&(e=r.from(e,t));var s=this._update(e);return this.hashMode?this:(i&&(s=this._toString(s,i)),s)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{i(r)}},n.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},n.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=n},86010:(e,t,i)=>{"use strict";function r(e){var t,i,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=r(e[t]))&&(s&&(s+=" "),s+=i);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function s(){for(var e,t,i=0,s="";i<arguments.length;)(e=arguments[i++])&&(t=r(e))&&(s&&(s+=" "),s+=t);return s}i.d(t,{Z:()=>s})},25108:(e,t,i)=>{var r=i(89539),s=i(69282);function a(){return(new Date).getTime()}var n,o=Array.prototype.slice,c={};n=void 0!==i.g&&i.g.console?i.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var h=[[function(){},"log"],[function(){n.log.apply(n,arguments)},"info"],[function(){n.log.apply(n,arguments)},"warn"],[function(){n.warn.apply(n,arguments)},"error"],[function(e){c[e]=a()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var i=a()-t;n.log(e+": "+i+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments),n.error(e.stack)},"trace"],[function(e){n.log(r.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=o.call(arguments,1);s.ok(!1,r.format.apply(null,t))}},"assert"]],d=0;d<h.length;d++){var u=h[d],l=u[0],f=u[1];n[f]||(n[f]=l)}e.exports=n},76393:(e,t,i)=>{var r=i(48764).Buffer,s=i(86266),a=i(16426);e.exports=function(e){return new o(e)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=n[e],this.curveType||(this.curveType={name:e}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(e,t,i){Array.isArray(e)||(e=e.toArray());var s=new r(e);if(i&&s.length<i){var a=new r(i-s.length);a.fill(0),s=r.concat([a,s])}return t?s.toString(t):s}n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,i){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),c(i,e)},o.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var i=new a(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}},16426:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(8623).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},23482:(e,t,i)=>{"use strict";var r=i(35717),s=i(62318),a=i(79785),n=i(89072),o=i(71027);function c(e){o.call(this,"digest"),this._hash=e}r(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new s:"rmd160"===e||"ripemd160"===e?new a:new c(n(e))}},78028:(e,t,i)=>{var r=i(62318);e.exports=function(e){return(new r).update(e).digest()}},58355:(e,t,i)=>{"use strict";var r=i(35717),s=i(51031),a=i(71027),n=i(89509).Buffer,o=i(78028),c=i(79785),h=i(89072),d=n.alloc(128);function u(e,t){a.call(this,"digest"),"string"==typeof t&&(t=n.from(t));var i="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>i?t=("rmd160"===e?new c:h(e)).update(t).digest():t.length<i&&(t=n.concat([t,d],i));for(var r=this._ipad=n.allocUnsafe(i),s=this._opad=n.allocUnsafe(i),o=0;o<i;o++)r[o]=54^t[o],s[o]=92^t[o];this._hash="rmd160"===e?new c:h(e),this._hash.update(r)}r(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:h(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",t):"md5"===e?new s(o,t):new u(e,t)}},51031:(e,t,i)=>{"use strict";var r=i(35717),s=i(89509).Buffer,a=i(71027),n=s.alloc(128),o=64;function c(e,t){a.call(this,"digest"),"string"==typeof t&&(t=s.from(t)),this._alg=e,this._key=t,t.length>o?t=e(t):t.length<o&&(t=s.concat([t,n],o));for(var i=this._ipad=s.allocUnsafe(o),r=this._opad=s.allocUnsafe(o),c=0;c<o;c++)i[c]=54^t[c],r[c]=92^t[c];this._hash=[i]}r(c,a),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,e]))},e.exports=c},55835:(e,t,i)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i(61798),t.createHash=t.Hash=i(23482),t.createHmac=t.Hmac=i(58355);var r=i(56042),s=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);t.getHashes=function(){return a};var n=i(25632);t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync;var o=i(53614);t.Cipher=o.Cipher,t.createCipher=o.createCipher,t.Cipheriv=o.Cipheriv,t.createCipheriv=o.createCipheriv,t.Decipher=o.Decipher,t.createDecipher=o.createDecipher,t.Decipheriv=o.Decipheriv,t.createDecipheriv=o.createDecipheriv,t.getCiphers=o.getCiphers,t.listCiphers=o.listCiphers;var c=i(62607);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var h=i(64743);t.createSign=h.createSign,t.Sign=h.Sign,t.createVerify=h.createVerify,t.Verify=h.Verify,t.createECDH=i(76393);var d=i(7900);t.publicEncrypt=d.publicEncrypt,t.privateEncrypt=d.privateEncrypt,t.publicDecrypt=d.publicDecrypt,t.privateDecrypt=d.privateDecrypt;var u=i(77963);t.randomFill=u.randomFill,t.randomFillSync=u.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},40452:function(e,t,i){var r;e.exports=(r=i(78249),i(98269),i(68214),i(90888),i(75109),function(){var e=r,t=e.lib.BlockCipher,i=e.algo,s=[],a=[],n=[],o=[],c=[],h=[],d=[],u=[],l=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,s[i]=p,a[p]=i;var m=e[i],g=e[m],y=e[g],b=257*e[p]^16843008*p;n[i]=b<<24|b>>>8,o[i]=b<<16|b>>>16,c[i]=b<<8|b>>>24,h[i]=b,b=16843009*y^65537*g^257*m^16843008*i,d[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,l[p]=b<<8|b>>>24,f[p]=b,i?(i=m^e[e[e[y^m]]],r^=e[e[r]]):i=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,r=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],n=0;n<r;n++)n<i?a[n]=t[n]:(h=a[n-1],n%i?i>6&&n%i==4&&(h=s[h>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[255&h]):(h=s[(h=h<<8|h>>>24)>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[255&h],h^=p[n/i|0]<<24),a[n]=a[n-i]^h);for(var o=this._invKeySchedule=[],c=0;c<r;c++){if(n=r-c,c%4)var h=a[n];else h=a[n-4];o[c]=c<4||n<=4?h:d[s[h>>>24]]^u[s[h>>>16&255]]^l[s[h>>>8&255]]^f[s[255&h]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,n,o,c,h,s)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,d,u,l,f,a),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,r,s,a,n,o){for(var c=this._nRounds,h=e[t]^i[0],d=e[t+1]^i[1],u=e[t+2]^i[2],l=e[t+3]^i[3],f=4,p=1;p<c;p++){var m=r[h>>>24]^s[d>>>16&255]^a[u>>>8&255]^n[255&l]^i[f++],g=r[d>>>24]^s[u>>>16&255]^a[l>>>8&255]^n[255&h]^i[f++],y=r[u>>>24]^s[l>>>16&255]^a[h>>>8&255]^n[255&d]^i[f++],b=r[l>>>24]^s[h>>>16&255]^a[d>>>8&255]^n[255&u]^i[f++];h=m,d=g,u=y,l=b}m=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&l])^i[f++],g=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[l>>>8&255]<<8|o[255&h])^i[f++],y=(o[u>>>24]<<24|o[l>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^i[f++],b=(o[l>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^i[f++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},75109:function(e,t,i){var r,s,a,n,o,c,h,d,u,l,f,p,m,g,y,b,v,w,k;e.exports=(r=i(78249),i(90888),void(r.lib.Cipher||(a=(s=r).lib,n=a.Base,o=a.WordArray,c=a.BufferedBlockAlgorithm,(h=s.enc).Utf8,d=h.Base64,u=s.algo.EvpKDF,l=a.Cipher=c.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?k:v}return function(t){return{encrypt:function(i,r,s){return e(r).encrypt(t,i,r,s)},decrypt:function(i,r,s){return e(r).decrypt(t,i,r,s)}}}}()}),a.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=s.mode={},p=a.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=f.CBC=function(){var e=p.extend();function t(e,t,i){var r,s=this._iv;s?(r=s,this._iv=void 0):r=this._prevBlock;for(var a=0;a<i;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize;t.call(this,e,i,s),r.encryptBlock(e,i),this._prevBlock=e.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=e.slice(i,i+s);r.decryptBlock(e,i),t.call(this,e,i,s),this._prevBlock=a}}),e}(),g=(s.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,r=i-e.sigBytes%i,s=r<<24|r<<16|r<<8|r,a=[],n=0;n<r;n+=4)a.push(s);var c=o.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.BlockCipher=l.extend({cfg:l.cfg.extend({mode:m,padding:g}),reset:function(){var e;l.reset.call(this);var t=this.cfg,i=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(r,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=a.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(s.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(t):t).toString(d)},parse:function(e){var t,i=d.parse(e),r=i.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),i.sigBytes-=16),y.create({ciphertext:i,salt:t})}},v=a.SerializableCipher=n.extend({cfg:n.extend({format:b}),encrypt:function(e,t,i,r){r=this.cfg.extend(r);var s=e.createEncryptor(i,r),a=s.finalize(t),n=s.cfg;return y.create({ciphertext:a,key:i,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(s.kdf={}).OpenSSL={execute:function(e,t,i,r){r||(r=o.random(8));var s=u.create({keySize:t+i}).compute(e,r),a=o.create(s.words.slice(t),4*i);return s.sigBytes=4*t,y.create({key:s,iv:a,salt:r})}},k=a.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:w}),encrypt:function(e,t,i,r){var s=(r=this.cfg.extend(r)).kdf.execute(i,e.keySize,e.ivSize);r.iv=s.iv;var a=v.encrypt.call(this,e,t,s.key,r);return a.mixIn(s),a},decrypt:function(e,t,i,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var s=r.kdf.execute(i,e.keySize,e.ivSize,t.salt);return r.iv=s.iv,v.decrypt.call(this,e,t,s.key,r)}}))))},78249:function(e,t,i){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==i.g&&i.g.crypto&&(r=i.g.crypto),!r)try{r=i(55835)}catch(e){}var s=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),n={},o=n.lib={},c=o.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},h=o.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,i=e.words,r=this.sigBytes,s=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<s;a++){var n=i[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=n<<24-(r+a)%4*8}else for(a=0;a<s;a+=4)t[r+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(s());return new h.init(t,e)}}),d=n.enc={},u=d.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r+=2)i[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new h.init(i,t/2)}},l=d.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new h.init(i,t)}},f=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,r=this._data,s=r.words,a=r.sigBytes,n=this.blockSize,o=a/(4*n),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*n,d=e.min(4*c,a);if(c){for(var u=0;u<c;u+=n)this._doProcessBlock(s,u);i=s.splice(0,c),r.sigBytes-=d}return new h.init(i,d)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(o.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}}),n.algo={});return n}(Math),r)},98269:function(e,t,i){var r,s,a;e.exports=(r=i(78249),a=(s=r).lib.WordArray,s.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,r=this._map;e.clamp();for(var s=[],a=0;a<i;a+=3)for(var n=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<i;o++)s.push(r.charAt(n>>>6*(3-o)&63));var c=r.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e){var t=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<i.length;s++)r[i.charCodeAt(s)]=s}var n=i.charAt(64);if(n){var o=e.indexOf(n);-1!==o&&(t=o)}return function(e,t,i){for(var r=[],s=0,n=0;n<t;n++)if(n%4){var o=i[e.charCodeAt(n-1)]<<n%4*2|i[e.charCodeAt(n)]>>>6-n%4*2;r[s>>>2]|=o<<24-s%4*8,s++}return a.create(r,s)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},50298:function(e,t,i){var r;e.exports=(r=i(78249),function(){var e=r,t=e.lib.WordArray,i=e.enc;function s(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],s=0;s<i;s+=2){var a=t[s>>>2]>>>16-s%4*8&65535;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var i=e.length,r=[],s=0;s<i;s++)r[s>>>1]|=e.charCodeAt(s)<<16-s%2*16;return t.create(r,2*i)}},i.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],a=0;a<i;a+=2){var n=s(t[a>>>2]>>>16-a%4*8&65535);r.push(String.fromCharCode(n))}return r.join("")},parse:function(e){for(var i=e.length,r=[],a=0;a<i;a++)r[a>>>1]|=s(e.charCodeAt(a)<<16-a%2*16);return t.create(r,2*i)}}}(),r.enc.Utf16)},90888:function(e,t,i){var r,s,a,n,o,c,h,d;e.exports=(r=i(78249),i(62783),i(89824),a=(s=r).lib,n=a.Base,o=a.WordArray,c=s.algo,h=c.MD5,d=c.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:h,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,r=this.cfg,s=r.hasher.create(),a=o.create(),n=a.words,c=r.keySize,h=r.iterations;n.length<c;){i&&s.update(i),i=s.update(e).finalize(t),s.reset();for(var d=1;d<h;d++)i=s.finalize(i),s.reset();a.concat(i)}return a.sigBytes=4*c,a}}),s.EvpKDF=function(e,t,i){return d.create(i).compute(e,t)},r.EvpKDF)},42209:function(e,t,i){var r,s,a,n;e.exports=(r=i(78249),i(75109),a=(s=r).lib.CipherParams,n=s.enc.Hex,s.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return a.create({ciphertext:t})}},r.format.Hex)},89824:function(e,t,i){var r,s,a,n;e.exports=(r=i(78249),a=(s=r).lib.Base,n=s.enc.Utf8,void(s.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),a=this._iKey=t.clone(),o=s.words,c=a.words,h=0;h<i;h++)o[h]^=1549556828,c[h]^=909522486;s.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))},81354:function(e,t,i){var r;e.exports=(r=i(78249),i(64938),i(4433),i(50298),i(98269),i(68214),i(62783),i(52153),i(87792),i(70034),i(17460),i(13327),i(30706),i(89824),i(2112),i(90888),i(75109),i(8568),i(74242),i(59968),i(27660),i(31148),i(43615),i(92807),i(71077),i(56475),i(16991),i(42209),i(40452),i(94253),i(51857),i(84454),i(93974),r)},4433:function(e,t,i){var r;e.exports=(r=i(78249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,i=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var i=e.byteLength,r=[],s=0;s<i;s++)r[s>>>2]|=e[s]<<24-s%4*8;t.call(this,r,i)}else t.apply(this,arguments)};i.prototype=e}}(),r.lib.WordArray)},68214:function(e,t,i){var r;e.exports=(r=i(78249),function(e){var t=r,i=t.lib,s=i.WordArray,a=i.Hasher,n=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=n.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a=this._hash.words,n=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],w=e[t+9],k=e[t+10],S=e[t+11],_=e[t+12],M=e[t+13],T=e[t+14],O=e[t+15],x=a[0],I=a[1],C=a[2],A=a[3];x=h(x,I,C,A,n,7,o[0]),A=h(A,x,I,C,c,12,o[1]),C=h(C,A,x,I,f,17,o[2]),I=h(I,C,A,x,p,22,o[3]),x=h(x,I,C,A,m,7,o[4]),A=h(A,x,I,C,g,12,o[5]),C=h(C,A,x,I,y,17,o[6]),I=h(I,C,A,x,b,22,o[7]),x=h(x,I,C,A,v,7,o[8]),A=h(A,x,I,C,w,12,o[9]),C=h(C,A,x,I,k,17,o[10]),I=h(I,C,A,x,S,22,o[11]),x=h(x,I,C,A,_,7,o[12]),A=h(A,x,I,C,M,12,o[13]),C=h(C,A,x,I,T,17,o[14]),x=d(x,I=h(I,C,A,x,O,22,o[15]),C,A,c,5,o[16]),A=d(A,x,I,C,y,9,o[17]),C=d(C,A,x,I,S,14,o[18]),I=d(I,C,A,x,n,20,o[19]),x=d(x,I,C,A,g,5,o[20]),A=d(A,x,I,C,k,9,o[21]),C=d(C,A,x,I,O,14,o[22]),I=d(I,C,A,x,m,20,o[23]),x=d(x,I,C,A,w,5,o[24]),A=d(A,x,I,C,T,9,o[25]),C=d(C,A,x,I,p,14,o[26]),I=d(I,C,A,x,v,20,o[27]),x=d(x,I,C,A,M,5,o[28]),A=d(A,x,I,C,f,9,o[29]),C=d(C,A,x,I,b,14,o[30]),x=u(x,I=d(I,C,A,x,_,20,o[31]),C,A,g,4,o[32]),A=u(A,x,I,C,v,11,o[33]),C=u(C,A,x,I,S,16,o[34]),I=u(I,C,A,x,T,23,o[35]),x=u(x,I,C,A,c,4,o[36]),A=u(A,x,I,C,m,11,o[37]),C=u(C,A,x,I,b,16,o[38]),I=u(I,C,A,x,k,23,o[39]),x=u(x,I,C,A,M,4,o[40]),A=u(A,x,I,C,n,11,o[41]),C=u(C,A,x,I,p,16,o[42]),I=u(I,C,A,x,y,23,o[43]),x=u(x,I,C,A,w,4,o[44]),A=u(A,x,I,C,_,11,o[45]),C=u(C,A,x,I,O,16,o[46]),x=l(x,I=u(I,C,A,x,f,23,o[47]),C,A,n,6,o[48]),A=l(A,x,I,C,b,10,o[49]),C=l(C,A,x,I,T,15,o[50]),I=l(I,C,A,x,g,21,o[51]),x=l(x,I,C,A,_,6,o[52]),A=l(A,x,I,C,p,10,o[53]),C=l(C,A,x,I,k,15,o[54]),I=l(I,C,A,x,c,21,o[55]),x=l(x,I,C,A,v,6,o[56]),A=l(A,x,I,C,O,10,o[57]),C=l(C,A,x,I,y,15,o[58]),I=l(I,C,A,x,M,21,o[59]),x=l(x,I,C,A,m,6,o[60]),A=l(A,x,I,C,S,10,o[61]),C=l(C,A,x,I,f,15,o[62]),I=l(I,C,A,x,w,21,o[63]),a[0]=a[0]+x|0,a[1]=a[1]+I|0,a[2]=a[2]+C|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,i=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var a=e.floor(r/4294967296),n=r;i[15+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,h=0;h<4;h++){var d=c[h];c[h]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,i,r,s,a,n){var o=e+(t&i|~t&r)+s+n;return(o<<a|o>>>32-a)+t}function d(e,t,i,r,s,a,n){var o=e+(t&r|i&~r)+s+n;return(o<<a|o>>>32-a)+t}function u(e,t,i,r,s,a,n){var o=e+(t^i^r)+s+n;return(o<<a|o>>>32-a)+t}function l(e,t,i,r,s,a,n){var o=e+(i^(t|~r))+s+n;return(o<<a|o>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),r.MD5)},8568:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,i,r){var s,a=this._iv;a?(s=a.slice(0),this._iv=void 0):s=this._prevBlock,r.encryptBlock(s,0);for(var n=0;n<i;n++)e[t+n]^=s[n]}return e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize;t.call(this,e,i,s,r),this._prevBlock=e.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=e.slice(i,i+s);t.call(this,e,i,s,r),this._prevBlock=a}}),e}(),r.mode.CFB)},59968:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,i=e>>8&255,r=255&e;255===t?(t=0,255===i?(i=0,255===r?r=0:++r):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=r}else e+=1<<24;return e}var i=e.Encryptor=e.extend({processBlock:function(e,i){var r=this._cipher,s=r.blockSize,a=this._iv,n=this._counter;a&&(n=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(n);var o=n.slice(0);r.encryptBlock(o,0);for(var c=0;c<s;c++)e[i+c]^=o[c]}});return e.Decryptor=i,e}(),r.mode.CTRGladman)},74242:function(e,t,i){var r,s,a;e.exports=(r=i(78249),i(75109),r.mode.CTR=(a=(s=r.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0);var n=a.slice(0);i.encryptBlock(n,0),a[r-1]=a[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=n[o]}}),s.Decryptor=a,s),r.mode.CTR)},31148:function(e,t,i){var r,s;e.exports=(r=i(78249),i(75109),r.mode.ECB=((s=r.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),s.Decryptor=s.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),s),r.mode.ECB)},27660:function(e,t,i){var r,s,a;e.exports=(r=i(78249),i(75109),r.mode.OFB=(a=(s=r.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,s=this._iv,a=this._keystream;s&&(a=this._keystream=s.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var n=0;n<r;n++)e[t+n]^=a[n]}}),s.Decryptor=a,s),r.mode.OFB)},43615:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,r=4*t,s=r-i%r,a=i+s-1;e.clamp(),e.words[a>>>2]|=s<<24-a%4*8,e.sigBytes+=s},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},92807:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.pad.Iso10126={pad:function(e,t){var i=4*t,s=i-e.sigBytes%i;e.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},71077:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},16991:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},56475:function(e,t,i){var r;e.exports=(r=i(78249),i(75109),r.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;for(i=e.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},r.pad.ZeroPadding)},2112:function(e,t,i){var r,s,a,n,o,c,h,d,u;e.exports=(r=i(78249),i(62783),i(89824),a=(s=r).lib,n=a.Base,o=a.WordArray,c=s.algo,h=c.SHA1,d=c.HMAC,u=c.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:h,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,r=d.create(i.hasher,e),s=o.create(),a=o.create([1]),n=s.words,c=a.words,h=i.keySize,u=i.iterations;n.length<h;){var l=r.update(t).finalize(a);r.reset();for(var f=l.words,p=f.length,m=l,g=1;g<u;g++){m=r.finalize(m),r.reset();for(var y=m.words,b=0;b<p;b++)f[b]^=y[b]}s.concat(l),c[0]++}return s.sigBytes=4*h,s}}),s.PBKDF2=function(e,t,i){return u.create(i).compute(e,t)},r.PBKDF2)},93974:function(e,t,i){var r;e.exports=(r=i(78249),i(98269),i(68214),i(90888),i(75109),function(){var e=r,t=e.lib.StreamCipher,i=e.algo,s=[],a=[],n=[],o=i.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var s=0;s<4;s++)c.call(this);for(s=0;s<8;s++)r[s]^=i[s+4&7];if(t){var a=t.words,n=a[0],o=a[1],h=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=h>>>16|4294901760&d,l=d<<16|65535&h;for(r[0]^=h,r[1]^=u,r[2]^=d,r[3]^=l,r[4]^=h,r[5]^=u,r[6]^=d,r[7]^=l,s=0;s<4;s++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8),e[t+r]^=s[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var r=e[i]+t[i],s=65535&r,o=r>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,h=((4294901760&r)*r|0)+((65535&r)*r|0);n[i]=c^h}e[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,e[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,e[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,e[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,e[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,e[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,e[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,e[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}e.RabbitLegacy=t._createHelper(o)}(),r.RabbitLegacy)},84454:function(e,t,i){var r;e.exports=(r=i(78249),i(98269),i(68214),i(90888),i(75109),function(){var e=r,t=e.lib.StreamCipher,i=e.algo,s=[],a=[],n=[],o=i.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)s[i]^=r[i+4&7];if(t){var a=t.words,n=a[0],o=a[1],h=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=h>>>16|4294901760&d,l=d<<16|65535&h;for(s[0]^=h,s[1]^=u,s[2]^=d,s[3]^=l,s[4]^=h,s[5]^=u,s[6]^=d,s[7]^=l,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8),e[t+r]^=s[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var r=e[i]+t[i],s=65535&r,o=r>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,h=((4294901760&r)*r|0)+((65535&r)*r|0);n[i]=c^h}e[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,e[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,e[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,e[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,e[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,e[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,e[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,e[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}e.Rabbit=t._createHelper(o)}(),r.Rabbit)},51857:function(e,t,i){var r;e.exports=(r=i(78249),i(98269),i(68214),i(90888),i(75109),function(){var e=r,t=e.lib.StreamCipher,i=e.algo,s=i.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,r=this._S=[],s=0;s<256;s++)r[s]=s;s=0;for(var a=0;s<256;s++){var n=s%i,o=t[n>>>2]>>>24-n%4*8&255;a=(a+r[s]+o)%256;var c=r[s];r[s]=r[a],r[a]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,i=this._j,r=0,s=0;s<4;s++){i=(i+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[i],e[i]=a,r|=e[(e[t]+e[i])%256]<<24-8*s}return this._i=t,this._j=i,r}e.RC4=t._createHelper(s);var n=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});e.RC4Drop=t._createHelper(n)}(),r.RC4)},30706:function(e,t,i){var r;e.exports=(r=i(78249),function(e){var t=r,i=t.lib,s=i.WordArray,a=i.Hasher,n=t.algo,o=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=s.create([0,1518500249,1859775393,2400959708,2840853838]),l=s.create([1352829926,1548603684,1836072691,2053994217,0]),f=n.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var r=t+i,s=e[r];e[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a,n,f,w,k,S,_,M,T,O,x,I=this._hash.words,C=u.words,A=l.words,E=o.words,N=c.words,P=h.words,B=d.words;for(S=a=I[0],_=n=I[1],M=f=I[2],T=w=I[3],O=k=I[4],i=0;i<80;i+=1)x=a+e[t+E[i]]|0,x+=i<16?p(n,f,w)+C[0]:i<32?m(n,f,w)+C[1]:i<48?g(n,f,w)+C[2]:i<64?y(n,f,w)+C[3]:b(n,f,w)+C[4],x=(x=v(x|=0,P[i]))+k|0,a=k,k=w,w=v(f,10),f=n,n=x,x=S+e[t+N[i]]|0,x+=i<16?b(_,M,T)+A[0]:i<32?y(_,M,T)+A[1]:i<48?g(_,M,T)+A[2]:i<64?m(_,M,T)+A[3]:p(_,M,T)+A[4],x=(x=v(x|=0,B[i]))+O|0,S=O,O=T,T=v(M,10),M=_,_=x;x=I[1]+f+T|0,I[1]=I[2]+w+O|0,I[2]=I[3]+k+S|0,I[3]=I[4]+a+_|0,I[4]=I[0]+n+M|0,I[0]=x},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,a=s.words,n=0;n<5;n++){var o=a[n];a[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,i){return e^t^i}function m(e,t,i){return e&t|~e&i}function g(e,t,i){return(e|~t)^i}function y(e,t,i){return e&i|t&~i}function b(e,t,i){return e^(t|~i)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=a._createHelper(f),t.HmacRIPEMD160=a._createHmacHelper(f)}(Math),r.RIPEMD160)},62783:function(e,t,i){var r,s,a,n,o,c,h,d;e.exports=(r=i(78249),a=(s=r).lib,n=a.WordArray,o=a.Hasher,c=s.algo,h=[],d=c.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],a=i[2],n=i[3],o=i[4],c=0;c<80;c++){if(c<16)h[c]=0|e[t+c];else{var d=h[c-3]^h[c-8]^h[c-14]^h[c-16];h[c]=d<<1|d>>>31}var u=(r<<5|r>>>27)+o+h[c];u+=c<20?1518500249+(s&a|~s&n):c<40?1859775393+(s^a^n):c<60?(s&a|s&n|a&n)-1894007588:(s^a^n)-899497514,o=n,n=a,a=s<<30|s>>>2,s=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+n|0,i[4]=i[4]+o|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(r+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),s.SHA1=o._createHelper(d),s.HmacSHA1=o._createHmacHelper(d),r.SHA1)},87792:function(e,t,i){var r,s,a,n,o,c;e.exports=(r=i(78249),i(52153),a=(s=r).lib.WordArray,n=s.algo,o=n.SHA256,c=n.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),s.SHA224=o._createHelper(c),s.HmacSHA224=o._createHmacHelper(c),r.SHA224)},52153:function(e,t,i){var r;e.exports=(r=i(78249),function(e){var t=r,i=t.lib,s=i.WordArray,a=i.Hasher,n=t.algo,o=[],c=[];!function(){function t(t){for(var i=e.sqrt(t),r=2;r<=i;r++)if(!(t%r))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var r=2,s=0;s<64;)t(r)&&(s<8&&(o[s]=i(e.pow(r,.5))),c[s]=i(e.pow(r,1/3)),s++),r++}();var h=[],d=n.SHA256=a.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],a=i[2],n=i[3],o=i[4],d=i[5],u=i[6],l=i[7],f=0;f<64;f++){if(f<16)h[f]=0|e[t+f];else{var p=h[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=h[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;h[f]=m+h[f-7]+y+h[f-16]}var b=r&s^r&a^s&a,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&u)+c[f]+h[f];l=u,u=d,d=o,o=n+w|0,n=a,a=s,s=r,r=w+(v+b)|0}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+n|0,i[4]=i[4]+o|0,i[5]=i[5]+d|0,i[6]=i[6]+u|0,i[7]=i[7]+l|0},_doFinalize:function(){var t=this._data,i=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=e.floor(r/4294967296),i[15+(s+64>>>9<<4)]=r,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(d),t.HmacSHA256=a._createHmacHelper(d)}(Math),r.SHA256)},13327:function(e,t,i){var r;e.exports=(r=i(78249),i(64938),function(e){var t=r,i=t.lib,s=i.WordArray,a=i.Hasher,n=t.x64.Word,o=t.algo,c=[],h=[],d=[];!function(){for(var e=1,t=0,i=0;i<24;i++){c[e+5*t]=(i+1)*(i+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var s=1,a=0;a<24;a++){for(var o=0,u=0,l=0;l<7;l++){if(1&s){var f=(1<<l)-1;f<32?u^=1<<f:o^=1<<f-32}128&s?s=s<<1^113:s<<=1}d[a]=n.create(o,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=n.create()}();var l=o.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new n.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,r=this.blockSize/2,s=0;s<r;s++){var a=e[t+2*s],n=e[t+2*s+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),(I=i[s]).high^=n,I.low^=a}for(var o=0;o<24;o++){for(var l=0;l<5;l++){for(var f=0,p=0,m=0;m<5;m++)f^=(I=i[l+5*m]).high,p^=I.low;var g=u[l];g.high=f,g.low=p}for(l=0;l<5;l++){var y=u[(l+4)%5],b=u[(l+1)%5],v=b.high,w=b.low;for(f=y.high^(v<<1|w>>>31),p=y.low^(w<<1|v>>>31),m=0;m<5;m++)(I=i[l+5*m]).high^=f,I.low^=p}for(var k=1;k<25;k++){var S=(I=i[k]).high,_=I.low,M=c[k];M<32?(f=S<<M|_>>>32-M,p=_<<M|S>>>32-M):(f=_<<M-32|S>>>64-M,p=S<<M-32|_>>>64-M);var T=u[h[k]];T.high=f,T.low=p}var O=u[0],x=i[0];for(O.high=x.high,O.low=x.low,l=0;l<5;l++)for(m=0;m<5;m++){var I=i[k=l+5*m],C=u[k],A=u[(l+1)%5+5*m],E=u[(l+2)%5+5*m];I.high=C.high^~A.high&E.high,I.low=C.low^~A.low&E.low}I=i[0];var N=d[o];I.high^=N.high,I.low^=N.low}},_doFinalize:function(){var t=this._data,i=t.words,r=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;i[r>>>5]|=1<<24-r%32,i[(e.ceil((r+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var n=this._state,o=this.cfg.outputLength/8,c=o/8,h=[],d=0;d<c;d++){var u=n[d],l=u.high,f=u.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(l)}return new s.init(h,o)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});t.SHA3=a._createHelper(l),t.HmacSHA3=a._createHmacHelper(l)}(Math),r.SHA3)},17460:function(e,t,i){var r,s,a,n,o,c,h,d;e.exports=(r=i(78249),i(64938),i(70034),a=(s=r).x64,n=a.Word,o=a.WordArray,c=s.algo,h=c.SHA512,d=c.SHA384=h.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=h._doFinalize.call(this);return e.sigBytes-=16,e}}),s.SHA384=h._createHelper(d),s.HmacSHA384=h._createHmacHelper(d),r.SHA384)},70034:function(e,t,i){var r;e.exports=(r=i(78249),i(64938),function(){var e=r,t=e.lib.Hasher,i=e.x64,s=i.Word,a=i.WordArray,n=e.algo;function o(){return s.create.apply(s,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],h=[];!function(){for(var e=0;e<80;e++)h[e]=o()}();var d=n.SHA512=t.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],a=i[2],n=i[3],o=i[4],d=i[5],u=i[6],l=i[7],f=r.high,p=r.low,m=s.high,g=s.low,y=a.high,b=a.low,v=n.high,w=n.low,k=o.high,S=o.low,_=d.high,M=d.low,T=u.high,O=u.low,x=l.high,I=l.low,C=f,A=p,E=m,N=g,P=y,B=b,R=v,L=w,V=k,D=S,q=_,G=M,F=T,j=O,U=x,z=I,H=0;H<80;H++){var K,W,Z=h[H];if(H<16)W=Z.high=0|e[t+2*H],K=Z.low=0|e[t+2*H+1];else{var X=h[H-15],Y=X.high,$=X.low,Q=(Y>>>1|$<<31)^(Y>>>8|$<<24)^Y>>>7,J=($>>>1|Y<<31)^($>>>8|Y<<24)^($>>>7|Y<<25),ee=h[H-2],te=ee.high,ie=ee.low,re=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,se=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),ae=h[H-7],ne=ae.high,oe=ae.low,ce=h[H-16],he=ce.high,de=ce.low;W=(W=(W=Q+ne+((K=J+oe)>>>0<J>>>0?1:0))+re+((K+=se)>>>0<se>>>0?1:0))+he+((K+=de)>>>0<de>>>0?1:0),Z.high=W,Z.low=K}var ue,le=V&q^~V&F,fe=D&G^~D&j,pe=C&E^C&P^E&P,me=A&N^A&B^N&B,ge=(C>>>28|A<<4)^(C<<30|A>>>2)^(C<<25|A>>>7),ye=(A>>>28|C<<4)^(A<<30|C>>>2)^(A<<25|C>>>7),be=(V>>>14|D<<18)^(V>>>18|D<<14)^(V<<23|D>>>9),ve=(D>>>14|V<<18)^(D>>>18|V<<14)^(D<<23|V>>>9),we=c[H],ke=we.high,Se=we.low,_e=U+be+((ue=z+ve)>>>0<z>>>0?1:0),Me=ye+me;U=F,z=j,F=q,j=G,q=V,G=D,V=R+(_e=(_e=(_e=_e+le+((ue+=fe)>>>0<fe>>>0?1:0))+ke+((ue+=Se)>>>0<Se>>>0?1:0))+W+((ue+=K)>>>0<K>>>0?1:0))+((D=L+ue|0)>>>0<L>>>0?1:0)|0,R=P,L=B,P=E,B=N,E=C,N=A,C=_e+(ge+pe+(Me>>>0<ye>>>0?1:0))+((A=ue+Me|0)>>>0<ue>>>0?1:0)|0}p=r.low=p+A,r.high=f+C+(p>>>0<A>>>0?1:0),g=s.low=g+N,s.high=m+E+(g>>>0<N>>>0?1:0),b=a.low=b+B,a.high=y+P+(b>>>0<B>>>0?1:0),w=n.low=w+L,n.high=v+R+(w>>>0<L>>>0?1:0),S=o.low=S+D,o.high=k+V+(S>>>0<D>>>0?1:0),M=d.low=M+G,d.high=_+q+(M>>>0<G>>>0?1:0),O=u.low=O+j,u.high=T+F+(O>>>0<j>>>0?1:0),I=l.low=I+z,l.high=x+U+(I>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(r+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),r.SHA512)},94253:function(e,t,i){var r;e.exports=(r=i(78249),i(98269),i(68214),i(90888),i(75109),function(){var e=r,t=e.lib,i=t.WordArray,s=t.BlockCipher,a=e.algo,n=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=a.DES=s.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var r=n[i]-1;t[i]=e[r>>>5]>>>31-r%32&1}for(var s=this._subKeys=[],a=0;a<16;a++){var h=s[a]=[],d=c[a];for(i=0;i<24;i++)h[i/6|0]|=t[(o[i]-1+d)%28]<<31-i%6,h[4+(i/6|0)]|=t[28+(o[i+24]-1+d)%28]<<31-i%6;for(h[0]=h[0]<<1|h[0]>>>31,i=1;i<7;i++)h[i]=h[i]>>>4*(i-1)+3;h[7]=h[7]<<5|h[7]>>>27}var u=this._invSubKeys=[];for(i=0;i<16;i++)u[i]=s[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),l.call(this,1,1431655765);for(var r=0;r<16;r++){for(var s=i[r],a=this._lBlock,n=this._rBlock,o=0,c=0;c<8;c++)o|=h[c][((n^s[c])&d[c])>>>0];this._lBlock=n,this._rBlock=a^o}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,l.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function f(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}e.DES=s._createHelper(u);var p=a.TripleDES=s.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),s=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(i.create(t)),this._des2=u.createEncryptor(i.create(r)),this._des3=u.createEncryptor(i.create(s))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=s._createHelper(p)}(),r.TripleDES)},64938:function(e,t,i){var r,s,a,n,o,c;e.exports=(r=i(78249),a=(s=r).lib,n=a.Base,o=a.WordArray,(c=s.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],r=0;r<t;r++){var s=e[r];i.push(s.high),i.push(s.low)}return o.create(i,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),i=t.length,r=0;r<i;r++)t[r]=t[r].clone();return e}}),r)},6955:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(8081),s=i.n(r),a=i(23645),n=i.n(a)()(s());n.push([e.id,"body{margin:0px;padding:0px;min-width:auto !important;min-height:auto !important;position:relative;width:100%;height:100%;background-color:#000;max-width:100%;max-height:100%;display:flex;flex-direction:column}body::-webkit-scrollbar{width:0px !important}body .ui>*::-webkit-scrollbar{width:3px !important}#root{position:relative;width:100%;height:100%;display:flex;flex-direction:column}",""]);const o=n},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",r=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,r,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var n={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(n[c]=!0)}for(var h=0;h<e.length;h++){var d=[].concat(e[h]);r&&n[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},4289:(e,t,i)=>{"use strict";var r=i(82215),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,n=Array.prototype.concat,o=Object.defineProperty,c=o&&function(){var e={};try{for(var t in o(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),h=function(e,t,i,r){var s;(!(t in e)||"function"==typeof(s=r)&&"[object Function]"===a.call(s)&&r())&&(c?o(e,t,{configurable:!0,enumerable:!1,value:i,writable:!0}):e[t]=i)},d=function(e,t){var i=arguments.length>2?arguments[2]:{},a=r(t);s&&(a=n.call(a,Object.getOwnPropertySymbols(t)));for(var o=0;o<a.length;o+=1)h(e,a[o],t[a[o]],i[a[o]])};d.supportsDescriptors=!!c,e.exports=d},15251:(e,t,i)=>{"use strict";t.utils=i(11278),t.Cipher=i(55756),t.DES=i(70778),t.CBC=i(39051),t.EDE=i(50651)},39051:(e,t,i)=>{"use strict";var r=i(79746),s=i(35717),a={};function n(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}s(t,e);for(var i=Object.keys(a),r=0;r<i.length;r++){var n=i[r];t.prototype[n]=a[n]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},a._update=function(e,t,i,r){var s=this._cbcState,a=this.constructor.super_.prototype,n=s.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)n[o]^=e[t+o];for(a._update.call(this,n,0,i,r),o=0;o<this.blockSize;o++)n[o]=i[r+o]}else{for(a._update.call(this,e,t,i,r),o=0;o<this.blockSize;o++)i[r+o]^=n[o];for(o=0;o<this.blockSize;o++)n[o]=e[t+o]}}},55756:(e,t,i)=>{"use strict";var r=i(79746);function s(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=s,s.prototype._init=function(){},s.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},s.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},s.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,s,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return s},s.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(s,i);return t+=this._buffer(e,t),s},s.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},s.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},s.prototype._unpad=function(e){return e},s.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},70778:(e,t,i)=>{"use strict";var r=i(79746),s=i(35717),a=i(11278),n=i(55756);function o(){this.tmp=new Array(2),this.keys=null}function c(e){n.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}s(c,n),e.exports=c,c.create=function(e){return new c(e)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var i=a.readUInt32BE(t,0),s=a.readUInt32BE(t,4);a.pc1(i,s,e.tmp,0),i=e.tmp[0],s=e.tmp[1];for(var n=0;n<e.keys.length;n+=2){var o=h[n>>>1];i=a.r28shl(i,o),s=a.r28shl(s,o),a.pc2(i,s,e.keys,n)}},c.prototype._update=function(e,t,i,r){var s=this._desState,n=a.readUInt32BE(e,t),o=a.readUInt32BE(e,t+4);a.ip(n,o,s.tmp,0),n=s.tmp[0],o=s.tmp[1],"encrypt"===this.type?this._encrypt(s,n,o,s.tmp,0):this._decrypt(s,n,o,s.tmp,0),n=s.tmp[0],o=s.tmp[1],a.writeUInt32BE(i,n,r),a.writeUInt32BE(i,o,r+4)},c.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)r.equal(e[i],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,i,r,s){for(var n=t,o=i,c=0;c<e.keys.length;c+=2){var h=e.keys[c],d=e.keys[c+1];a.expand(o,e.tmp,0),h^=e.tmp[0],d^=e.tmp[1];var u=a.substitute(h,d),l=o;o=(n^a.permute(u))>>>0,n=l}a.rip(o,n,r,s)},c.prototype._decrypt=function(e,t,i,r,s){for(var n=i,o=t,c=e.keys.length-2;c>=0;c-=2){var h=e.keys[c],d=e.keys[c+1];a.expand(n,e.tmp,0),h^=e.tmp[0],d^=e.tmp[1];var u=a.substitute(h,d),l=n;n=(o^a.permute(u))>>>0,o=l}a.rip(n,o,r,s)}},50651:(e,t,i)=>{"use strict";var r=i(79746),s=i(35717),a=i(55756),n=i(70778);function o(e,t){r.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),s=t.slice(8,16),a=t.slice(16,24);this.ciphers="encrypt"===e?[n.create({type:"encrypt",key:i}),n.create({type:"decrypt",key:s}),n.create({type:"encrypt",key:a})]:[n.create({type:"decrypt",key:a}),n.create({type:"encrypt",key:s}),n.create({type:"decrypt",key:i})]}function c(e){a.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}s(c,a),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,i,r){var s=this._edeState;s.ciphers[0]._update(e,t,i,r),s.ciphers[1]._update(i,r,i,r),s.ciphers[2]._update(i,r,i,r)},c.prototype._pad=n.prototype._pad,c.prototype._unpad=n.prototype._unpad},11278:(e,t)=>{"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var s=0,a=0,n=6;n>=0;n-=2){for(var o=0;o<=24;o+=8)s<<=1,s|=t>>>o+n&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>>o+n&1}for(n=6;n>=0;n-=2){for(o=1;o<=25;o+=8)a<<=1,a|=t>>>o+n&1;for(o=1;o<=25;o+=8)a<<=1,a|=e>>>o+n&1}i[r+0]=s>>>0,i[r+1]=a>>>0},t.rip=function(e,t,i,r){for(var s=0,a=0,n=0;n<4;n++)for(var o=24;o>=0;o-=8)s<<=1,s|=t>>>o+n&1,s<<=1,s|=e>>>o+n&1;for(n=4;n<8;n++)for(o=24;o>=0;o-=8)a<<=1,a|=t>>>o+n&1,a<<=1,a|=e>>>o+n&1;i[r+0]=s>>>0,i[r+1]=a>>>0},t.pc1=function(e,t,i,r){for(var s=0,a=0,n=7;n>=5;n--){for(var o=0;o<=24;o+=8)s<<=1,s|=t>>o+n&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+n&1}for(o=0;o<=24;o+=8)s<<=1,s|=t>>o+n&1;for(n=1;n<=3;n++){for(o=0;o<=24;o+=8)a<<=1,a|=t>>o+n&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+n&1}for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+n&1;i[r+0]=s>>>0,i[r+1]=a>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,s){for(var a=0,n=0,o=i.length>>>1,c=0;c<o;c++)a<<=1,a|=e>>>i[c]&1;for(c=o;c<i.length;c++)n<<=1,n|=t>>>i[c]&1;r[s+0]=a>>>0,r[s+1]=n>>>0},t.expand=function(e,t,i){var r=0,s=0;r=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=e>>>a&63;for(a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=s>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,s=0;s<4;s++)i<<=4,i|=r[64*s+(e>>>18-6*s&63)];for(s=0;s<4;s++)i<<=4,i|=r[256+64*s+(t>>>18-6*s&63)];return i>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<s.length;i++)t<<=1,t|=e>>>s[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var s=[],a=0;a<t;a+=i)s.push(r.slice(a,a+i));return s.join(" ")}},62607:(e,t,i)=>{var r=i(48764).Buffer,s=i(43590),a=i(29799),n=i(57426),o={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new r(a[e].prime,"hex"),i=new r(a[e].gen,"hex");return new n(t,i)},t.createDiffieHellman=t.DiffieHellman=function e(t,i,a,c){return r.isBuffer(i)||void 0===o[i]?e(t,"binary",i,a):(i=i||"binary",c=c||"binary",a=a||new r([2]),r.isBuffer(a)||(a=new r(a,c)),"number"==typeof t?new n(s(t,a),a,!0):(r.isBuffer(t)||(t=new r(t,i)),new n(t,a,!0)))}},57426:(e,t,i)=>{var r=i(48764).Buffer,s=i(83620),a=new(i(63047)),n=new s(24),o=new s(11),c=new s(10),h=new s(3),d=new s(7),u=i(43590),l=i(61798);function f(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new s(e),this}function p(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new s(e),this}e.exports=g;var m={};function g(e,t,i){this.setGenerator(t),this.__prime=new s(e),this._prime=s.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function y(e,t){var i=new r(e.toArray());return t?i.toString(t):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in m)return m[r];var s,l=0;if(e.isEven()||!u.simpleSieve||!u.fermatTest(e)||!a.test(e))return l+=1,l+="02"===i||"05"===i?8:4,m[r]=l,l;switch(a.test(e.shrn(1))||(l+=2),i){case"02":e.mod(n).cmp(o)&&(l+=8);break;case"05":(s=e.mod(c)).cmp(h)&&s.cmp(d)&&(l+=8);break;default:l+=4}return m[r]=l,l}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new s(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var t=(e=(e=new s(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new r(t.toArray()),a=this.getPrime();if(i.length<a.length){var n=new r(a.length-i.length);n.fill(0),i=r.concat([n,i])}return i},g.prototype.getPublicKey=function(e){return y(this._pub,e)},g.prototype.getPrivateKey=function(e){return y(this._priv,e)},g.prototype.getPrime=function(e){return y(this.__prime,e)},g.prototype.getGenerator=function(e){return y(this._gen,e)},g.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new s(e),this}},43590:(e,t,i)=>{var r=i(61798);e.exports=b,b.simpleSieve=g,b.fermatTest=y;var s=i(83620),a=new s(24),n=new(i(63047)),o=new s(1),c=new s(2),h=new s(5),d=(new s(16),new s(8),new s(10)),u=new s(3),l=(new s(7),new s(11)),f=new s(4),p=(new s(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),s=0;s<t&&e[s]<=r&&i%e[s]!=0;s++);t!==s&&e[s]<=r||(e[t++]=i)}return p=e,e}function g(e){for(var t=m(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function y(e){var t=s.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);var i,p;for(t=new s(t);;){for(i=new s(r(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(o),i.testn(1)||i.iadd(c),t.cmp(c)){if(!t.cmp(h))for(;i.mod(d).cmp(u);)i.iadd(f)}else for(;i.mod(a).cmp(l);)i.iadd(f);if(g(p=i.shrn(1))&&g(i)&&y(p)&&y(i)&&n.test(p)&&n.test(i))return i}}},83620:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(7748).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},86266:(e,t,i)=>{"use strict";var r=t;r.version=i(18597).i8,r.utils=i(80953),r.rand=i(29931),r.curve=i(88254),r.curves=i(45427),r.ec=i(57954),r.eddsa=i(65980)},4918:(e,t,i)=>{"use strict";var r=i(73785),s=i(80953),a=s.getNAF,n=s.getJSF,o=s.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var i=e._getDoubles(),r=a(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var n,c,h=[];for(n=0;n<r.length;n+=i.step){c=0;for(var d=n+i.step-1;d>=n;d--)c=(c<<1)+r[d];h.push(c)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=s;f>0;f--){for(n=0;n<h.length;n++)(c=h[n])===f?l=l.mixedAdd(i.points[n]):c===-f&&(l=l.mixedAdd(i.points[n].neg()));u=u.add(l)}return u.toP()},c.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var s=r.points,n=a(t,i,this._bitLength),c=this.jpoint(null,null,null),h=n.length-1;h>=0;h--){for(var d=0;h>=0&&0===n[h];h--)d++;if(h>=0&&d++,c=c.dblp(d),h<0)break;var u=n[h];o(0!==u),c="affine"===e.type?u>0?c.mixedAdd(s[u-1>>1]):c.mixedAdd(s[-u-1>>1].neg()):u>0?c.add(s[u-1>>1]):c.add(s[-u-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,i,r,s){var o,c,h,d=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<r;o++){var p=(h=t[o])._getNAFPoints(e);d[o]=p.wnd,u[o]=p.points}for(o=r-1;o>=1;o-=2){var m=o-1,g=o;if(1===d[m]&&1===d[g]){var y=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(y[1]=t[m].add(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].add(t[g].neg())):(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=n(i[m],i[g]);for(f=Math.max(v[0].length,f),l[m]=new Array(f),l[g]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],k=0|v[1][c];l[m][c]=b[3*(w+1)+(k+1)],l[g][c]=0,u[m]=y}}else l[m]=a(i[m],d[m],this._bitLength),l[g]=a(i[g],d[g],this._bitLength),f=Math.max(l[m].length,f),f=Math.max(l[g].length,f)}var S=this.jpoint(null,null,null),_=this._wnafT4;for(o=f;o>=0;o--){for(var M=0;o>=0;){var T=!0;for(c=0;c<r;c++)_[c]=0|l[c][o],0!==_[c]&&(T=!1);if(!T)break;M++,o--}if(o>=0&&M++,S=S.dblp(M),o<0)break;for(c=0;c<r;c++){var O=_[c];0!==O&&(O>0?h=u[c][O-1>>1]:O<0&&(h=u[c][-O-1>>1].neg()),S="affine"===h.type?S.mixedAdd(h):S.add(h))}}for(o=0;o<r;o++)u[o]=null;return s?S:S.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)r=r.dbl();i.push(r)}return{step:e,points:i}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(r);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},31138:(e,t,i)=>{"use strict";var r=i(80953),s=i(73785),a=i(35717),n=i(4918),o=r.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,n.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function h(e,t,i,r,a){n.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(i,16),this.z=r?new s(r,16):this.curve.one,this.t=a&&new s(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,n),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},c.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),a=this.one.redSub(this.c2.redMul(this.d).redMul(i)),n=r.redMul(a.redInvm()),o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.c2),a=i.redMul(this.d).redMul(this.c2).redSub(this.a),n=r.redMul(a.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(s)},a(h,n.BasePoint),c.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},c.prototype.point=function(e,t,i,r){return new h(this,e,t,i,r)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),n=a.redSub(i),o=r.redSub(t),c=s.redMul(n),h=a.redMul(o),d=s.redMul(o),u=n.redMul(a);return this.curve.point(c,h,u,d)},h.prototype._projDbl=function(){var e,t,i,r,s,a,n=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var h=(r=this.curve._mulA(o)).redAdd(c);this.zOne?(e=n.redSub(o).redSub(c).redMul(h.redSub(this.curve.two)),t=h.redMul(r.redSub(c)),i=h.redSqr().redSub(h).redSub(h)):(s=this.z.redSqr(),a=h.redSub(s).redISub(s),e=n.redSub(o).redISub(c).redMul(a),t=h.redMul(r.redSub(c)),i=h.redMul(a))}else r=o.redAdd(c),s=this.curve._mulC(this.z).redSqr(),a=r.redSub(s).redSub(s),e=this.curve._mulC(n.redISub(r)).redMul(a),t=this.curve._mulC(r).redMul(o.redISub(c)),i=r.redMul(a);return this.curve.point(e,t,i)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(t),n=s.redSub(r),o=s.redAdd(r),c=i.redAdd(t),h=a.redMul(n),d=o.redMul(c),u=a.redMul(c),l=n.redMul(o);return this.curve.point(h,d,l,u)},h.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),s=r.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(n),c=s.redSub(o),h=s.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),u=r.redMul(c).redMul(d);return this.curve.twisted?(t=r.redMul(h).redMul(n.redSub(this.curve._mulA(a))),i=c.redMul(h)):(t=r.redMul(h).redMul(n.redSub(a)),i=this.curve._mulC(c).redMul(h)),this.curve.point(u,t,i)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},h.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},88254:(e,t,i)=>{"use strict";var r=t;r.base=i(4918),r.short=i(6673),r.mont=i(22881),r.edwards=i(31138)},22881:(e,t,i)=>{"use strict";var r=i(73785),s=i(35717),a=i(4918),n=i(80953);function o(e){a.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,i){a.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,a),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},s(c,a.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(n.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),s=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,s)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(i),n=s.redMul(r),o=t.z.redMul(a.redAdd(n).redSqr()),c=t.x.redMul(a.redISub(n).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)0===s[a]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,i)=>{"use strict";var r=i(80953),s=i(73785),a=i(35717),n=i(4918),o=r.assert;function c(e){n.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,i,r){n.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(e,t,i,r){n.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(i,16),this.z=new s(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,n),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new s(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?i=a[0]:(i=a[1],o(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map((function(e){return{a:new s(e.a,16),b:new s(e.b,16)}})):this._getEndoBasis(i)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),i=new s(2).toRed(t).redInvm(),r=i.redNeg(),a=new s(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(a).fromRed(),r.redSub(a).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,i,r,a,n,o,c,h,d,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new s(1),m=new s(0),g=new s(0),y=new s(1),b=0;0!==l.cmpn(0);){var v=f.div(l);h=f.sub(v.mul(l)),d=g.sub(v.mul(p));var w=y.sub(v.mul(m));if(!r&&h.cmp(u)<0)t=c.neg(),i=p,r=h.neg(),a=d;else if(r&&2==++b)break;c=h,f=l,l=h,g=p,p=d,y=m,m=w}n=h.neg(),o=d;var k=r.sqr().add(a.sqr());return n.sqr().add(o.sqr()).cmp(k)>=0&&(n=t,o=i),r.negative&&(r=r.neg(),a=a.neg()),n.negative&&(n=n.neg(),o=o.neg()),[{a:r,b:a},{a:n,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],s=r.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),n=s.mul(i.a),o=a.mul(r.a),c=s.mul(i.b),h=a.mul(r.b);return{k1:e.sub(n).sub(o),k2:c.add(h).neg()}},c.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var a=r.fromRed().isOdd();return(t&&!a||!t&&a)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(s).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var n=this._endoSplit(t[a]),o=e[a],c=o._getBeta();n.k1.negative&&(n.k1.ineg(),o=o.neg(!0)),n.k2.negative&&(n.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,s[2*a]=n.k1,s[2*a+1]=n.k2}for(var h=this._wnafMulAdd(1,r,s,2*a,i),d=0;d<2*a;d++)r[d]=null,s[d]=null;return h},a(h,n.BasePoint),c.prototype.point=function(e,t,i){return new h(this,e,t,i)},c.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,i){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function s(t){return e.point(t[0],t[1],i)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(s))}},r},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),a=s.redSqr().redISub(this.x.redAdd(this.x)),n=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,n)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new s(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s):this.curve._wnafMulAdd(1,r,s,2)},h.prototype.jmulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s,!0):this.curve._wnafMulAdd(1,r,s,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,n.BasePoint),c.prototype.jpoint=function(e,t,i){return new d(this,e,t,i)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),n=e.y.redMul(i.redMul(this.z)),o=r.redSub(s),c=a.redSub(n);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),d=h.redMul(o),u=r.redMul(h),l=c.redSqr().redIAdd(d).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},d.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),n=i.redSub(r),o=s.redSub(a);if(0===n.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=n.redSqr(),h=c.redMul(n),d=i.redMul(c),u=o.redSqr().redIAdd(h).redISub(d).redISub(d),l=o.redMul(d.redISub(u)).redISub(s.redMul(h)),f=this.z.redMul(n);return this.curve.jpoint(u,l,f)},d.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var r=this.curve.a,s=this.curve.tinv,a=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),h=n.redAdd(n);for(t=0;t<e;t++){var d=a.redSqr(),u=h.redSqr(),l=u.redSqr(),f=d.redAdd(d).redIAdd(d).redIAdd(r.redMul(c)),p=a.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(o);t+1<e&&(c=c.redMul(l)),a=m,o=b,h=y}return this.curve.jpoint(a,h.redMul(s),o)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(n).redISub(n),h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),e=c,t=o.redMul(n.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(d).redISub(l);f=f.redIAdd(f);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},d.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(n).redISub(n);e=c;var h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),t=o.redMul(n.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(d).redMul(this.x.redAdd(d));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},d.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,s=r.redSqr().redSqr(),a=t.redSqr(),n=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=t.redAdd(t),h=(c=c.redIAdd(c)).redMul(n),d=o.redSqr().redISub(h.redAdd(h)),u=h.redISub(d),l=n.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(r);return this.curve.jpoint(d,f,p)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(n=(n=(n=n.redIAdd(n)).redAdd(n).redIAdd(n)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=s.redIAdd(n).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.y.redMul(h.redMul(c.redISub(h)).redISub(n.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(n).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},d.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},d.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),s=i.redMul(e.z);return 0===this.y.redMul(s).redISub(e.y.redMul(r)).cmpn(0)},d.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),s=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),0===this.x.cmp(i))return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(e,t,i)=>{"use strict";var r,s=t,a=i(33715),n=i(88254),o=i(80953).assert;function c(e){"short"===e.type?this.curve=new n.short(e):"edwards"===e.type?this.curve=new n.edwards(e):this.curve=new n.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var i=new c(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:i}),i}})}s.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i(91037)}catch(e){r=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},57954:(e,t,i)=>{"use strict";var r=i(73785),s=i(2156),a=i(80953),n=i(45427),o=i(29931),c=a.assert,h=i(31251),d=i(90611);function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(n,e),"Unknown curve "+e),e=n[e]),e instanceof n.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=u,u.prototype.keyPair=function(e){return new h(this,e)},u.prototype.keyFromPrivate=function(e,t){return h.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return h.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new s({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new r(2));;){var n=new r(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}},u.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,i,a){"object"==typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),h=new s({hash:this.hash,entropy:o,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new r(1)),l=0;;l++){var f=a.k?a.k(l):new r(h.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return a.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new d({r:g,s:y,recoveryParam:b})}}}}}},u.prototype.verify=function(e,t,i,s){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,s);var a=(t=new d(t,"hex")).r,n=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var o,c=n.invm(this.n),h=c.mul(e).umod(this.n),u=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,i.getPublic(),u)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(h,i.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},u.prototype.recoverPubKey=function(e,t,i,s){c((3&i)===i,"The recovery param is more than two bits"),t=new d(t,s);var a=this.n,n=new r(e),o=t.r,h=t.s,u=1&i,l=i>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var f=t.r.invm(a),p=a.sub(n).mul(f).umod(a),m=h.mul(f).umod(a);return this.g.mulAdd(p,o,m)},u.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new d(t,r)).recoveryParam)return t.recoveryParam;for(var s=0;s<4;s++){var a;try{a=this.recoverPubKey(e,t,s)}catch(e){continue}if(a.eq(i))return s}throw new Error("Unable to find valid recovery factor")}},31251:(e,t,i)=>{"use strict";var r=i(73785),s=i(80953).assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,i){return t instanceof a?t:new a(e,{pub:t,pubEnc:i})},a.fromPrivate=function(e,t,i){return t instanceof a?t:new a(e,{priv:t,privEnc:i})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.validate()||s(e.validate(),"public point not validated"),e.mul(this.priv).getX()},a.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(e,t,i)=>{"use strict";var r=i(73785),s=i(80953),a=s.assert;function n(e,t){if(e instanceof n)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var i=e[t.place++];if(!(128&i))return i;var r=15&i;if(0===r||r>4)return!1;for(var s=0,a=0,n=t.place;a<r;a++,n++)s<<=8,s|=e[n],s>>>=0;return!(s<=127)&&(t.place=n,s)}function h(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function d(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}e.exports=n,n.prototype._importDER=function(e,t){e=s.toArray(e,t);var i=new o;if(48!==e[i.place++])return!1;var a=c(e,i);if(!1===a)return!1;if(a+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var n=c(e,i);if(!1===n)return!1;var h=e.slice(i.place,n+i.place);if(i.place+=n,2!==e[i.place++])return!1;var d=c(e,i);if(!1===d)return!1;if(e.length!==d+i.place)return!1;var u=e.slice(i.place,d+i.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}return this.r=new r(h),this.s=new r(u),this.recoveryParam=null,!0},n.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=h(t),i=h(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];d(r,t.length),(r=r.concat(t)).push(2),d(r,i.length);var a=r.concat(i),n=[48];return d(n,a.length),n=n.concat(a),s.encode(n,e)}},65980:(e,t,i)=>{"use strict";var r=i(33715),s=i(45427),a=i(80953),n=a.assert,o=a.parseBytes,c=i(79087),h=i(23622);function d(e){if(n("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof d))return new d(e);e=s[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=d,d.prototype.sign=function(e,t){e=o(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),s=this.g.mul(r),a=this.encodePoint(s),n=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),c=r.add(n).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:a})},d.prototype.verify=function(e,t,i){e=o(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(s)).eq(a)},d.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},d.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},d.prototype.makeSignature=function(e){return e instanceof h?e:new h(this,e)},d.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},d.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),s=a.intFromLE(i);return this.curve.pointFromY(s,r)},d.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(e){return a.intFromLE(e)},d.prototype.isPoint=function(e){return e instanceof this.pointClass}},79087:(e,t,i)=>{"use strict";var r=i(80953),s=r.assert,a=r.parseBytes,n=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},n(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r})),n(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o},23622:(e,t,i)=>{"use strict";var r=i(73785),s=i(80953),a=s.assert,n=s.cachedProperty,o=s.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}n(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},91037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(e,t,i)=>{"use strict";var r=t,s=i(73785),a=i(79746),n=i(34504);r.assert=a,r.toArray=n.toArray,r.zero2=n.zero2,r.toHex=n.toHex,r.encode=n.encode,r.getNAF=function(e,t,i){var r=new Array(Math.max(e.bitLength(),i)+1);r.fill(0);for(var s=1<<t+1,a=e.clone(),n=0;n<r.length;n++){var o,c=a.andln(s-1);a.isOdd()?(o=c>(s>>1)-1?(s>>1)-c:c,a.isubn(o)):o=0,r[n]=o,a.iushrn(1)}return r},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r,s=0,a=0;e.cmpn(-s)>0||t.cmpn(-a)>0;){var n,o,c=e.andln(3)+s&3,h=t.andln(3)+a&3;3===c&&(c=-1),3===h&&(h=-1),n=0==(1&c)?0:3!=(r=e.andln(7)+s&7)&&5!==r||2!==h?c:-c,i[0].push(n),o=0==(1&h)?0:3!=(r=t.andln(7)+a&7)&&5!==r||2!==c?h:-h,i[1].push(o),2*s===n+1&&(s=1-s),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new s(e,"hex","le")}},73785:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(85568).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},8091:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),r=1;r<arguments.length;r++){var s=arguments[r];if(null!=s)for(var a=Object.keys(Object(s)),n=0,o=a.length;n<o;n++){var c=a[n],h=Object.getOwnPropertyDescriptor(s,c);void 0!==h&&h.enumerable&&(i[c]=s[c])}}return i}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},17187:(e,t,i)=>{"use strict";var r,s=i(25108),a="object"==typeof Reflect?Reflect:null,n=a&&"function"==typeof a.apply?a.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(i,r){function s(i){e.removeListener(t,a),r(i)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",s),i([].slice.call(arguments))}b(e,t,a,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&b(e,"error",t,{once:!0})}(e,s)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,i,r){var a,n,o,c;if(d(i),void 0===(n=e._events)?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),n=e._events),o=n[t]),void 0===o)o=n[t]=i,++e._eventsCount;else if("function"==typeof o?o=n[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),(a=u(e))>0&&o.length>a&&!o.warned){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=o.length,c=h,s&&s.warn&&s.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},s=f.bind(r);return s.listener=i,r.wrapFn=s,s}function m(e,t,i){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(s):y(s,s.length)}function g(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function y(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function b(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(a){r.once&&e.removeEventListener(t,s),i(a)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var h=c.length,d=y(c,h);for(i=0;i<h;++i)n(d[i],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){return d(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var i,r,s,a,n;if(d(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(s=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){n=i[a].listener,s=a;break}if(s<0)return this;0===s?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,s),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,n||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var s,a=Object.keys(i);for(r=0;r<a.length;++r)"removeListener"!==(s=a[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return m(this,e,!0)},c.prototype.rawListeners=function(e){return m(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},98751:(e,t,i)=>{var r=i(34155),s=i(48764).Buffer,a=i(63758),n=i(8575).parse,o=i(17187),c=i(79267),h=i(8501),d=i(89539),u=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191];function f(e,t){var i=f.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return i}}),Object.defineProperty(this,"url",{get:function(){return e}});var o,d=this;function g(t){i!==f.CLOSED&&(i=f.CONNECTING,_("error",new p("error",{message:t})),k&&(e=k,k=null),setTimeout((function(){i!==f.CONNECTING||d.connectionInProgress||(d.connectionInProgress=!0,S())}),d.reconnectInterval))}d.reconnectInterval=1e3,d.connectionInProgress=!1;var y="";t&&t.headers&&t.headers["Last-Event-ID"]&&(y=t.headers["Last-Event-ID"],delete t.headers["Last-Event-ID"]);var b=!1,v="",w="",k=null;function S(){var a=n(e),m="https:"===a.protocol;if(a.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},y&&(a.headers["Last-Event-ID"]=y),t&&t.headers)for(var v in t.headers){var w=t.headers[v];w&&(a.headers[v]=w)}if(a.rejectUnauthorized=!(t&&!t.rejectUnauthorized),t&&void 0!==t.createConnection&&(a.createConnection=t.createConnection),t&&t.proxy){var T=n(t.proxy);m="https:"===T.protocol,a.protocol=m?"https:":"http:",a.path=e,a.headers.Host=a.host,a.hostname=T.hostname,a.host=T.host,a.port=T.port}if(t&&t.https)for(var O in t.https)if(-1!==u.indexOf(O)){var x=t.https[O];void 0!==x&&(a[O]=x)}t&&void 0!==t.withCredentials&&(a.withCredentials=t.withCredentials),o=(m?c:h).request(a,(function(t){if(d.connectionInProgress=!1,500===t.statusCode||502===t.statusCode||503===t.statusCode||504===t.statusCode)return _("error",new p("error",{status:t.statusCode,message:t.statusMessage})),void g();if(301===t.statusCode||302===t.statusCode||307===t.statusCode)return t.headers.location?(307===t.statusCode&&(k=e),e=t.headers.location,void r.nextTick(S)):void _("error",new p("error",{status:t.statusCode,message:t.statusMessage}));if(200!==t.statusCode)return _("error",new p("error",{status:t.statusCode,message:t.statusMessage})),d.close();i=f.OPEN,t.on("close",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),t.on("end",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),_("open",new p("open"));var a,n=!0,o=0,c=-1;t.on("data",(function(e){a=a?s.concat([a,e]):e,n&&function(e){return l.every((function(t,i){return e[i]===t}))}(a)&&(a=a.slice(l.length)),n=!1;for(var t=0,i=a.length;t<i;){b&&(10===a[t]&&++t,b=!1);for(var r,h=-1,d=c,u=o;h<0&&u<i;++u)58===(r=a[u])?d<0&&(d=u-t):13===r?(b=!0,h=u-t):10===r&&(h=u-t);if(h<0){o=i-t,c=d;break}o=0,c=-1,M(a,t,d,h),t+=h+1}t===i?a=void 0:t>0&&(a=a.slice(t))}))})),o.on("error",(function(e){d.connectionInProgress=!1,g(e.message)})),o.setNoDelay&&o.setNoDelay(!0),o.end()}function _(){d.listeners(arguments[0]).length>0&&d.emit.apply(d,arguments)}function M(t,i,r,s){if(0===s){if(v.length>0){var n=w||"message";_(n,new m(n,{data:v.slice(0,-1),lastEventId:y,origin:a(e)})),v=""}w=void 0}else if(r>0){var o,c=r<0,h=t.slice(i,i+(c?s:r)).toString();i+=o=c?s:32!==t[i+r+1]?r+1:r+2;var u=s-o,l=t.slice(i,i+u).toString();if("data"===h)v+=l+"\n";else if("event"===h)w=l;else if("id"===h)y=l;else if("retry"===h){var f=parseInt(l,10);Number.isNaN(f)||(d.reconnectInterval=f)}}}S(),this._close=function(){i!==f.CLOSED&&(i=f.CLOSED,o.abort&&o.abort(),o.xhr&&o.xhr.abort&&o.xhr.abort())}}function p(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var i in t)t.hasOwnProperty(i)&&Object.defineProperty(this,i,{writable:!1,value:t[i],enumerable:!0})}function m(e,t){for(var i in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(i)&&Object.defineProperty(this,i,{writable:!1,value:t[i],enumerable:!0})}e.exports=f,d.inherits(f,o.EventEmitter),f.prototype.constructor=f,["open","error","message"].forEach((function(e){Object.defineProperty(f.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(f,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(f,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(f,"CLOSED",{enumerable:!0,value:2}),f.prototype.CONNECTING=0,f.prototype.OPEN=1,f.prototype.CLOSED=2,f.prototype.close=function(){this._close()},f.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},f.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},f.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}},13048:(e,t,i)=>{var r=i(89509).Buffer,s=i(62318);e.exports=function(e,t,i,a){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=i/8,o=r.alloc(n),c=r.alloc(a||0),h=r.alloc(0);n>0||a>0;){var d=new s;d.update(h),d.update(e),t&&d.update(t),h=d.digest();var u=0;if(n>0){var l=o.length-n;u=Math.min(n,h.length),h.copy(o,l,0,u),n-=u}if(u<h.length&&a>0){var f=c.length-a,p=Math.min(a,h.length-u);h.copy(c,f,u,u+p),a-=p}}return h.fill(0),{key:o,iv:c}}},49804:e=>{var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=function(e,r,s){if("[object Function]"!==i.call(r))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var n=0;n<a;n++)r.call(s,e[n],n,e);else for(var o in e)t.call(e,o)&&r.call(s,e[o],o,e)}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,s="[object Function]";e.exports=function(e){var a=this;if("function"!=typeof a||r.call(a)!==s)throw new TypeError(t+a);for(var n,o=i.call(arguments,1),c=function(){if(this instanceof n){var t=a.apply(this,o.concat(i.call(arguments)));return Object(t)===t?t:this}return a.apply(e,o.concat(i.call(arguments)))},h=Math.max(0,a.length-o.length),d=[],u=0;u<h;u++)d.push("$"+u);if(n=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var l=function(){};l.prototype=a.prototype,n.prototype=new l,l.prototype=null}return n}},58612:(e,t,i)=>{"use strict";var r=i(17648);e.exports=Function.prototype.bind||r},40210:(e,t,i)=>{"use strict";var r,s=SyntaxError,a=Function,n=TypeError,o=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var h=function(){throw new n},d=c?function(){try{return h}catch(e){try{return c(arguments,"callee").get}catch(e){return h}}}():h,u=i(41405)(),l=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"==typeof Uint8Array?r:l(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":u?l([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?l(l([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?l((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?l((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?l(""[Symbol.iterator]()):r,"%Symbol%":u?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":p,"%TypeError%":n,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var i;if("%AsyncFunction%"===t)i=o("async function () {}");else if("%GeneratorFunction%"===t)i=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)i=o("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(i=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var s=e("%AsyncGenerator%");s&&(i=l(s.prototype))}return m[t]=i,i},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=i(58612),v=i(17642),w=b.call(Function.call,Array.prototype.concat),k=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),_=b.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,O=function(e){var t=_(e,0,1),i=_(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,M,(function(e,t,i,s){r[r.length]=i?S(s,T,"$1"):t||e})),r},x=function(e,t){var i,r=e;if(v(y,r)&&(r="%"+(i=y[r])[0]+"%"),v(m,r)){var a=m[r];if(a===f&&(a=g(r)),void 0===a&&!t)throw new n("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new n('"allowMissing" argument must be a boolean');var i=O(e),r=i.length>0?i[0]:"",a=x("%"+r+"%",t),o=a.name,h=a.value,d=!1,u=a.alias;u&&(r=u[0],k(i,w([0,1],u)));for(var l=1,f=!0;l<i.length;l+=1){var p=i[l],g=_(p,0,1),y=_(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&f||(d=!0),v(m,o="%"+(r+="."+p)+"%"))h=m[o];else if(null!=h){if(!(p in h)){if(!t)throw new n("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&l+1>=i.length){var b=c(h,p);h=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:h[p]}else f=v(h,p),h=h[p];f&&!d&&(m[o]=h)}}return h}},41405:(e,t,i)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,s=i(55419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&s()}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},17642:(e,t,i)=>{"use strict";var r=i(58612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},3349:(e,t,i)=>{"use strict";var r=i(89509).Buffer,s=i(88473).Transform;function a(e){s.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(35717)(a,s),a.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(e){r=e}i(r)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var i=this._block,s=0;this._blockOffset+e.length-s>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)i[a++]=e[s++];this._update(),this._blockOffset=0}for(;s<e.length;)i[this._blockOffset++]=e[s++];for(var n=0,o=8*e.length;o>0;++n)this._length[n]+=o,(o=this._length[n]/4294967296|0)>0&&(this._length[n]-=4294967296*o);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},33715:(e,t,i)=>{var r=t;r.utils=i(26436),r.common=i(95772),r.sha=i(89041),r.ripemd=i(12949),r.hmac=i(52344),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},95772:(e,t,i)=>{"use strict";var r=i(26436),s=i(79746);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-i,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),s(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var s=1;s<i;s++)r[s]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[s++]=0;r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=e>>>24&255,r[s++]=e>>>16&255,r[s++]=e>>>8&255,r[s++]=255&e}else for(r[s++]=255&e,r[s++]=e>>>8&255,r[s++]=e>>>16&255,r[s++]=e>>>24&255,r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=0,a=8;a<this.padLength;a++)r[s++]=0;return r}},52344:(e,t,i)=>{"use strict";var r=i(26436),s=i(79746);function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,i))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),s(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:(e,t,i)=>{"use strict";var r=i(26436),s=i(95772),a=r.rotl32,n=r.sum32,o=r.sum32_3,c=r.sum32_4,h=s.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(d,h),t.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],s=this.h[2],h=this.h[3],d=this.h[4],b=i,v=r,w=s,k=h,S=d,_=0;_<80;_++){var M=n(a(c(i,u(_,r,s,h),e[p[_]+t],l(_)),g[_]),d);i=d,d=h,h=a(s,10),s=r,r=M,M=n(a(c(b,u(79-_,v,w,k),e[m[_]+t],f(_)),y[_]),S),b=S,S=k,k=a(w,10),w=v,v=M}M=o(this.h[1],s,k),this.h[1]=o(this.h[2],h,S),this.h[2]=o(this.h[3],d,b),this.h[3]=o(this.h[4],i,v),this.h[4]=o(this.h[0],r,w),this.h[0]=M},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(e,t,i)=>{"use strict";t.sha1=i(84761),t.sha224=i(10799),t.sha256=i(89344),t.sha384=i(80772),t.sha512=i(45900)},84761:(e,t,i)=>{"use strict";var r=i(26436),s=i(95772),a=i(37038),n=r.rotl32,o=r.sum32,c=r.sum32_5,h=a.ft_1,d=s.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(l,d),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=n(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var s=this.h[0],a=this.h[1],d=this.h[2],l=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),m=c(n(s,5),h(p,a,d,l),f,i[r],u[p]);f=l,l=d,d=n(a,30),a=s,s=m}this.h[0]=o(this.h[0],s),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],l),this.h[4]=o(this.h[4],f)},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},10799:(e,t,i)=>{"use strict";var r=i(26436),s=i(89344);function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,s),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},89344:(e,t,i)=>{"use strict";var r=i(26436),s=i(95772),a=i(37038),n=i(79746),o=r.sum32,c=r.sum32_4,h=r.sum32_5,d=a.ch32,u=a.maj32,l=a.s0_256,f=a.s1_256,p=a.g0_256,m=a.g1_256,g=s.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(b,g),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=c(m(i[r-2]),i[r-7],p(i[r-15]),i[r-16]);var s=this.h[0],a=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],k=this.h[7];for(n(this.k.length===i.length),r=0;r<i.length;r++){var S=h(k,f(b),d(b,v,w),this.k[r],i[r]),_=o(l(s),u(s,a,g));k=w,w=v,v=b,b=o(y,S),y=g,g=a,a=s,s=o(S,_)}this.h[0]=o(this.h[0],s),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],k)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},80772:(e,t,i)=>{"use strict";var r=i(26436),s=i(45900);function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,s),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},45900:(e,t,i)=>{"use strict";var r=i(26436),s=i(95772),a=i(79746),n=r.rotr64_hi,o=r.rotr64_lo,c=r.shr64_hi,h=r.shr64_lo,d=r.sum64,u=r.sum64_hi,l=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,y=s.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,i,r,s){var a=e&i^~e&s;return a<0&&(a+=4294967296),a}function k(e,t,i,r,s,a){var n=t&r^~t&a;return n<0&&(n+=4294967296),n}function S(e,t,i,r,s){var a=e&i^e&s^i&s;return a<0&&(a+=4294967296),a}function _(e,t,i,r,s,a){var n=t&r^t&a^r&a;return n<0&&(n+=4294967296),n}function M(e,t){var i=n(e,t,28)^n(t,e,2)^n(t,e,7);return i<0&&(i+=4294967296),i}function T(e,t){var i=o(e,t,28)^o(t,e,2)^o(t,e,7);return i<0&&(i+=4294967296),i}function O(e,t){var i=o(e,t,14)^o(e,t,18)^o(t,e,9);return i<0&&(i+=4294967296),i}function x(e,t){var i=n(e,t,1)^n(e,t,8)^c(e,t,7);return i<0&&(i+=4294967296),i}function I(e,t){var i=o(e,t,1)^o(e,t,8)^h(e,t,7);return i<0&&(i+=4294967296),i}function C(e,t){var i=o(e,t,19)^o(t,e,29)^h(e,t,6);return i<0&&(i+=4294967296),i}r.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var i=this.W,r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){var s=(g=i[r-4],y=i[r-3],b=void 0,(b=n(g,y,19)^n(y,g,29)^c(g,y,6))<0&&(b+=4294967296),b),a=C(i[r-4],i[r-3]),o=i[r-14],h=i[r-13],d=x(i[r-30],i[r-29]),u=I(i[r-30],i[r-29]),l=i[r-32],m=i[r-31];i[r]=f(s,a,o,h,d,u,l,m),i[r+1]=p(s,a,o,h,d,u,l,m)}var g,y,b},v.prototype._update=function(e,t){this._prepareBlock(e,t);var i,r,s,o=this.W,c=this.h[0],h=this.h[1],f=this.h[2],p=this.h[3],y=this.h[4],b=this.h[5],v=this.h[6],x=this.h[7],I=this.h[8],C=this.h[9],A=this.h[10],E=this.h[11],N=this.h[12],P=this.h[13],B=this.h[14],R=this.h[15];a(this.k.length===o.length);for(var L=0;L<o.length;L+=2){var V=B,D=R,q=(s=void 0,(s=n(i=I,r=C,14)^n(i,r,18)^n(r,i,9))<0&&(s+=4294967296),s),G=O(I,C),F=w(I,0,A,0,N),j=k(0,C,0,E,0,P),U=this.k[L],z=this.k[L+1],H=o[L],K=o[L+1],W=m(V,D,q,G,F,j,U,z,H,K),Z=g(V,D,q,G,F,j,U,z,H,K);V=M(c,h),D=T(c,h),q=S(c,0,f,0,y),G=_(0,h,0,p,0,b);var X=u(V,D,q,G),Y=l(V,D,q,G);B=N,R=P,N=A,P=E,A=I,E=C,I=u(v,x,W,Z),C=l(x,x,W,Z),v=y,x=b,y=f,b=p,f=c,p=h,c=u(W,Z,X,Y),h=l(W,Z,X,Y)}d(this.h,0,c,h),d(this.h,2,f,p),d(this.h,4,y,b),d(this.h,6,v,x),d(this.h,8,I,C),d(this.h,10,A,E),d(this.h,12,N,P),d(this.h,14,B,R)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},37038:(e,t,i)=>{"use strict";var r=i(26436).rotr32;function s(e,t,i){return e&t^~e&i}function a(e,t,i){return e&t^e&i^t&i}function n(e,t,i){return e^t^i}t.ft_1=function(e,t,i,r){return 0===e?s(t,i,r):1===e||3===e?n(t,i,r):2===e?a(t,i,r):void 0},t.ch32=s,t.maj32=a,t.p32=n,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},26436:(e,t,i)=>{"use strict";var r=i(79746),s=i(35717);function a(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=s,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),s=0;s<e.length;s+=2)i.push(parseInt(e[s]+e[s+1],16))}else for(var r=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n<128?i[r++]=n:n<2048?(i[r++]=n>>6|192,i[r++]=63&n|128):a(e,s)?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++s)),i[r++]=n>>18|240,i[r++]=n>>12&63|128,i[r++]=n>>6&63|128,i[r++]=63&n|128):(i[r++]=n>>12|224,i[r++]=n>>6&63|128,i[r++]=63&n|128)}else for(s=0;s<e.length;s++)i[s]=0|e[s];return i},t.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=o(e[i].toString(16));return t},t.htonl=n,t.toHex32=function(e,t){for(var i="",r=0;r<e.length;r++){var s=e[r];"little"===t&&(s=n(s)),i+=c(s.toString(16))}return i},t.zero2=o,t.zero8=c,t.join32=function(e,t,i,s){var a=i-t;r(a%4==0);for(var n=new Array(a/4),o=0,c=t;o<n.length;o++,c+=4){var h;h="big"===s?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],n[o]=h>>>0}return n},t.split32=function(e,t){for(var i=new Array(4*e.length),r=0,s=0;r<e.length;r++,s+=4){var a=e[r];"big"===t?(i[s]=a>>>24,i[s+1]=a>>>16&255,i[s+2]=a>>>8&255,i[s+3]=255&a):(i[s+3]=a>>>24,i[s+2]=a>>>16&255,i[s+1]=a>>>8&255,i[s]=255&a)}return i},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,i){return e+t+i>>>0},t.sum32_4=function(e,t,i,r){return e+t+i+r>>>0},t.sum32_5=function(e,t,i,r,s){return e+t+i+r+s>>>0},t.sum64=function(e,t,i,r){var s=e[t],a=r+e[t+1]>>>0,n=(a<r?1:0)+i+s;e[t]=n>>>0,e[t+1]=a},t.sum64_hi=function(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0},t.sum64_lo=function(e,t,i,r){return t+r>>>0},t.sum64_4_hi=function(e,t,i,r,s,a,n,o){var c=0,h=t;return c+=(h=h+r>>>0)<t?1:0,c+=(h=h+a>>>0)<a?1:0,e+i+s+n+(c+=(h=h+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,i,r,s,a,n,o){return t+r+a+o>>>0},t.sum64_5_hi=function(e,t,i,r,s,a,n,o,c,h){var d=0,u=t;return d+=(u=u+r>>>0)<t?1:0,d+=(u=u+a>>>0)<a?1:0,d+=(u=u+o>>>0)<o?1:0,e+i+s+n+c+(d+=(u=u+h>>>0)<h?1:0)>>>0},t.sum64_5_lo=function(e,t,i,r,s,a,n,o,c,h){return t+r+a+o+h>>>0},t.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},t.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},t.shr64_hi=function(e,t,i){return e>>>i},t.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},2156:(e,t,i)=>{"use strict";var r=i(33715),s=i(34504),a=i(79746);function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=s.toArray(e.entropy,e.entropyEnc||"hex"),i=s.toArray(e.nonce,e.nonceEnc||"hex"),r=s.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,r)}e.exports=n,n.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,t,i,r){"string"!=typeof t&&(r=i,i=t,t=null),e=s.toArray(e,t),i=s.toArray(i,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},n.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=i,i=t,t=null),i&&(i=s.toArray(i,r||"hex"),this._update(i));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var n=a.slice(0,e);return this._update(i),this._reseed++,s.encode(n,t)}},8679:(e,t,i)=>{"use strict";var r=i(21296),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function c(e){return r.isMemo(e)?n:o[e.$$typeof]||s}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=n;var h=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,i,r){if("string"!=typeof i){if(p){var s=f(i);s&&s!==p&&e(t,s,r)}var n=d(i);u&&(n=n.concat(u(i)));for(var o=c(t),m=c(i),g=0;g<n.length;++g){var y=n[g];if(!(a[y]||r&&r[y]||m&&m[y]||o&&o[y])){var b=l(i,y);try{h(t,y,b)}catch(e){}}}}return t}},96103:(e,t)=>{"use strict";var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,n=i?Symbol.for("react.strict_mode"):60108,o=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,l=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,v=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case o:case n:case f:return e;default:switch(e=e&&e.$$typeof){case h:case l:case g:case m:case c:return e;default:return t}}case s:return t}}}function S(e){return k(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=h,t.ContextProvider=c,t.Element=r,t.ForwardRef=l,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=s,t.Profiler=o,t.StrictMode=n,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||k(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return k(e)===h},t.isContextProvider=function(e){return k(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===l},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===g},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===s},t.isProfiler=function(e){return k(e)===o},t.isStrictMode=function(e){return k(e)===n},t.isSuspense=function(e){return k(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===o||e===n||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===h||e.$$typeof===l||e.$$typeof===b||e.$$typeof===v||e.$$typeof===w||e.$$typeof===y)},t.typeOf=k},21296:(e,t,i)=>{"use strict";e.exports=i(96103)},79267:(e,t,i)=>{var r=i(8501),s=i(8575),a=e.exports;for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);function o(e){if("string"==typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=o(e),r.request.call(this,e,t)},a.get=function(e,t){return e=o(e),r.get.call(this,e,t)}},80645:(e,t)=>{t.read=function(e,t,i,r,s){var a,n,o=8*s-r-1,c=(1<<o)-1,h=c>>1,d=-7,u=i?s-1:0,l=i?-1:1,f=e[t+u];for(u+=l,a=f&(1<<-d)-1,f>>=-d,d+=o;d>0;a=256*a+e[t+u],u+=l,d-=8);for(n=a&(1<<-d)-1,a>>=-d,d+=r;d>0;n=256*n+e[t+u],u+=l,d-=8);if(0===a)a=1-h;else{if(a===c)return n?NaN:1/0*(f?-1:1);n+=Math.pow(2,r),a-=h}return(f?-1:1)*n*Math.pow(2,a-r)},t.write=function(e,t,i,r,s,a){var n,o,c,h=8*a-s-1,d=(1<<h)-1,u=d>>1,l=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,n=d):(n=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-n))<1&&(n--,c*=2),(t+=n+u>=1?l/c:l*Math.pow(2,1-u))*c>=2&&(n++,c/=2),n+u>=d?(o=0,n=d):n+u>=1?(o=(t*c-1)*Math.pow(2,s),n+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,s),n=0));s>=8;e[i+f]=255&o,f+=p,o/=256,s-=8);for(n=n<<s|o,h+=s;h>0;e[i+f]=255&n,f+=p,n/=256,h-=8);e[i+f-p]|=128*m}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},82584:(e,t,i)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=i(21924)("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===s(e)},n=function(e){return!!a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==s(e)&&"[object Function]"===s(e.callee)},o=function(){return a(arguments)}();a.isLegacyArguments=n,e.exports=o?a:n},48662:e=>{"use strict";var t=Object.prototype.toString,i=Function.prototype.toString,r=/^\s*(?:function)?\*/,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,n=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}(),o=!(!a||!n)&&a(n);e.exports=function(e){return"function"==typeof e&&(!!r.test(i.call(e))||(s?a&&a(e)===o:"[object GeneratorFunction]"===t.call(e)))}},98611:e=>{"use strict";e.exports=function(e){return e!=e}},20360:(e,t,i)=>{"use strict";var r=i(55559),s=i(4289),a=i(98611),n=i(29415),o=i(23194),c=r(n(),Number);s(c,{getPolyfill:n,implementation:a,shim:o}),e.exports=c},29415:(e,t,i)=>{"use strict";var r=i(98611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},23194:(e,t,i)=>{"use strict";var r=i(4289),s=i(29415);e.exports=function(){var e=s();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},85692:(e,t,i)=>{"use strict";var r=i(49804),s=i(63083),a=i(21924),n=a("Object.prototype.toString"),o=i(41405)()&&"symbol"==typeof Symbol.toStringTag,c=s(),h=a("Array.prototype.indexOf",!0)||function(e,t){for(var i=0;i<e.length;i+=1)if(e[i]===t)return i;return-1},d=a("String.prototype.slice"),u={},l=i(20882),f=Object.getPrototypeOf;o&&l&&f&&r(c,(function(e){var t=new i.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=f(t),s=l(r,Symbol.toStringTag);if(!s){var a=f(r);s=l(a,Symbol.toStringTag)}u[e]=s.get})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!o){var t=d(n(e),8,-1);return h(c,t)>-1}return!!l&&function(e){var t=!1;return r(u,(function(i,r){if(!t)try{t=i.call(e)===r}catch(e){}})),t}(e)}},62318:(e,t,i)=>{"use strict";var r=i(35717),s=i(3349),a=i(89509).Buffer,n=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function h(e,t,i,r,s,a,n){return c(e+(t&i|~t&r)+s+a|0,n)+t|0}function d(e,t,i,r,s,a,n){return c(e+(t&r|i&~r)+s+a|0,n)+t|0}function u(e,t,i,r,s,a,n){return c(e+(t^i^r)+s+a|0,n)+t|0}function l(e,t,i,r,s,a,n){return c(e+(i^(t|~r))+s+a|0,n)+t|0}r(o,s),o.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,s=this._c,a=this._d;i=h(i,r,s,a,e[0],3614090360,7),a=h(a,i,r,s,e[1],3905402710,12),s=h(s,a,i,r,e[2],606105819,17),r=h(r,s,a,i,e[3],3250441966,22),i=h(i,r,s,a,e[4],4118548399,7),a=h(a,i,r,s,e[5],1200080426,12),s=h(s,a,i,r,e[6],2821735955,17),r=h(r,s,a,i,e[7],4249261313,22),i=h(i,r,s,a,e[8],1770035416,7),a=h(a,i,r,s,e[9],2336552879,12),s=h(s,a,i,r,e[10],4294925233,17),r=h(r,s,a,i,e[11],2304563134,22),i=h(i,r,s,a,e[12],1804603682,7),a=h(a,i,r,s,e[13],4254626195,12),s=h(s,a,i,r,e[14],2792965006,17),i=d(i,r=h(r,s,a,i,e[15],1236535329,22),s,a,e[1],4129170786,5),a=d(a,i,r,s,e[6],3225465664,9),s=d(s,a,i,r,e[11],643717713,14),r=d(r,s,a,i,e[0],3921069994,20),i=d(i,r,s,a,e[5],3593408605,5),a=d(a,i,r,s,e[10],38016083,9),s=d(s,a,i,r,e[15],3634488961,14),r=d(r,s,a,i,e[4],3889429448,20),i=d(i,r,s,a,e[9],568446438,5),a=d(a,i,r,s,e[14],3275163606,9),s=d(s,a,i,r,e[3],4107603335,14),r=d(r,s,a,i,e[8],1163531501,20),i=d(i,r,s,a,e[13],2850285829,5),a=d(a,i,r,s,e[2],4243563512,9),s=d(s,a,i,r,e[7],1735328473,14),i=u(i,r=d(r,s,a,i,e[12],2368359562,20),s,a,e[5],4294588738,4),a=u(a,i,r,s,e[8],2272392833,11),s=u(s,a,i,r,e[11],1839030562,16),r=u(r,s,a,i,e[14],4259657740,23),i=u(i,r,s,a,e[1],2763975236,4),a=u(a,i,r,s,e[4],1272893353,11),s=u(s,a,i,r,e[7],4139469664,16),r=u(r,s,a,i,e[10],3200236656,23),i=u(i,r,s,a,e[13],681279174,4),a=u(a,i,r,s,e[0],3936430074,11),s=u(s,a,i,r,e[3],3572445317,16),r=u(r,s,a,i,e[6],76029189,23),i=u(i,r,s,a,e[9],3654602809,4),a=u(a,i,r,s,e[12],3873151461,11),s=u(s,a,i,r,e[15],530742520,16),i=l(i,r=u(r,s,a,i,e[2],3299628645,23),s,a,e[0],4096336452,6),a=l(a,i,r,s,e[7],1126891415,10),s=l(s,a,i,r,e[14],2878612391,15),r=l(r,s,a,i,e[5],4237533241,21),i=l(i,r,s,a,e[12],1700485571,6),a=l(a,i,r,s,e[3],2399980690,10),s=l(s,a,i,r,e[10],4293915773,15),r=l(r,s,a,i,e[1],2240044497,21),i=l(i,r,s,a,e[8],1873313359,6),a=l(a,i,r,s,e[15],4264355552,10),s=l(s,a,i,r,e[6],2734768916,15),r=l(r,s,a,i,e[13],1309151649,21),i=l(i,r,s,a,e[4],4149444226,6),a=l(a,i,r,s,e[11],3174756917,10),s=l(s,a,i,r,e[2],718787259,15),r=l(r,s,a,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+s|0,this._d=this._d+a|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},63047:(e,t,i)=>{var r=i(96240),s=i(29931);function a(e){this.rand=e||new s.Rand}e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var s=new r(this.rand.generate(i))}while(s.cmp(e)>=0);return s},a.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},a.prototype.test=function(e,t,i){var s=e.bitLength(),a=r.mont(e),n=new r(1).toRed(a);t||(t=Math.max(1,s/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var h=e.shrn(c),d=o.toRed(a);t>0;t--){var u=this._randrange(new r(2),o);i&&i(u);var l=u.toRed(a).redPow(h);if(0!==l.cmp(n)&&0!==l.cmp(d)){for(var f=1;f<c;f++){if(0===(l=l.redSqr()).cmp(n))return!1;if(0===l.cmp(d))break}if(f===c)return!1}}return!0},a.prototype.getDivisor=function(e,t){var i=e.bitLength(),s=r.mont(e),a=new r(1).toRed(s);t||(t=Math.max(1,i/48|0));for(var n=e.subn(1),o=0;!n.testn(o);o++);for(var c=e.shrn(o),h=n.toRed(s);t>0;t--){var d=this._randrange(new r(2),n),u=e.gcd(d);if(0!==u.cmpn(1))return u;var l=d.toRed(s).redPow(c);if(0!==l.cmp(a)&&0!==l.cmp(h)){for(var f=1;f<o;f++){if(0===(l=l.redSqr()).cmp(a))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(h))break}if(f===o)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},96240:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(56619).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},79746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},34504:(e,t)=>{"use strict";var i=t;function r(e){return 1===e.length?"0"+e:e}function s(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var s=e.charCodeAt(r),a=s>>8,n=255&s;a?i.push(a,n):i.push(n)}return i},i.zero2=r,i.toHex=s,i.encode=function(e,t){return"hex"===t?s(e):e}},83300:(e,t)=>{"use strict";var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response},24244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,i){return 0===e&&0===i?1/e==1/i:e===i||!(!t(e)||!t(i))}},20609:(e,t,i)=>{"use strict";var r=i(4289),s=i(55559),a=i(24244),n=i(75624),o=i(52281),c=s(n(),Object);r(c,{getPolyfill:n,implementation:a,shim:o}),e.exports=c},75624:(e,t,i)=>{"use strict";var r=i(24244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},52281:(e,t,i)=>{"use strict";var r=i(75624),s=i(4289);e.exports=function(){var e=r();return s(Object,{is:e},{is:function(){return Object.is!==e}}),e}},18987:(e,t,i)=>{"use strict";var r;if(!Object.keys){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=i(21414),o=Object.prototype.propertyIsEnumerable,c=!o.call({toString:null},"toString"),h=o.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!l["$"+e]&&s.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===a.call(e),r=n(e),o=t&&"[object String]"===a.call(e),l=[];if(!t&&!i&&!r)throw new TypeError("Object.keys called on a non-object");var p=h&&i;if(o&&e.length>0&&!s.call(e,0))for(var m=0;m<e.length;++m)l.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)l.push(String(g));else for(var y in e)p&&"prototype"===y||!s.call(e,y)||l.push(String(y));if(c)for(var b=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(e){return!1}}(e),v=0;v<d.length;++v)b&&"constructor"===d[v]||!s.call(e,d[v])||l.push(d[v]);return l}}e.exports=r},82215:(e,t,i)=>{"use strict";var r=Array.prototype.slice,s=i(21414),a=Object.keys,n=a?function(e){return a(e)}:i(18987),o=Object.keys;n.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return s(e)?o(r.call(e)):o(e)})}else Object.keys=n;return Object.keys||n},e.exports=n},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var i=t.call(e),r="[object Arguments]"===i;return r||(r="[object Array]"!==i&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},63758:(e,t,i)=>{"use strict";var r=i(84564);function s(e){return"string"==typeof e&&(e=r(e)),e.protocol&&e.hostname?(e.protocol+"//"+e.host).toLowerCase():"null"}s.same=function(e,t){return s(e)===s(t)},e.exports=s},42693:(e,t,i)=>{"use strict";const r=i(99353),s=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class a extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const n=(e,t)=>new Promise(((i,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const o=r.operation(t);o.attempt((async r=>{try{i(await e(r))}catch(e){if(!(e instanceof Error))return void n(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof a)o.stop(),n(e.originalError);else if(e instanceof TypeError&&(c=e.message,!s.includes(c)))o.stop(),n(e);else{((e,t,i)=>{const r=i.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(e,r,t);try{await t.onFailedAttempt(e)}catch(e){return void n(e)}o.retry(e)||n(o.mainError())}}var c}))}));e.exports=n,e.exports.default=n,e.exports.AbortError=a},56171:(e,t,i)=>{var r=i(48764).Buffer;const s=i(1191),a=i(50780),n=i(83300),o=i(68107);var c=function(e){if("Uint8Array"!==(e.constructor.name||null))throw new TypeError("Expected Uint8Array");return r.from(e).toString("hex")},h=function(e){if("string"!=typeof e)throw new TypeError("Expected string: "+e);return new Uint8Array(r.from(e,"hex"))};function d(e){var t,i=new Uint8Array(e.length);for(t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}function u(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function l(e){return d(b64url.decode(e))}function f(e){return b64url.encode(u(e))}b64url=function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{encode:function(i){for(var r,s,a=String(i),n=0,o=e,c="";a.charAt(0|n);c+=o.charAt(63&r>>8-n%1*8)){if((s=a.charCodeAt(n+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|s}return c},decode:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,a,n=0,o=0,c="";a=r.charAt(o++);~a&&(s=n%4?64*s+a:a,n++%4)?c+=String.fromCharCode(255&s>>(-2*n&6)):0)a=e.indexOf(a);return c}}}();var p=function(e){return s.blake2b(e,null,32)},m=function(e){if(!e.hasOwnProperty("publicKey")||!e.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(e));return h(e.secretKey+e.publicKey)},g=function(e,t){var i=f(p(e));return 0===t.length?[{hash:i,sig:void 0}]:t.map((t=>t.hasOwnProperty("publicKey")&&t.publicKey&&t.hasOwnProperty("secretKey")&&t.secretKey?y(e,t):{hash:i,sig:void 0,publicKey:t.publicKey}))},y=function(e,t){if(!t.hasOwnProperty("publicKey")||!t.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(t));var i=p(e),r=f(i),s=a.sign.detached(i,m(t));return{hash:r,sig:c(s),pubKey:t.publicKey}},b=function(e){if(!e.hasOwnProperty("sig"))throw new TypeError("Expected to find keys of name 'sig' in "+JSON.stringify(e));return{sig:e.sig}},v=function(e){for(var t=e[0].hash,i=1;i<e.length;i++)if(e[i].hash!==t)throw new Error("Sigs for different hashes found: "+JSON.stringify(e));return t},w=function(e=[],t=(new Date).toISOString(),i,r,s=C("","",0,0,0,0),a=null){O(t,"string","nonce"),O(i,"string","pactCode");var n=T(e),o={networkId:a,payload:{exec:{data:r||{},code:i}},signers:n.map(M),meta:s,nonce:JSON.stringify(t)},c=JSON.stringify(o),h=g(c,n);return S(h,c)},k=function(e=[],t=(new Date).toISOString(),i,r,s,a,n,o=C("","",0,0,0,0),c=null){O(t,"string","nonce");var h=T(e),d={networkId:c,payload:{cont:{proof:i||null,pactId:r,rollback:s,step:a,data:n||{}}},signers:h.map(M),meta:o,nonce:JSON.stringify(t)},u=JSON.stringify(d),l=g(u,h);return S(l,u)},S=function(e,t){return x(e,"sigs"),O(t,"string","cmd"),{hash:v(e),sigs:e.filter((e=>e.sig)).map(b),cmd:t}},_=function(e){return{cmds:T(e)}},M=function(e){return e.clist?{clist:T(e.clist),pubKey:e.publicKey}:{pubKey:e.publicKey}},T=function(e){return Array.isArray(e)?e:[e]},O=function(e,t,i){if(typeof e!==t)throw new TypeError(i+" must be a "+t+": "+JSON.stringify(e))},x=function(e,t){if(!Array.isArray(e))throw new TypeError(t+" must be an array: "+JSON.stringify(e))},I=function(e){for(var t={},i=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,i.push(e[r]));return i},C=function(e,t,i,r,s,a){return O(e,"string","sender"),O(t,"string","chainId"),O(i,"number","gasPrice"),O(r,"number","gasLimit"),O(s,"number","creationTime"),O(a,"number","ttl"),{creationTime:s,ttl:a,gasLimit:r,chainId:t,gasPrice:i,sender:e}},A=function(e){return{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}},E=async function(e){const t=await e;return(await t).ok?await t.json():await t.text()};e.exports={crypto:{binToHex:c,hexToBin:h,base64UrlEncode:b64url.encode,base64UrlDecode:b64url.decode,base64UrlEncodeArr:f,base64UrlDecodeArr:l,strToUint8Array:d,uint8ArrayToStr:u,hash:function(e){return f(p(e))},hashBin:p,genKeyPair:function(){var e=a.sign.keyPair();return{publicKey:c(e.publicKey),secretKey:c(e.secretKey).slice(0,64)}},restoreKeyPairFromSecretKey:function(e){if(!e)throw new Error("seed for KeyPair generation not provided");if(64!==e.length)throw new Error("Seed for KeyPair generation has bad size");var t=h(e),i=a.sign.keyPair.fromSeed(t);return{publicKey:c(i.publicKey),secretKey:c(i.secretKey).slice(0,64)}},sign:y,signHash:function(e,t){if(!t.hasOwnProperty("publicKey")||!t.hasOwnProperty("secretKey"))throw new TypeError("Invalid KeyPair: expected to find keys of name 'secretKey' and 'publicKey': "+JSON.stringify(t));var i=l(e),r=a.sign.detached(i,m(t));return{hash:e,sig:c(r),pubKey:t.publicKey}},verifySig:a.sign.detached.verify,toTweetNaclSecretKey:m},api:{prepareContCmd:k,prepareExecCmd:w,mkSingleCmd:S,mkPublicSend:_},lang:{mkExp:function(e){return O(e,"string","pgmName"),"("+e+" "+Array.prototype.slice.call(arguments,1).map(JSON.stringify).join(" ")+")"},mkMeta:C,mkCap:function(e,t,i,r=[]){return O(e,"string","role"),O(t,"string","description"),O(i,"string","name of capability"),O(r,"object","arguments to capability"),{role:e,description:t,cap:{name:i,args:r}}}},simple:{cont:{createCommand:function(e,t,i,r,s,a,n,o,c){return _(k(e,t,o,r,s,i,a,n,c))}},exec:{createCommand:function(e,t,i,r,s,a){return _(w(e,t,i,r,s,a))},createLocalCommand:w,createPollRequest:function(e){var t=e.cmds||TypeError("expected key 'cmds' in object: "+JSON.stringify(e));if(!t.every((function(e){return e.hasOwnProperty("hash")})))throw new TypeError('maleformed object, expected "hash" key in every cmd: '+JSON.stringify(e));return{requestKeys:I(t.map((function(e){return e.hash})))}},createListenRequest:function(e){var t=e.cmds||TypeError("expected key 'cmds' in object: "+JSON.stringify(e));if(!t.every((function(e){return e.hasOwnProperty("hash")})))throw new TypeError('maleformed object, expected "hash" key in every cmd: '+JSON.stringify(e));return{listen:I(t.map((function(e){return e.hash})))[0]}}}},fetch:{send:async function(e,t){let i=function(e,t){if(!t)throw new Error("Pact.fetch.send(): No apiHost provided");const i=T(e).map((e=>"cont"===e.type?k(e.keyPairs,e.nonce,e.proof,e.pactId,e.rollback,e.step,e.envData,e.meta,e.networkId):w(e.keyPairs,e.nonce,e.pactCode,e.envData,e.meta,e.networkId)));return n(`${t}/api/v1/send`,A(_(i)))}(e,t);return E(i)},local:async function(e,t){let i=function(e,t){if(!t)throw new Error("Pact.fetch.local(): No apiHost provided");const{keyPairs:i,nonce:r,pactCode:s,envData:a,meta:o,networkId:c}=e,h=w(i,r,s,a,o,c);return n(`${t}/api/v1/local`,A(h))}(e,t);return E(i)},poll:async function(e,t){let i=function(e,t){if(!t)throw new Error("Pact.fetch.poll(): No apiHost provided");return n(`${t}/api/v1/poll`,A(e))}(e,t);return E(i)},listen:async function(e,t){let i=function(e,t){if(!t)throw new Error("Pact.fetch.listen(): No apiHost provided");return n(`${t}/api/v1/listen`,A(e))}(e,t);return E(i)},spv:async function(e,t){let i=function(e,t){if(!t)throw new Error("Pact.fetch.spv(): No apiHost provided");return O(e.targetChainId,"string","targetChainId"),O(e.requestKey,"string","requestKey"),n(`${t}/spv`,A(e))}(e,t);return E(i)}},wallet:{sign:async function(e){let t=function(e){if(!e.pactCode)throw new Error("Pact.wallet.sign(): No Pact Code provided");if(!e.caps)throw new Error("Pact.wallet.sign(): No Caps provided");O(e.pactCode,"string","pactCode"),O(e.caps,"object","caps"),e.envData&&O(e.envData,"object","envData"),e.sender&&O(e.sender,"string","sender"),e.chainId&&O(e.chainId,"string","chainId"),e.gasPrice&&O(e.gasPrice,"number","gasPrice"),e.gasLimit&&O(e.gasLimit,"number","gasLimit"),e.nonce&&O(e.nonce,"string","nonce"),e.ttl&&O(e.ttl,"number","ttl"),e.networkId&&O(e.networkId,"string","networkId"),e.signingPubKey&&O(e.signingPubKey,"string","signingPubKey");const t={code:e.pactCode,caps:T(e.caps),data:e.envData,sender:e.sender,chainId:e.chainId,gasLimit:e.gasLimit,gasPrice:e.gasPrice,nonce:e.nonce,ttl:e.ttl,signingPubKey:e.signingPubKey,networkId:e.networkId};return n("http://127.0.0.1:9467/v1/sign",A(t))}(e);return(await E(t)).body},sendSigned:async function(e,t){const i={cmds:[e]},r=await n(`${t}/api/v1/send`,A(i));return await r.json()}},cut:{current:o.cut.current},event:{range:o.event.range,recent:o.event.recent,stream:o.event.stream,height:o.event.height,blockHash:o.event.blockHash}}},24236:(e,t)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var s in i)r(i,s)&&(e[s]=i[s])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,i,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),s);else for(var a=0;a<r;a++)e[s+a]=t[i+a]},flattenChunks:function(e){var t,i,r,s,a,n;for(r=0,t=0,i=e.length;t<i;t++)r+=e[t].length;for(n=new Uint8Array(r),s=0,t=0,i=e.length;t<i;t++)a=e[t],n.set(a,s),s+=a.length;return n}},a={arraySet:function(e,t,i,r,s){for(var a=0;a<r;a++)e[s+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},66069:e=>{"use strict";e.exports=function(e,t,i,r){for(var s=65535&e|0,a=e>>>16&65535|0,n=0;0!==i;){i-=n=i>2e3?2e3:i;do{a=a+(s=s+t[r++]|0)|0}while(--n);s%=65521,a%=65521}return s|a<<16|0}},71619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,i,r,s){var a=t,n=s+r;e^=-1;for(var o=s;o<n;o++)e=e>>>8^a[255&(e^i[o])];return-1^e}},30405:(e,t,i)=>{"use strict";var r,s=i(24236),a=i(10342),n=i(66069),o=i(2869),c=i(48898),h=-2,d=258,u=262,l=103,f=113,p=666;function m(e,t){return e.msg=c[t],t}function g(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function b(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function v(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,b(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function k(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function S(e,t){var i,r,s=e.max_chain_length,a=e.strstart,n=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,h=e.window,l=e.w_mask,f=e.prev,p=e.strstart+d,m=h[a+n-1],g=h[a+n];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(h[(i=t)+n]===g&&h[i+n-1]===m&&h[i]===h[a]&&h[++i]===h[a+1]){a+=2,i++;do{}while(h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&a<p);if(r=d-(p-a),a=p-d,r>n){if(e.match_start=t,n=r,r>=o)break;m=h[a+n-1],g=h[a+n]}}}while((t=f[t&l])>c&&0!=--s);return n<=e.lookahead?n:e.lookahead}function _(e){var t,i,r,a,c,h,d,l,f,p,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-u)){s.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=i=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--i);t=i=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--i);a+=m}if(0===e.strm.avail_in)break;if(h=e.strm,d=e.window,l=e.strstart+e.lookahead,f=a,p=void 0,(p=h.avail_in)>f&&(p=f),i=0===p?0:(h.avail_in-=p,s.arraySet(d,h.input,h.next_in,p,l),1===h.state.wrap?h.adler=n(h.adler,d,p,l):2===h.state.wrap&&(h.adler=o(h.adler,d,p,l)),h.next_in+=p,h.total_in+=p,p),e.lookahead+=i,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function M(e,t){for(var i,r;;){if(e.lookahead<u){if(_(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-u&&(e.match_length=S(e,i)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function T(e,t){for(var i,r,s;;){if(e.lookahead<u){if(_(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-u&&(e.match_length=S(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function O(e,t,i,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=s}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(1146),this.dyn_dtree=new s.Buf16(122),this.bl_tree=new s.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(16),this.heap=new s.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):m(e,h)}function C(e){var t,i=I(e);return 0===i&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function A(e,t,i,r,a,n){if(!e)return h;var o=1;if(-1===t&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||8!==i||r<8||r>15||t<0||t>9||n<0||n>4)return m(e,h);8===r&&(r=9);var c=new x;return e.state=c,c.strm=e,c.wrap=o,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new s.Buf8(2*c.w_size),c.head=new s.Buf16(c.hash_size),c.prev=new s.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new s.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=n,c.method=i,C(e)}r=[new O(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,v(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(v(e,!1),e.strm.avail_out),1)})),new O(4,4,8,4,M),new O(4,5,16,8,M),new O(4,6,32,32,M),new O(4,4,16,16,T),new O(8,16,32,32,T),new O(8,16,128,128,T),new O(8,32,128,256,T),new O(32,128,258,1024,T),new O(32,258,258,4096,T)],t.deflateInit=function(e,t){return A(e,t,8,15,8,0)},t.deflateInit2=A,t.deflateReset=C,t.deflateResetKeep=I,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,0):h},t.deflate=function(e,t){var i,s,n,c;if(!e||!e.state||t>5||t<0)return e?m(e,h):h;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===p&&4!==t)return m(e,0===e.avail_out?-5:h);if(s.strm=e,i=s.last_flush,s.last_flush=t,42===s.status)if(2===s.wrap)e.adler=0,w(s,31),w(s,139),w(s,8),s.gzhead?(w(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),w(s,255&s.gzhead.time),w(s,s.gzhead.time>>8&255),w(s,s.gzhead.time>>16&255),w(s,s.gzhead.time>>24&255),w(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),w(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(w(s,255&s.gzhead.extra.length),w(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(w(s,0),w(s,0),w(s,0),w(s,0),w(s,0),w(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),w(s,3),s.status=f);else{var u=8+(s.w_bits-8<<4)<<8;u|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(u|=32),u+=31-u%31,s.status=f,k(s,u),0!==s.strstart&&(k(s,e.adler>>>16),k(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(n=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),b(e),n=s.pending,s.pending!==s.pending_buf_size));)w(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){n=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),b(e),n=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,w(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),0===c&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){n=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),b(e),n=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,w(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),0===c&&(s.status=l)}else s.status=l;if(s.status===l&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&b(e),s.pending+2<=s.pending_buf_size&&(w(s,255&e.adler),w(s,e.adler>>8&255),e.adler=0,s.status=f)):s.status=f),0!==s.pending){if(b(e),0===e.avail_out)return s.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(i)&&4!==t)return m(e,-5);if(s.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==s.lookahead||0!==t&&s.status!==p){var S=2===s.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var i,r,s,n,o=e.window;;){if(e.lookahead<=d){if(_(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[s=e.strstart-1])===o[++s]&&r===o[++s]&&r===o[++s]){n=e.strstart+d;do{}while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<n);e.match_length=d-(n-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(s,t):r[s.level].func(s,t);if(3!==S&&4!==S||(s.status=p),1===S||3===S)return 0===e.avail_out&&(s.last_flush=-1),0;if(2===S&&(1===t?a._tr_align(s):5!==t&&(a._tr_stored_block(s,0,0,!1),3===t&&(y(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),b(e),0===e.avail_out))return s.last_flush=-1,0}return 4!==t?0:s.wrap<=0?1:(2===s.wrap?(w(s,255&e.adler),w(s,e.adler>>8&255),w(s,e.adler>>16&255),w(s,e.adler>>24&255),w(s,255&e.total_in),w(s,e.total_in>>8&255),w(s,e.total_in>>16&255),w(s,e.total_in>>24&255)):(k(s,e.adler>>>16),k(s,65535&e.adler)),b(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==l&&t!==f&&t!==p?m(e,h):(e.state=null,t===f?m(e,-3):0):h},t.deflateSetDictionary=function(e,t){var i,r,a,o,c,d,u,l,f=t.length;if(!e||!e.state)return h;if(2===(o=(i=e.state).wrap)||1===o&&42!==i.status||i.lookahead)return h;for(1===o&&(e.adler=n(e.adler,t,f,0)),i.wrap=0,f>=i.w_size&&(0===o&&(y(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new s.Buf8(i.w_size),s.arraySet(l,t,f-i.w_size,i.w_size,0),t=l,f=i.w_size),c=e.avail_in,d=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(i);i.lookahead>=3;){r=i.strstart,a=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+3-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--a);i.strstart=r,i.lookahead=2,_(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=d,e.input=u,e.avail_in=c,i.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},94264:e=>{"use strict";e.exports=function(e,t){var i,r,s,a,n,o,c,h,d,u,l,f,p,m,g,y,b,v,w,k,S,_,M,T,O;i=e.state,r=e.next_in,T=e.input,s=r+(e.avail_in-5),a=e.next_out,O=e.output,n=a-(t-e.avail_out),o=a+(e.avail_out-257),c=i.dmax,h=i.wsize,d=i.whave,u=i.wnext,l=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,y=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;e:do{p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),v=m[f&y];t:for(;;){if(f>>>=w=v>>>24,p-=w,0==(w=v>>>16&255))O[a++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=m[(65535&v)+(f&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}k=65535&v,(w&=15)&&(p<w&&(f+=T[r++]<<p,p+=8),k+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),v=g[f&b];i:for(;;){if(f>>>=w=v>>>24,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=g[(65535&v)+(f&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(S=65535&v,p<(w&=15)&&(f+=T[r++]<<p,(p+=8)<w&&(f+=T[r++]<<p,p+=8)),(S+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=w,p-=w,S>(w=a-n)){if((w=S-w)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(_=0,M=l,0===u){if(_+=h-w,w<k){k-=w;do{O[a++]=l[_++]}while(--w);_=a-S,M=O}}else if(u<w){if(_+=h+u-w,(w-=u)<k){k-=w;do{O[a++]=l[_++]}while(--w);if(_=0,u<k){k-=w=u;do{O[a++]=l[_++]}while(--w);_=a-S,M=O}}}else if(_+=u-w,w<k){k-=w;do{O[a++]=l[_++]}while(--w);_=a-S,M=O}for(;k>2;)O[a++]=M[_++],O[a++]=M[_++],O[a++]=M[_++],k-=3;k&&(O[a++]=M[_++],k>1&&(O[a++]=M[_++]))}else{_=a-S;do{O[a++]=O[_++],O[a++]=O[_++],O[a++]=O[_++],k-=3}while(k>2);k&&(O[a++]=O[_++],k>1&&(O[a++]=O[_++]))}break}}break}}while(r<s&&a<o);r-=k=p>>3,f&=(1<<(p-=k<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=a<o?o-a+257:257-(a-o),i.hold=f,i.bits=p}},27948:(e,t,i)=>{"use strict";var r=i(24236),s=i(66069),a=i(2869),n=i(94264),o=i(9241),c=-2,h=12,d=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function m(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,p(e))):c}function g(e,t){var i,r;return e?(r=new l,e.state=r,r.window=null,0!==(i=m(e,t))&&(e.state=null),i):c}var y,b,v=!0;function w(e){if(v){var t;for(y=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,b,0,e.work,{bits:5}),v=!1}e.lencode=y,e.lenbits=9,e.distcode=b,e.distbits=5}function k(e,t,i,s){var a,n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new r.Buf8(n.wsize)),s>=n.wsize?(r.arraySet(n.window,t,i-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):((a=n.wsize-n.wnext)>s&&(a=s),r.arraySet(n.window,t,i-s,a,n.wnext),(s-=a)?(r.arraySet(n.window,t,i-s,s,0),n.wnext=s,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var i,l,f,p,m,g,y,b,v,S,_,M,T,O,x,I,C,A,E,N,P,B,R,L,V=0,D=new r.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(i=e.state).mode===h&&(i.mode=13),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,l=e.input,g=e.avail_in,b=i.hold,v=i.bits,S=g,_=y,B=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;v<16;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(2&i.wrap&&35615===b){i.check=0,D[0]=255&b,D[1]=b>>>8&255,i.check=a(i.check,D,2,0),b=0,v=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",i.mode=d;break}if(8!=(15&b)){e.msg="unknown compression method",i.mode=d;break}if(v-=4,P=8+(15&(b>>>=4)),0===i.wbits)i.wbits=P;else if(P>i.wbits){e.msg="invalid window size",i.mode=d;break}i.dmax=1<<P,e.adler=i.check=1,i.mode=512&b?10:h,b=0,v=0;break;case 2:for(;v<16;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(i.flags=b,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=d;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=d;break}i.head&&(i.head.text=b>>8&1),512&i.flags&&(D[0]=255&b,D[1]=b>>>8&255,i.check=a(i.check,D,2,0)),b=0,v=0,i.mode=3;case 3:for(;v<32;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.head&&(i.head.time=b),512&i.flags&&(D[0]=255&b,D[1]=b>>>8&255,D[2]=b>>>16&255,D[3]=b>>>24&255,i.check=a(i.check,D,4,0)),b=0,v=0,i.mode=4;case 4:for(;v<16;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.head&&(i.head.xflags=255&b,i.head.os=b>>8),512&i.flags&&(D[0]=255&b,D[1]=b>>>8&255,i.check=a(i.check,D,2,0)),b=0,v=0,i.mode=5;case 5:if(1024&i.flags){for(;v<16;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.length=b,i.head&&(i.head.extra_len=b),512&i.flags&&(D[0]=255&b,D[1]=b>>>8&255,i.check=a(i.check,D,2,0)),b=0,v=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((M=i.length)>g&&(M=g),M&&(i.head&&(P=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,l,p,M,P)),512&i.flags&&(i.check=a(i.check,l,M,p)),g-=M,p+=M,i.length-=M),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===g)break e;M=0;do{P=l[p+M++],i.head&&P&&i.length<65536&&(i.head.name+=String.fromCharCode(P))}while(P&&M<g);if(512&i.flags&&(i.check=a(i.check,l,M,p)),g-=M,p+=M,P)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===g)break e;M=0;do{P=l[p+M++],i.head&&P&&i.length<65536&&(i.head.comment+=String.fromCharCode(P))}while(P&&M<g);if(512&i.flags&&(i.check=a(i.check,l,M,p)),g-=M,p+=M,P)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;v<16;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(b!==(65535&i.check)){e.msg="header crc mismatch",i.mode=d;break}b=0,v=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=h;break;case 10:for(;v<32;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}e.adler=i.check=u(b),b=0,v=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,i.hold=b,i.bits=v,2;e.adler=i.check=1,i.mode=h;case h:if(5===t||6===t)break e;case 13:if(i.last){b>>>=7&v,v-=7&v,i.mode=27;break}for(;v<3;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}switch(i.last=1&b,v-=1,3&(b>>>=1)){case 0:i.mode=14;break;case 1:if(w(i),i.mode=20,6===t){b>>>=2,v-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=d}b>>>=2,v-=2;break;case 14:for(b>>>=7&v,v-=7&v;v<32;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",i.mode=d;break}if(i.length=65535&b,b=0,v=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(M=i.length){if(M>g&&(M=g),M>y&&(M=y),0===M)break e;r.arraySet(f,l,p,M,m),g-=M,p+=M,y-=M,m+=M,i.length-=M;break}i.mode=h;break;case 17:for(;v<14;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(i.nlen=257+(31&b),b>>>=5,v-=5,i.ndist=1+(31&b),b>>>=5,v-=5,i.ncode=4+(15&b),b>>>=4,v-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=d;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;v<3;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.lens[q[i.have++]]=7&b,b>>>=3,v-=3}for(;i.have<19;)i.lens[q[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,R={bits:i.lenbits},B=o(0,i.lens,0,19,i.lencode,0,i.work,R),i.lenbits=R.bits,B){e.msg="invalid code lengths set",i.mode=d;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;I=(V=i.lencode[b&(1<<i.lenbits)-1])>>>16&255,C=65535&V,!((x=V>>>24)<=v);){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(C<16)b>>>=x,v-=x,i.lens[i.have++]=C;else{if(16===C){for(L=x+2;v<L;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(b>>>=x,v-=x,0===i.have){e.msg="invalid bit length repeat",i.mode=d;break}P=i.lens[i.have-1],M=3+(3&b),b>>>=2,v-=2}else if(17===C){for(L=x+3;v<L;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}v-=x,P=0,M=3+(7&(b>>>=x)),b>>>=3,v-=3}else{for(L=x+7;v<L;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}v-=x,P=0,M=11+(127&(b>>>=x)),b>>>=7,v-=7}if(i.have+M>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=d;break}for(;M--;)i.lens[i.have++]=P}}if(i.mode===d)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=d;break}if(i.lenbits=9,R={bits:i.lenbits},B=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,R),i.lenbits=R.bits,B){e.msg="invalid literal/lengths set",i.mode=d;break}if(i.distbits=6,i.distcode=i.distdyn,R={bits:i.distbits},B=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,R),i.distbits=R.bits,B){e.msg="invalid distances set",i.mode=d;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(g>=6&&y>=258){e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,i.hold=b,i.bits=v,n(e,_),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,l=e.input,g=e.avail_in,b=i.hold,v=i.bits,i.mode===h&&(i.back=-1);break}for(i.back=0;I=(V=i.lencode[b&(1<<i.lenbits)-1])>>>16&255,C=65535&V,!((x=V>>>24)<=v);){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(I&&0==(240&I)){for(A=x,E=I,N=C;I=(V=i.lencode[N+((b&(1<<A+E)-1)>>A)])>>>16&255,C=65535&V,!(A+(x=V>>>24)<=v);){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}b>>>=A,v-=A,i.back+=A}if(b>>>=x,v-=x,i.back+=x,i.length=C,0===I){i.mode=26;break}if(32&I){i.back=-1,i.mode=h;break}if(64&I){e.msg="invalid literal/length code",i.mode=d;break}i.extra=15&I,i.mode=22;case 22:if(i.extra){for(L=i.extra;v<L;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.length+=b&(1<<i.extra)-1,b>>>=i.extra,v-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;I=(V=i.distcode[b&(1<<i.distbits)-1])>>>16&255,C=65535&V,!((x=V>>>24)<=v);){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(0==(240&I)){for(A=x,E=I,N=C;I=(V=i.distcode[N+((b&(1<<A+E)-1)>>A)])>>>16&255,C=65535&V,!(A+(x=V>>>24)<=v);){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}b>>>=A,v-=A,i.back+=A}if(b>>>=x,v-=x,i.back+=x,64&I){e.msg="invalid distance code",i.mode=d;break}i.offset=C,i.extra=15&I,i.mode=24;case 24:if(i.extra){for(L=i.extra;v<L;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}i.offset+=b&(1<<i.extra)-1,b>>>=i.extra,v-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=d;break}i.mode=25;case 25:if(0===y)break e;if(M=_-y,i.offset>M){if((M=i.offset-M)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=d;break}M>i.wnext?(M-=i.wnext,T=i.wsize-M):T=i.wnext-M,M>i.length&&(M=i.length),O=i.window}else O=f,T=m-i.offset,M=i.length;M>y&&(M=y),y-=M,i.length-=M;do{f[m++]=O[T++]}while(--M);0===i.length&&(i.mode=21);break;case 26:if(0===y)break e;f[m++]=i.length,y--,i.mode=21;break;case 27:if(i.wrap){for(;v<32;){if(0===g)break e;g--,b|=l[p++]<<v,v+=8}if(_-=y,e.total_out+=_,i.total+=_,_&&(e.adler=i.check=i.flags?a(i.check,f,_,m-_):s(i.check,f,_,m-_)),_=y,(i.flags?b:u(b))!==i.check){e.msg="incorrect data check",i.mode=d;break}b=0,v=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;v<32;){if(0===g)break e;g--,b+=l[p++]<<v,v+=8}if(b!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=d;break}b=0,v=0}i.mode=29;case 29:B=1;break e;case d:B=-3;break e;case 31:return-4;default:return c}return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,i.hold=b,i.bits=v,(i.wsize||_!==e.avail_out&&i.mode<d&&(i.mode<27||4!==t))&&k(e,e.output,e.next_out,_-e.avail_out)?(i.mode=31,-4):(S-=e.avail_in,_-=e.avail_out,e.total_in+=S,e.total_out+=_,i.total+=_,i.wrap&&_&&(e.adler=i.check=i.flags?a(i.check,f,_,e.next_out-_):s(i.check,f,_,e.next_out-_)),e.data_type=i.bits+(i.last?64:0)+(i.mode===h?128:0)+(20===i.mode||15===i.mode?256:0),(0===S&&0===_||4===t)&&0===B&&(B=-5),B)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?c:(i.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?c:11===i.mode&&s(1,t,r,0)!==i.check?-3:k(e,t,r,r)?(i.mode=31,-4):(i.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,i)=>{"use strict";var r=i(24236),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,c,h,d,u,l){var f,p,m,g,y,b,v,w,k,S=l.bits,_=0,M=0,T=0,O=0,x=0,I=0,C=0,A=0,E=0,N=0,P=null,B=0,R=new r.Buf16(16),L=new r.Buf16(16),V=null,D=0;for(_=0;_<=15;_++)R[_]=0;for(M=0;M<c;M++)R[t[i+M]]++;for(x=S,O=15;O>=1&&0===R[O];O--);if(x>O&&(x=O),0===O)return h[d++]=20971520,h[d++]=20971520,l.bits=1,0;for(T=1;T<O&&0===R[T];T++);for(x<T&&(x=T),A=1,_=1;_<=15;_++)if(A<<=1,(A-=R[_])<0)return-1;if(A>0&&(0===e||1!==O))return-1;for(L[1]=0,_=1;_<15;_++)L[_+1]=L[_]+R[_];for(M=0;M<c;M++)0!==t[i+M]&&(u[L[t[i+M]]++]=M);if(0===e?(P=V=u,b=19):1===e?(P=s,B-=257,V=a,D-=257,b=256):(P=n,V=o,b=-1),N=0,M=0,_=T,y=d,I=x,C=0,m=-1,g=(E=1<<x)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){v=_-C,u[M]<b?(w=0,k=u[M]):u[M]>b?(w=V[D+u[M]],k=P[B+u[M]]):(w=96,k=0),f=1<<_-C,T=p=1<<I;do{h[y+(N>>C)+(p-=f)]=v<<24|w<<16|k|0}while(0!==p);for(f=1<<_-1;N&f;)f>>=1;if(0!==f?(N&=f-1,N+=f):N=0,M++,0==--R[_]){if(_===O)break;_=t[i+u[M]]}if(_>x&&(N&g)!==m){for(0===C&&(C=x),y+=T,A=1<<(I=_-C);I+C<O&&!((A-=R[I+C])<=0);)I++,A<<=1;if(E+=1<<I,1===e&&E>852||2===e&&E>592)return 1;h[m=N&g]=x<<24|I<<16|y-d|0}}return 0!==N&&(h[y+N]=_-C<<24|64<<16|0),l.bits=x,0}},48898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},10342:(e,t,i)=>{"use strict";var r=i(24236);function s(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);s(h);var d=new Array(60);s(d);var u=new Array(512);s(u);var l=new Array(256);s(l);var f=new Array(29);s(f);var p,m,g,y=new Array(30);function b(e,t,i,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?u[e]:u[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function _(e,t,i){S(e,i[2*t],i[2*t+1])}function M(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function T(e,t,i){var r,s,a=new Array(16),n=0;for(r=1;r<=15;r++)a[r]=n=n+i[r-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=M(a[o]++,o))}}function O(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function x(e){e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,i,r){var s=2*t,a=2*i;return e[s]<e[a]||e[s]===e[a]&&r[t]<=r[i]}function C(e,t,i){for(var r=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&I(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!I(t,r,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=r}function A(e,t,i){var r,s,o,c,h=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*h]<<8|e.pending_buf[e.d_buf+2*h+1],s=e.pending_buf[e.l_buf+h],h++,0===r?_(e,s,t):(_(e,(o=l[s])+256+1,t),0!==(c=a[o])&&S(e,s-=f[o],c),_(e,o=w(--r),i),0!==(c=n[o])&&S(e,r-=y[o],c))}while(h<e.last_lit);_(e,256,t)}function E(e,t){var i,r,s,a=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,h=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==a[2*i]?(e.heap[++e.heap_len]=h=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(s=e.heap[++e.heap_len]=h<2?++h:0)]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=n[2*s+1]);for(t.max_code=h,i=e.heap_len>>1;i>=1;i--)C(e,a,i);s=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,a[2*s]=a[2*i]+a[2*r],e.depth[s]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,a[2*i+1]=a[2*r+1]=s,e.heap[1]=s++,C(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,s,a,n,o,c=t.dyn_tree,h=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(a=c[2*c[2*(r=e.heap[i])+1]+1]+1)>p&&(a=p,m++),c[2*r+1]=a,r>h||(e.bl_count[a]++,n=0,r>=f&&(n=l[r-f]),o=c[2*r],e.opt_len+=o*(a+n),u&&(e.static_len+=o*(d[2*r+1]+n)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(r=e.bl_count[a];0!==r;)(s=e.heap[--i])>h||(c[2*s+1]!==a&&(e.opt_len+=(a-c[2*s+1])*c[2*s],c[2*s+1]=a),r--)}}(e,t),T(a,h,e.bl_count)}function N(e,t,i){var r,s,a=-1,n=t[1],o=0,c=7,h=4;for(0===n&&(c=138,h=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)s=n,n=t[2*(r+1)+1],++o<c&&s===n||(o<h?e.bl_tree[2*s]+=o:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=s,0===n?(c=138,h=3):s===n?(c=6,h=3):(c=7,h=4))}function P(e,t,i){var r,s,a=-1,n=t[1],o=0,c=7,h=4;for(0===n&&(c=138,h=3),r=0;r<=i;r++)if(s=n,n=t[2*(r+1)+1],!(++o<c&&s===n)){if(o<h)do{_(e,s,e.bl_tree)}while(0!=--o);else 0!==s?(s!==a&&(_(e,s,e.bl_tree),o--),_(e,16,e.bl_tree),S(e,o-3,2)):o<=10?(_(e,17,e.bl_tree),S(e,o-3,3)):(_(e,18,e.bl_tree),S(e,o-11,7));o=0,a=s,0===n?(c=138,h=3):s===n?(c=6,h=3):(c=7,h=4)}}s(y);var B=!1;function R(e,t,i,s){S(e,0+(s?1:0),3),function(e,t,i,s){x(e),k(e,i),k(e,~i),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){B||(function(){var e,t,i,r,s,c=new Array(16);for(i=0,r=0;r<28;r++)for(f[r]=i,e=0;e<1<<a[r];e++)l[i++]=r;for(l[i-1]=r,s=0,r=0;r<16;r++)for(y[r]=s,e=0;e<1<<n[r];e++)u[s++]=r;for(s>>=7;r<30;r++)for(y[r]=s<<7,e=0;e<1<<n[r]-7;e++)u[256+s++]=r;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,c[8]++;for(;e<=255;)h[2*e+1]=9,e++,c[9]++;for(;e<=279;)h[2*e+1]=7,e++,c[7]++;for(;e<=287;)h[2*e+1]=8,e++,c[8]++;for(T(h,287,c),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=M(e,5);p=new b(h,a,257,286,15),m=new b(d,n,0,30,15),g=new b(new Array(0),o,0,19,7)}(),B=!0),e.l_desc=new v(e.dyn_ltree,p),e.d_desc=new v(e.dyn_dtree,m),e.bl_desc=new v(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,O(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,i,r){var s,a,n=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),E(e,e.l_desc),E(e,e.d_desc),n=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),E(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=i+5,i+4<=s&&-1!==t?R(e,t,i,r):4===e.strategy||a===s?(S(e,2+(r?1:0),3),A(e,h,d)):(S(e,4+(r?1:0),3),function(e,t,i,r){var s;for(S(e,t-257,5),S(e,i-1,5),S(e,r-4,4),s=0;s<r;s++)S(e,e.bl_tree[2*c[s]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,n+1),A(e,e.dyn_ltree,e.dyn_dtree)),O(e),r&&x(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(l[i]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){S(e,2,3),_(e,256,h),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},62292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},52818:(e,t,i)=>{"use strict";var r=i(39809);t.certificate=i(41934);var s=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=s;var a=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=a;var n=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));t.PublicKey=n;var o=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var h=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=h;var d=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=d,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var u=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=u;var l=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},41934:(e,t,i)=>{"use strict";var r=i(39809),s=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),n=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(a)})),h=r.define("RDNSequence",(function(){this.seqof(c)})),d=r.define("Name",(function(){this.choice({rdnSequence:this.use(h)})})),u=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),l=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())}));e.exports=p},77631:(e,t,i)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=i(13048),o=i(44696),c=i(89509).Buffer;e.exports=function(e,t){var i,h=e.toString(),d=h.match(r);if(d){var u="aes"+d[1],l=c.from(d[2],"hex"),f=c.from(d[3].replace(/[\r\n]/g,""),"base64"),p=n(t,l.slice(0,8),parseInt(d[1],10)).key,m=[],g=o.createDecipheriv(u,p,l);m.push(g.update(f)),m.push(g.final()),i=c.concat(m)}else{var y=h.match(a);i=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(s)[1],data:i}}},70980:(e,t,i)=>{var r=i(52818),s=i(22562),a=i(77631),n=i(44696),o=i(25632),c=i(89509).Buffer;function h(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var i,h,d=a(e,t),u=d.tag,l=d.data;switch(u){case"CERTIFICATE":h=r.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=r.PublicKey.decode(l,"der")),i=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=r.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":l=function(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=s[e.algorithm.decrypt.cipher.algo.join(".")],h=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,u=parseInt(a.split("-")[1],10)/8,l=o.pbkdf2Sync(t,i,r,u,"sha1"),f=n.createDecipheriv(a,l,h),p=[];return p.push(f.update(d)),p.push(f.final()),c.concat(p)}(l=r.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(i=(h=r.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:r.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=r.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=r.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+u)}}e.exports=h,h.signature=r.signature},25632:(e,t,i)=>{t.pbkdf2=i(88638),t.pbkdf2Sync=i(91257)},88638:(e,t,i)=>{var r,s,a=i(89509).Buffer,n=i(77357),o=i(12368),c=i(91257),h=i(57777),d=i.g.crypto&&i.g.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function f(){return s||(s=i.g.process&&i.g.process.nextTick?i.g.process.nextTick:i.g.queueMicrotask?i.g.queueMicrotask:i.g.setImmediate?i.g.setImmediate:i.g.setTimeout)}function p(e,t,i,r,s){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:s}},e,r<<3)})).then((function(e){return a.from(e)}))}e.exports=function(e,t,s,m,g,y){"function"==typeof g&&(y=g,g=void 0);var b=u[(g=g||"sha1").toLowerCase()];if(b&&"function"==typeof i.g.Promise){if(n(s,m),e=h(e,o,"Password"),t=h(t,o,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){f()((function(){t(null,e)}))}),(function(e){f()((function(){t(e)}))}))}(function(e){if(i.g.process&&!i.g.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==l[e])return l[e];var t=p(r=r||a.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return l[e]=t,t}(b).then((function(i){return i?p(e,t,s,m,b):c(e,t,s,m,g)})),y)}else f()((function(){var i;try{i=c(e,t,s,m,g)}catch(e){return y(e)}y(null,i)}))}},12368:(e,t,i)=>{var r,s=i(34155);r=i.g.process&&i.g.process.browser?"utf-8":i.g.process&&i.g.process.version?parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=r},77357:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,i){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof i)throw new TypeError("Key length not a number");if(i<0||i>t||i!=i)throw new TypeError("Bad key length")}},91257:(e,t,i)=>{var r=i(78028),s=i(79785),a=i(89072),n=i(89509).Buffer,o=i(77357),c=i(12368),h=i(57777),d=n.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(e,t,i){var o=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new s).update(e).digest()}:"md5"===e?r:function(t){return a(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=o(t):t.length<c&&(t=n.concat([t,d],c));for(var h=n.allocUnsafe(c+u[e]),l=n.allocUnsafe(c+u[e]),f=0;f<c;f++)h[f]=54^t[f],l[f]=92^t[f];var p=n.allocUnsafe(c+i+4);h.copy(p,0,0,c),this.ipad1=p,this.ipad2=h,this.opad=l,this.alg=e,this.blocksize=c,this.hash=o,this.size=u[e]}l.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,i,r,s){o(i,r);var a=new l(s=s||"sha1",e=h(e,c,"Password"),(t=h(t,c,"Salt")).length),d=n.allocUnsafe(r),f=n.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var p=0,m=u[s],g=Math.ceil(r/m),y=1;y<=g;y++){f.writeUInt32BE(y,t.length);for(var b=a.run(f,a.ipad1),v=b,w=1;w<i;w++){v=a.run(v,a.ipad2);for(var k=0;k<m;k++)b[k]^=v[k]}b.copy(d,p),p+=m}return d}},57777:(e,t,i)=>{var r=i(89509).Buffer;e.exports=function(e,t,i){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},34155:e=>{var t,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function n(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var o,c=[],h=!1,d=-1;function u(){h&&o&&(h=!1,o.length?c=o.concat(c):d=-1,c.length&&l())}function l(){if(!h){var e=n(u);h=!0;for(var t=c.length;t;){for(o=c,c=[];++d<t;)o&&o[d].run();d=-1,t=c.length}o=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new f(e,t)),1!==c.length||h||n(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},7900:(e,t,i)=>{t.publicEncrypt=i(16559),t.privateDecrypt=i(26138),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},99199:(e,t,i)=>{var r=i(23482),s=i(89509).Buffer;function a(e){var t=s.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var i,n=s.alloc(0),o=0;n.length<t;)i=a(o++),n=s.concat([n,r("sha1").update(e).update(i).digest()]);return n.slice(0,t)}},92144:function(e,t,i){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(77108).Buffer}catch(e){}function o(e,t){var i=e.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function c(e,t,i){var r=o(e,i);return i-1>=t&&(r|=o(e,i-1)<<4),r}function h(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,i):(this._parseBase(e,t,s),"le"===i&&this._initArray(this.toArray(),t,i)))},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,i){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a=0,n=0;if("be"===i)for(r=e.length-1;r>=t;r-=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=c(e,t,r)<<a,this.words[n]|=67108863&s,a>=18?(a-=18,n+=1,this.words[n]|=s>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,c=0,d=i;d<o;d+=r)c=h(e,d,d+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==n){var u=1;for(c=h(e,d,e.length,t),d=0;d<n;d++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var h=1;h<r;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!=(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[h-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,h=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!d.isZero();o++)n=d.andln(255),d.iushrn(8),h[a-o-1]=n}return h},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,h=0,d=0|n[0],u=8191&d,l=d>>>13,f=0|n[1],p=8191&f,m=f>>>13,g=0|n[2],y=8191&g,b=g>>>13,v=0|n[3],w=8191&v,k=v>>>13,S=0|n[4],_=8191&S,M=S>>>13,T=0|n[5],O=8191&T,x=T>>>13,I=0|n[6],C=8191&I,A=I>>>13,E=0|n[7],N=8191&E,P=E>>>13,B=0|n[8],R=8191&B,L=B>>>13,V=0|n[9],D=8191&V,q=V>>>13,G=0|o[0],F=8191&G,j=G>>>13,U=0|o[1],z=8191&U,H=U>>>13,K=0|o[2],W=8191&K,Z=K>>>13,X=0|o[3],Y=8191&X,$=X>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,he=oe>>>13,de=0|o[8],ue=8191&de,le=de>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(r=Math.imul(u,F))|0)+((8191&(s=(s=Math.imul(u,j))+Math.imul(l,F)|0))<<13)|0;h=((a=Math.imul(l,j))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),s=(s=Math.imul(p,j))+Math.imul(m,F)|0,a=Math.imul(m,j);var ye=(h+(r=r+Math.imul(u,z)|0)|0)+((8191&(s=(s=s+Math.imul(u,H)|0)+Math.imul(l,z)|0))<<13)|0;h=((a=a+Math.imul(l,H)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),s=(s=Math.imul(y,j))+Math.imul(b,F)|0,a=Math.imul(b,j),r=r+Math.imul(p,z)|0,s=(s=s+Math.imul(p,H)|0)+Math.imul(m,z)|0,a=a+Math.imul(m,H)|0;var be=(h+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,Z)|0)+Math.imul(l,W)|0))<<13)|0;h=((a=a+Math.imul(l,Z)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,F),s=(s=Math.imul(w,j))+Math.imul(k,F)|0,a=Math.imul(k,j),r=r+Math.imul(y,z)|0,s=(s=s+Math.imul(y,H)|0)+Math.imul(b,z)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,Z)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,Z)|0;var ve=(h+(r=r+Math.imul(u,Y)|0)|0)+((8191&(s=(s=s+Math.imul(u,$)|0)+Math.imul(l,Y)|0))<<13)|0;h=((a=a+Math.imul(l,$)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),s=(s=Math.imul(_,j))+Math.imul(M,F)|0,a=Math.imul(M,j),r=r+Math.imul(w,z)|0,s=(s=s+Math.imul(w,H)|0)+Math.imul(k,z)|0,a=a+Math.imul(k,H)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,Z)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Y)|0,s=(s=s+Math.imul(p,$)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,$)|0;var we=(h+(r=r+Math.imul(u,J)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,J)|0))<<13)|0;h=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,F),s=(s=Math.imul(O,j))+Math.imul(x,F)|0,a=Math.imul(x,j),r=r+Math.imul(_,z)|0,s=(s=s+Math.imul(_,H)|0)+Math.imul(M,z)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,Z)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,Z)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,$)|0,r=r+Math.imul(p,J)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,ee)|0;var ke=(h+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;h=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,F),s=(s=Math.imul(C,j))+Math.imul(A,F)|0,a=Math.imul(A,j),r=r+Math.imul(O,z)|0,s=(s=s+Math.imul(O,H)|0)+Math.imul(x,z)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(_,W)|0,s=(s=s+Math.imul(_,Z)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(w,Y)|0,s=(s=s+Math.imul(w,$)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,$)|0,r=r+Math.imul(y,J)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var Se=(h+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;h=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,F),s=(s=Math.imul(N,j))+Math.imul(P,F)|0,a=Math.imul(P,j),r=r+Math.imul(C,z)|0,s=(s=s+Math.imul(C,H)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,H)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,Z)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(_,Y)|0,s=(s=s+Math.imul(_,$)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ie)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var _e=(h+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((a=a+Math.imul(l,he)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),s=(s=Math.imul(R,j))+Math.imul(L,F)|0,a=Math.imul(L,j),r=r+Math.imul(N,z)|0,s=(s=s+Math.imul(N,H)|0)+Math.imul(P,z)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(C,W)|0,s=(s=s+Math.imul(C,Z)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,Z)|0,r=r+Math.imul(O,Y)|0,s=(s=s+Math.imul(O,$)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,$)|0,r=r+Math.imul(_,J)|0,s=(s=s+Math.imul(_,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(y,ae)|0,s=(s=s+Math.imul(y,ne)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,he)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,he)|0;var Me=(h+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,F),s=(s=Math.imul(D,j))+Math.imul(q,F)|0,a=Math.imul(q,j),r=r+Math.imul(R,z)|0,s=(s=s+Math.imul(R,H)|0)+Math.imul(L,z)|0,a=a+Math.imul(L,H)|0,r=r+Math.imul(N,W)|0,s=(s=s+Math.imul(N,Z)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(C,Y)|0,s=(s=s+Math.imul(C,$)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,$)|0,r=r+Math.imul(O,J)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(_,ie)|0,s=(s=s+Math.imul(_,re)|0)+Math.imul(M,ie)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(y,ce)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,he)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var Te=(h+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,z),s=(s=Math.imul(D,H))+Math.imul(q,z)|0,a=Math.imul(q,H),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,Z)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(N,Y)|0,s=(s=s+Math.imul(N,$)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,$)|0,r=r+Math.imul(C,J)|0,s=(s=s+Math.imul(C,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(x,ie)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(_,ae)|0,s=(s=s+Math.imul(_,ne)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,he)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,he)|0,r=r+Math.imul(y,ue)|0,s=(s=s+Math.imul(y,le)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,le)|0;var Oe=(h+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,Z))+Math.imul(q,W)|0,a=Math.imul(q,Z),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,$)|0,r=r+Math.imul(N,J)|0,s=(s=s+Math.imul(N,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(C,ie)|0,s=(s=s+Math.imul(C,re)|0)+Math.imul(A,ie)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,ne)|0,r=r+Math.imul(_,ce)|0,s=(s=s+Math.imul(_,he)|0)+Math.imul(M,ce)|0,a=a+Math.imul(M,he)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var xe=(h+(r=r+Math.imul(y,pe)|0)|0)+((8191&(s=(s=s+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;h=((a=a+Math.imul(b,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,Y),s=(s=Math.imul(D,$))+Math.imul(q,Y)|0,a=Math.imul(q,$),r=r+Math.imul(R,J)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(N,ie)|0,s=(s=s+Math.imul(N,re)|0)+Math.imul(P,ie)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(C,ae)|0,s=(s=s+Math.imul(C,ne)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,he)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,he)|0,r=r+Math.imul(_,ue)|0,s=(s=s+Math.imul(_,le)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,le)|0;var Ie=(h+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;h=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),s=(s=Math.imul(D,ee))+Math.imul(q,J)|0,a=Math.imul(q,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(L,ie)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(N,ae)|0,s=(s=s+Math.imul(N,ne)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,ne)|0,r=r+Math.imul(C,ce)|0,s=(s=s+Math.imul(C,he)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,he)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0;var Ce=(h+(r=r+Math.imul(_,pe)|0)|0)+((8191&(s=(s=s+Math.imul(_,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((a=a+Math.imul(M,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(q,ie)|0,a=Math.imul(q,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,ne)|0,r=r+Math.imul(N,ce)|0,s=(s=s+Math.imul(N,he)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,he)|0,r=r+Math.imul(C,ue)|0,s=(s=s+Math.imul(C,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0;var Ae=(h+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((a=a+Math.imul(x,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(q,ae)|0,a=Math.imul(q,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(L,ce)|0,a=a+Math.imul(L,he)|0,r=r+Math.imul(N,ue)|0,s=(s=s+Math.imul(N,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0;var Ee=(h+(r=r+Math.imul(C,pe)|0)|0)+((8191&(s=(s=s+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;h=((a=a+Math.imul(A,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,he))+Math.imul(q,ce)|0,a=Math.imul(q,he),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0;var Ne=(h+(r=r+Math.imul(N,pe)|0)|0)+((8191&(s=(s=s+Math.imul(N,me)|0)+Math.imul(P,pe)|0))<<13)|0;h=((a=a+Math.imul(P,me)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(q,ue)|0,a=Math.imul(q,le);var Pe=(h+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;h=((a=a+Math.imul(L,me)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(h+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(q,pe)|0))<<13)|0;return h=((a=Math.imul(q,me))+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=ke,c[6]=Se,c[7]=_e,c[8]=Me,c[9]=Te,c[10]=Oe,c[11]=xe,c[12]=Ie,c[13]=Ce,c[14]=Ae,c[15]=Ee,c[16]=Ne,c[17]=Pe,c[18]=Be,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){return(new g).mulp(e,t,i)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i,r=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var d=a-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):m(this,e,t),i},g.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},g.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},g.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},g.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),d=0;d<s;d+=o)for(var u=c,l=h,f=0;f<n;f++){var p=i[d+f],m=r[d+f],g=i[d+f+n],y=r[d+f+n],b=u*g-l*y;y=u*y+l*g,g=b,i[d+f]=p+g,r[d+f]=m+y,i[d+f+n]=p-g,r[d+f+n]=m-y,f!==o&&(b=c*u-h*l,l=c*l+h*u,u=b)}},g.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},g.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},g.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},g.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0==(-8192&a))},g.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},g.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),h=new Array(r),d=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,h,r),this.transform(n,a,o,c,r,s),this.transform(h,a,d,u,r,s);for(var f=0;f<r;f++){var p=o[f]*d[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*d[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var h=0;h<n;h++)c.words[h]=this.words[h];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,h=0;h<this.length;h++)this.words[h]=this.words[h+n];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=s);h--){var u=0|this.words[h];this.words[h]=d<<26-a|u>>>a,d=u&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i||!(this.words[i]&s))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!=(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var d=r.clone()._ishlnsubmul(s,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(d),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(h)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&i,s=10;s<e.length;s++){var n=0|e.words[s];e.words[s-10]=(n&i)<<4|a>>>22,a=n}a>>>=22,e.words[s-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(w,b),s(k,b),s(S,b),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(u,new a(1).iushln(p-g-1));l=l.redMul(y),u=y.redSqr(),f=f.redMul(u),p=g}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var h=t.words[r],d=c-1;d>=0;d--){var u=h>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4==++o||0===r&&0===d)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},s(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=i.nmd(e),this)},26138:(e,t,i)=>{var r=i(70980),s=i(99199),a=i(57859),n=i(92144),o=i(23663),c=i(23482),h=i(84818),d=i(89509).Buffer;e.exports=function(e,t,i){var u;u=e.padding?e.padding:i?1:4;var l,f=r(e),p=f.modulus.byteLength();if(t.length>p||new n(t).cmp(f.modulus)>=0)throw new Error("decryption error");l=i?h(new n(t),f):o(t,f);var m=d.alloc(p-l.length);if(l=d.concat([m,l],p),4===u)return function(e,t){var i=e.modulus.byteLength(),r=c("sha1").update(d.alloc(0)).digest(),n=r.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,n+1),h=t.slice(n+1),u=a(o,s(h,n)),l=a(h,s(u,i-n-1));if(function(e,t){e=d.from(e),t=d.from(t);var i=0,r=e.length;e.length!==t.length&&(i++,r=Math.min(e.length,t.length));for(var s=-1;++s<r;)i+=e[s]^t[s];return i}(r,l.slice(0,n)))throw new Error("decryption error");for(var f=n;0===l[f];)f++;if(1!==l[f++])throw new Error("decryption error");return l.slice(f)}(f,l);if(1===u)return function(e,t,i){for(var r=t.slice(0,2),s=2,a=0;0!==t[s++];)if(s>=t.length){a++;break}var n=t.slice(2,s-1);if(("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&a++,n.length<8&&a++,a)throw new Error("decryption error");return t.slice(s)}(0,l,i);if(3===u)return l;throw new Error("unknown padding")}},16559:(e,t,i)=>{var r=i(70980),s=i(61798),a=i(23482),n=i(99199),o=i(57859),c=i(92144),h=i(84818),d=i(23663),u=i(89509).Buffer;e.exports=function(e,t,i){var l;l=e.padding?e.padding:i?1:4;var f,p=r(e);if(4===l)f=function(e,t){var i=e.modulus.byteLength(),r=t.length,h=a("sha1").update(u.alloc(0)).digest(),d=h.length,l=2*d;if(r>i-l-2)throw new Error("message too long");var f=u.alloc(i-r-l-2),p=i-d-1,m=s(d),g=o(u.concat([h,f,u.alloc(1,1),t],p),n(m,p)),y=o(m,n(g,d));return new c(u.concat([u.alloc(1),y,g],i))}(p,t);else if(1===l)f=function(e,t,i){var r,a=t.length,n=e.modulus.byteLength();if(a>n-11)throw new Error("message too long");return r=i?u.alloc(n-a-3,255):function(e){for(var t,i=u.allocUnsafe(e),r=0,a=s(2*e),n=0;r<e;)n===a.length&&(a=s(2*e),n=0),(t=a[n++])&&(i[r++]=t);return i}(n-a-3),new c(u.concat([u.from([0,i?1:2]),r,u.alloc(1),t],n))}(p,t,i);else{if(3!==l)throw new Error("unknown padding");if((f=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return i?d(f,p):h(f,p)}},84818:(e,t,i)=>{var r=i(92144),s=i(89509).Buffer;e.exports=function(e,t){return s.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},57859:e=>{e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,r,s){i=i||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var n=/\+/g;e=e.split(i);var o=1e3;s&&"number"==typeof s.maxKeys&&(o=s.maxKeys);var c=e.length;o>0&&c>o&&(c=o);for(var h=0;h<c;++h){var d,u,l,f,p=e[h].replace(n,"%20"),m=p.indexOf(r);m>=0?(d=p.substr(0,m),u=p.substr(m+1)):(d=p,u=""),l=decodeURIComponent(d),f=decodeURIComponent(u),t(a,l)?Array.isArray(a[l])?a[l].push(f):a[l]=[a[l],f]:a[l]=f}return a}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,r,s){return i=i||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var a=encodeURIComponent(t(s))+r;return Array.isArray(e[s])?e[s].map((function(e){return a+encodeURIComponent(t(e))})).join(i):a+encodeURIComponent(t(e[s]))})).join(i):s?encodeURIComponent(t(s))+r+encodeURIComponent(t(e)):""}},17673:(e,t,i)=>{"use strict";t.decode=t.parse=i(62587),t.encode=t.stringify=i(12361)},57129:(e,t)=>{"use strict";var i=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,a,n=[];for(a in"string"!=typeof t&&(t="?"),e)if(i.call(e,a)){if((r=e[a])||null!=r&&!isNaN(r)||(r=""),a=s(a),r=s(r),null===a||null===r)continue;n.push(a+"="+r)}return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,i=/([^=?#&]+)=?([^&]*)/g,s={};t=i.exec(e);){var a=r(t[1]),n=r(t[2]);null===a||null===n||a in s||(s[a]=n)}return s}},61798:(e,t,i)=>{"use strict";var r=i(34155),s=65536,a=i(89509).Buffer,n=i.g.crypto||i.g.msCrypto;n&&n.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(e);if(e>0)if(e>s)for(var o=0;o<e;o+=s)n.getRandomValues(i.slice(o,o+s));else n.getRandomValues(i);return"function"==typeof t?r.nextTick((function(){t(null,i)})):i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},77963:(e,t,i)=>{"use strict";var r=i(34155);function s(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=i(89509),n=i(61798),o=a.Buffer,c=a.kMaxLength,h=i.g.crypto||i.g.msCrypto,d=Math.pow(2,32)-1;function u(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>d||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function l(e,t,i){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>d||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>c)throw new RangeError("buffer too small")}function f(e,t,i,s){if(r.browser){var a=e.buffer,o=new Uint8Array(a,t,i);return h.getRandomValues(o),s?void r.nextTick((function(){s(null,e)})):e}if(!s)return n(i).copy(e,t),e;n(i,(function(i,r){if(i)return s(i);r.copy(e,t),s(null,e)}))}h&&h.getRandomValues||!r.browser?(t.randomFill=function(e,t,r,s){if(!(o.isBuffer(e)||e instanceof i.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)s=t,t=0,r=e.length;else if("function"==typeof r)s=r,r=e.length-t;else if("function"!=typeof s)throw new TypeError('"cb" argument must be a function');return u(t,e.length),l(r,t,e.length),f(e,t,r,s)},t.randomFillSync=function(e,t,r){if(void 0===t&&(t=0),!(o.isBuffer(e)||e instanceof i.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return u(t,e.length),void 0===r&&(r=e.length-t),l(r,t,e.length),f(e,t,r)}):(t.randomFill=s,t.randomFillSync=s)},64448:(e,t,i)=>{"use strict";var r=i(25108),s=i(67294),a=i(63840);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function h(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,i,r,s,a,n){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=n}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,i,r){var s=y.hasOwnProperty(t)?y[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,r){if(null==t||function(e,t,i,r){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,s,r)&&(i=null),r||null===s?function(e){return!!l.call(m,e)||!l.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=null===i?3!==s.type&&"":i:(t=s.attributeName,r=s.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(s=s.type)||4===s&&!0===i?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var V,D=Object.assign;function q(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var G=!1;function F(e,t){if(!e||G)return"";G=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),a=r.stack.split("\n"),n=s.length-1,o=a.length-1;1<=n&&0<=o&&s[n]!==a[o];)o--;for(;1<=n&&0<=o;n--,o--)if(s[n]!==a[o]){if(1!==n||1!==o)do{if(n--,0>--o||s[n]!==a[o]){var c="\n"+s[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=n&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?q(e):""}function j(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return F(e.type,!1);case 11:return F(e.type.render,!1);case 1:return F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case M:return"Fragment";case _:return"Portal";case O:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==i&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var i=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function $(e,t){var i=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;i=H(null!=t.value?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){Q(e,t);var i=H(t.value),r=t.type;if(null!=i)"number"===r?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,i):t.hasOwnProperty("defaultValue")&&te(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function te(e,t,i){"number"===t&&X(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ie=Array.isArray;function re(e,t,i,r){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&r&&(e[i].defaultSelected=!0)}else{for(i=""+H(i),t=null,s=0;s<e.length;s++){if(e[s].value===i)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(n(92));if(ie(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:H(i)}}function ne(e,t){var i=H(t.value),r=H(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ue,le=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var r=0===i.indexOf("--"),s=ge(i,t[i],r);"float"===i&&(i="cssFloat"),r?e.setProperty(i,s):e[i]=s}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var be=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Me=null,Te=null;function Oe(e){if(e=vs(e)){if("function"!=typeof _e)throw Error(n(280));var t=e.stateNode;t&&(t=ks(t),_e(e.stateNode,e.type,t))}}function xe(e){Me?Te?Te.push(e):Te=[e]:Me=e}function Ie(){if(Me){var e=Me,t=Te;if(Te=Me=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ee=!1;function Ne(e,t,i){if(Ee)return e(t,i);Ee=!0;try{return Ce(e,t,i)}finally{Ee=!1,(null!==Me||null!==Te)&&(Ae(),Ie())}}function Pe(e,t){var i=e.stateNode;if(null===i)return null;var r=ks(i);if(null===r)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(n(231,t,typeof i));return i}var Be=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Be=!1}function Le(e,t,i,r,s,a,n,o,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(i,h)}catch(e){this.onError(e)}}var Ve=!1,De=null,qe=!1,Ge=null,Fe={onError:function(e){Ve=!0,De=e}};function je(e,t,i,r,s,a,n,o,c){Ve=!1,De=null,Le.apply(Fe,arguments)}function Ue(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(n(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(n(188));return t!==e?null:e}for(var i=e,r=t;;){var s=i.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){i=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===i)return He(s),e;if(a===r)return He(s),t;a=a.sibling}throw Error(n(188))}if(i.return!==r.return)i=s,r=a;else{for(var o=!1,c=s.child;c;){if(c===i){o=!0,i=s,r=a;break}if(c===r){o=!0,r=s,i=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===i){o=!0,i=a,r=s;break}if(c===r){o=!0,r=a,i=s;break}c=c.sibling}if(!o)throw Error(n(189))}}if(i.alternate!==r)throw Error(n(190))}if(3!==i.tag)throw Error(n(188));return i.stateNode.current===i?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,it=a.unstable_NormalPriority,rt=a.unstable_LowPriority,st=a.unstable_IdlePriority,at=null,nt=null,ot=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ct(e)/ht|0)|0},ct=Math.log,ht=Math.LN2,dt=64,ut=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,n=268435455&i;if(0!==n){var o=n&~s;0!==o?r=lt(o):0!=(a&=n)&&(r=lt(a))}else 0!=(n=i&~s)?r=lt(n):0!==a&&(r=lt(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(i=31-ot(t)),r|=e[i],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=dt;return 0==(4194240&(dt<<=1))&&(dt=64),e}function yt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function bt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-ot(i),s=1<<r;s&t|e[r]&t&&(e[r]|=t),i&=~s}}var wt=0;function kt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var St,_t,Mt,Tt,Ot,xt=!1,It=[],Ct=null,At=null,Et=null,Nt=new Map,Pt=new Map,Bt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Vt(e,t,i,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&null!==(t=vs(t))&&_t(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dt(e){var t=bs(e.target);if(null!==t){var i=Ue(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=ze(i)))return e.blockedOn=t,void Ot(e.priority,(function(){Mt(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=vs(i))&&_t(t),e.blockedOn=i,!1;var r=new(i=e.nativeEvent).constructor(i.type,i);ke=r,i.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Gt(e,t,i){qt(e)&&i.delete(t)}function Ft(){xt=!1,null!==Ct&&qt(Ct)&&(Ct=null),null!==At&&qt(At)&&(At=null),null!==Et&&qt(Et)&&(Et=null),Nt.forEach(Gt),Pt.forEach(Gt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return jt(t,e)}if(0<It.length){jt(It[0],e);for(var i=1;i<It.length;i++){var r=It[i];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),null!==Et&&jt(Et,e),Nt.forEach(t),Pt.forEach(t),i=0;i<Bt.length;i++)(r=Bt[i]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(i=Bt[0]).blockedOn;)Dt(i),null===i.blockedOn&&Bt.shift()}var zt=k.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,i,r){var s=wt,a=zt.transition;zt.transition=null;try{wt=1,Zt(e,t,i,r)}finally{wt=s,zt.transition=a}}function Wt(e,t,i,r){var s=wt,a=zt.transition;zt.transition=null;try{wt=4,Zt(e,t,i,r)}finally{wt=s,zt.transition=a}}function Zt(e,t,i,r){if(Ht){var s=Yt(e,t,i,r);if(null===s)zr(e,t,r,Xt,i),Lt(e,r);else if(function(e,t,i,r,s){switch(t){case"focusin":return Ct=Vt(Ct,e,t,i,r,s),!0;case"dragenter":return At=Vt(At,e,t,i,r,s),!0;case"mouseover":return Et=Vt(Et,e,t,i,r,s),!0;case"pointerover":var a=s.pointerId;return Nt.set(a,Vt(Nt.get(a)||null,e,t,i,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Pt.set(a,Vt(Pt.get(a)||null,e,t,i,r,s)),!0}return!1}(s,e,t,i,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=vs(s);if(null!==a&&St(a),null===(a=Yt(e,t,i,r))&&zr(e,t,r,Xt,i),a===s)break;s=a}null!==s&&r.stopPropagation()}else zr(e,t,r,null,i)}}var Xt=null;function Yt(e,t,i,r){if(Xt=null,null!==(e=bs(e=Se(r))))if(null===(t=Ue(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case et:return 1;case tt:return 4;case it:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,ei=null;function ti(){if(ei)return ei;var e,t,i=Jt,r=i.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<r&&i[e]===s[e];e++);var n=r-e;for(t=1;t<=n&&i[r-t]===s[a-t];t++);return ei=s.slice(e,1<t?1-t:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ri(){return!0}function si(){return!1}function ai(e){function t(t,i,r,s,a){for(var n in this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(n)&&(t=e[n],this[n]=t?t(s):s[n]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?ri:si,this.isPropagationStopped=si,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var ni,oi,ci,hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ai(hi),ui=D({},hi,{view:0,detail:0}),li=ai(ui),fi=D({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&"mousemove"===e.type?(ni=e.screenX-ci.screenX,oi=e.screenY-ci.screenY):oi=ni=0,ci=e),ni)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),pi=ai(fi),mi=ai(D({},fi,{dataTransfer:0})),gi=ai(D({},ui,{relatedTarget:0})),yi=ai(D({},hi,{animationName:0,elapsedTime:0,pseudoElement:0})),bi=D({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=ai(bi),wi=ai(D({},hi,{data:0})),ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_i[e])&&!!t[e]}function Ti(){return Mi}var Oi=D({},ui,{key:function(e){if(e.key){var t=ki[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ii(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Si[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(e){return"keypress"===e.type?ii(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ii(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xi=ai(Oi),Ii=ai(D({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ci=ai(D({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti})),Ai=ai(D({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ei=D({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ni=ai(Ei),Pi=[9,13,27,32],Bi=u&&"CompositionEvent"in window,Ri=null;u&&"documentMode"in document&&(Ri=document.documentMode);var Li=u&&"TextEvent"in window&&!Ri,Vi=u&&(!Bi||Ri&&8<Ri&&11>=Ri),Di=String.fromCharCode(32),qi=!1;function Gi(e,t){switch(e){case"keyup":return-1!==Pi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ji=!1,Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ui[e.type]:"textarea"===t}function Hi(e,t,i,r){xe(r),0<(t=Kr(t,"onChange")).length&&(i=new di("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Ki=null,Wi=null;function Zi(e){Dr(e,0)}function Xi(e){if(Z(ws(e)))return e}function Yi(e,t){if("change"===e)return t}var $i=!1;if(u){var Qi;if(u){var Ji="oninput"in document;if(!Ji){var er=document.createElement("div");er.setAttribute("oninput","return;"),Ji="function"==typeof er.oninput}Qi=Ji}else Qi=!1;$i=Qi&&(!document.documentMode||9<document.documentMode)}function tr(){Ki&&(Ki.detachEvent("onpropertychange",ir),Wi=Ki=null)}function ir(e){if("value"===e.propertyName&&Xi(Wi)){var t=[];Hi(t,Wi,e,Se(e)),Ne(Zi,t)}}function rr(e,t,i){"focusin"===e?(tr(),Wi=i,(Ki=t).attachEvent("onpropertychange",ir)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xi(Wi)}function ar(e,t){if("click"===e)return Xi(t)}function nr(e,t){if("input"===e||"change"===e)return Xi(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var s=i[r];if(!l.call(t,s)||!or(e[s],t[s]))return!1}return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var i,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(e){i=!1}if(!i)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=lr(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&ur(i.ownerDocument.documentElement,i)){if(null!==r&&fr(i))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=i.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(i,a);var n=dr(i,r);s&&n&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(n.node,n.offset)):(t.setEnd(n.node,n.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function wr(e,t,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;vr||null==gr||gr!==X(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Kr(yr,"onSelect")).length&&(t=new di("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Mr={};function Tr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,i=Sr[e];for(t in i)if(i.hasOwnProperty(t)&&t in Mr)return _r[e]=i[t];return e}u&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Or=Tr("animationend"),xr=Tr("animationiteration"),Ir=Tr("animationstart"),Cr=Tr("transitionend"),Ar=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),h(t,[e])}for(var Pr=0;Pr<Er.length;Pr++){var Br=Er[Pr];Nr(Br.toLowerCase(),"on"+(Br[0].toUpperCase()+Br.slice(1)))}Nr(Or,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cr,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Vr(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,r,s,a,o,c,h){if(je.apply(this,arguments),Ve){if(!Ve)throw Error(n(198));var d=De;Ve=!1,De=null,qe||(qe=!0,Ge=d)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!=(4&t);for(var i=0;i<e.length;i++){var r=e[i],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var n=r.length-1;0<=n;n--){var o=r[n],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;Vr(s,o,h),a=c}else for(n=0;n<r.length;n++){if(c=(o=r[n]).instance,h=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;Vr(s,o,h),a=c}}}if(qe)throw e=Ge,qe=!1,Ge=null,e}function qr(e,t){var i=t[ms];void 0===i&&(i=t[ms]=new Set);var r=e+"__bubble";i.has(r)||(Ur(t,e,2,!1),i.add(r))}function Gr(e,t,i){var r=0;t&&(r|=4),Ur(i,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Fr]){e[Fr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Gr(t,!1,e),Gr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Gr("selectionchange",!1,t))}}function Ur(e,t,i,r){switch($t(t)){case 1:var s=Kt;break;case 4:s=Wt;break;default:s=Zt}i=s.bind(null,t,i,e),s=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):void 0!==s?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function zr(e,t,i,r,s){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var n=r.tag;if(3===n||4===n){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===n)for(n=r.return;null!==n;){var c=n.tag;if((3===c||4===c)&&((c=n.stateNode.containerInfo)===s||8===c.nodeType&&c.parentNode===s))return;n=n.return}for(;null!==o;){if(null===(n=bs(o)))return;if(5===(c=n.tag)||6===c){r=a=n;continue e}o=o.parentNode}}r=r.return}Ne((function(){var r=a,s=Se(i),n=[];e:{var o=Ar.get(e);if(void 0!==o){var c=di,h=e;switch(e){case"keypress":if(0===ii(i))break e;case"keydown":case"keyup":c=xi;break;case"focusin":h="focus",c=gi;break;case"focusout":h="blur",c=gi;break;case"beforeblur":case"afterblur":c=gi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Ci;break;case Or:case xr:case Ir:c=yi;break;case Cr:c=Ai;break;case"scroll":c=li;break;case"wheel":c=Ni;break;case"copy":case"cut":case"paste":c=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Ii}var d=0!=(4&t),u=!d&&"scroll"===e,l=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==l&&null!=(m=Pe(p,l))&&d.push(Hr(p,m,f))),u)break;p=p.return}0<d.length&&(o=new c(o,h,null,i,s),n.push({event:o,listeners:d}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===ke||!(h=i.relatedTarget||i.fromElement)||!bs(h)&&!h[ps])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(h=(h=i.relatedTarget||i.toElement)?bs(h):null)&&(h!==(u=Ue(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(c=null,h=r),c!==h)){if(d=pi,m="onMouseLeave",l="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ii,m="onPointerLeave",l="onPointerEnter",p="pointer"),u=null==c?o:ws(c),f=null==h?o:ws(h),(o=new d(m,p+"leave",c,i,s)).target=u,o.relatedTarget=f,m=null,bs(s)===r&&((d=new d(l,p+"enter",h,i,s)).target=f,d.relatedTarget=u,m=d),u=m,c&&h)e:{for(l=h,p=0,f=d=c;f;f=Wr(f))p++;for(f=0,m=l;m;m=Wr(m))f++;for(;0<p-f;)d=Wr(d),p--;for(;0<f-p;)l=Wr(l),f--;for(;p--;){if(d===l||null!==l&&d===l.alternate)break e;d=Wr(d),l=Wr(l)}d=null}else d=null;null!==c&&Zr(n,o,c,d,!1),null!==h&&null!==u&&Zr(n,u,h,d,!0)}if("select"===(c=(o=r?ws(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Yi;else if(zi(o))if($i)g=nr;else{g=sr;var y=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Hi(n,g,i,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&te(o,"number",o.value)),y=r?ws(r):window,e){case"focusin":(zi(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(n,i,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(n,i,s)}var b;if(Bi)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ji?Gi(e,i)&&(v="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(v="onCompositionStart");v&&(Vi&&"ko"!==i.locale&&(ji||"onCompositionStart"!==v?"onCompositionEnd"===v&&ji&&(b=ti()):(Jt="value"in(Qt=s)?Qt.value:Qt.textContent,ji=!0)),0<(y=Kr(r,v)).length&&(v=new wi(v,e,null,i,s),n.push({event:v,listeners:y}),(b||null!==(b=Fi(i)))&&(v.data=b))),(b=Li?function(e,t){switch(e){case"compositionend":return Fi(t);case"keypress":return 32!==t.which?null:(qi=!0,Di);case"textInput":return(e=t.data)===Di&&qi?null:e;default:return null}}(e,i):function(e,t){if(ji)return"compositionend"===e||!Bi&&Gi(e,t)?(e=ti(),ei=Jt=Qt=null,ji=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vi&&"ko"!==t.locale?null:t.data}}(e,i))&&0<(r=Kr(r,"onBeforeInput")).length&&(s=new wi("onBeforeInput","beforeinput",null,i,s),n.push({event:s,listeners:r}),s.data=b)}Dr(n,t)}))}function Hr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Kr(e,t){for(var i=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Pe(e,i))&&r.unshift(Hr(e,a,s)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,i,r,s){for(var a=t._reactName,n=[];null!==i&&i!==r;){var o=i,c=o.alternate,h=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==h&&(o=h,s?null!=(c=Pe(i,a))&&n.unshift(Hr(i,c,o)):s||null!=(c=Pe(i,a))&&n.push(Hr(i,c,o))),i=i.return}0!==n.length&&e.push({event:t,listeners:n})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Qr(e,t,i){if(t=$r(t),$r(e)!==t&&i)throw Error(n(425))}function Jr(){}var es=null,ts=null;function is(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"==typeof setTimeout?setTimeout:void 0,ss="function"==typeof clearTimeout?clearTimeout:void 0,as="function"==typeof Promise?Promise:void 0,ns="function"==typeof queueMicrotask?queueMicrotask:void 0!==as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function cs(e,t){var i=t,r=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&8===s.nodeType)if("/$"===(i=s.data)){if(0===r)return e.removeChild(s),void Ut(t);r--}else"$"!==i&&"$?"!==i&&"$!"!==i||r++;i=s}while(i);Ut(t)}function hs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ls="__reactFiber$"+us,fs="__reactProps$"+us,ps="__reactContainer$"+us,ms="__reactEvents$"+us,gs="__reactListeners$"+us,ys="__reactHandles$"+us;function bs(e){var t=e[ls];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ps]||i[ls]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=ds(e);null!==e;){if(i=e[ls])return i;e=ds(e)}return t}i=(e=i).parentNode}return null}function vs(e){return!(e=e[ls]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function ks(e){return e[fs]||null}var Ss=[],_s=-1;function Ms(e){return{current:e}}function Ts(e){0>_s||(e.current=Ss[_s],Ss[_s]=null,_s--)}function Os(e,t){_s++,Ss[_s]=e.current,e.current=t}var xs={},Is=Ms(xs),Cs=Ms(!1),As=xs;function Es(e,t){var i=e.type.contextTypes;if(!i)return xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in i)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ns(e){return null!=e.childContextTypes}function Ps(){Ts(Cs),Ts(Is)}function Bs(e,t,i){if(Is.current!==xs)throw Error(n(168));Os(Is,t),Os(Cs,i)}function Rs(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return i;for(var s in r=r.getChildContext())if(!(s in t))throw Error(n(108,z(e)||"Unknown",s));return D({},i,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,As=Is.current,Os(Is,e),Os(Cs,Cs.current),!0}function Vs(e,t,i){var r=e.stateNode;if(!r)throw Error(n(169));i?(e=Rs(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Ts(Cs),Ts(Is),Os(Is,e)):Ts(Cs),Os(Cs,i)}var Ds=null,qs=!1,Gs=!1;function Fs(e){null===Ds?Ds=[e]:Ds.push(e)}function js(){if(!Gs&&null!==Ds){Gs=!0;var e=0,t=wt;try{var i=Ds;for(wt=1;e<i.length;e++){var r=i[e];do{r=r(!0)}while(null!==r)}Ds=null,qs=!1}catch(t){throw null!==Ds&&(Ds=Ds.slice(e+1)),Ze(et,js),t}finally{wt=t,Gs=!1}}return null}var Us=k.ReactCurrentBatchConfig;function zs(e,t){if(e&&e.defaultProps){for(var i in t=D({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var Hs=Ms(null),Ks=null,Ws=null,Zs=null;function Xs(){Zs=Ws=Ks=null}function Ys(e){var t=Hs.current;Ts(Hs),e._currentValue=t}function $s(e,t,i){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Qs(e,t){Ks=e,Zs=Ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(So=!0),e.firstContext=null)}function Js(e){var t=e._currentValue;if(Zs!==e)if(e={context:e,memoizedValue:t,next:null},null===Ws){if(null===Ks)throw Error(n(308));Ws=e,Ks.dependencies={lanes:0,firstContext:e}}else Ws=Ws.next=e;return t}var ea=null,ta=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var i=e.updateQueue;null!==i&&(i=i.shared,ih(e)?(null===(e=i.interleaved)?(t.next=t,null===ea?ea=[i]:ea.push(i)):(t.next=e.next,e.next=t),i.interleaved=t):(null===(e=i.pending)?t.next=t:(t.next=e.next,e.next=t),i.pending=t))}function na(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&i))){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,vt(e,i)}}function oa(e,t){var i=e.updateQueue,r=e.alternate;if(null!==r&&i===(r=r.updateQueue)){var s=null,a=null;if(null!==(i=i.firstBaseUpdate)){do{var n={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===a?s=a=n:a=a.next=n,i=i.next}while(null!==i);null===a?s=a=t:a=a.next=t}else s=a=t;return i={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ca(e,t,i,r){var s=e.updateQueue;ta=!1;var a=s.firstBaseUpdate,n=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var c=o,h=c.next;c.next=null,null===n?a=h:n.next=h,n=c;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==n&&(null===o?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=c)}if(null!==a){var u=s.baseState;for(n=0,d=h=c=null,o=a;;){var l=o.lane,f=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=i,m.tag){case 1:if("function"==typeof(p=m.payload)){u=p.call(f,u,l);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,u,l):p))break e;u=D({},u,l);break e;case 2:ta=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(h=d=f,c=u):d=d.next=f,n|=l;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(l=o).next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}if(null===d&&(c=u),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{n|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Bc|=n,e.lanes=n,e.memoizedState=u}}function ha(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=i,"function"!=typeof s)throw Error(n(191,s));s.call(r)}}}var da=(new s.Component).refs;function ua(e,t,i,r){i=null==(i=i(r,t=e.memoizedState))?t:D({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var la={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Qc(),s=Jc(e),a=sa(r,s);a.payload=t,null!=i&&(a.callback=i),aa(e,a),null!==(t=eh(e,s,r))&&na(t,e,s)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Qc(),s=Jc(e),a=sa(r,s);a.tag=1,a.payload=t,null!=i&&(a.callback=i),aa(e,a),null!==(t=eh(e,s,r))&&na(t,e,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Qc(),r=Jc(e),s=sa(i,r);s.tag=2,null!=t&&(s.callback=t),aa(e,s),null!==(t=eh(e,r,i))&&na(t,e,r)}};function fa(e,t,i,r,s,a,n){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,n):!(t.prototype&&t.prototype.isPureReactComponent&&cr(i,r)&&cr(s,a))}function pa(e,t,i){var r=!1,s=xs,a=t.contextType;return"object"==typeof a&&null!==a?a=Js(a):(s=Ns(t)?As:Is.current,a=(r=null!=(r=t.contextTypes))?Es(e,s):xs),t=new t(i,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,i,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function ga(e,t,i,r){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs=da,ia(e);var a=t.contextType;"object"==typeof a&&null!==a?s.context=Js(a):(a=Ns(t)?As:Is.current,s.context=Es(e,a)),s.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ua(e,t,a,i),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&la.enqueueReplaceState(s,s.state,null),ca(e,i,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}var ya=[],ba=0,va=null,wa=0,ka=[],Sa=0,_a=null,Ma=1,Ta="";function Oa(e,t){ya[ba++]=wa,ya[ba++]=va,va=e,wa=t}function xa(e,t,i){ka[Sa++]=Ma,ka[Sa++]=Ta,ka[Sa++]=_a,_a=e;var r=Ma;e=Ta;var s=32-ot(r)-1;r&=~(1<<s),i+=1;var a=32-ot(t)+s;if(30<a){var n=s-s%5;a=(r&(1<<n)-1).toString(32),r>>=n,s-=n,Ma=1<<32-ot(t)+s|i<<s|r,Ta=a+e}else Ma=1<<a|i<<s|r,Ta=e}function Ia(e){null!==e.return&&(Oa(e,1),xa(e,1,0))}function Ca(e){for(;e===va;)va=ya[--ba],ya[ba]=null,wa=ya[--ba],ya[ba]=null;for(;e===_a;)_a=ka[--Sa],ka[Sa]=null,Ta=ka[--Sa],ka[Sa]=null,Ma=ka[--Sa],ka[Sa]=null}var Aa=null,Ea=null,Na=!1,Pa=null;function Ba(e,t){var i=Eh(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function Ra(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Ea=hs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Ea=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==_a?{id:Ma,overflow:Ta}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Eh(18,null,null,0)).stateNode=t,i.return=e,e.child=i,Aa=e,Ea=null,!0);default:return!1}}function La(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Va(e){if(Na){var t=Ea;if(t){var i=t;if(!Ra(e,t)){if(La(e))throw Error(n(418));t=hs(i.nextSibling);var r=Aa;t&&Ra(e,t)?Ba(r,i):(e.flags=-4097&e.flags|2,Na=!1,Aa=e)}}else{if(La(e))throw Error(n(418));e.flags=-4097&e.flags|2,Na=!1,Aa=e}}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function qa(e){if(e!==Aa)return!1;if(!Na)return Da(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!is(e.type,e.memoizedProps)),t&&(t=Ea)){if(La(e)){for(e=Ea;e;)e=hs(e.nextSibling);throw Error(n(418))}for(;t;)Ba(e,t),t=hs(t.nextSibling)}if(Da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){Ea=hs(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}Ea=null}}else Ea=Aa?hs(e.stateNode.nextSibling):null;return!0}function Ga(){Ea=Aa=null,Na=!1}function Fa(e){null===Pa?Pa=[e]:Pa.push(e)}function ja(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(n(309));var r=i.stateNode}if(!r)throw Error(n(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;t===da&&(t=s.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,i){if(e){var r=t.deletions;null===r?(t.deletions=[i],t.flags|=16):r.push(i)}}function i(i,r){if(!e)return null;for(;null!==r;)t(i,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ph(e,t)).index=0,e.sibling=null,e}function a(t,i,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<i?(t.flags|=2,i):r:(t.flags|=2,i):(t.flags|=1048576,i)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,i,r){return null===t||6!==t.tag?((t=Vh(i,e.mode,r)).return=e,t):((t=s(t,i)).return=e,t)}function h(e,t,i,r){var a=i.type;return a===M?u(e,t,i.props.children,r,i.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=s(t,i.props)).ref=ja(e,t,i),r.return=e,r):((r=Bh(i.type,i.key,i.props,null,e.mode,r)).ref=ja(e,t,i),r.return=e,r)}function d(e,t,i,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Dh(i,e.mode,r)).return=e,t):((t=s(t,i.children||[])).return=e,t)}function u(e,t,i,r,a){return null===t||7!==t.tag?((t=Rh(i,e.mode,r,a)).return=e,t):((t=s(t,i)).return=e,t)}function l(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Vh(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(i=Bh(t.type,t.key,t.props,null,e.mode,i)).ref=ja(e,null,t),i.return=e,i;case _:return(t=Dh(t,e.mode,i)).return=e,t;case P:return l(e,(0,t._init)(t._payload),i)}if(ie(t)||L(t))return(t=Rh(t,e.mode,i,null)).return=e,t;Ua(e,t)}return null}function f(e,t,i,r){var s=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==s?null:c(e,t,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===s?h(e,t,i,r):null;case _:return i.key===s?d(e,t,i,r):null;case P:return f(e,t,(s=i._init)(i._payload),r)}if(ie(i)||L(i))return null!==s?null:u(e,t,i,r,null);Ua(e,i)}return null}function p(e,t,i,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(i)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return h(t,e=e.get(null===r.key?i:r.key)||null,r,s);case _:return d(t,e=e.get(null===r.key?i:r.key)||null,r,s);case P:return p(e,t,i,(0,r._init)(r._payload),s)}if(ie(r)||L(r))return u(t,e=e.get(i)||null,r,s,null);Ua(t,r)}return null}function m(s,n,o,c){for(var h=null,d=null,u=n,m=n=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var y=f(s,u,o[m],c);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(s,u),n=a(y,n,m),null===d?h=y:d.sibling=y,d=y,u=g}if(m===o.length)return i(s,u),Na&&Oa(s,m),h;if(null===u){for(;m<o.length;m++)null!==(u=l(s,o[m],c))&&(n=a(u,n,m),null===d?h=u:d.sibling=u,d=u);return Na&&Oa(s,m),h}for(u=r(s,u);m<o.length;m++)null!==(g=p(u,s,m,o[m],c))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),n=a(g,n,m),null===d?h=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(s,e)})),Na&&Oa(s,m),h}function g(s,o,c,h){var d=L(c);if("function"!=typeof d)throw Error(n(150));if(null==(c=d.call(c)))throw Error(n(151));for(var u=d=null,m=o,g=o=0,y=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(s,m,b.value,h);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(s,m),o=a(v,o,g),null===u?d=v:u.sibling=v,u=v,m=y}if(b.done)return i(s,m),Na&&Oa(s,g),d;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=l(s,b.value,h))&&(o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return Na&&Oa(s,g),d}for(m=r(s,m);!b.done;g++,b=c.next())null!==(b=p(m,s,g,b.value,h))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&m.forEach((function(e){return t(s,e)})),Na&&Oa(s,g),d}return function e(r,a,n,c){if("object"==typeof n&&null!==n&&n.type===M&&null===n.key&&(n=n.props.children),"object"==typeof n&&null!==n){switch(n.$$typeof){case S:e:{for(var h=n.key,d=a;null!==d;){if(d.key===h){if((h=n.type)===M){if(7===d.tag){i(r,d.sibling),(a=s(d,n.props.children)).return=r,r=a;break e}}else if(d.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===P&&za(h)===d.type){i(r,d.sibling),(a=s(d,n.props)).ref=ja(r,d,n),a.return=r,r=a;break e}i(r,d);break}t(r,d),d=d.sibling}n.type===M?((a=Rh(n.props.children,r.mode,c,n.key)).return=r,r=a):((c=Bh(n.type,n.key,n.props,null,r.mode,c)).ref=ja(r,a,n),c.return=r,r=c)}return o(r);case _:e:{for(d=n.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){i(r,a.sibling),(a=s(a,n.children||[])).return=r,r=a;break e}i(r,a);break}t(r,a),a=a.sibling}(a=Dh(n,r.mode,c)).return=r,r=a}return o(r);case P:return e(r,a,(d=n._init)(n._payload),c)}if(ie(n))return m(r,a,n,c);if(L(n))return g(r,a,n,c);Ua(r,n)}return"string"==typeof n&&""!==n||"number"==typeof n?(n=""+n,null!==a&&6===a.tag?(i(r,a.sibling),(a=s(a,n)).return=r,r=a):(i(r,a),(a=Vh(n,r.mode,c)).return=r,r=a),o(r)):i(r,a)}}var Ka=Ha(!0),Wa=Ha(!1),Za={},Xa=Ms(Za),Ya=Ms(Za),$a=Ms(Za);function Qa(e){if(e===Za)throw Error(n(174));return e}function Ja(e,t){switch(Os($a,t),Os(Ya,e),Os(Xa,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ts(Xa),Os(Xa,t)}function en(){Ts(Xa),Ts(Ya),Ts($a)}function tn(e){Qa($a.current);var t=Qa(Xa.current),i=he(t,e.type);t!==i&&(Os(Ya,e),Os(Xa,i))}function rn(e){Ya.current===e&&(Ts(Xa),Ts(Ya))}var sn=Ms(0);function an(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=[];function on(){for(var e=0;e<nn.length;e++)nn[e]._workInProgressVersionPrimary=null;nn.length=0}var cn=k.ReactCurrentDispatcher,hn=k.ReactCurrentBatchConfig,dn=0,un=null,ln=null,fn=null,pn=!1,mn=!1,gn=0,yn=0;function bn(){throw Error(n(321))}function vn(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!or(e[i],t[i]))return!1;return!0}function wn(e,t,i,r,s,a){if(dn=a,un=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cn.current=null===e||null===e.memoizedState?ro:so,e=i(r,s),mn){a=0;do{if(mn=!1,gn=0,25<=a)throw Error(n(301));a+=1,fn=ln=null,t.updateQueue=null,cn.current=ao,e=i(r,s)}while(mn)}if(cn.current=io,t=null!==ln&&null!==ln.next,dn=0,fn=ln=un=null,pn=!1,t)throw Error(n(300));return e}function kn(){var e=0!==gn;return gn=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fn?un.memoizedState=fn=e:fn=fn.next=e,fn}function _n(){if(null===ln){var e=un.alternate;e=null!==e?e.memoizedState:null}else e=ln.next;var t=null===fn?un.memoizedState:fn.next;if(null!==t)fn=t,ln=e;else{if(null===e)throw Error(n(310));e={memoizedState:(ln=e).memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},null===fn?un.memoizedState=fn=e:fn=fn.next=e}return fn}function Mn(e,t){return"function"==typeof t?t(e):t}function Tn(e){var t=_n(),i=t.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=e;var r=ln,s=r.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,i.pending=null}if(null!==s){a=s.next,r=r.baseState;var c=o=null,h=null,d=a;do{var u=d.lane;if((dn&u)===u)null!==h&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var l={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===h?(c=h=l,o=r):h=h.next=l,un.lanes|=u,Bc|=u}d=d.next}while(null!==d&&d!==a);null===h?o=r:h.next=c,or(r,t.memoizedState)||(So=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=h,i.lastRenderedState=r}if(null!==(e=i.interleaved)){s=e;do{a=s.lane,un.lanes|=a,Bc|=a,s=s.next}while(s!==e)}else null===s&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function On(e){var t=_n(),i=t.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=e;var r=i.dispatch,s=i.pending,a=t.memoizedState;if(null!==s){i.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(So=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),i.lastRenderedState=a}return[a,r]}function xn(){}function In(e,t){var i=un,r=_n(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,So=!0),r=r.queue,qn(En.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==fn&&1&fn.memoizedState.tag){if(i.flags|=2048,Bn(9,An.bind(null,i,r,s,t),void 0,null),null===xc)throw Error(n(349));0!=(30&dn)||Cn(i,t,s)}return s}function Cn(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=un.updateQueue)?(t={lastEffect:null,stores:null},un.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function An(e,t,i,r){t.value=i,t.getSnapshot=r,Nn(t)&&eh(e,1,-1)}function En(e,t,i){return i((function(){Nn(t)&&eh(e,1,-1)}))}function Nn(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!or(e,i)}catch(e){return!0}}function Pn(e){var t=Sn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t.queue=e,e=e.dispatch=$n.bind(null,un,e),[t.memoizedState,e]}function Bn(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},null===(t=un.updateQueue)?(t={lastEffect:null,stores:null},un.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Rn(){return _n().memoizedState}function Ln(e,t,i,r){var s=Sn();un.flags|=e,s.memoizedState=Bn(1|t,i,void 0,void 0===r?null:r)}function Vn(e,t,i,r){var s=_n();r=void 0===r?null:r;var a=void 0;if(null!==ln){var n=ln.memoizedState;if(a=n.destroy,null!==r&&vn(r,n.deps))return void(s.memoizedState=Bn(t,i,a,r))}un.flags|=e,s.memoizedState=Bn(1|t,i,a,r)}function Dn(e,t){return Ln(8390656,8,e,t)}function qn(e,t){return Vn(2048,8,e,t)}function Gn(e,t){return Vn(4,2,e,t)}function Fn(e,t){return Vn(4,4,e,t)}function jn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Un(e,t,i){return i=null!=i?i.concat([e]):null,Vn(4,4,jn.bind(null,t,e),i)}function zn(){}function Hn(e,t){var i=_n();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&vn(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Kn(e,t){var i=_n();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&vn(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function Wn(e,t,i){return 0==(21&dn)?(e.baseState&&(e.baseState=!1,So=!0),e.memoizedState=i):(or(i,t)||(i=gt(),un.lanes|=i,Bc|=i,e.baseState=!0),t)}function Zn(e,t){var i=wt;wt=0!==i&&4>i?i:4,e(!0);var r=hn.transition;hn.transition={};try{e(!1),t()}finally{wt=i,hn.transition=r}}function Xn(){return _n().memoizedState}function Yn(e,t,i){var r=Jc(e);i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},Qn(e)?Jn(t,i):(eo(e,t,i),null!==(e=eh(e,r,i=Qc()))&&to(e,t,r))}function $n(e,t,i){var r=Jc(e),s={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qn(e))Jn(t,s);else{eo(e,t,s);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var n=t.lastRenderedState,o=a(n,i);if(s.hasEagerState=!0,s.eagerState=o,or(o,n))return}catch(e){}null!==(e=eh(e,r,i=Qc()))&&to(e,t,r)}}function Qn(e){var t=e.alternate;return e===un||null!==t&&t===un}function Jn(e,t){mn=pn=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function eo(e,t,i){ih(e)?(null===(e=t.interleaved)?(i.next=i,null===ea?ea=[t]:ea.push(t)):(i.next=e.next,e.next=i),t.interleaved=i):(null===(e=t.pending)?i.next=i:(i.next=e.next,e.next=i),t.pending=i)}function to(e,t,i){if(0!=(4194240&i)){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,vt(e,i)}}var io={readContext:Js,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},ro={readContext:Js,useCallback:function(e,t){return Sn().memoizedState=[e,void 0===t?null:t],e},useContext:Js,useEffect:Dn,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,Ln(4194308,4,jn.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ln(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ln(4,2,e,t)},useMemo:function(e,t){var i=Sn();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=Sn();return t=void 0!==i?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yn.bind(null,un,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sn().memoizedState=e},useState:Pn,useDebugValue:zn,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=Pn(!1),t=e[0];return e=Zn.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=un,s=Sn();if(Na){if(void 0===i)throw Error(n(407));i=i()}else{if(i=t(),null===xc)throw Error(n(349));0!=(30&dn)||Cn(r,t,i)}s.memoizedState=i;var a={value:i,getSnapshot:t};return s.queue=a,Dn(En.bind(null,r,a,e),[e]),r.flags|=2048,Bn(9,An.bind(null,r,a,i,t),void 0,null),i},useId:function(){var e=Sn(),t=xc.identifierPrefix;if(Na){var i=Ta;t=":"+t+"R"+(i=(Ma&~(1<<32-ot(Ma)-1)).toString(32)+i),0<(i=gn++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=yn++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},so={readContext:Js,useCallback:Hn,useContext:Js,useEffect:qn,useImperativeHandle:Un,useInsertionEffect:Gn,useLayoutEffect:Fn,useMemo:Kn,useReducer:Tn,useRef:Rn,useState:function(){return Tn(Mn)},useDebugValue:zn,useDeferredValue:function(e){return Wn(_n(),ln.memoizedState,e)},useTransition:function(){return[Tn(Mn)[0],_n().memoizedState]},useMutableSource:xn,useSyncExternalStore:In,useId:Xn,unstable_isNewReconciler:!1},ao={readContext:Js,useCallback:Hn,useContext:Js,useEffect:qn,useImperativeHandle:Un,useInsertionEffect:Gn,useLayoutEffect:Fn,useMemo:Kn,useReducer:On,useRef:Rn,useState:function(){return On(Mn)},useDebugValue:zn,useDeferredValue:function(e){var t=_n();return null===ln?t.memoizedState=e:Wn(t,ln.memoizedState,e)},useTransition:function(){return[On(Mn)[0],_n().memoizedState]},useMutableSource:xn,useSyncExternalStore:In,useId:Xn,unstable_isNewReconciler:!1};function no(e,t){try{var i="",r=t;do{i+=j(r),r=r.return}while(r);var s=i}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s}}function oo(e,t){try{r.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var co,ho,uo,lo="function"==typeof WeakMap?WeakMap:Map;function fo(e,t,i){(i=sa(-1,i)).tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){jc||(jc=!0,Uc=r),oo(0,t)},i}function po(e,t,i){(i=sa(-1,i)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;i.payload=function(){return r(s)},i.callback=function(){oo(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(i.callback=function(){oo(0,t),"function"!=typeof r&&(null===zc?zc=new Set([this]):zc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function mo(e,t,i){var r=e.pingCache;if(null===r){r=e.pingCache=new lo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(i)||(s.add(i),e=Th.bind(null,e,t,i),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,i,r,s){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=sa(-1,1)).tag=2,aa(i,t))),i.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}function bo(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,r=0;if(t)for(var s=e.child;null!==s;)i|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)i|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function wo(e,t,i){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vo(t),null;case 1:case 17:return Ns(t.type)&&Ps(),vo(t),null;case 3:return r=t.stateNode,en(),Ts(Cs),Ts(Is),on(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Pa&&(nh(Pa),Pa=null))),vo(t),null;case 5:rn(t);var s=Qa($a.current);if(i=t.type,null!==e&&null!=t.stateNode)ho(e,t,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(n(166));return vo(t),null}if(e=Qa(Xa.current),qa(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[ls]=t,r[fs]=a,e=0!=(1&t.mode),i){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(s=0;s<Rr.length;s++)qr(Rr[s],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":$(r,a),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qr("invalid",r);break;case"textarea":ae(r,a),qr("invalid",r)}for(var o in ve(i,a),s=null,a)if(a.hasOwnProperty(o)){var h=a[o];"children"===o?"string"==typeof h?r.textContent!==h&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,h,e),s=["children",h]):"number"==typeof h&&r.textContent!==""+h&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,h,e),s=["children",""+h]):c.hasOwnProperty(o)&&null!=h&&"onScroll"===o&&qr("scroll",r)}switch(i){case"input":W(r),ee(r,a,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(i,{is:r.is}):(e=o.createElement(i),"select"===i&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,i),e[ls]=t,e[fs]=r,co(e,t),t.stateNode=e;e:{switch(o=we(i,r),i){case"dialog":qr("cancel",e),qr("close",e),s=r;break;case"iframe":case"object":case"embed":qr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rr.length;s++)qr(Rr[s],e);s=r;break;case"source":qr("error",e),s=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),s=r;break;case"details":qr("toggle",e),s=r;break;case"input":$(e,r),s=Y(e,r),qr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=D({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ae(e,r),s=se(e,r),qr("invalid",e)}for(a in ve(i,s),h=s)if(h.hasOwnProperty(a)){var d=h[a];"style"===a?ye(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&le(e,d):"children"===a?"string"==typeof d?("textarea"!==i||""!==d)&&fe(e,d):"number"==typeof d&&fe(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=d&&"onScroll"===a&&qr("scroll",e):null!=d&&w(e,a,d,o))}switch(i){case"input":W(e),ee(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Jr)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vo(t),null;case 6:if(e&&null!=t.stateNode)uo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(n(166));if(i=Qa($a.current),Qa(Xa.current),qa(t)){if(r=t.stateNode,i=t.memoizedProps,r[ls]=t,(a=r.nodeValue!==i)&&null!==(e=Aa))switch(e.tag){case 3:Qr(r.nodeValue,i,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,i,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[ls]=t,t.stateNode=r}return vo(t),null;case 13:if(Ts(sn),r=t.memoizedState,Na&&null!==Ea&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Ea;r;)r=hs(r.nextSibling);return Ga(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=qa(t),null===e){if(!r)throw Error(n(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(n(317));r[ls]=t}else Ga(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vo(t),null}return null!==Pa&&(nh(Pa),Pa=null),0!=(128&t.flags)?(t.lanes=i,t):(r=null!==r,i=!1,null===e?qa(t):i=null!==e.memoizedState,r!==i&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&sn.current)?0===Nc&&(Nc=3):mh())),null!==t.updateQueue&&(t.flags|=4),vo(t),null);case 4:return en(),null===e&&jr(t.stateNode.containerInfo),vo(t),null;case 10:return Ys(t.type._context),vo(t),null;case 19:if(Ts(sn),null===(a=t.memoizedState))return vo(t),null;if(r=0!=(128&t.flags),null===(o=a.rendering))if(r)bo(a,!1);else{if(0!==Nc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=an(e))){for(t.flags|=128,bo(a,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;null!==i;)e=r,(a=i).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Os(sn,1&sn.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Gc&&(t.flags|=128,r=!0,bo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=an(o))){if(t.flags|=128,r=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),bo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!Na)return vo(t),null}else 2*Qe()-a.renderingStartTime>Gc&&1073741824!==i&&(t.flags|=128,r=!0,bo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(i=a.last)?i.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,i=sn.current,Os(sn,r?1&i|2:1&i),t):(vo(t),null);case 22:case 23:return uh(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ac)&&(vo(t),6&t.subtreeFlags&&(t.flags|=8192)):vo(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}co=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ho=function(e,t,i,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qa(Xa.current);var a,n=null;switch(i){case"input":s=Y(e,s),r=Y(e,r),n=[];break;case"select":s=D({},s,{value:void 0}),r=D({},r,{value:void 0}),n=[];break;case"textarea":s=se(e,s),r=se(e,r),n=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(d in ve(i,r),i=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?n||(n=[]):(n=n||[]).push(d,null));for(d in r){var h=r[d];if(o=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&h!==o&&(null!=h||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in h)h.hasOwnProperty(a)&&o[a]!==h[a]&&(i||(i={}),i[a]=h[a])}else i||(n||(n=[]),n.push(d,i)),i=h;else"dangerouslySetInnerHTML"===d?(h=h?h.__html:void 0,o=o?o.__html:void 0,null!=h&&o!==h&&(n=n||[]).push(d,h)):"children"===d?"string"!=typeof h&&"number"!=typeof h||(n=n||[]).push(d,""+h):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=h&&"onScroll"===d&&qr("scroll",e),n||o===h||(n=[])):(n=n||[]).push(d,h))}i&&(n=n||[]).push("style",i);var d=n;(t.updateQueue=d)&&(t.flags|=4)}},uo=function(e,t,i,r){i!==r&&(t.flags|=4)};var ko=k.ReactCurrentOwner,So=!1;function _o(e,t,i,r){t.child=null===e?Wa(t,null,i,r):Ka(t,e.child,i,r)}function Mo(e,t,i,r,s){i=i.render;var a=t.ref;return Qs(t,s),r=wn(e,t,i,r,a,s),i=kn(),null===e||So?(Na&&i&&Ia(t),t.flags|=1,_o(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function To(e,t,i,r,s){if(null===e){var a=i.type;return"function"!=typeof a||Nh(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Bh(i.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Oo(e,t,a,r,s))}if(a=e.child,0==(e.lanes&s)){var n=a.memoizedProps;if((i=null!==(i=i.compare)?i:cr)(n,r)&&e.ref===t.ref)return Ho(e,t,s)}return t.flags|=1,(e=Ph(a,r)).ref=t.ref,e.return=t,t.child=e}function Oo(e,t,i,r,s){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(So=!1,t.pendingProps=r=a,0==(e.lanes&s))return t.lanes=e.lanes,Ho(e,t,s);0!=(131072&e.flags)&&(So=!0)}}return Co(e,t,i,r,s)}function xo(e,t,i){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Os(Ec,Ac),Ac|=i;else{if(0==(1073741824&i))return e=null!==a?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Os(Ec,Ac),Ac|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:i,Os(Ec,Ac),Ac|=r}else null!==a?(r=a.baseLanes|i,t.memoizedState=null):r=i,Os(Ec,Ac),Ac|=r;return _o(e,t,s,i),t.child}function Io(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,i,r,s){var a=Ns(i)?As:Is.current;return a=Es(t,a),Qs(t,s),i=wn(e,t,i,r,a,s),r=kn(),null===e||So?(Na&&r&&Ia(t),t.flags|=1,_o(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function Ao(e,t,i,r,s){if(Ns(i)){var a=!0;Ls(t)}else a=!1;if(Qs(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,i,r),ga(t,i,r,s),r=!0;else if(null===e){var n=t.stateNode,o=t.memoizedProps;n.props=o;var c=n.context,h=i.contextType;h="object"==typeof h&&null!==h?Js(h):Es(t,h=Ns(i)?As:Is.current);var d=i.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof n.getSnapshotBeforeUpdate;u||"function"!=typeof n.UNSAFE_componentWillReceiveProps&&"function"!=typeof n.componentWillReceiveProps||(o!==r||c!==h)&&ma(t,n,r,h),ta=!1;var l=t.memoizedState;n.state=l,ca(t,r,n,s),c=t.memoizedState,o!==r||l!==c||Cs.current||ta?("function"==typeof d&&(ua(t,i,d,r),c=t.memoizedState),(o=ta||fa(t,i,o,r,l,c,h))?(u||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||("function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"==typeof n.componentDidMount&&(t.flags|=4194308)):("function"==typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),n.props=r,n.state=c,n.context=h,r=o):("function"==typeof n.componentDidMount&&(t.flags|=4194308),r=!1)}else{n=t.stateNode,ra(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:zs(t.type,o),n.props=h,u=t.pendingProps,l=n.context,c="object"==typeof(c=i.contextType)&&null!==c?Js(c):Es(t,c=Ns(i)?As:Is.current);var f=i.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof n.getSnapshotBeforeUpdate)||"function"!=typeof n.UNSAFE_componentWillReceiveProps&&"function"!=typeof n.componentWillReceiveProps||(o!==u||l!==c)&&ma(t,n,r,c),ta=!1,l=t.memoizedState,n.state=l,ca(t,r,n,s);var p=t.memoizedState;o!==u||l!==p||Cs.current||ta?("function"==typeof f&&(ua(t,i,f,r),p=t.memoizedState),(h=ta||fa(t,i,h,r,l,p,c)||!1)?(d||"function"!=typeof n.UNSAFE_componentWillUpdate&&"function"!=typeof n.componentWillUpdate||("function"==typeof n.componentWillUpdate&&n.componentWillUpdate(r,p,c),"function"==typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof n.componentDidUpdate&&(t.flags|=4),"function"==typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof n.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),"function"!=typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),n.props=r,n.state=p,n.context=c,r=h):("function"!=typeof n.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),"function"!=typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,i,r,a,s)}function Eo(e,t,i,r,s,a){Io(e,t);var n=0!=(128&t.flags);if(!r&&!n)return s&&Vs(t,i,!1),Ho(e,t,a);r=t.stateNode,ko.current=t;var o=n&&"function"!=typeof i.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&n?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,o,a)):_o(e,t,o,a),t.memoizedState=r.state,s&&Vs(t,i,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Bs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Bs(0,t.context,!1),Ja(e,t.containerInfo)}function Po(e,t,i,r,s){return Ga(),Fa(s),t.flags|=256,_o(e,t,i,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Vo(e,t,i){var r,s=t.pendingProps,a=sn.current,o=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Os(sn,1&a),null===e)return Va(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Lh(a,s,0,null),e=Rh(e,s,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(i),t.memoizedState=Bo,e):Do(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(c)return 256&t.flags?(t.flags&=-257,Fo(e,t,i,Error(n(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Lh({mode:"visible",children:s.children},a,0,null),(o=Rh(o,a,i,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,0!=(1&t.mode)&&Ka(t,e.child,null,i),t.child.memoizedState=Ro(i),t.memoizedState=Bo,o);if(0==(1&t.mode))t=Fo(e,t,i,null);else if("$!"===r.data)t=Fo(e,t,i,Error(n(419)));else if(s=0!=(i&e.childLanes),So||s){if(null!==(s=xc)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(s=0!=(o&(s.suspendedLanes|i))?0:o)&&s!==a.retryLane&&(a.retryLane=s,eh(e,s,-1))}mh(),t=Fo(e,t,i,Error(n(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=xh.bind(null,e),r._reactRetry=t,t=null):(i=a.treeContext,Ea=hs(r.nextSibling),Aa=t,Na=!0,Pa=null,null!==i&&(ka[Sa++]=Ma,ka[Sa++]=Ta,ka[Sa++]=_a,Ma=i.id,Ta=i.overflow,_a=t),(t=Do(t,t.pendingProps.children)).flags|=4096);return t}return o?(s=Go(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ro(i):Lo(a,i),o.childLanes=e.childLanes&~i,t.memoizedState=Bo,s):(i=qo(e,t,s.children,i),t.memoizedState=null,i)}return o?(s=Go(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ro(i):Lo(a,i),o.childLanes=e.childLanes&~i,t.memoizedState=Bo,s):(i=qo(e,t,s.children,i),t.memoizedState=null,i)}function Do(e,t){return(t=Lh({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,i,r){var s=e.child;return e=s.sibling,i=Ph(s,{mode:"visible",children:i}),0==(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i}function Go(e,t,i,r,s){var a=t.mode,n=(e=e.child).sibling,o={mode:"hidden",children:i};return 0==(1&a)&&t.child!==e?((i=t.child).childLanes=0,i.pendingProps=o,t.deletions=null):(i=Ph(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==n?r=Ph(n,r):(r=Rh(r,a,s,null)).flags|=2,r.return=t,i.return=t,i.sibling=r,t.child=i,r}function Fo(e,t,i,r){return null!==r&&Fa(r),Ka(t,e.child,null,i),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jo(e,t,i){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$s(e.return,t,i)}function Uo(e,t,i,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=i,a.tailMode=s)}function zo(e,t,i){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(_o(e,t,r.children,i),0!=(2&(r=sn.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jo(e,i,t);else if(19===e.tag)jo(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Os(sn,r),0==(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;null!==i;)null!==(e=i.alternate)&&null===an(e)&&(s=i),i=i.sibling;null===(i=s)?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Uo(t,!1,s,i,a);break;case"backwards":for(i=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===an(e)){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Uo(t,!0,i,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Bc|=t.lanes,0==(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(i=Ph(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Ph(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ko(e,t){switch(Ca(t),t.tag){case 1:return Ns(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return en(),Ts(Cs),Ts(Is),on(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return rn(t),null;case 13:if(Ts(sn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));Ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ts(sn),null;case 4:return en(),null;case 10:return Ys(t.type._context),null;case 22:case 23:return uh(),null;default:return null}}var Wo=!1,Zo=!1,Xo="function"==typeof WeakSet?WeakSet:Set,Yo=null;function $o(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){Mh(e,t,i)}else i.current=null}function Qo(e,t,i){try{i()}catch(i){Mh(e,t,i)}}var Jo=!1;function ec(e,t,i){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Qo(t,i,a)}s=s.next}while(s!==r)}}function tc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function ic(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"==typeof t?t(e):t.current=e}}function rc(e){var t=e.alternate;null!==t&&(e.alternate=null,rc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ls],delete t[fs],delete t[ms],delete t[gs],delete t[ys]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nc(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(nc(e,t,i),e=e.sibling;null!==e;)nc(e,t,i),e=e.sibling}function oc(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oc(e,t,i),e=e.sibling;null!==e;)oc(e,t,i),e=e.sibling}var cc=null,hc=!1;function dc(e,t,i){for(i=i.child;null!==i;)uc(e,t,i),i=i.sibling}function uc(e,t,i){if(nt&&"function"==typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(at,i)}catch(e){}switch(i.tag){case 5:Zo||$o(i,t);case 6:var r=cc,s=hc;cc=null,dc(e,t,i),hc=s,null!==(cc=r)&&(hc?(e=cc,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):cc.removeChild(i.stateNode));break;case 18:null!==cc&&(hc?(e=cc,i=i.stateNode,8===e.nodeType?cs(e.parentNode,i):1===e.nodeType&&cs(e,i),Ut(e)):cs(cc,i.stateNode));break;case 4:r=cc,s=hc,cc=i.stateNode.containerInfo,hc=!0,dc(e,t,i),cc=r,hc=s;break;case 0:case 11:case 14:case 15:if(!Zo&&null!==(r=i.updateQueue)&&null!==(r=r.lastEffect)){s=r=r.next;do{var a=s,n=a.destroy;a=a.tag,void 0!==n&&(0!=(2&a)||0!=(4&a))&&Qo(i,t,n),s=s.next}while(s!==r)}dc(e,t,i);break;case 1:if(!Zo&&($o(i,t),"function"==typeof(r=i.stateNode).componentWillUnmount))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(e){Mh(i,t,e)}dc(e,t,i);break;case 21:dc(e,t,i);break;case 22:1&i.mode?(Zo=(r=Zo)||null!==i.memoizedState,dc(e,t,i),Zo=r):dc(e,t,i);break;default:dc(e,t,i)}}function lc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Xo),t.forEach((function(t){var r=Ih.bind(null,e,t);i.has(t)||(i.add(t),t.then(r,r))}))}}function fc(e,t){var i=t.deletions;if(null!==i)for(var r=0;r<i.length;r++){var s=i[r];try{var a=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:cc=c.stateNode,hc=!1;break e;case 3:case 4:cc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===cc)throw Error(n(160));uc(a,o,s),cc=null,hc=!1;var h=s.alternate;null!==h&&(h.return=null),s.return=null}catch(e){Mh(s,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pc(t,e),t=t.sibling}function pc(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fc(t,e),mc(e),4&r){try{ec(3,e,e.return),tc(3,e)}catch(t){Mh(e,e.return,t)}try{ec(5,e,e.return)}catch(t){Mh(e,e.return,t)}}break;case 1:fc(t,e),mc(e),512&r&&null!==i&&$o(i,i.return);break;case 5:if(fc(t,e),mc(e),512&r&&null!==i&&$o(i,i.return),32&e.flags){var s=e.stateNode;try{fe(s,"")}catch(t){Mh(e,e.return,t)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==i?i.memoizedProps:a,c=e.type,h=e.updateQueue;if(e.updateQueue=null,null!==h)try{"input"===c&&"radio"===a.type&&null!=a.name&&Q(s,a),we(c,o);var d=we(c,a);for(o=0;o<h.length;o+=2){var u=h[o],l=h[o+1];"style"===u?ye(s,l):"dangerouslySetInnerHTML"===u?le(s,l):"children"===u?fe(s,l):w(s,u,l,d)}switch(c){case"input":J(s,a);break;case"textarea":ne(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?re(s,!!a.multiple,a.defaultValue,!0):re(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(t){Mh(e,e.return,t)}}break;case 6:if(fc(t,e),mc(e),4&r){if(null===e.stateNode)throw Error(n(162));d=e.stateNode,u=e.memoizedProps;try{d.nodeValue=u}catch(t){Mh(e,e.return,t)}}break;case 3:if(fc(t,e),mc(e),4&r&&null!==i&&i.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Mh(e,e.return,t)}break;case 4:default:fc(t,e),mc(e);break;case 13:fc(t,e),mc(e),8192&(d=e.child).flags&&null!==d.memoizedState&&(null===d.alternate||null===d.alternate.memoizedState)&&(qc=Qe()),4&r&&lc(e);break;case 22:if(d=null!==i&&null!==i.memoizedState,1&e.mode?(Zo=(u=Zo)||d,fc(t,e),Zo=u):fc(t,e),mc(e),8192&r){u=null!==e.memoizedState;e:for(l=null,f=e;;){if(5===f.tag){if(null===l){l=f;try{s=f.stateNode,u?"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,o=null!=(h=f.memoizedProps.style)&&h.hasOwnProperty("display")?h.display:null,c.style.display=ge("display",o))}catch(t){Mh(e,e.return,t)}}}else if(6===f.tag){if(null===l)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Mh(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;l===f&&(l=null),f=f.return}l===f&&(l=null),f.sibling.return=f.return,f=f.sibling}if(u&&!d&&0!=(1&e.mode))for(Yo=e,e=e.child;null!==e;){for(d=Yo=e;null!==Yo;){switch(l=(u=Yo).child,u.tag){case 0:case 11:case 14:case 15:ec(4,u,u.return);break;case 1:if($o(u,u.return),"function"==typeof(a=u.stateNode).componentWillUnmount){f=u,p=u.return;try{s=f,a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(e){Mh(f,p,e)}}break;case 5:$o(u,u.return);break;case 22:if(null!==u.memoizedState){vc(d);continue}}null!==l?(l.return=u,Yo=l):vc(d)}e=e.sibling}}break;case 19:fc(t,e),mc(e),4&r&&lc(e);case 21:}}function mc(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(sc(i)){var r=i;break e}i=i.return}throw Error(n(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(fe(s,""),r.flags&=-33),oc(e,ac(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;nc(e,ac(e),a);break;default:throw Error(n(161))}}catch(t){Mh(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gc(e,t,i){Yo=e,yc(e,t,i)}function yc(e,t,i){for(var r=0!=(1&e.mode);null!==Yo;){var s=Yo,a=s.child;if(22===s.tag&&r){var n=null!==s.memoizedState||Wo;if(!n){var o=s.alternate,c=null!==o&&null!==o.memoizedState||Zo;o=Wo;var h=Zo;if(Wo=n,(Zo=c)&&!h)for(Yo=s;null!==Yo;)c=(n=Yo).child,22===n.tag&&null!==n.memoizedState?wc(s):null!==c?(c.return=n,Yo=c):wc(s);for(;null!==a;)Yo=a,yc(a,t,i),a=a.sibling;Yo=s,Wo=o,Zo=h}bc(e)}else 0!=(8772&s.subtreeFlags)&&null!==a?(a.return=s,Yo=a):bc(e)}}function bc(e){for(;null!==Yo;){var t=Yo;if(0!=(8772&t.flags)){var i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zo||tc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zo)if(null===i)r.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:zs(t.type,i.memoizedProps);r.componentDidUpdate(s,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ha(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}ha(t,o,i)}break;case 5:var c=t.stateNode;if(null===i&&4&t.flags){i=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var l=u.dehydrated;null!==l&&Ut(l)}}}break;default:throw Error(n(163))}Zo||512&t.flags&&ic(t)}catch(e){Mh(t,t.return,e)}}if(t===e){Yo=null;break}if(null!==(i=t.sibling)){i.return=t.return,Yo=i;break}Yo=t.return}}function vc(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yo=i;break}Yo=t.return}}function wc(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{tc(4,t)}catch(e){Mh(t,i,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(e){Mh(t,s,e)}}var a=t.return;try{ic(t)}catch(e){Mh(t,a,e)}break;case 5:var n=t.return;try{ic(t)}catch(e){Mh(t,n,e)}}}catch(e){Mh(t,t.return,e)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var kc,Sc=Math.ceil,_c=k.ReactCurrentDispatcher,Mc=k.ReactCurrentOwner,Tc=k.ReactCurrentBatchConfig,Oc=0,xc=null,Ic=null,Cc=0,Ac=0,Ec=Ms(0),Nc=0,Pc=null,Bc=0,Rc=0,Lc=0,Vc=null,Dc=null,qc=0,Gc=1/0,Fc=null,jc=!1,Uc=null,zc=null,Hc=!1,Kc=null,Wc=0,Zc=0,Xc=null,Yc=-1,$c=0;function Qc(){return 0!=(6&Oc)?Qe():-1!==Yc?Yc:Yc=Qe()}function Jc(e){return 0==(1&e.mode)?1:0!=(2&Oc)&&0!==Cc?Cc&-Cc:null!==Us.transition?(0===$c&&($c=gt()),$c):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function eh(e,t,i){if(50<Zc)throw Zc=0,Xc=null,Error(n(185));var r=th(e,t);return null===r?null:(bt(r,t,i),0!=(2&Oc)&&r===xc||(r===xc&&(0==(2&Oc)&&(Rc|=t),4===Nc&&oh(r,Cc)),rh(r,i),1===t&&0===Oc&&0==(1&e.mode)&&(Gc=Qe()+500,qs&&js())),r)}function th(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function ih(e){return(null!==xc||null!==ea)&&0!=(1&e.mode)&&0==(2&Oc)}function rh(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var n=31-ot(a),o=1<<n,c=s[n];-1===c?0!=(o&i)&&0==(o&r)||(s[n]=pt(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ft(e,e===xc?Cc:0);if(0===r)null!==i&&Xe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=i&&Xe(i),1===t)0===e.tag?function(e){qs=!0,Fs(e)}(ch.bind(null,e)):Fs(ch.bind(null,e)),ns((function(){0===Oc&&js()})),i=null;else{switch(kt(r)){case 1:i=et;break;case 4:i=tt;break;case 16:default:i=it;break;case 536870912:i=st}i=Ch(i,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function sh(e,t){if(Yc=-1,$c=0,0!=(6&Oc))throw Error(n(327));var i=e.callbackNode;if(Sh()&&e.callbackNode!==i)return null;var r=ft(e,e===xc?Cc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gh(e,r);else{t=r;var s=Oc;Oc|=2;var a=ph();for(xc===e&&Cc===t||(Fc=null,Gc=Qe()+500,lh(e,t));;)try{bh();break}catch(t){fh(e,t)}Xs(),_c.current=a,Oc=s,null!==Ic?t=0:(xc=null,Cc=0,t=Nc)}if(0!==t){if(2===t&&0!==(s=mt(e))&&(r=s,t=ah(e,s)),1===t)throw i=Pc,lh(e,0),oh(e,r),rh(e,Qe()),i;if(6===t)oh(e,r);else{if(s=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var r=0;r<i.length;r++){var s=i[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(e){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gh(e,r))&&0!==(a=mt(e))&&(r=a,t=ah(e,a)),1===t))throw i=Pc,lh(e,0),oh(e,r),rh(e,Qe()),i;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(n(345));case 2:case 5:kh(e,Dc,Fc);break;case 3:if(oh(e,r),(130023424&r)===r&&10<(t=qc+500-Qe())){if(0!==ft(e,0))break;if(((s=e.suspendedLanes)&r)!==r){Qc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(kh.bind(null,e,Dc,Fc),t);break}kh(e,Dc,Fc);break;case 4:if(oh(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ot(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=rs(kh.bind(null,e,Dc,Fc),r);break}kh(e,Dc,Fc);break;default:throw Error(n(329))}}}return rh(e,Qe()),e.callbackNode===i?sh.bind(null,e):null}function ah(e,t){var i=Vc;return e.current.memoizedState.isDehydrated&&(lh(e,t).flags|=256),2!==(e=gh(e,t))&&(t=Dc,Dc=i,null!==t&&nh(t)),e}function nh(e){null===Dc?Dc=e:Dc.push.apply(Dc,e)}function oh(e,t){for(t&=~Lc,t&=~Rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ot(t),r=1<<i;e[i]=-1,t&=~r}}function ch(e){if(0!=(6&Oc))throw Error(n(327));Sh();var t=ft(e,0);if(0==(1&t))return rh(e,Qe()),null;var i=gh(e,t);if(0!==e.tag&&2===i){var r=mt(e);0!==r&&(t=r,i=ah(e,r))}if(1===i)throw i=Pc,lh(e,0),oh(e,t),rh(e,Qe()),i;if(6===i)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kh(e,Dc,Fc),rh(e,Qe()),null}function hh(e,t){var i=Oc;Oc|=1;try{return e(t)}finally{0===(Oc=i)&&(Gc=Qe()+500,qs&&js())}}function dh(e){null!==Kc&&0===Kc.tag&&0==(6&Oc)&&Sh();var t=Oc;Oc|=1;var i=Tc.transition,r=wt;try{if(Tc.transition=null,wt=1,e)return e()}finally{wt=r,Tc.transition=i,0==(6&(Oc=t))&&js()}}function uh(){Ac=Ec.current,Ts(Ec)}function lh(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,ss(i)),null!==Ic)for(i=Ic.return;null!==i;){var r=i;switch(Ca(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ps();break;case 3:en(),Ts(Cs),Ts(Is),on();break;case 5:rn(r);break;case 4:en();break;case 13:case 19:Ts(sn);break;case 10:Ys(r.type._context);break;case 22:case 23:uh()}i=i.return}if(xc=e,Ic=e=Ph(e.current,null),Cc=Ac=t,Nc=0,Pc=null,Lc=Rc=Bc=0,Dc=Vc=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(i=ea[t]).interleaved)){i.interleaved=null;var s=r.next,a=i.pending;if(null!==a){var n=a.next;a.next=s,r.next=n}i.pending=r}ea=null}return e}function fh(e,t){for(;;){var i=Ic;try{if(Xs(),cn.current=io,pn){for(var r=un.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}pn=!1}if(dn=0,fn=ln=un=null,mn=!1,gn=0,Mc.current=null,null===i||null===i.return){Nc=1,Pc=t,Ic=null;break}e:{var a=e,o=i.return,c=i,h=t;if(t=Cc,c.flags|=32768,null!==h&&"object"==typeof h&&"function"==typeof h.then){var d=h,u=c,l=u.tag;if(0==(1&u.mode)&&(0===l||11===l||15===l)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,c,0,t),1&p.mode&&mo(a,d,t),h=d;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(h),t.updateQueue=g}else m.add(h);break e}if(0==(1&t)){mo(a,d,t),mh();break e}h=Error(n(426))}else if(Na&&1&c.mode){var y=go(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),yo(y,o,c,0,t),Fa(h);break e}}a=h,4!==Nc&&(Nc=2),null===Vc?Vc=[a]:Vc.push(a),h=no(h,c),c=o;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t,oa(c,fo(0,h,t));break e;case 1:a=h;var b=c.type,v=c.stateNode;if(0==(128&c.flags)&&("function"==typeof b.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===zc||!zc.has(v)))){c.flags|=65536,t&=-t,c.lanes|=t,oa(c,po(c,a,t));break e}}c=c.return}while(null!==c)}wh(i)}catch(e){t=e,Ic===i&&null!==i&&(Ic=i=i.return);continue}break}}function ph(){var e=_c.current;return _c.current=io,null===e?io:e}function mh(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===xc||0==(268435455&Bc)&&0==(268435455&Rc)||oh(xc,Cc)}function gh(e,t){var i=Oc;Oc|=2;var r=ph();for(xc===e&&Cc===t||(Fc=null,lh(e,t));;)try{yh();break}catch(t){fh(e,t)}if(Xs(),Oc=i,_c.current=r,null!==Ic)throw Error(n(261));return xc=null,Cc=0,Nc}function yh(){for(;null!==Ic;)vh(Ic)}function bh(){for(;null!==Ic&&!Ye();)vh(Ic)}function vh(e){var t=kc(e.alternate,e,Ac);e.memoizedProps=e.pendingProps,null===t?wh(e):Ic=t,Mc.current=null}function wh(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(i=wo(i,t,Ac)))return void(Ic=i)}else{if(null!==(i=Ko(i,t)))return i.flags&=32767,void(Ic=i);if(null===e)return Nc=6,void(Ic=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ic=t);Ic=t=e}while(null!==t);0===Nc&&(Nc=5)}function kh(e,t,i){var r=wt,s=Tc.transition;try{Tc.transition=null,wt=1,function(e,t,i,r){do{Sh()}while(null!==Kc);if(0!=(6&Oc))throw Error(n(327));i=e.finishedWork;var s=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-ot(i),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,i&=~a}}(e,a),e===xc&&(Ic=xc=null,Cc=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||Hc||(Hc=!0,Ch(it,(function(){return Sh(),null}))),a=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||a){a=Tc.transition,Tc.transition=null;var o=wt;wt=1;var c=Oc;Oc|=4,Mc.current=null,function(e,t){if(es=Ht,fr(e=lr())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(r&&0!==r.rangeCount){i=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{i.nodeType,a.nodeType}catch(e){i=null;break e}var o=0,c=-1,h=-1,d=0,u=0,l=e,f=null;t:for(;;){for(var p;l!==i||0!==s&&3!==l.nodeType||(c=o+s),l!==a||0!==r&&3!==l.nodeType||(h=o+r),3===l.nodeType&&(o+=l.nodeValue.length),null!==(p=l.firstChild);)f=l,l=p;for(;;){if(l===e)break t;if(f===i&&++d===s&&(c=o),f===a&&++u===r&&(h=o),null!==(p=l.nextSibling))break;f=(l=f).parentNode}l=p}i=-1===c||-1===h?null:{start:c,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(ts={focusedElem:e,selectionRange:i},Ht=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:zs(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var k=w.body;null!=k&&(k.textContent="")}break;default:throw Error(n(163))}}catch(e){Mh(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}m=Jo,Jo=!1}(e,i),pc(i,e),pr(ts),Ht=!!es,ts=es=null,e.current=i,gc(i,e,s),$e(),Oc=c,wt=o,Tc.transition=a}else e.current=i;if(Hc&&(Hc=!1,Kc=e,Wc=s),0===(a=e.pendingLanes)&&(zc=null),function(e){if(nt&&"function"==typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(at,e,void 0,128==(128&e.current.flags))}catch(e){}}(i.stateNode),rh(e,Qe()),null!==t)for(r=e.onRecoverableError,i=0;i<t.length;i++)r(t[i]);if(jc)throw jc=!1,e=Uc,Uc=null,e;0!=(1&Wc)&&0!==e.tag&&Sh(),0!=(1&(a=e.pendingLanes))?e===Xc?Zc++:(Zc=0,Xc=e):Zc=0,js()}(e,t,i,r)}finally{Tc.transition=s,wt=r}return null}function Sh(){if(null!==Kc){var e=kt(Wc),t=Tc.transition,i=wt;try{if(Tc.transition=null,wt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Wc=0,0!=(6&Oc))throw Error(n(331));var s=Oc;for(Oc|=4,Yo=e.current;null!==Yo;){var a=Yo,o=a.child;if(0!=(16&Yo.flags)){var c=a.deletions;if(null!==c){for(var h=0;h<c.length;h++){var d=c[h];for(Yo=d;null!==Yo;){var u=Yo;switch(u.tag){case 0:case 11:case 15:ec(8,u,a)}var l=u.child;if(null!==l)l.return=u,Yo=l;else for(;null!==Yo;){var f=(u=Yo).sibling,p=u.return;if(rc(u),u===d){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Yo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Yo=o;else e:for(;null!==Yo;){if(0!=(2048&(a=Yo).flags))switch(a.tag){case 0:case 11:case 15:ec(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Yo=b;break e}Yo=a.return}}var v=e.current;for(Yo=v;null!==Yo;){var w=(o=Yo).child;if(0!=(2064&o.subtreeFlags)&&null!==w)w.return=o,Yo=w;else e:for(o=v;null!==Yo;){if(0!=(2048&(c=Yo).flags))try{switch(c.tag){case 0:case 11:case 15:tc(9,c)}}catch(e){Mh(c,c.return,e)}if(c===o){Yo=null;break e}var k=c.sibling;if(null!==k){k.return=c.return,Yo=k;break e}Yo=c.return}}if(Oc=s,js(),nt&&"function"==typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(at,e)}catch(e){}r=!0}return r}finally{wt=i,Tc.transition=t}}return!1}function _h(e,t,i){aa(e,t=fo(0,t=no(i,t),1)),t=Qc(),null!==(e=th(e,1))&&(bt(e,1,t),rh(e,t))}function Mh(e,t,i){if(3===e.tag)_h(e,e,i);else for(;null!==t;){if(3===t.tag){_h(t,e,i);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zc||!zc.has(r))){aa(t,e=po(t,e=no(i,e),1)),e=Qc(),null!==(t=th(t,1))&&(bt(t,1,e),rh(t,e));break}}t=t.return}}function Th(e,t,i){var r=e.pingCache;null!==r&&r.delete(t),t=Qc(),e.pingedLanes|=e.suspendedLanes&i,xc===e&&(Cc&i)===i&&(4===Nc||3===Nc&&(130023424&Cc)===Cc&&500>Qe()-qc?lh(e,0):Lc|=i),rh(e,t)}function Oh(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var i=Qc();null!==(e=th(e,t))&&(bt(e,t,i),rh(e,i))}function xh(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Oh(e,i)}function Ih(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(i=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(n(314))}null!==r&&r.delete(t),Oh(e,i)}function Ch(e,t){return Ze(e,t)}function Ah(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eh(e,t,i,r){return new Ah(e,t,i,r)}function Nh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ph(e,t){var i=e.alternate;return null===i?((i=Eh(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Bh(e,t,i,r,s,a){var o=2;if(r=e,"function"==typeof e)Nh(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case M:return Rh(i.children,s,a,t);case T:o=8,s|=8;break;case O:return(e=Eh(12,i,t,2|s)).elementType=O,e.lanes=a,e;case A:return(e=Eh(13,i,t,s)).elementType=A,e.lanes=a,e;case E:return(e=Eh(19,i,t,s)).elementType=E,e.lanes=a,e;case B:return Lh(i,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case I:o=9;break e;case C:o=11;break e;case N:o=14;break e;case P:o=16,r=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Eh(o,i,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Rh(e,t,i,r){return(e=Eh(7,e,r,t)).lanes=i,e}function Lh(e,t,i,r){return(e=Eh(22,e,r,t)).elementType=B,e.lanes=i,e.stateNode={},e}function Vh(e,t,i){return(e=Eh(6,e,null,t)).lanes=i,e}function Dh(e,t,i){return(t=Eh(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qh(e,t,i,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gh(e,t,i,r,s,a,n,o,c){return e=new qh(e,t,i,o,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Eh(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(a),e}function Fh(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:i}}function jh(e){if(!e)return xs;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var i=e.type;if(Ns(i))return Rs(e,i,t)}return t}function Uh(e,t,i,r,s,a,n,o,c){return(e=Gh(i,r,!0,e,0,a,0,o,c)).context=jh(null),i=e.current,(a=sa(r=Qc(),s=Jc(i))).callback=null!=t?t:null,aa(i,a),e.current.lanes=s,bt(e,s,r),rh(e,r),e}function zh(e,t,i,r){var s=t.current,a=Qc(),n=Jc(s);return i=jh(i),null===t.context?t.context=i:t.pendingContext=i,(t=sa(a,n)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(s,t),null!==(e=eh(s,n,a))&&na(e,s,n),n}function Hh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Wh(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}kc=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cs.current)So=!0;else{if(0==(e.lanes&i)&&0==(128&t.flags))return So=!1,function(e,t,i){switch(t.tag){case 3:No(t),Ga();break;case 5:tn(t);break;case 1:Ns(t.type)&&Ls(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Os(Hs,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Os(sn,1&sn.current),t.flags|=128,null):0!=(i&t.child.childLanes)?Vo(e,t,i):(Os(sn,1&sn.current),null!==(e=Ho(e,t,i))?e.sibling:null);Os(sn,1&sn.current);break;case 19:if(r=0!=(i&t.childLanes),0!=(128&e.flags)){if(r)return zo(e,t,i);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Os(sn,sn.current),r)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,i)}return Ho(e,t,i)}(e,t,i);So=0!=(131072&e.flags)}else So=!1,Na&&0!=(1048576&t.flags)&&xa(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var s=Es(t,Is.current);Qs(t,i),s=wn(null,t,r,e,s,i);var a=kn();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(r)?(a=!0,Ls(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,ia(t),s.updater=la,t.stateNode=s,s._reactInternals=t,ga(t,r,e,i),t=Eo(null,t,r,!0,a,i)):(t.tag=0,Na&&a&&Ia(t),_o(null,t,s,i),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"==typeof e)return Nh(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=zs(r,e),s){case 0:t=Co(null,t,r,e,i);break e;case 1:t=Ao(null,t,r,e,i);break e;case 11:t=Mo(null,t,r,e,i);break e;case 14:t=To(null,t,r,zs(r.type,e),i);break e}throw Error(n(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:zs(r,s),i);case 1:return r=t.type,s=t.pendingProps,Ao(e,t,r,s=t.elementType===r?s:zs(r,s),i);case 3:e:{if(No(t),null===e)throw Error(n(387));r=t.pendingProps,s=(a=t.memoizedState).element,ra(e,t),ca(t,r,null,i);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,r,i,s=Error(n(423)));break e}if(r!==s){t=Po(e,t,r,i,s=Error(n(424)));break e}for(Ea=hs(t.stateNode.containerInfo.firstChild),Aa=t,Na=!0,Pa=null,i=Wa(t,null,r,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(Ga(),r===s){t=Ho(e,t,i);break e}_o(e,t,r,i)}t=t.child}return t;case 5:return tn(t),null===e&&Va(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,is(r,s)?o=null:null!==a&&is(r,a)&&(t.flags|=32),Io(e,t),_o(e,t,o,i),t.child;case 6:return null===e&&Va(t),null;case 13:return Vo(e,t,i);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,i):_o(e,t,r,i),t.child;case 11:return r=t.type,s=t.pendingProps,Mo(e,t,r,s=t.elementType===r?s:zs(r,s),i);case 7:return _o(e,t,t.pendingProps,i),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Os(Hs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!Cs.current){t=Ho(e,t,i);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var h=c.firstContext;null!==h;){if(h.context===r){if(1===a.tag){(h=sa(-1,i&-i)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),d.pending=h}}a.lanes|=i,null!==(h=a.alternate)&&(h.lanes|=i),$s(a.return,i,t),c.lanes|=i;break}h=h.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(n(341));o.lanes|=i,null!==(c=o.alternate)&&(c.lanes|=i),$s(o,i,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Qs(t,i),r=r(s=Js(s)),t.flags|=1,_o(e,t,r,i),t.child;case 14:return s=zs(r=t.type,t.pendingProps),To(e,t,r,s=zs(r.type,s),i);case 15:return Oo(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zs(r,s),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ns(r)?(e=!0,Ls(t)):e=!1,Qs(t,i),pa(t,r,s),ga(t,r,s,i),Eo(null,t,r,!0,e,i);case 19:return zo(e,t,i);case 22:return xo(e,t,i)}throw Error(n(156,t.tag))};var Zh="function"==typeof reportError?reportError:function(e){r.error(e)};function Xh(e){this._internalRoot=e}function Yh(e){this._internalRoot=e}function $h(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jh(){}function ed(e,t,i,r,s){var a=i._reactRootContainer;if(a){var n=a;if("function"==typeof s){var o=s;s=function(){var e=Hh(n);o.call(e)}}zh(t,n,e,s)}else n=function(e,t,i,r,s){if(s){if("function"==typeof r){var a=r;r=function(){var e=Hh(n);a.call(e)}}var n=Uh(t,r,e,0,null,!1,0,"",Jh);return e._reactRootContainer=n,e[ps]=n.current,jr(8===e.nodeType?e.parentNode:e),dh(),n}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var o=r;r=function(){var e=Hh(c);o.call(e)}}var c=Gh(e,0,!1,null,0,!1,0,"",Jh);return e._reactRootContainer=c,e[ps]=c.current,jr(8===e.nodeType?e.parentNode:e),dh((function(){zh(t,c,i,r)})),c}(i,t,e,s,r);return Hh(n)}Yh.prototype.render=Xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));zh(e,t,null,null)},Yh.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dh((function(){zh(null,e,null,null)})),t[ps]=null}},Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Bt.length&&0!==t&&t<Bt[i].priority;i++);Bt.splice(i,0,e),0===i&&Dt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=lt(t.pendingLanes);0!==i&&(vt(t,1|i),rh(t,Qe()),0==(6&Oc)&&(Gc=Qe()+500,js()))}break;case 13:var r=Qc();dh((function(){return eh(e,1,r)})),Wh(e,1)}},_t=function(e){13===e.tag&&(eh(e,134217728,Qc()),Wh(e,134217728))},Mt=function(e){if(13===e.tag){var t=Qc(),i=Jc(e);eh(e,i,t),Wh(e,i)}},Tt=function(){return wt},Ot=function(e,t){var i=wt;try{return wt=e,t()}finally{wt=i}},_e=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var s=ks(r);if(!s)throw Error(n(90));Z(r),J(r,s)}}}break;case"textarea":ne(e,i);break;case"select":null!=(t=i.value)&&re(e,!!i.multiple,t,!1)}},Ce=hh,Ae=dh;var td={usingClientEntryPoint:!1,Events:[vs,ws,ks,xe,Ie,hh]},id={findFiberByHostInstance:bs,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},rd={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{at=sd.inject(rd),nt=sd}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$h(t))throw Error(n(200));return Fh(e,t,null,i)},t.createRoot=function(e,t){if(!$h(e))throw Error(n(299));var i=!1,r="",s=Zh;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Gh(e,1,!1,null,0,i,0,r,s),e[ps]=t.current,jr(8===e.nodeType?e.parentNode:e),new Xh(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dh(e)},t.hydrate=function(e,t,i){if(!Qh(t))throw Error(n(200));return ed(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!$h(e))throw Error(n(405));var r=null!=i&&i.hydratedSources||null,s=!1,a="",o=Zh;if(null!=i&&(!0===i.unstable_strictMode&&(s=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(o=i.onRecoverableError)),t=Uh(t,null,e,1,null!=i?i:null,s,0,a,o),e[ps]=t.current,jr(e),r)for(e=0;e<r.length;e++)s=(s=(i=r[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Yh(t)},t.render=function(e,t,i){if(!Qh(t))throw Error(n(200));return ed(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Qh(e))throw Error(n(40));return!!e._reactRootContainer&&(dh((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=hh,t.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!Qh(i))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return ed(e,t,i,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},20745:(e,t,i)=>{"use strict";var r=i(73935);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},73935:(e,t,i)=>{"use strict";var r=i(25108);!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){r.error(e)}}(),e.exports=i(64448)},69921:(e,t)=>{"use strict";var i=60103,r=60106,s=60107,a=60108,n=60114,o=60109,c=60110,h=60112,d=60113,u=60120,l=60115,f=60116,p=60121,m=60122,g=60117,y=60129,b=60131;if("function"==typeof Symbol&&Symbol.for){var v=Symbol.for;i=v("react.element"),r=v("react.portal"),s=v("react.fragment"),a=v("react.strict_mode"),n=v("react.profiler"),o=v("react.provider"),c=v("react.context"),h=v("react.forward_ref"),d=v("react.suspense"),u=v("react.suspense_list"),l=v("react.memo"),f=v("react.lazy"),p=v("react.block"),m=v("react.server.block"),g=v("react.fundamental"),y=v("react.debug_trace_mode"),b=v("react.legacy_hidden")}t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===n||e===y||e===a||e===d||e===u||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===p||e[0]===m)},t.typeOf=function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case s:case n:case a:case d:case u:return e;default:switch(e=e&&e.$$typeof){case c:case h:case f:case l:case o:return e;default:return t}}case r:return t}}}},59864:(e,t,i)=>{"use strict";e.exports=i(69921)},72408:(e,t)=>{"use strict";var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||p}function b(){}function v(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var s,a={},n=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(n=""+t.key),t)S.call(t,s)&&!M.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var h=Array(c),d=0;d<c;d++)h[d]=arguments[d+2];a.children=h}if(e&&e.defaultProps)for(s in c=e.defaultProps)void 0===a[s]&&(a[s]=c[s]);return{$$typeof:i,type:e,key:n,ref:o,props:a,_owner:_.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,s,a,n){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case r:c=!0}}if(c)return n=n(c=e),e=""===a?"."+I(c,0):a,k(n)?(s="",null!=e&&(s=e.replace(x,"$&/")+"/"),C(n,t,s,"",(function(e){return e}))):null!=n&&(O(n)&&(n=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(n,s+(!n.key||c&&c.key===n.key?"":(""+n.key).replace(x,"$&/")+"/")+e)),t.push(n)),1;if(c=0,a=""===a?".":a+":",k(e))for(var h=0;h<e.length;h++){var d=a+I(o=e[h],h);c+=C(o,t,s,d,n)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),h=0;!(o=e.next()).done;)c+=C(o=o.value,t,s,d=a+I(o,h++),n);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,i){if(null==e)return e;var r=[],s=0;return C(e,r,"","",(function(e){return t.call(i,e,s++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},B={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,i){A(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=n,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,n=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(n=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)S.call(t,h)&&!M.hasOwnProperty(h)&&(s[h]=void 0===t[h]&&void 0!==c?c[h]:t[h])}var h=arguments.length-2;if(1===h)s.children=r;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:i,type:e.type,key:a,ref:n,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,i){return N.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,i){return N.current.useReducer(e,t,i)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return N.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return N.current.useTransition()},t.version="18.1.0"},67294:(e,t,i)=>{"use strict";e.exports=i(72408)},94281:e=>{"use strict";var t={};function i(e,i,r){r||(r=Error);var s=function(e){var t,r;function s(t,r,s){return e.call(this,function(e,t,r){return"string"==typeof i?i:i(e,t,r)}(t,r,s))||this}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s}(r);s.prototype.name=r.name,s.prototype.code=e,t[e]=s}function r(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map((function(e){return String(e)})),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,i){var s,a,n,o,c;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(s="must not be",t=t.replace(/^not /,"")):s="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}(e," argument"))n="The ".concat(e," ").concat(s," ").concat(r(t,"type"));else{var h=("number"!=typeof c&&(c=0),c+".".length>(o=e).length||-1===o.indexOf(".",c)?"argument":"property");n='The "'.concat(e,'" ').concat(h," ").concat(s," ").concat(r(t,"type"))}return n+". Received type ".concat(typeof i)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:(e,t,i)=>{"use strict";var r=i(34155),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=d;var a=i(79481),n=i(64229);i(35717)(d,a);for(var o=s(n.prototype),c=0;c<o.length;c++){var h=o[c];d.prototype[h]||(d.prototype[h]=n.prototype[h])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:(e,t,i)=>{"use strict";e.exports=s;var r=i(74605);function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}i(35717)(s,r),s.prototype._transform=function(e,t,i){i(null,e)}},79481:(e,t,i)=>{"use strict";var r,s=i(34155);e.exports=T,T.ReadableState=M,i(17187).EventEmitter;var a,n=function(e,t){return e.listeners(t).length},o=i(22503),c=i(48764).Buffer,h=i.g.Uint8Array||function(){},d=i(94616);a=d&&d.debuglog?d.debuglog("stream"):function(){};var u,l,f,p=i(57327),m=i(61195),g=i(82457).getHighWaterMark,y=i(94281).q,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(35717)(T,o);var S=m.errorOrDestroy,_=["error","close","destroy","pause","resume"];function M(e,t,s){r=r||i(56753),e=e||{},"boolean"!=typeof s&&(s=t instanceof r),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",s),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=i(32553).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function T(e){if(r=r||i(56753),!(this instanceof T))return new T(e);var t=this instanceof r;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function O(e,t,i,r,s){a("readableAddChunk",t);var n,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,E(e)))}}(e,o);else if(s||(n=function(e,t){var i,r;return r=t,c.isBuffer(r)||r instanceof h||"string"==typeof t||void 0===t||e.objectMode||(i=new b("chunk",["string","Buffer","Uint8Array"],t)),i}(o,t)),n)S(e,n);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r)o.endEmitted?S(e,new k):x(e,o,t,!0);else if(o.ended)S(e,new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!i?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):N(e,o)):x(e,o,t,!1)}else r||(o.reading=!1,N(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function x(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&A(e)),N(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),i=!0),O(this,e,t,!1,i)},T.prototype.unshift=function(e){return O(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){u||(u=i(32553).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,s="";null!==r;)s+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==s&&this._readableState.buffer.push(s),this._readableState.length=s.length,this};var I=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,s.nextTick(E,e))}function E(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,V(e)}function N(e,t){t.readingMore||(t.readingMore=!0,s.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var i=t.length;if(a("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){a("readable nexttick read 0"),e.read(0)}function L(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),V(e),t.flowing&&!t.reading&&e.read(0)}function V(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function q(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,s.nextTick(G,t,e))}function G(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function F(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}T.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?q(this):A(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&q(this),null;var r,s=t.needReadable;return a("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",s=!0),t.ended||t.reading?a("reading or ended",s=!1):s&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(i,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&q(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(e){S(this,new w("_read()"))},T.prototype.pipe=function(e,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,a("pipe count=%d opts=%j",r.pipesCount,t);var o=t&&!1===t.end||e===s.stdout||e===s.stderr?m:c;function c(){a("onend"),e.end()}r.endEmitted?s.nextTick(o):i.once("end",o),e.on("unpipe",(function t(s,n){a("onunpipe"),s===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,a("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",h),e.removeListener("error",l),e.removeListener("unpipe",t),i.removeListener("end",c),i.removeListener("end",m),i.removeListener("data",u),d=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}));var h=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,V(e))}}(i);e.on("drain",h);var d=!1;function u(t){a("ondata");var s=e.write(t);a("dest.write",s),!1===s&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!d&&(a("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function l(t){a("onerror",t),m(),e.removeListener("error",l),0===n(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),m()}function p(){a("onfinish"),e.removeListener("close",f),m()}function m(){a("unpipe"),i.unpipe(e)}return i.on("data",u),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(i):e._events.error=[i,e._events.error]:e.on(t,i)}(e,"error",l),e.once("close",f),e.once("finish",p),e.emit("pipe",i),r.flowing||(a("pipe resume"),i.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var r=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<s;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var n=F(t.pipes,e);return-1===n||(t.pipes.splice(n,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},T.prototype.on=function(e,t){var i=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,a("on readable",r.length,r.reading),r.length?A(this):r.reading||s.nextTick(R,this))),i},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var i=o.prototype.removeListener.call(this,e,t);return"readable"===e&&s.nextTick(B,this),i},T.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||s.nextTick(B,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(L,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var s in e.on("end",(function(){if(a("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){a("wrapped data"),i.decoder&&(s=i.decoder.write(s)),i.objectMode&&null==s||(i.objectMode||s&&s.length)&&(t.push(s)||(r=!0,e.pause()))})),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var n=0;n<_.length;n++)e.on(_[n],this.emit.bind(this,_[n]));return this._read=function(t){a("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(45850)),l(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=D,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===f&&(f=i(15167)),f(T,e,t)})},74605:(e,t,i)=>{"use strict";e.exports=d;var r=i(94281).q,s=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,c=i(56753);function h(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(null===r)return this.emit("error",new a);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,i){l(e,t,i)}))}function l(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new o;if(e._transformState.transforming)throw new n;return e.push(null)}i(35717)(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,i){i(new s("_transform()"))},d.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:(e,t,i)=>{"use strict";var r,s=i(34155);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;for(e.entry=null;r;){var s=r.callback;t.pendingcb--,s(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=M;var n,o={deprecate:i(94927)},c=i(22503),h=i(48764).Buffer,d=i.g.Uint8Array||function(){},u=i(61195),l=i(82457).getHighWaterMark,f=i(94281).q,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,k=f.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;function _(){}function M(e,t,n){r=r||i(56753),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,a=i.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,a){--t.pendingcb,i?(s.nextTick(a,r),s.nextTick(E,e,t),e._writableState.errorEmitted=!0,S(e,r)):(a(r),e._writableState.errorEmitted=!0,S(e,r),E(e,t))}(e,i,r,t,a);else{var n=C(i)||e.destroyed;n||i.corked||i.bufferProcessing||!i.bufferedRequest||I(e,i),r?s.nextTick(x,e,i,n,a):x(e,i,n,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(e){var t=this instanceof(r=r||i(56753));if(!t&&!n.call(T,this))return new T(e);this._writableState=new M(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function O(e,t,i,r,s,a,n){t.writelen=r,t.writecb=n,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):i?e._writev(s,t.onwrite):e._write(s,a,t.onwrite),t.sync=!1}function x(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function I(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,s=new Array(r),n=t.corkedRequestsFree;n.entry=i;for(var o=0,c=!0;i;)s[o]=i,i.isBuf||(c=!1),i=i.next,o+=1;s.allBuffers=c,O(e,t,!0,t.length,s,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var h=i.chunk,d=i.encoding,u=i.callback;if(O(e,t,!1,t.objectMode?1:h.length,h,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(i){t.pendingcb--,i&&S(e,i),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var i=C(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,s.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return i}i(35717)(T,c),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===T&&e&&e._writableState instanceof M}})):n=function(e){return e instanceof this},T.prototype.pipe=function(){S(this,new y)},T.prototype.write=function(e,t,i){var r,a=this._writableState,n=!1,o=!a.objectMode&&(r=e,h.isBuffer(r)||r instanceof d);return o&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(i=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof i&&(i=_),a.ending?function(e,t){var i=new w;S(e,i),s.nextTick(t,i)}(this,i):(o||function(e,t,i,r){var a;return null===i?a=new v:"string"==typeof i||t.objectMode||(a=new p("chunk",["string","Buffer"],i)),!a||(S(e,a),s.nextTick(r,a),!1)}(this,a,e,i))&&(a.pendingcb++,n=function(e,t,i,r,s,a){if(!i){var n=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,i)),t}(t,r,s);r!==n&&(i=!0,s="buffer",r=n)}var o=t.objectMode?1:r.length;t.length+=o;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:s,isBuf:i,callback:a,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,o,r,s,a);return c}(this,a,o,e,t,i)),n},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,i){i(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,i){var r=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,i){t.ending=!0,E(e,t),i&&(t.finished?s.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,r,i),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=u.destroy,T.prototype._undestroy=u.undestroy,T.prototype._destroy=function(e,t){t(e)}},45850:(e,t,i)=>{"use strict";var r,s=i(34155);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i(8610),o=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[o];if(null!==t){var i=e[f].read();null!==i&&(e[u]=null,e[o]=null,e[c]=null,t(p(i,!1)))}}function g(e){s.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((a(r={get stream(){return this[f]},next:function(){var e=this,t=this[h];if(null!==t)return Promise.reject(t);if(this[d])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,i){s.nextTick((function(){e[h]?i(e[h]):t(p(void 0,!0))}))}));var i,r=this[u];if(r)i=new Promise(function(e,t){return function(i,r){e.then((function(){t[d]?i(p(void 0,!0)):t[l](i,r)}),r)}}(r,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(p(a,!1));i=new Promise(this[l])}return this[u]=i,i}},Symbol.asyncIterator,(function(){return this})),a(r,"return",(function(){var e=this;return new Promise((function(t,i){e[f].destroy(null,(function(e){e?i(e):t(p(void 0,!0))}))}))})),r),y);e.exports=function(e){var t,i=Object.create(b,(a(t={},f,{value:e,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,h,{value:null,writable:!0}),a(t,d,{value:e._readableState.endEmitted,writable:!0}),a(t,l,{value:function(e,t){var r=i[f].read();r?(i[u]=null,i[o]=null,i[c]=null,e(p(r,!1))):(i[o]=e,i[c]=t)},writable:!0}),t));return i[u]=null,n(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[c];return null!==t&&(i[u]=null,i[o]=null,i[c]=null,t(e)),void(i[h]=e)}var r=i[o];null!==r&&(i[u]=null,i[o]=null,i[c]=null,r(p(void 0,!0))),i[d]=!0})),e.on("readable",g.bind(null,i)),i}},57327:(e,t,i)=>{"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=i(48764).Buffer,o=i(52361).inspect,c=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,i;return t=e,i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return n.alloc(0);for(var t,i,r,s=n.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,i=s,r=o,n.prototype.copy.call(t,i,r),o+=a.data.length,a=a.next;return s}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,r=t.data;for(e-=r.length;t=t.next;){var s=t.data,a=e>s.length?s.length:e;if(a===s.length?r+=s:r+=s.slice(0,e),0==(e-=a)){a===s.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=s.slice(a));break}++i}return this.length-=i,r}},{key:"_getBuffer",value:function(e){var t=n.allocUnsafe(e),i=this.head,r=1;for(i.data.copy(t),e-=i.data.length;i=i.next;){var s=i.data,a=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,a),0==(e-=a)){a===s.length?(++r,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],i&&a(t.prototype,i),e}()},61195:(e,t,i)=>{"use strict";var r=i(34155);function s(e,t){n(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(n,this,e)):r.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?r.nextTick(a,i):(i._writableState.errorEmitted=!0,r.nextTick(s,i,e)):r.nextTick(s,i,e):t?(r.nextTick(a,i),t(e)):r.nextTick(a,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var i=e._readableState,r=e._writableState;i&&i.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,i)=>{"use strict";var r=i(94281).q.ERR_STREAM_PREMATURE_CLOSE;function s(){}e.exports=function e(t,i,a){if("function"==typeof i)return e(t,null,i);i||(i={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];e.apply(this,r)}}}(a||s);var n=i.readable||!1!==i.readable&&t.readable,o=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||d()},h=t._writableState&&t._writableState.finished,d=function(){o=!1,h=!0,n||a.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,o||a.call(t)},f=function(e){a.call(t,e)},p=function(){var e;return n&&!u?(t._readableState&&t._readableState.ended||(e=new r),a.call(t,e)):o&&!h?(t._writableState&&t._writableState.ended||(e=new r),a.call(t,e)):void 0},m=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",p),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",l),t.on("finish",d),!1!==i.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",p)}}},15167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:(e,t,i)=>{"use strict";var r,s=i(94281).q,a=s.ERR_MISSING_ARGS,n=s.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e,t,s,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===r&&(r=i(8610)),r(e,{readable:t,writable:s},(function(e){if(e)return a(e);o=!0,a()}));var c=!1;return function(t){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new n("pipe"))}}function h(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r,s=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var n=t.map((function(e,i){var a=i<t.length-1;return c(e,a,i>0,(function(e){r||(r=e),e&&n.forEach(h),a||(n.forEach(h),s(r))}))}));return t.reduce(d)}},82457:(e,t,i)=>{"use strict";var r=i(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,i,s){var a=function(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}(t,s,i);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(s?i:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},22503:(e,t,i)=>{e.exports=i(17187).EventEmitter},88473:(e,t,i)=>{(t=e.exports=i(79481)).Stream=t,t.Readable=t,t.Writable=i(64229),t.Duplex=i(56753),t.Transform=i(74605),t.PassThrough=i(82725),t.finished=i(8610),t.pipeline=i(59946)},35666:e=>{var t=function(e){"use strict";var t,i=Object.prototype,r=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,i){return e[t]=i}}function h(e,t,i,r){var s=t&&t.prototype instanceof g?t:g,a=Object.create(s.prototype),n=new I(r||[]);return a._invoke=function(e,t,i){var r=u;return function(s,a){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===s)throw a;return A()}for(i.method=s,i.arg=a;;){var n=i.delegate;if(n){var o=T(n,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=d(e,t,i);if("normal"===c.type){if(r=i.done?p:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=p,i.method="throw",i.arg=c.arg)}}}(e,i,n),a}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=h;var u="suspendedStart",l="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function b(){}var v={};v[a]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(C([])));k&&k!==i&&r.call(k,a)&&(v=k);var S=b.prototype=g.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function i(s,a,n,o){var c=d(e[s],e,a);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,n,o)}),(function(e){i("throw",e,n,o)})):t.resolve(u).then((function(e){h.value=e,n(h)}),(function(e){return i("throw",e,n,o)}))}o(c.arg)}var s;this._invoke=function(e,r){function a(){return new t((function(t,s){i(e,r,t,s)}))}return s=s?s.then(a,a):a()}}function T(e,i){var r=e.iterator[i.method];if(r===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,T(e,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var s=d(r,e.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var a=s.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,m):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,n=function i(){for(;++s<e.length;)if(r.call(e,s))return i.value=e[s],i.done=!1,i;return i.value=t,i.done=!0,i};return n.next=n}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=S.constructor=b,b.constructor=y,y.displayName=c(b,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,o,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},_(M.prototype),M.prototype[n]=function(){return this},e.AsyncIterator=M,e.async=function(t,i,r,s,a){void 0===a&&(a=Promise);var n=new M(h(t,i,r,s),a);return e.isGeneratorFunction(i)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},_(S),c(S,o,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function s(r,s){return o.type="throw",o.arg=e,i.next=r,s&&(i.method="next",i.arg=t),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return s("end");if(n.tryLoc<=this.prev){var c=r.call(n,"catchLoc"),h=r.call(n,"finallyLoc");if(c&&h){if(this.prev<n.catchLoc)return s(n.catchLoc,!0);if(this.prev<n.finallyLoc)return s(n.finallyLoc)}else if(c){if(this.prev<n.catchLoc)return s(n.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return s(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=e,n.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),x(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var s=r.arg;x(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:C(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},47418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},99353:(e,t,i)=>{e.exports=i(71846)},71846:(e,t,i)=>{var r=i(41960);t.operation=function(e){var i=t.timeouts(e);return new r(i,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var i in e)t[i]=e[i];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],s=0;s<t.retries;s++)r.push(this.createTimeout(s,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(s,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var i=t.randomize?Math.random()+1:1,r=Math.round(i*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},t.wrap=function(e,i,r){if(i instanceof Array&&(r=i,i=null),!r)for(var s in r=[],e)"function"==typeof e[s]&&r.push(s);for(var a=0;a<r.length;a++){var n=r[a],o=e[n];e[n]=function(r){var s=t.operation(i),a=Array.prototype.slice.call(arguments,1),n=a.pop();a.push((function(e){s.retry(e)||(e&&(arguments[0]=s.mainError()),n.apply(this,arguments))})),s.attempt((function(){r.apply(e,a)}))}.bind(e,o),e[n].options=i}}},41960:(e,t,i)=>{var r=i(25108);function s(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=s,s.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},s.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},s.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var i=this._timeouts.shift();if(void 0===i){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),i=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),i),this._options.unref&&this._timer.unref(),!0},s.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var i=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){i._operationTimeoutCb()}),i._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},s.prototype.try=function(e){r.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},s.prototype.start=function(e){r.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},s.prototype.start=s.prototype.try,s.prototype.errors=function(){return this._errors},s.prototype.attempts=function(){return this._attempts},s.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,i=0,r=0;r<this._errors.length;r++){var s=this._errors[r],a=s.message,n=(e[a]||0)+1;e[a]=n,n>=i&&(t=s,i=n)}return t}},79785:(e,t,i)=>{"use strict";var r=i(48764).Buffer,s=i(35717),a=i(3349),n=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function f(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,i,r,s,a,n,o){return p(e+(t^i^r)+a+n|0,o)+s|0}function g(e,t,i,r,s,a,n,o){return p(e+(t&i|~t&r)+a+n|0,o)+s|0}function y(e,t,i,r,s,a,n,o){return p(e+((t|~i)^r)+a+n|0,o)+s|0}function b(e,t,i,r,s,a,n,o){return p(e+(t&r|i&~r)+a+n|0,o)+s|0}function v(e,t,i,r,s,a,n,o){return p(e+(t^(i|~r))+a+n|0,o)+s|0}s(f,a),f.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,f=0|this._e,w=0|this._a,k=0|this._b,S=0|this._c,_=0|this._d,M=0|this._e,T=0;T<80;T+=1){var O,x;T<16?(O=m(i,r,s,a,f,e[o[T]],u[0],h[T]),x=v(w,k,S,_,M,e[c[T]],l[0],d[T])):T<32?(O=g(i,r,s,a,f,e[o[T]],u[1],h[T]),x=b(w,k,S,_,M,e[c[T]],l[1],d[T])):T<48?(O=y(i,r,s,a,f,e[o[T]],u[2],h[T]),x=y(w,k,S,_,M,e[c[T]],l[2],d[T])):T<64?(O=b(i,r,s,a,f,e[o[T]],u[3],h[T]),x=g(w,k,S,_,M,e[c[T]],l[3],d[T])):(O=v(i,r,s,a,f,e[o[T]],u[4],h[T]),x=m(w,k,S,_,M,e[c[T]],l[4],d[T])),i=f,f=a,a=p(s,10),s=r,r=O,w=M,M=_,_=p(S,10),S=k,k=x}var I=this._b+s+_|0;this._b=this._c+a+M|0,this._c=this._d+f+w|0,this._d=this._e+i+k|0,this._e=this._a+r+S|0,this._a=I},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},89509:(e,t,i)=>{var r=i(48764),s=r.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=n),n.prototype=Object.create(s.prototype),a(s,n),n.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,i)},n.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},2399:(e,t,i)=>{"use strict";var r,s=i(34155),a=i(48764),n=a.Buffer,o={};for(r in a)a.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(o[r]=a[r]);var c=o.Buffer={};for(r in n)n.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(c[r]=n[r]);if(o.Buffer.prototype=n.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(e,t,i){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return n(e,t,i)}),c.alloc||(c.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=n(e);return t&&0!==t.length?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r}),!o.kStringMaxLength)try{o.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch(e){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),e.exports=o},60053:(e,t,i)=>{"use strict";var r=i(25108);function s(e,t){var i=e.length;e.push(t);e:for(;0<i;){var r=i-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[i]=s,i=r}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var n=2*(r+1)-1,c=e[n],h=n+1,d=e[h];if(0>o(c,i))h<s&&0>o(d,c)?(e[r]=d,e[h]=i,r=h):(e[r]=c,e[n]=i,r=n);else{if(!(h<s&&0>o(d,i)))break e;e[r]=d,e[h]=i,r=h}}}return t}function o(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();t.unstable_now=function(){return h.now()-d}}var u=[],l=[],f=1,p=null,m=3,g=!1,y=!1,b=!1,v="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,k="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=a(l);null!==t;){if(null===t.callback)n(l);else{if(!(t.startTime<=e))break;n(l),t.sortIndex=t.expirationTime,s(u,t)}t=a(l)}}function _(e){if(b=!1,S(e),!y)if(null!==a(u))y=!0,R(M);else{var t=a(l);null!==t&&L(_,t.startTime-e)}}function M(e,i){y=!1,b&&(b=!1,w(I),I=-1),g=!0;var r=m;try{for(S(i),p=a(u);null!==p&&(!(p.expirationTime>i)||e&&!E());){var s=p.callback;if("function"==typeof s){p.callback=null,m=p.priorityLevel;var o=s(p.expirationTime<=i);i=t.unstable_now(),"function"==typeof o?p.callback=o:p===a(u)&&n(u),S(i)}else n(u);p=a(u)}if(null!==p)var c=!0;else{var h=a(l);null!==h&&L(_,h.startTime-i),c=!1}return c}finally{p=null,m=r,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,O=!1,x=null,I=-1,C=5,A=-1;function E(){return!(t.unstable_now()-A<C)}function N(){if(null!==x){var e=t.unstable_now();A=e;var i=!0;try{i=x(!0,e)}finally{i?T():(O=!1,x=null)}}else O=!1}if("function"==typeof k)T=function(){k(N)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,B=P.port2;P.port1.onmessage=N,T=function(){B.postMessage(null)}}else T=function(){v(N,0)};function R(e){x=e,O||(O=!0,T())}function L(e,i){I=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,R(M))},t.unstable_forceFrameRate=function(e){0>e||125<e?r.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var i=m;m=t;try{return e()}finally{m=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=m;m=e;try{return t()}finally{m=i}},t.unstable_scheduleCallback=function(e,i,r){var n=t.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?n+r:n,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>n?(e.sortIndex=r,s(l,e),null===a(u)&&e===a(l)&&(b?(w(I),I=-1):b=!0,L(_,r-n))):(e.sortIndex=o,s(u,e),y||g||(y=!0,R(M))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var i=m;m=t;try{return e.apply(this,arguments)}finally{m=i}}}},63840:(e,t,i)=>{"use strict";e.exports=i(60053)},24189:(e,t,i)=>{var r=i(89509).Buffer;function s(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}s.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var i=this._block,s=this._blockSize,a=e.length,n=this._len,o=0;o<a;){for(var c=n%s,h=Math.min(a-o,s-c),d=0;d<h;d++)i[c+d]=e[o+d];o+=h,(n+=h)%s==0&&this._update(i)}return this._len+=a,this},s.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,s=(i-r)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=s},89072:(e,t,i)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=i(74448),r.sha1=i(18336),r.sha224=i(48432),r.sha256=i(67499),r.sha384=i(51686),r.sha512=i(87816)},74448:(e,t,i)=>{var r=i(35717),s=i(24189),a=i(89509).Buffer,n=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function h(e){return e<<30|e>>>2}function d(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,u=0;u<16;++u)i[u]=e.readInt32BE(4*u);for(;u<80;++u)i[u]=i[u-3]^i[u-8]^i[u-14]^i[u-16];for(var l=0;l<80;++l){var f=~~(l/20),p=0|((t=r)<<5|t>>>27)+d(f,s,a,o)+c+i[l]+n[f];c=o,o=a,a=h(s),s=r,r=p}this._a=r+this._a|0,this._b=s+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},18336:(e,t,i)=>{var r=i(35717),s=i(24189),a=i(89509).Buffer,n=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function h(e){return e<<5|e>>>27}function d(e){return e<<30|e>>>2}function u(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,l=0;l<16;++l)i[l]=e.readInt32BE(4*l);for(;l<80;++l)i[l]=(t=i[l-3]^i[l-8]^i[l-14]^i[l-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=h(r)+u(p,s,a,o)+c+i[f]+n[p]|0;c=o,o=a,a=d(s),s=r,r=m}this._a=r+this._a|0,this._b=s+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},48432:(e,t,i)=>{var r=i(35717),s=i(67499),a=i(24189),n=i(89509).Buffer,o=new Array(64);function c(){this.init(),this._w=o,a.call(this,64,56)}r(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=n.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},67499:(e,t,i)=>{var r=i(35717),s=i(24189),a=i(89509).Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,s.call(this,64,56)}function h(e,t,i){return i^e&(t^i)}function d(e,t,i){return e&t|i&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}r(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,o=0|this._e,c=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=p(t[y-2])+t[y-7]+f(t[y-15])+t[y-16]|0;for(var b=0;b<64;++b){var v=g+l(o)+h(o,c,m)+n[b]+t[b]|0,w=u(i)+d(i,r,s)|0;g=m,m=c,c=o,o=a+v|0,a=s,s=r,r=i,i=v+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},51686:(e,t,i)=>{var r=i(35717),s=i(87816),a=i(24189),n=i(89509).Buffer,o=new Array(160);function c(){this.init(),this._w=o,a.call(this,128,112)}r(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=n.allocUnsafe(48);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},87816:(e,t,i)=>{var r=i(35717),s=i(24189),a=i(89509).Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,s.call(this,128,112)}function h(e,t,i){return i^e&(t^i)}function d(e,t,i){return e&t|i&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}r(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,s=0|this._ch,a=0|this._dh,o=0|this._eh,c=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,k=0|this._bl,S=0|this._cl,_=0|this._dl,M=0|this._el,T=0|this._fl,O=0|this._gl,x=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var C=t[I-30],A=t[I-30+1],E=f(C,A),N=p(A,C),P=m(C=t[I-4],A=t[I-4+1]),B=g(A,C),R=t[I-14],L=t[I-14+1],V=t[I-32],D=t[I-32+1],q=N+L|0,G=E+R+y(q,N)|0;G=(G=G+P+y(q=q+B|0,B)|0)+V+y(q=q+D|0,D)|0,t[I]=G,t[I+1]=q}for(var F=0;F<160;F+=2){G=t[F],q=t[F+1];var j=d(i,r,s),U=d(w,k,S),z=u(i,w),H=u(w,i),K=l(o,M),W=l(M,o),Z=n[F],X=n[F+1],Y=h(o,c,b),$=h(M,T,O),Q=x+W|0,J=v+K+y(Q,x)|0;J=(J=(J=J+Y+y(Q=Q+$|0,$)|0)+Z+y(Q=Q+X|0,X)|0)+G+y(Q=Q+q|0,q)|0;var ee=H+U|0,te=z+j+y(ee,H)|0;v=b,x=O,b=c,O=T,c=o,T=M,o=a+J+y(M=_+Q|0,_)|0,a=s,_=S,s=r,S=k,r=i,k=w,i=J+te+y(w=Q+ee|0,Q)|0}this._al=this._al+w|0,this._bl=this._bl+k|0,this._cl=this._cl+S|0,this._dl=this._dl+_|0,this._el=this._el+M|0,this._fl=this._fl+T|0,this._gl=this._gl+O|0,this._hl=this._hl+x|0,this._ah=this._ah+i+y(this._al,w)|0,this._bh=this._bh+r+y(this._bl,k)|0,this._ch=this._ch+s+y(this._cl,S)|0,this._dh=this._dh+a+y(this._dl,_)|0,this._eh=this._eh+o+y(this._el,M)|0,this._fh=this._fh+c+y(this._fl,T)|0,this._gh=this._gh+b+y(this._gl,O)|0,this._hh=this._hh+v+y(this._hl,x)|0},c.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},96774:e=>{e.exports=function(e,t,i,r){var s=i?i.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var h=a[c];if(!o(h))return!1;var d=e[h],u=t[h];if(!1===(s=i?i.call(r,d,u,h):void 0)||void 0===s&&d!==u)return!1}return!0}},42830:(e,t,i)=>{e.exports=s;var r=i(17187).EventEmitter;function s(){r.call(this)}i(35717)(s,r),s.Readable=i(79481),s.Writable=i(64229),s.Duplex=i(56753),s.Transform=i(74605),s.PassThrough=i(82725),s.finished=i(8610),s.pipeline=i(59946),s.Stream=s,s.prototype.pipe=function(e,t){var i=this;function s(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function a(){i.readable&&i.resume&&i.resume()}i.on("data",s),e.on("drain",a),e._isStdio||t&&!1===t.end||(i.on("end",o),i.on("close",c));var n=!1;function o(){n||(n=!0,e.end())}function c(){n||(n=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(d(),0===r.listenerCount(this,"error"))throw e}function d(){i.removeListener("data",s),e.removeListener("drain",a),i.removeListener("end",o),i.removeListener("close",c),i.removeListener("error",h),e.removeListener("error",h),i.removeListener("end",d),i.removeListener("close",d),e.removeListener("close",d)}return i.on("error",h),e.on("error",h),i.on("end",d),i.on("close",d),e.on("close",d),e.emit("pipe",i),e}},8501:(e,t,i)=>{var r=i(11989),s=i(55676),a=i(47529),n=i(50584),o=i(8575),c=t;c.request=function(e,t){e="string"==typeof e?o.parse(e):a(e);var s=-1===i.g.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||s,c=e.hostname||e.host,h=e.port,d=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?n+"//"+c:"")+(h?":"+h:"")+d,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var u=new r(e);return t&&u.on("response",t),u},c.get=function(e,t){var i=c.request(e,t);return i.end(),i},c.ClientRequest=r,c.IncomingMessage=s.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=n,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(e,t,i)=>{var r;function s(){if(void 0!==r)return r;if(i.g.XMLHttpRequest){r=new i.g.XMLHttpRequest;try{r.open("GET",i.g.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function a(e){var t=s();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function n(e){return"function"==typeof e}t.fetch=n(i.g.fetch)&&n(i.g.ReadableStream),t.writableStream=n(i.g.WritableStream),t.abortController=n(i.g.AbortController),t.arraybuffer=t.fetch||a("arraybuffer"),t.msstream=!t.fetch&&a("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!s()&&n(s().overrideMimeType),r=null},11989:(e,t,i)=>{var r=i(48764).Buffer,s=i(34155),a=i(8725),n=i(35717),o=i(55676),c=i(88473),h=o.IncomingMessage,d=o.readyStates,u=e.exports=function(e){var t,i=this;c.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+r.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){i.setHeader(t,e.headers[t])}));var s=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)s=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}i._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":"text"}(t,s),i._fetchTimer=null,i._socketTimeout=null,i._socketTimer=null,i.on("finish",(function(){i._onFinish()}))};n(u,c.Writable),u.prototype.setHeader=function(e,t){var i=e.toLowerCase();-1===l.indexOf(i)&&(this._headers[i]={name:e,value:t})},u.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},u.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},u.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var r=e._headers,n=null;"GET"!==t.method&&"HEAD"!==t.method&&(n=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var o=[];if(Object.keys(r).forEach((function(e){var t=r[e].name,i=r[e].value;Array.isArray(i)?i.forEach((function(e){o.push([t,e])})):o.push([t,i])})),"fetch"===e._mode){var c=null;if(a.abortController){var h=new AbortController;c=h.signal,e._fetchAbortController=h,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=i.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}i.g.fetch(e._opts.url,{method:e._opts.method,headers:o,body:n||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var u=e._xhr=new i.g.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,!0)}catch(t){return void s.nextTick((function(){e.emit("error",t)}))}"responseType"in u&&(u.responseType=e._mode),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(u.timeout=t.requestTimeout,u.ontimeout=function(){e.emit("requestTimeout")}),o.forEach((function(e){u.setRequestHeader(e[0],e[1])})),e._response=null,u.onreadystatechange=function(){switch(u.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(u.onprogress=function(){e._onXHRProgress()}),u.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{u.send(n)}catch(t){return void s.nextTick((function(){e.emit("error",t)}))}}}},u.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},u.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},u.prototype._write=function(e,t,i){this._body.push(e),i()},u.prototype._resetTimers=function(e){var t=this;i.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(i.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=i.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},u.prototype.end=function(e,t,i){"function"==typeof e&&(i=e,e=void 0),c.Writable.prototype.end.call(this,e,t,i)},u.prototype.setTimeout=function(e,t){var i=this;t&&i.once("timeout",t),i._socketTimeout=e,i._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},55676:(e,t,i)=>{var r=i(34155),s=i(48764).Buffer,a=i(8725),n=i(35717),o=i(88473),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},h=t.IncomingMessage=function(e,t,i,n){var c=this;if(o.Readable.call(c),c._mode=i,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){r.nextTick((function(){c.emit("close")}))})),"fetch"===i){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),a.writableStream){var h=new WritableStream({write:function(e){return n(!1),new Promise((function(t,i){c._destroyed?i():c.push(s.from(e))?t():c._resumeFetch=t}))},close:function(){n(!0),c._destroyed||c.push(null)},abort:function(e){n(!0),c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(h).catch((function(e){n(!0),c._destroyed||c.emit("error",e)}))}catch(e){}}var d=t.body.getReader();!function e(){d.read().then((function(t){c._destroyed||(n(t.done),t.done?c.push(null):(c.push(s.from(t.value)),e()))})).catch((function(e){n(!0),c._destroyed||c.emit("error",e)}))}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===c.headers[i]&&(c.headers[i]=[]),c.headers[i].push(t[2])):void 0!==c.headers[i]?c.headers[i]+=", "+t[2]:c.headers[i]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!a.overrideMimeType){var u=c.rawHeaders["mime-type"];if(u){var l=u.match(/;\s*charset=([^;])(;|$)/);l&&(c._charset=l[1].toLowerCase())}c._charset||(c._charset="utf-8")}};n(h,o.Readable),h.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},h.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,a=null;switch(t._mode){case"text":if((a=r.responseText).length>t._pos){var n=a.substr(t._pos);if("x-user-defined"===t._charset){for(var o=s.alloc(n.length),h=0;h<n.length;h++)o[h]=255&n.charCodeAt(h);t.push(o)}else t.push(n,t._charset);t._pos=a.length}break;case"arraybuffer":if(r.readyState!==c.DONE||!r.response)break;a=r.response,t.push(s.from(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=r.response,r.readyState!==c.LOADING||!a)break;t.push(s.from(new Uint8Array(a)));break;case"ms-stream":if(a=r.response,r.readyState!==c.LOADING)break;var d=new i.g.MSStreamReader;d.onprogress=function(){d.result.byteLength>t._pos&&(t.push(s.from(new Uint8Array(d.result.slice(t._pos)))),t._pos=d.result.byteLength)},d.onload=function(){e(!0),t.push(null)},d.readAsArrayBuffer(a)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},32553:(e,t,i)=>{"use strict";var r=i(89509).Buffer,s=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=h,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function d(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var s=n(t[r]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--r<i||-2===s?0:(s=n(t[r]))>=0?(s>0&&(e.lastNeed=s-2),s):--r<i||-2===s?0:(s=n(t[r]))>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},93379:e=>{"use strict";var t=[];function i(e){for(var i=-1,r=0;r<t.length;r++)if(t[r].identifier===e){i=r;break}return i}function r(e,r){for(var a={},n=[],o=0;o<e.length;o++){var c=e[o],h=r.base?c[0]+r.base:c[0],d=a[h]||0,u="".concat(h," ").concat(d);a[h]=d+1;var l=i(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==l)t[l].references++,t[l].updater(f);else{var p=s(f,r);r.byIndex=o,t.splice(o,0,{identifier:u,updater:p,references:1})}n.push(u)}return n}function s(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var a=r(e=e||[],s=s||{});return function(e){e=e||[];for(var n=0;n<a.length;n++){var o=i(a[n]);t[o].references--}for(var c=r(e,s),h=0;h<a.length;h++){var d=i(a[h]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},90569:e=>{"use strict";var t={};e.exports=function(e,i){var r=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(i)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var r="";i.supports&&(r+="@supports (".concat(i.supports,") {")),i.media&&(r+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(r+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),r+=i.css,s&&(r+="}"),i.media&&(r+="}"),i.supports&&(r+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},50780:(e,t,i)=>{!function(e){"use strict";var t=function(e){var t,i=new Float64Array(16);if(e)for(t=0;t<e.length;t++)i[t]=e[t];return i},r=function(){throw new Error("no PRNG")},s=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var n=t(),o=t([1]),c=t([56129,1]),h=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,i,r){e[t]=i>>24&255,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function m(e,t,i,r,s){var a,n=0;for(a=0;a<s;a++)n|=e[t+a]^i[r+a];return(1&n-1>>>8)-1}function g(e,t,i,r){return m(e,t,i,r,16)}function y(e,t,i,r){return m(e,t,i,r,32)}function b(e,t,i,r){!function(e,t,i,r){for(var s,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,c=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,h=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,d=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,y=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,b=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,v=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=a,S=n,_=o,M=c,T=h,O=d,x=u,I=l,C=f,A=p,E=m,N=g,P=y,B=b,R=v,L=w,V=0;V<20;V+=2)k^=(s=(P^=(s=(C^=(s=(T^=(s=k+P|0)<<7|s>>>25)+k|0)<<9|s>>>23)+T|0)<<13|s>>>19)+C|0)<<18|s>>>14,O^=(s=(S^=(s=(B^=(s=(A^=(s=O+S|0)<<7|s>>>25)+O|0)<<9|s>>>23)+A|0)<<13|s>>>19)+B|0)<<18|s>>>14,E^=(s=(x^=(s=(_^=(s=(R^=(s=E+x|0)<<7|s>>>25)+E|0)<<9|s>>>23)+R|0)<<13|s>>>19)+_|0)<<18|s>>>14,L^=(s=(N^=(s=(I^=(s=(M^=(s=L+N|0)<<7|s>>>25)+L|0)<<9|s>>>23)+M|0)<<13|s>>>19)+I|0)<<18|s>>>14,k^=(s=(M^=(s=(_^=(s=(S^=(s=k+M|0)<<7|s>>>25)+k|0)<<9|s>>>23)+S|0)<<13|s>>>19)+_|0)<<18|s>>>14,O^=(s=(T^=(s=(I^=(s=(x^=(s=O+T|0)<<7|s>>>25)+O|0)<<9|s>>>23)+x|0)<<13|s>>>19)+I|0)<<18|s>>>14,E^=(s=(A^=(s=(C^=(s=(N^=(s=E+A|0)<<7|s>>>25)+E|0)<<9|s>>>23)+N|0)<<13|s>>>19)+C|0)<<18|s>>>14,L^=(s=(R^=(s=(B^=(s=(P^=(s=L+R|0)<<7|s>>>25)+L|0)<<9|s>>>23)+P|0)<<13|s>>>19)+B|0)<<18|s>>>14;k=k+a|0,S=S+n|0,_=_+o|0,M=M+c|0,T=T+h|0,O=O+d|0,x=x+u|0,I=I+l|0,C=C+f|0,A=A+p|0,E=E+m|0,N=N+g|0,P=P+y|0,B=B+b|0,R=R+v|0,L=L+w|0,e[0]=k>>>0&255,e[1]=k>>>8&255,e[2]=k>>>16&255,e[3]=k>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=M>>>0&255,e[13]=M>>>8&255,e[14]=M>>>16&255,e[15]=M>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=A>>>0&255,e[37]=A>>>8&255,e[38]=A>>>16&255,e[39]=A>>>24&255,e[40]=E>>>0&255,e[41]=E>>>8&255,e[42]=E>>>16&255,e[43]=E>>>24&255,e[44]=N>>>0&255,e[45]=N>>>8&255,e[46]=N>>>16&255,e[47]=N>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=B>>>0&255,e[53]=B>>>8&255,e[54]=B>>>16&255,e[55]=B>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,i,r)}function v(e,t,i,r){!function(e,t,i,r){for(var s,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,c=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,h=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,d=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,y=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,b=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,v=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=0;k<20;k+=2)a^=(s=(y^=(s=(f^=(s=(h^=(s=a+y|0)<<7|s>>>25)+a|0)<<9|s>>>23)+h|0)<<13|s>>>19)+f|0)<<18|s>>>14,d^=(s=(n^=(s=(b^=(s=(p^=(s=d+n|0)<<7|s>>>25)+d|0)<<9|s>>>23)+p|0)<<13|s>>>19)+b|0)<<18|s>>>14,m^=(s=(u^=(s=(o^=(s=(v^=(s=m+u|0)<<7|s>>>25)+m|0)<<9|s>>>23)+v|0)<<13|s>>>19)+o|0)<<18|s>>>14,w^=(s=(g^=(s=(l^=(s=(c^=(s=w+g|0)<<7|s>>>25)+w|0)<<9|s>>>23)+c|0)<<13|s>>>19)+l|0)<<18|s>>>14,a^=(s=(c^=(s=(o^=(s=(n^=(s=a+c|0)<<7|s>>>25)+a|0)<<9|s>>>23)+n|0)<<13|s>>>19)+o|0)<<18|s>>>14,d^=(s=(h^=(s=(l^=(s=(u^=(s=d+h|0)<<7|s>>>25)+d|0)<<9|s>>>23)+u|0)<<13|s>>>19)+l|0)<<18|s>>>14,m^=(s=(p^=(s=(f^=(s=(g^=(s=m+p|0)<<7|s>>>25)+m|0)<<9|s>>>23)+g|0)<<13|s>>>19)+f|0)<<18|s>>>14,w^=(s=(v^=(s=(b^=(s=(y^=(s=w+v|0)<<7|s>>>25)+w|0)<<9|s>>>23)+y|0)<<13|s>>>19)+b|0)<<18|s>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=d>>>0&255,e[5]=d>>>8&255,e[6]=d>>>16&255,e[7]=d>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,i,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(e,t,i,r,s,a,n){var o,c,h=new Uint8Array(16),d=new Uint8Array(64);for(c=0;c<16;c++)h[c]=0;for(c=0;c<8;c++)h[c]=a[c];for(;s>=64;){for(b(d,h,n,w),c=0;c<64;c++)e[t+c]=i[r+c]^d[c];for(o=1,c=8;c<16;c++)o=o+(255&h[c])|0,h[c]=255&o,o>>>=8;s-=64,t+=64,r+=64}if(s>0)for(b(d,h,n,w),c=0;c<s;c++)e[t+c]=i[r+c]^d[c];return 0}function S(e,t,i,r,s){var a,n,o=new Uint8Array(16),c=new Uint8Array(64);for(n=0;n<16;n++)o[n]=0;for(n=0;n<8;n++)o[n]=r[n];for(;i>=64;){for(b(c,o,s,w),n=0;n<64;n++)e[t+n]=c[n];for(a=1,n=8;n<16;n++)a=a+(255&o[n])|0,o[n]=255&a,a>>>=8;i-=64,t+=64}if(i>0)for(b(c,o,s,w),n=0;n<i;n++)e[t+n]=c[n];return 0}function _(e,t,i,r,s){var a=new Uint8Array(32);v(a,r,s,w);for(var n=new Uint8Array(8),o=0;o<8;o++)n[o]=r[o+16];return S(e,t,i,n,a)}function M(e,t,i,r,s,a,n){var o=new Uint8Array(32);v(o,a,n,w);for(var c=new Uint8Array(8),h=0;h<8;h++)c[h]=a[h+16];return k(e,t,i,r,s,c,o)}var T=function(e){var t,i,r,s,a,n,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,i=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|i<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(i>>>10|r<<6),s=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|s<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(s>>>4|a<<12),this.r[5]=a>>>1&8190,n=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|n<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(n>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function O(e,t,i,r,s,a){var n=new T(a);return n.update(i,r,s),n.finish(e,t),0}function x(e,t,i,r,s,a){var n=new Uint8Array(16);return O(n,0,i,r,s,a),g(e,t,n,0)}function I(e,t,i,r,s){var a;if(i<32)return-1;for(M(e,0,t,0,i,r,s),O(e,16,e,32,i-32,e),a=0;a<16;a++)e[a]=0;return 0}function C(e,t,i,r,s){var a,n=new Uint8Array(32);if(i<32)return-1;if(_(n,0,32,r,s),0!==x(t,16,t,32,i-32,n))return-1;for(M(e,0,t,0,i,r,s),a=0;a<32;a++)e[a]=0;return 0}function A(e,t){var i;for(i=0;i<16;i++)e[i]=0|t[i]}function E(e){var t,i,r=1;for(t=0;t<16;t++)i=e[t]+r+65535,r=Math.floor(i/65536),e[t]=i-65536*r;e[0]+=r-1+37*(r-1)}function N(e,t,i){for(var r,s=~(i-1),a=0;a<16;a++)r=s&(e[a]^t[a]),e[a]^=r,t[a]^=r}function P(e,i){var r,s,a,n=t(),o=t();for(r=0;r<16;r++)o[r]=i[r];for(E(o),E(o),E(o),s=0;s<2;s++){for(n[0]=o[0]-65517,r=1;r<15;r++)n[r]=o[r]-65535-(n[r-1]>>16&1),n[r-1]&=65535;n[15]=o[15]-32767-(n[14]>>16&1),a=n[15]>>16&1,n[14]&=65535,N(o,n,1-a)}for(r=0;r<16;r++)e[2*r]=255&o[r],e[2*r+1]=o[r]>>8}function B(e,t){var i=new Uint8Array(32),r=new Uint8Array(32);return P(i,e),P(r,t),y(i,0,r,0)}function R(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function L(e,t){var i;for(i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}function V(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]+i[r]}function D(e,t,i){for(var r=0;r<16;r++)e[r]=t[r]-i[r]}function q(e,t,i){var r,s,a=0,n=0,o=0,c=0,h=0,d=0,u=0,l=0,f=0,p=0,m=0,g=0,y=0,b=0,v=0,w=0,k=0,S=0,_=0,M=0,T=0,O=0,x=0,I=0,C=0,A=0,E=0,N=0,P=0,B=0,R=0,L=i[0],V=i[1],D=i[2],q=i[3],G=i[4],F=i[5],j=i[6],U=i[7],z=i[8],H=i[9],K=i[10],W=i[11],Z=i[12],X=i[13],Y=i[14],$=i[15];a+=(r=t[0])*L,n+=r*V,o+=r*D,c+=r*q,h+=r*G,d+=r*F,u+=r*j,l+=r*U,f+=r*z,p+=r*H,m+=r*K,g+=r*W,y+=r*Z,b+=r*X,v+=r*Y,w+=r*$,n+=(r=t[1])*L,o+=r*V,c+=r*D,h+=r*q,d+=r*G,u+=r*F,l+=r*j,f+=r*U,p+=r*z,m+=r*H,g+=r*K,y+=r*W,b+=r*Z,v+=r*X,w+=r*Y,k+=r*$,o+=(r=t[2])*L,c+=r*V,h+=r*D,d+=r*q,u+=r*G,l+=r*F,f+=r*j,p+=r*U,m+=r*z,g+=r*H,y+=r*K,b+=r*W,v+=r*Z,w+=r*X,k+=r*Y,S+=r*$,c+=(r=t[3])*L,h+=r*V,d+=r*D,u+=r*q,l+=r*G,f+=r*F,p+=r*j,m+=r*U,g+=r*z,y+=r*H,b+=r*K,v+=r*W,w+=r*Z,k+=r*X,S+=r*Y,_+=r*$,h+=(r=t[4])*L,d+=r*V,u+=r*D,l+=r*q,f+=r*G,p+=r*F,m+=r*j,g+=r*U,y+=r*z,b+=r*H,v+=r*K,w+=r*W,k+=r*Z,S+=r*X,_+=r*Y,M+=r*$,d+=(r=t[5])*L,u+=r*V,l+=r*D,f+=r*q,p+=r*G,m+=r*F,g+=r*j,y+=r*U,b+=r*z,v+=r*H,w+=r*K,k+=r*W,S+=r*Z,_+=r*X,M+=r*Y,T+=r*$,u+=(r=t[6])*L,l+=r*V,f+=r*D,p+=r*q,m+=r*G,g+=r*F,y+=r*j,b+=r*U,v+=r*z,w+=r*H,k+=r*K,S+=r*W,_+=r*Z,M+=r*X,T+=r*Y,O+=r*$,l+=(r=t[7])*L,f+=r*V,p+=r*D,m+=r*q,g+=r*G,y+=r*F,b+=r*j,v+=r*U,w+=r*z,k+=r*H,S+=r*K,_+=r*W,M+=r*Z,T+=r*X,O+=r*Y,x+=r*$,f+=(r=t[8])*L,p+=r*V,m+=r*D,g+=r*q,y+=r*G,b+=r*F,v+=r*j,w+=r*U,k+=r*z,S+=r*H,_+=r*K,M+=r*W,T+=r*Z,O+=r*X,x+=r*Y,I+=r*$,p+=(r=t[9])*L,m+=r*V,g+=r*D,y+=r*q,b+=r*G,v+=r*F,w+=r*j,k+=r*U,S+=r*z,_+=r*H,M+=r*K,T+=r*W,O+=r*Z,x+=r*X,I+=r*Y,C+=r*$,m+=(r=t[10])*L,g+=r*V,y+=r*D,b+=r*q,v+=r*G,w+=r*F,k+=r*j,S+=r*U,_+=r*z,M+=r*H,T+=r*K,O+=r*W,x+=r*Z,I+=r*X,C+=r*Y,A+=r*$,g+=(r=t[11])*L,y+=r*V,b+=r*D,v+=r*q,w+=r*G,k+=r*F,S+=r*j,_+=r*U,M+=r*z,T+=r*H,O+=r*K,x+=r*W,I+=r*Z,C+=r*X,A+=r*Y,E+=r*$,y+=(r=t[12])*L,b+=r*V,v+=r*D,w+=r*q,k+=r*G,S+=r*F,_+=r*j,M+=r*U,T+=r*z,O+=r*H,x+=r*K,I+=r*W,C+=r*Z,A+=r*X,E+=r*Y,N+=r*$,b+=(r=t[13])*L,v+=r*V,w+=r*D,k+=r*q,S+=r*G,_+=r*F,M+=r*j,T+=r*U,O+=r*z,x+=r*H,I+=r*K,C+=r*W,A+=r*Z,E+=r*X,N+=r*Y,P+=r*$,v+=(r=t[14])*L,w+=r*V,k+=r*D,S+=r*q,_+=r*G,M+=r*F,T+=r*j,O+=r*U,x+=r*z,I+=r*H,C+=r*K,A+=r*W,E+=r*Z,N+=r*X,P+=r*Y,B+=r*$,w+=(r=t[15])*L,n+=38*(S+=r*D),o+=38*(_+=r*q),c+=38*(M+=r*G),h+=38*(T+=r*F),d+=38*(O+=r*j),u+=38*(x+=r*U),l+=38*(I+=r*z),f+=38*(C+=r*H),p+=38*(A+=r*K),m+=38*(E+=r*W),g+=38*(N+=r*Z),y+=38*(P+=r*X),b+=38*(B+=r*Y),v+=38*(R+=r*$),a=(r=(a+=38*(k+=r*V))+(s=1)+65535)-65536*(s=Math.floor(r/65536)),n=(r=n+s+65535)-65536*(s=Math.floor(r/65536)),o=(r=o+s+65535)-65536*(s=Math.floor(r/65536)),c=(r=c+s+65535)-65536*(s=Math.floor(r/65536)),h=(r=h+s+65535)-65536*(s=Math.floor(r/65536)),d=(r=d+s+65535)-65536*(s=Math.floor(r/65536)),u=(r=u+s+65535)-65536*(s=Math.floor(r/65536)),l=(r=l+s+65535)-65536*(s=Math.floor(r/65536)),f=(r=f+s+65535)-65536*(s=Math.floor(r/65536)),p=(r=p+s+65535)-65536*(s=Math.floor(r/65536)),m=(r=m+s+65535)-65536*(s=Math.floor(r/65536)),g=(r=g+s+65535)-65536*(s=Math.floor(r/65536)),y=(r=y+s+65535)-65536*(s=Math.floor(r/65536)),b=(r=b+s+65535)-65536*(s=Math.floor(r/65536)),v=(r=v+s+65535)-65536*(s=Math.floor(r/65536)),w=(r=w+s+65535)-65536*(s=Math.floor(r/65536)),a=(r=(a+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(r/65536)),n=(r=n+s+65535)-65536*(s=Math.floor(r/65536)),o=(r=o+s+65535)-65536*(s=Math.floor(r/65536)),c=(r=c+s+65535)-65536*(s=Math.floor(r/65536)),h=(r=h+s+65535)-65536*(s=Math.floor(r/65536)),d=(r=d+s+65535)-65536*(s=Math.floor(r/65536)),u=(r=u+s+65535)-65536*(s=Math.floor(r/65536)),l=(r=l+s+65535)-65536*(s=Math.floor(r/65536)),f=(r=f+s+65535)-65536*(s=Math.floor(r/65536)),p=(r=p+s+65535)-65536*(s=Math.floor(r/65536)),m=(r=m+s+65535)-65536*(s=Math.floor(r/65536)),g=(r=g+s+65535)-65536*(s=Math.floor(r/65536)),y=(r=y+s+65535)-65536*(s=Math.floor(r/65536)),b=(r=b+s+65535)-65536*(s=Math.floor(r/65536)),v=(r=v+s+65535)-65536*(s=Math.floor(r/65536)),w=(r=w+s+65535)-65536*(s=Math.floor(r/65536)),a+=s-1+37*(s-1),e[0]=a,e[1]=n,e[2]=o,e[3]=c,e[4]=h,e[5]=d,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function G(e,t){q(e,t,t)}function F(e,i){var r,s=t();for(r=0;r<16;r++)s[r]=i[r];for(r=253;r>=0;r--)G(s,s),2!==r&&4!==r&&q(s,s,i);for(r=0;r<16;r++)e[r]=s[r]}function j(e,i,r){var s,a,n=new Uint8Array(32),o=new Float64Array(80),h=t(),d=t(),u=t(),l=t(),f=t(),p=t();for(a=0;a<31;a++)n[a]=i[a];for(n[31]=127&i[31]|64,n[0]&=248,L(o,r),a=0;a<16;a++)d[a]=o[a],l[a]=h[a]=u[a]=0;for(h[0]=l[0]=1,a=254;a>=0;--a)N(h,d,s=n[a>>>3]>>>(7&a)&1),N(u,l,s),V(f,h,u),D(h,h,u),V(u,d,l),D(d,d,l),G(l,f),G(p,h),q(h,u,h),q(u,d,f),V(f,h,u),D(h,h,u),G(d,h),D(u,l,p),q(h,u,c),V(h,h,l),q(u,u,h),q(h,l,p),q(l,d,o),G(d,f),N(h,d,s),N(u,l,s);for(a=0;a<16;a++)o[a+16]=h[a],o[a+32]=u[a],o[a+48]=d[a],o[a+64]=l[a];var m=o.subarray(32),g=o.subarray(16);return F(m,m),q(g,g,m),P(e,g),0}function U(e,t){return j(e,t,a)}function z(e,t){return r(t,32),U(e,t)}function H(e,t,i){var r=new Uint8Array(32);return j(r,i,t),v(e,s,r,w)}T.prototype.blocks=function(e,t,i){for(var r,s,a,n,o,c,h,d,u,l,f,p,m,g,y,b,v,w,k,S=this.fin?0:2048,_=this.h[0],M=this.h[1],T=this.h[2],O=this.h[3],x=this.h[4],I=this.h[5],C=this.h[6],A=this.h[7],E=this.h[8],N=this.h[9],P=this.r[0],B=this.r[1],R=this.r[2],L=this.r[3],V=this.r[4],D=this.r[5],q=this.r[6],G=this.r[7],F=this.r[8],j=this.r[9];i>=16;)l=u=0,l+=(_+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*P,l+=(M+=8191&(r>>>13|(s=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*j),l+=(T+=8191&(s>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*F),l+=(O+=8191&(a>>>7|(n=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*G),u=(l+=(x+=8191&(n>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*q))>>>13,l&=8191,l+=(I+=o>>>1&8191)*(5*D),l+=(C+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*V),l+=(A+=8191&(c>>>11|(h=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),l+=(E+=8191&(h>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),f=u+=(l+=(N+=d>>>5|S)*(5*B))>>>13,f+=_*B,f+=M*P,f+=T*(5*j),f+=O*(5*F),u=(f+=x*(5*G))>>>13,f&=8191,f+=I*(5*q),f+=C*(5*D),f+=A*(5*V),f+=E*(5*L),u+=(f+=N*(5*R))>>>13,f&=8191,p=u,p+=_*R,p+=M*B,p+=T*P,p+=O*(5*j),u=(p+=x*(5*F))>>>13,p&=8191,p+=I*(5*G),p+=C*(5*q),p+=A*(5*D),p+=E*(5*V),m=u+=(p+=N*(5*L))>>>13,m+=_*L,m+=M*R,m+=T*B,m+=O*P,u=(m+=x*(5*j))>>>13,m&=8191,m+=I*(5*F),m+=C*(5*G),m+=A*(5*q),m+=E*(5*D),g=u+=(m+=N*(5*V))>>>13,g+=_*V,g+=M*L,g+=T*R,g+=O*B,u=(g+=x*P)>>>13,g&=8191,g+=I*(5*j),g+=C*(5*F),g+=A*(5*G),g+=E*(5*q),y=u+=(g+=N*(5*D))>>>13,y+=_*D,y+=M*V,y+=T*L,y+=O*R,u=(y+=x*B)>>>13,y&=8191,y+=I*P,y+=C*(5*j),y+=A*(5*F),y+=E*(5*G),b=u+=(y+=N*(5*q))>>>13,b+=_*q,b+=M*D,b+=T*V,b+=O*L,u=(b+=x*R)>>>13,b&=8191,b+=I*B,b+=C*P,b+=A*(5*j),b+=E*(5*F),v=u+=(b+=N*(5*G))>>>13,v+=_*G,v+=M*q,v+=T*D,v+=O*V,u=(v+=x*L)>>>13,v&=8191,v+=I*R,v+=C*B,v+=A*P,v+=E*(5*j),w=u+=(v+=N*(5*F))>>>13,w+=_*F,w+=M*G,w+=T*q,w+=O*D,u=(w+=x*V)>>>13,w&=8191,w+=I*L,w+=C*R,w+=A*B,w+=E*P,k=u+=(w+=N*(5*j))>>>13,k+=_*j,k+=M*F,k+=T*G,k+=O*q,u=(k+=x*D)>>>13,k&=8191,k+=I*V,k+=C*L,k+=A*R,k+=E*B,_=l=8191&(u=(u=((u+=(k+=N*P)>>>13)<<2)+u|0)+(l&=8191)|0),M=f+=u>>>=13,T=p&=8191,O=m&=8191,x=g&=8191,I=y&=8191,C=b&=8191,A=v&=8191,E=w&=8191,N=k&=8191,t+=16,i-=16;this.h[0]=_,this.h[1]=M,this.h[2]=T,this.h[3]=O,this.h[4]=x,this.h[5]=I,this.h[6]=C,this.h[7]=A,this.h[8]=E,this.h[9]=N},T.prototype.finish=function(e,t){var i,r,s,a,n=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=i,i=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*i,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,n[0]=this.h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this.h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=8192,r=(1^i)-1,a=0;a<10;a++)n[a]&=r;for(r=~r,a=0;a<10;a++)this.h[a]=this.h[a]&r|n[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),s=this.h[0]+this.pad[0],this.h[0]=65535&s,a=1;a<8;a++)s=(this.h[a]+this.pad[a]|0)+(s>>>16)|0,this.h[a]=65535&s;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},T.prototype.update=function(e,t,i){var r,s;if(this.leftover){for((s=16-this.leftover)>i&&(s=i),r=0;r<s;r++)this.buffer[this.leftover+r]=e[t+r];if(i-=s,t+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(i>=16&&(s=i-i%16,this.blocks(e,t,s),t+=s,i-=s),i){for(r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=i}};var K=I,W=C,Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,i,r){for(var s,a,n,o,c,h,d,u,l,f,p,m,g,y,b,v,w,k,S,_,M,T,O,x,I,C,A=new Int32Array(16),E=new Int32Array(16),N=e[0],P=e[1],B=e[2],R=e[3],L=e[4],V=e[5],D=e[6],q=e[7],G=t[0],F=t[1],j=t[2],U=t[3],z=t[4],H=t[5],K=t[6],W=t[7],X=0;r>=128;){for(S=0;S<16;S++)_=8*S+X,A[S]=i[_+0]<<24|i[_+1]<<16|i[_+2]<<8|i[_+3],E[S]=i[_+4]<<24|i[_+5]<<16|i[_+6]<<8|i[_+7];for(S=0;S<80;S++)if(s=N,a=P,n=B,o=R,c=L,h=V,d=D,l=G,f=F,p=j,m=U,g=z,y=H,b=K,O=65535&(T=W),x=T>>>16,I=65535&(M=q),C=M>>>16,O+=65535&(T=(z>>>14|L<<18)^(z>>>18|L<<14)^(L>>>9|z<<23)),x+=T>>>16,I+=65535&(M=(L>>>14|z<<18)^(L>>>18|z<<14)^(z>>>9|L<<23)),C+=M>>>16,O+=65535&(T=z&H^~z&K),x+=T>>>16,I+=65535&(M=L&V^~L&D),C+=M>>>16,O+=65535&(T=Z[2*S+1]),x+=T>>>16,I+=65535&(M=Z[2*S]),C+=M>>>16,M=A[S%16],x+=(T=E[S%16])>>>16,I+=65535&M,C+=M>>>16,I+=(x+=(O+=65535&T)>>>16)>>>16,O=65535&(T=k=65535&O|x<<16),x=T>>>16,I=65535&(M=w=65535&I|(C+=I>>>16)<<16),C=M>>>16,O+=65535&(T=(G>>>28|N<<4)^(N>>>2|G<<30)^(N>>>7|G<<25)),x+=T>>>16,I+=65535&(M=(N>>>28|G<<4)^(G>>>2|N<<30)^(G>>>7|N<<25)),C+=M>>>16,x+=(T=G&F^G&j^F&j)>>>16,I+=65535&(M=N&P^N&B^P&B),C+=M>>>16,u=65535&(I+=(x+=(O+=65535&T)>>>16)>>>16)|(C+=I>>>16)<<16,v=65535&O|x<<16,O=65535&(T=m),x=T>>>16,I=65535&(M=o),C=M>>>16,x+=(T=k)>>>16,I+=65535&(M=w),C+=M>>>16,P=s,B=a,R=n,L=o=65535&(I+=(x+=(O+=65535&T)>>>16)>>>16)|(C+=I>>>16)<<16,V=c,D=h,q=d,N=u,F=l,j=f,U=p,z=m=65535&O|x<<16,H=g,K=y,W=b,G=v,S%16==15)for(_=0;_<16;_++)M=A[_],O=65535&(T=E[_]),x=T>>>16,I=65535&M,C=M>>>16,M=A[(_+9)%16],O+=65535&(T=E[(_+9)%16]),x+=T>>>16,I+=65535&M,C+=M>>>16,w=A[(_+1)%16],O+=65535&(T=((k=E[(_+1)%16])>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25)),x+=T>>>16,I+=65535&(M=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7),C+=M>>>16,w=A[(_+14)%16],x+=(T=((k=E[(_+14)%16])>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26))>>>16,I+=65535&(M=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6),C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,A[_]=65535&I|C<<16,E[_]=65535&O|x<<16;O=65535&(T=G),x=T>>>16,I=65535&(M=N),C=M>>>16,M=e[0],x+=(T=t[0])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[0]=N=65535&I|C<<16,t[0]=G=65535&O|x<<16,O=65535&(T=F),x=T>>>16,I=65535&(M=P),C=M>>>16,M=e[1],x+=(T=t[1])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[1]=P=65535&I|C<<16,t[1]=F=65535&O|x<<16,O=65535&(T=j),x=T>>>16,I=65535&(M=B),C=M>>>16,M=e[2],x+=(T=t[2])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[2]=B=65535&I|C<<16,t[2]=j=65535&O|x<<16,O=65535&(T=U),x=T>>>16,I=65535&(M=R),C=M>>>16,M=e[3],x+=(T=t[3])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[3]=R=65535&I|C<<16,t[3]=U=65535&O|x<<16,O=65535&(T=z),x=T>>>16,I=65535&(M=L),C=M>>>16,M=e[4],x+=(T=t[4])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[4]=L=65535&I|C<<16,t[4]=z=65535&O|x<<16,O=65535&(T=H),x=T>>>16,I=65535&(M=V),C=M>>>16,M=e[5],x+=(T=t[5])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[5]=V=65535&I|C<<16,t[5]=H=65535&O|x<<16,O=65535&(T=K),x=T>>>16,I=65535&(M=D),C=M>>>16,M=e[6],x+=(T=t[6])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[6]=D=65535&I|C<<16,t[6]=K=65535&O|x<<16,O=65535&(T=W),x=T>>>16,I=65535&(M=q),C=M>>>16,M=e[7],x+=(T=t[7])>>>16,I+=65535&M,C+=M>>>16,C+=(I+=(x+=(O+=65535&T)>>>16)>>>16)>>>16,e[7]=q=65535&I|C<<16,t[7]=W=65535&O|x<<16,X+=128,r-=128}return r}function Y(e,t,i){var r,s=new Int32Array(8),a=new Int32Array(8),n=new Uint8Array(256),o=i;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,X(s,a,t,i),i%=128,r=0;r<i;r++)n[r]=t[o-i+r];for(n[i]=128,n[(i=256-128*(i<112?1:0))-9]=0,p(n,i-8,o/536870912|0,o<<3),X(s,a,n,i),r=0;r<8;r++)p(e,8*r,s[r],a[r]);return 0}function $(e,i){var r=t(),s=t(),a=t(),n=t(),o=t(),c=t(),h=t(),u=t(),l=t();D(r,e[1],e[0]),D(l,i[1],i[0]),q(r,r,l),V(s,e[0],e[1]),V(l,i[0],i[1]),q(s,s,l),q(a,e[3],i[3]),q(a,a,d),q(n,e[2],i[2]),V(n,n,n),D(o,s,r),D(c,n,a),V(h,n,a),V(u,s,r),q(e[0],o,c),q(e[1],u,h),q(e[2],h,c),q(e[3],o,u)}function Q(e,t,i){var r;for(r=0;r<4;r++)N(e[r],t[r],i)}function J(e,i){var r=t(),s=t(),a=t();F(a,i[2]),q(r,i[0],a),q(s,i[1],a),P(e,s),e[31]^=R(r)<<7}function ee(e,t,i){var r,s;for(A(e[0],n),A(e[1],o),A(e[2],o),A(e[3],n),s=255;s>=0;--s)Q(e,t,r=i[s/8|0]>>(7&s)&1),$(t,e),$(e,e),Q(e,t,r)}function te(e,i){var r=[t(),t(),t(),t()];A(r[0],u),A(r[1],l),A(r[2],o),q(r[3],u,l),ee(e,r,i)}function ie(e,i,s){var a,n=new Uint8Array(64),o=[t(),t(),t(),t()];for(s||r(i,32),Y(n,i,32),n[0]&=248,n[31]&=127,n[31]|=64,te(o,n),J(e,o),a=0;a<32;a++)i[a+32]=e[a];return 0}var re=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var i,r,s,a;for(r=63;r>=32;--r){for(i=0,s=r-32,a=r-12;s<a;++s)t[s]+=i-16*t[r]*re[s-(r-32)],i=t[s]+128>>8,t[s]-=256*i;t[s]+=i,t[r]=0}for(i=0,s=0;s<32;s++)t[s]+=i-(t[31]>>4)*re[s],i=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=i*re[s];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ae(e){var t,i=new Float64Array(64);for(t=0;t<64;t++)i[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,i)}function ne(e,i,r,s){var a,n,o=new Uint8Array(64),c=new Uint8Array(64),h=new Uint8Array(64),d=new Float64Array(64),u=[t(),t(),t(),t()];Y(o,s,32),o[0]&=248,o[31]&=127,o[31]|=64;var l=r+64;for(a=0;a<r;a++)e[64+a]=i[a];for(a=0;a<32;a++)e[32+a]=o[32+a];for(Y(h,e.subarray(32),r+32),ae(h),te(u,h),J(e,u),a=32;a<64;a++)e[a]=s[a];for(Y(c,e,r+64),ae(c),a=0;a<64;a++)d[a]=0;for(a=0;a<32;a++)d[a]=h[a];for(a=0;a<32;a++)for(n=0;n<32;n++)d[a+n]+=c[a]*o[n];return se(e.subarray(32),d),l}function oe(e,i,r,s){var a,c=new Uint8Array(32),d=new Uint8Array(64),u=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,i){var r=t(),s=t(),a=t(),c=t(),d=t(),u=t(),l=t();return A(e[2],o),L(e[1],i),G(a,e[1]),q(c,a,h),D(a,a,e[2]),V(c,e[2],c),G(d,c),G(u,d),q(l,u,d),q(r,l,a),q(r,r,c),function(e,i){var r,s=t();for(r=0;r<16;r++)s[r]=i[r];for(r=250;r>=0;r--)G(s,s),1!==r&&q(s,s,i);for(r=0;r<16;r++)e[r]=s[r]}(r,r),q(r,r,a),q(r,r,c),q(r,r,c),q(e[0],r,c),G(s,e[0]),q(s,s,c),B(s,a)&&q(e[0],e[0],f),G(s,e[0]),q(s,s,c),B(s,a)?-1:(R(e[0])===i[31]>>7&&D(e[0],n,e[0]),q(e[3],e[0],e[1]),0)}(l,s))return-1;for(a=0;a<r;a++)e[a]=i[a];for(a=0;a<32;a++)e[a+32]=s[a];if(Y(d,e,r),ae(d),ee(u,l,d),te(l,i.subarray(32)),$(u,l),J(c,u),r-=64,y(i,0,c,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=i[a+64];return r}var ce=64,he=32,de=64;function ue(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function le(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function fe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:M,crypto_stream:_,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:S,crypto_onetimeauth:O,crypto_onetimeauth_verify:x,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:I,crypto_secretbox_open:C,crypto_scalarmult:j,crypto_scalarmult_base:U,crypto_box_beforenm:H,crypto_box_afternm:K,crypto_box:function(e,t,i,r,s,a){var n=new Uint8Array(32);return H(n,s,a),K(e,t,i,r,n)},crypto_box_open:function(e,t,i,r,s,a){var n=new Uint8Array(32);return H(n,s,a),W(e,t,i,r,n)},crypto_box_keypair:z,crypto_hash:Y,crypto_sign:ne,crypto_sign_keypair:ie,crypto_sign_open:oe,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ce,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,i){le(e,t,i),ue(i,t);for(var r=new Uint8Array(32+e.length),s=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+32]=e[a];return I(s,r,r.length,t,i),s.subarray(16)},e.secretbox.open=function(e,t,i){le(e,t,i),ue(i,t);for(var r=new Uint8Array(16+e.length),s=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+16]=e[a];return!(r.length<32)&&0===C(s,r,r.length,t,i)&&s.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(le(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var i=new Uint8Array(32);return j(i,e,t),i},e.scalarMult.base=function(e){if(le(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return U(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,i,r,s){var a=e.box.before(r,s);return e.secretbox(t,i,a)},e.box.before=function(e,t){le(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var i=new Uint8Array(32);return H(i,e,t),i},e.box.after=e.secretbox,e.box.open=function(t,i,r,s){var a=e.box.before(r,s);return e.secretbox.open(t,i,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(le(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return U(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(le(e,t),t.length!==de)throw new Error("bad secret key size");var i=new Uint8Array(ce+e.length);return ne(i,e,e.length,t),i},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(le(e,t),t.length!==he)throw new Error("bad public key size");var i=new Uint8Array(e.length),r=oe(i,e,e.length,t);if(r<0)return null;for(var s=new Uint8Array(r),a=0;a<s.length;a++)s[a]=i[a];return s},e.sign.detached=function(t,i){for(var r=e.sign(t,i),s=new Uint8Array(ce),a=0;a<s.length;a++)s[a]=r[a];return s},e.sign.detached.verify=function(e,t,i){if(le(e,t,i),t.length!==ce)throw new Error("bad signature size");if(i.length!==he)throw new Error("bad public key size");var r,s=new Uint8Array(ce+e.length),a=new Uint8Array(ce+e.length);for(r=0;r<ce;r++)s[r]=t[r];for(r=0;r<e.length;r++)s[r+ce]=e[r];return oe(a,s,s.length,i)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(de);return ie(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(le(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(he),i=0;i<t.length;i++)t[i]=e[32+i];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(le(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),i=new Uint8Array(de),r=0;r<32;r++)i[r]=e[r];return ie(t,i,!0),{publicKey:t,secretKey:i}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=ce,e.hash=function(e){le(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return le(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,i){var r,s=new Uint8Array(i);for(r=0;r<i;r+=65536)t.getRandomValues(s.subarray(r,r+Math.min(i-r,65536)));for(r=0;r<i;r++)e[r]=s[r];fe(s)})):(t=i(55024))&&t.randomBytes&&e.setPRNG((function(e,i){var r,s=t.randomBytes(i);for(r=0;r<i;r++)e[r]=s[r];fe(s)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},84564:(e,t,i)=>{"use strict";var r=i(47418),s=i(57129),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function u(e){return(e||"").toString().replace(a,"")}var l=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(e){var t,r=("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{}).location||{},s={},a=typeof(e=e||r);if("blob:"===e.protocol)s=new y(unescape(e.pathname),{});else if("string"===a)for(t in s=new y(e,{}),f)delete s[t];else if("object"===a){for(t in e)t in f||(s[t]=e[t]);void 0===s.slashes&&(s.slashes=o.test(e.href))}return s}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=u(e)).replace(n,""),t=t||{};var i,r=h.exec(e),s=r[1]?r[1].toLowerCase():"",a=!!r[2],o=!!r[3],c=0;return a?o?(i=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(i=r[2]+r[4],c=r[2].length):o?(i=r[3]+r[4],c=r[3].length):i=r[4],"file:"===s?c>=2&&(i=i.slice(2)):m(s)?i=r[4]:s?a&&(i=i.slice(2)):c>=2&&m(t.protocol)&&(i=r[4]),{protocol:s,slashes:a||m(s),slashesCount:c,rest:i}}function y(e,t,i){if(e=(e=u(e)).replace(n,""),!(this instanceof y))return new y(e,t,i);var a,o,c,h,f,b,v=l.slice(),w=typeof t,k=this,S=0;for("object"!==w&&"string"!==w&&(i=t,t=null),i&&"function"!=typeof i&&(i=s.parse),a=!(o=g(e||"",t=p(t))).protocol&&!o.slashes,k.slashes=o.slashes||a&&t.slashes,k.protocol=o.protocol||t.protocol||"",e=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||d.test(e))||!o.slashes&&(o.protocol||o.slashesCount<2||!m(k.protocol)))&&(v[3]=[/(.*)/,"pathname"]);S<v.length;S++)"function"!=typeof(h=v[S])?(c=h[0],b=h[1],c!=c?k[b]=e:"string"==typeof c?~(f="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof h[2]?(k[b]=e.slice(0,f),e=e.slice(f+h[2])):(k[b]=e.slice(f),e=e.slice(0,f))):(f=c.exec(e))&&(k[b]=f[1],e=e.slice(0,f.index)),k[b]=k[b]||a&&h[3]&&t[b]||"",h[4]&&(k[b]=k[b].toLowerCase())):e=h(e,k);i&&(k.query=i(k.query)),a&&t.slashes&&"/"!==k.pathname.charAt(0)&&(""!==k.pathname||""!==t.pathname)&&(k.pathname=function(e,t){if(""===e)return t;for(var i=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=i.length,s=i[r-1],a=!1,n=0;r--;)"."===i[r]?i.splice(r,1):".."===i[r]?(i.splice(r,1),n++):n&&(0===r&&(a=!0),i.splice(r,1),n--);return a&&i.unshift(""),"."!==s&&".."!==s||i.push(""),i.join("/")}(k.pathname,t.pathname)),"/"!==k.pathname.charAt(0)&&m(k.protocol)&&(k.pathname="/"+k.pathname),r(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(~(f=k.auth.indexOf(":"))?(k.username=k.auth.slice(0,f),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(f+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin="file:"!==k.protocol&&m(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}y.prototype={set:function(e,t,i){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(i||s.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,c.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!i;break;case"pathname":case"hash":if(t){var n="pathname"===e?"/":"#";a[e]=t.charAt(0)!==n?n+t:t}else a[e]=t;break;case"username":case"password":a[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(a.username=t.slice(0,o),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=t.slice(o+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(t))}for(var h=0;h<l.length;h++){var d=l[h];d[4]&&(a[d[1]]=a[d[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&m(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=s.stringify);var t,i=this,r=i.host,a=i.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var n=a+(i.protocol&&i.slashes||m(i.protocol)?"//":"");return i.username?(n+=i.username,i.password&&(n+=":"+i.password),n+="@"):i.password?(n+=":"+i.password,n+="@"):"file:"!==i.protocol&&m(i.protocol)&&!r&&"/"!==i.pathname&&(n+="@"),(":"===r[r.length-1]||c.test(i.hostname)&&!i.port)&&(r+=":"),n+=r+i.pathname,(t="object"==typeof i.query?e(i.query):i.query)&&(n+="?"!==t.charAt(0)?"?"+t:t),i.hash&&(n+=i.hash),n}},y.extractProtocol=g,y.location=p,y.trimLeft=u,y.qs=s,e.exports=y},52511:function(e,t,i){var r;e=i.nmd(e),function(s){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof i.g&&i.g;a.global!==a&&a.window!==a&&a.self;var n,o=2147483647,c=36,h=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(l[e])}function g(e,t){for(var i=e.length,r=[];i--;)r[i]=t(e[i]);return r}function y(e,t){var i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+g((e=e.replace(u,".")).split("."),t).join(".")}function b(e){for(var t,i,r=[],s=0,a=e.length;s<a;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<a?56320==(64512&(i=e.charCodeAt(s++)))?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),s--):r.push(t);return r}function v(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,i){var r=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;r+=c)e=f(e/35);return f(r+36*e/(e+38))}function S(e){var t,i,r,s,a,n,h,d,u,l,p,g=[],y=e.length,b=0,w=128,S=72;for((i=e.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(s=i>0?i+1:0;s<y;){for(a=b,n=1,h=c;s>=y&&m("invalid-input"),((d=(p=e.charCodeAt(s++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||d>f((o-b)/n))&&m("overflow"),b+=d*n,!(d<(u=h<=S?1:h>=S+26?26:h-S));h+=c)n>f(o/(l=c-u))&&m("overflow"),n*=l;S=k(b-a,t=g.length+1,0==a),f(b/t)>o-w&&m("overflow"),w+=f(b/t),b%=t,g.splice(b++,0,w)}return v(g)}function _(e){var t,i,r,s,a,n,h,d,u,l,g,y,v,S,_,M=[];for(y=(e=b(e)).length,t=128,i=0,a=72,n=0;n<y;++n)(g=e[n])<128&&M.push(p(g));for(r=s=M.length,s&&M.push("-");r<y;){for(h=o,n=0;n<y;++n)(g=e[n])>=t&&g<h&&(h=g);for(h-t>f((o-i)/(v=r+1))&&m("overflow"),i+=(h-t)*v,t=h,n=0;n<y;++n)if((g=e[n])<t&&++i>o&&m("overflow"),g==t){for(d=i,u=c;!(d<(l=u<=a?1:u>=a+26?26:u-a));u+=c)_=d-l,S=c-l,M.push(p(w(l+_%S,0))),d=f(_/S);M.push(p(w(d,0))),a=k(i,v,r==s),i=0,++r}++i,++t}return M.join("")}n={version:"1.3.2",ucs2:{decode:b,encode:v},decode:S,encode:_,toASCII:function(e){return y(e,(function(e){return d.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return y(e,(function(e){return h.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return n}.call(t,i,t,e))||(e.exports=r)}()},8575:(e,t,i)=>{"use strict";var r=i(52511),s=i(62502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return s.isString(e)&&(e=v(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(h),u=["%","/","?",";","#"].concat(d),l=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=i(17673);function v(e,t,i){if(e&&s.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,i),r}a.prototype.parse=function(e,t,i){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",h=e.split(o);h[0]=h[0].replace(/\\/g,"/");var v=e=h.join(o);if(v=v.trim(),!i&&1===e.split("#").length){var w=c.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=n.exec(v);if(k){var S=(k=k[0]).toLowerCase();this.protocol=S,v=v.substr(k.length)}if(i||k||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===v.substr(0,2);!_||k&&g[k]||(v=v.substr(2),this.slashes=!0)}if(!g[k]&&(_||k&&!y[k])){for(var M,T,O=-1,x=0;x<l.length;x++)-1!==(I=v.indexOf(l[x]))&&(-1===O||I<O)&&(O=I);for(-1!==(T=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(M=v.slice(0,T),v=v.slice(T+1),this.auth=decodeURIComponent(M)),O=-1,x=0;x<u.length;x++){var I;-1!==(I=v.indexOf(u[x]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),E=(x=0,A.length);x<E;x++){var N=A[x];if(N&&!N.match(f)){for(var P="",B=0,R=N.length;B<R;B++)N.charCodeAt(B)>127?P+="x":P+=N[B];if(!P.match(f)){var L=A.slice(0,x),V=A.slice(x+1),D=N.match(p);D&&(L.push(D[1]),V.unshift(D[2])),V.length&&(v="/"+V.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var q=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+q,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!m[S])for(x=0,E=d.length;x<E;x++){var F=d[x];if(-1!==v.indexOf(F)){var j=encodeURIComponent(F);j===F&&(j=escape(F)),v=v.split(F).join(j)}}var U=v.indexOf("#");-1!==U&&(this.hash=v.substr(U),v=v.slice(0,U));var z=v.indexOf("?");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,z)):t&&(this.search="",this.query={}),v&&(this.pathname=v),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var H=this.search||"";this.path=q+H}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",r=this.hash||"",a=!1,n="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(n=b.stringify(this.query));var o=this.search||n&&"?"+n||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==a?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(s.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var i=new a,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];"protocol"!==d&&(i[d]=e[d])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!y[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];i[f]=e[f]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",b=i.search||"";i.path=m+b}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||v||i.host&&e.pathname,S=k,_=i.pathname&&i.pathname.split("/")||[],M=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(M&&(i.hostname="",i.port=null,i.host&&(""===_[0]?_[0]=i.host:_.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),k=k&&(""===p[0]||""===_[0])),w)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),i.search=e.search,i.query=e.query;else if(!s.isNullOrUndefined(e.search))return M&&(i.hostname=i.host=_.shift(),(C=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=C.shift(),i.host=i.hostname=C.shift())),i.search=e.search,i.query=e.query,s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!_.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=_.slice(-1)[0],O=(i.host||e.host||_.length>1)&&("."===T||".."===T)||""===T,x=0,I=_.length;I>=0;I--)"."===(T=_[I])?_.splice(I,1):".."===T?(_.splice(I,1),x++):x&&(_.splice(I,1),x--);if(!k&&!S)for(;x--;x)_.unshift("..");!k||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),O&&"/"!==_.join("/").substr(-1)&&_.push("");var C,A=""===_[0]||_[0]&&"/"===_[0].charAt(0);return M&&(i.hostname=i.host=A?"":_.length?_.shift():"",(C=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=C.shift(),i.host=i.hostname=C.shift())),(k=k||i.host&&_.length)&&!A&&_.unshift(""),_.length?i.pathname=_.join("/"):(i.pathname=null,i.path=null),s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},94927:(e,t,i)=>{var r=i(25108);function s(e){try{if(!i.g.localStorage)return!1}catch(e){return!1}var t=i.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(s("noDeprecation"))return e;var i=!1;return function(){if(!i){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?r.trace(t):r.warn(t),i=!0}return e.apply(this,arguments)}}},20384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},55955:(e,t,i)=>{"use strict";var r=i(82584),s=i(48662),a=i(86430),n=i(85692);function o(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,h="undefined"!=typeof Symbol,d=o(Object.prototype.toString),u=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(c)var p=o(BigInt.prototype.valueOf);if(h)var m=o(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===d(e)}function b(e){return"[object Set]"===d(e)}function v(e){return"[object WeakMap]"===d(e)}function w(e){return"[object WeakSet]"===d(e)}function k(e){return"[object ArrayBuffer]"===d(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(k.working?k(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===d(e)}function M(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}function T(e){return"[object SharedArrayBuffer]"===d(e)}function O(e){return"undefined"!=typeof SharedArrayBuffer&&(T.working?T(e):e instanceof SharedArrayBuffer)}function x(e){return g(e,u)}function I(e){return g(e,l)}function C(e){return g(e,f)}function A(e){return c&&g(e,p)}function E(e){return h&&g(e,m)}t.isArgumentsObject=r,t.isGeneratorFunction=s,t.isTypedArray=n,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):n(e)||M(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},k.working="undefined"!=typeof ArrayBuffer&&k(new ArrayBuffer),t.isArrayBuffer=S,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=M,T.working="undefined"!=typeof SharedArrayBuffer&&T(new SharedArrayBuffer),t.isSharedArrayBuffer=O,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===d(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===d(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===d(e)},t.isGeneratorObject=function(e){return"[object Generator]"===d(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===d(e)},t.isNumberObject=x,t.isStringObject=I,t.isBooleanObject=C,t.isBigIntObject=A,t.isSymbolObject=E,t.isBoxedPrimitive=function(e){return x(e)||I(e)||C(e)||A(e)||E(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||O(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},89539:(e,t,i)=>{var r=i(34155),s=i(25108),a=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},r=0;r<t.length;r++)i[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return i},n=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(d(arguments[i]));return t.join(" ")}i=1;for(var r=arguments,s=r.length,a=String(e).replace(n,(function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(e){return"[Circular]"}default:return e}})),o=r[i];i<s;o=r[++i])b(o)||!_(o)?a+=" "+o:a+=" "+d(o);return a},t.deprecate=function(e,i){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,i).apply(this,arguments)};var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?s.trace(i):s.error(i),a=!0}return e.apply(this,arguments)}};var o={},c=/^$/;if(r.env.NODE_DEBUG){var h=r.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+h+"$","i")}function d(e,i){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(i)?r.showHidden=i:i&&t._extend(r,i),k(r.showHidden)&&(r.showHidden=!1),k(r.depth)&&(r.depth=2),k(r.colors)&&(r.colors=!1),k(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,e,r.depth)}function u(e,t){var i=d.styles[t];return i?"["+d.colors[i][0]+"m"+e+"["+d.colors[i][1]+"m":e}function l(e,t){return e}function f(e,i,r){if(e.customInspect&&i&&O(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(r,e);return w(s)||(s=f(e,s,r)),s}var a=function(e,t){if(k(t))return e.stylize("undefined","undefined");if(w(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return v(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,i);if(a)return a;var n=Object.keys(i),o=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(n);if(e.showHidden&&(n=Object.getOwnPropertyNames(i)),T(i)&&(n.indexOf("message")>=0||n.indexOf("description")>=0))return p(i);if(0===n.length){if(O(i)){var c=i.name?": "+i.name:"";return e.stylize("[Function"+c+"]","special")}if(S(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(M(i))return e.stylize(Date.prototype.toString.call(i),"date");if(T(i))return p(i)}var h,d="",u=!1,l=["{","}"];return g(i)&&(u=!0,l=["[","]"]),O(i)&&(d=" [Function"+(i.name?": "+i.name:"")+"]"),S(i)&&(d=" "+RegExp.prototype.toString.call(i)),M(i)&&(d=" "+Date.prototype.toUTCString.call(i)),T(i)&&(d=" "+p(i)),0!==n.length||u&&0!=i.length?r<0?S(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),h=u?function(e,t,i,r,s){for(var a=[],n=0,o=t.length;n<o;++n)E(t,String(n))?a.push(m(e,t,i,r,String(n),!0)):a.push("");return s.forEach((function(s){s.match(/^\d+$/)||a.push(m(e,t,i,r,s,!0))})),a}(e,i,r,o,n):n.map((function(t){return m(e,i,r,o,t,u)})),e.seen.pop(),function(e,t,i){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(h,d,l)):l[0]+d+l[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,i,r,s,a){var n,o,c;if((c=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),E(r,s)||(n="["+s+"]"),o||(e.seen.indexOf(c.value)<0?(o=b(i)?f(e,c.value,null):f(e,c.value,i-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),k(n)){if(a&&s.match(/^\d+$/))return o;(n=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=e.stylize(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=e.stylize(n,"string"))}return n+": "+o}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function k(e){return void 0===e}function S(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function M(e){return _(e)&&"[object Date]"===x(e)}function T(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function O(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(c.test(e)){var i=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);s.error("%s %d: %s",e,i,r)}}else o[e]=function(){};return o[e]},t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=i(55955),t.isArray=g,t.isBoolean=y,t.isNull=b,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=k,t.isRegExp=S,t.types.isRegExp=S,t.isObject=_,t.isDate=M,t.types.isDate=M,t.isError=T,t.types.isNativeError=T,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(20384);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){s.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=i(35717),t._extend=function(e,t){if(!t||!_(t))return e;for(var i=Object.keys(t),r=i.length;r--;)e[i[r]]=t[i[r]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,r=new Promise((function(e,r){t=e,i=r})),s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);s.push((function(e,r){e?i(e):t(r)}));try{e.apply(this,s)}catch(e){i(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,a(e))},t.promisify.custom=N,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);var s=t.pop();if("function"!=typeof s)throw new TypeError("The last argument must be of type Function");var a=this,n=function(){return s.apply(a,arguments)};e.apply(this,t).then((function(e){r.nextTick(n.bind(null,null,e))}),(function(e){r.nextTick(P.bind(null,e,n))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,a(e)),t}},86430:(e,t,i)=>{"use strict";var r=i(49804),s=i(63083),a=i(21924),n=a("Object.prototype.toString"),o=i(41405)()&&"symbol"==typeof Symbol.toStringTag,c=s(),h=a("String.prototype.slice"),d={},u=i(20882),l=Object.getPrototypeOf;o&&u&&l&&r(c,(function(e){if("function"==typeof i.g[e]){var t=new i.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=l(t),s=u(r,Symbol.toStringTag);if(!s){var a=l(r);s=u(a,Symbol.toStringTag)}d[e]=s.get}}));var f=i(85692);e.exports=function(e){return!!f(e)&&(o?function(e){var t=!1;return r(d,(function(i,r){if(!t)try{var s=i.call(e);s===r&&(t=s)}catch(e){}})),t}(e):h(n(e),8,-1))}},47529:e=>{e.exports=function(){for(var e={},i=0;i<arguments.length;i++){var r=arguments[i];for(var s in r)t.call(r,s)&&(e[s]=r[s])}return e};var t=Object.prototype.hasOwnProperty},86350:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjEzNSIgdmlld0JveD0iMCAwIDEzNSAxMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbD0iI2ZmZiI+CiAgICA8cGF0aCBkPSJNNjcuNDQ3IDU4YzUuNTIzIDAgMTAtNC40NzcgMTAtMTBzLTQuNDc3LTEwLTEwLTEwLTEwIDQuNDc3LTEwIDEwIDQuNDc3IDEwIDEwIDEwem05LjQ0OCA5LjQ0N2MwIDUuNTIzIDQuNDc3IDEwIDEwIDEwIDUuNTIyIDAgMTAtNC40NzcgMTAtMTBzLTQuNDc4LTEwLTEwLTEwYy01LjUyMyAwLTEwIDQuNDc3LTEwIDEwem0tOS40NDggOS40NDhjLTUuNTIzIDAtMTAgNC40NzctMTAgMTAgMCA1LjUyMiA0LjQ3NyAxMCAxMCAxMHMxMC00LjQ3OCAxMC0xMGMwLTUuNTIzLTQuNDc3LTEwLTEwLTEwek01OCA2Ny40NDdjMC01LjUyMy00LjQ3Ny0xMC0xMC0xMHMtMTAgNC40NzctMTAgMTAgNC40NzcgMTAgMTAgMTAgMTAtNC40NzcgMTAtMTB6Ij4KICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iCiAgICAgICAgICAgIHR5cGU9InJvdGF0ZSIKICAgICAgICAgICAgZnJvbT0iMCA2NyA2NyIKICAgICAgICAgICAgdG89Ii0zNjAgNjcgNjciCiAgICAgICAgICAgIGR1cj0iMi41cyIKICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KICAgIDwvcGF0aD4KICAgIDxwYXRoIGQ9Ik0yOC4xOSA0MC4zMWM2LjYyNyAwIDEyLTUuMzc0IDEyLTEyIDAtNi42MjgtNS4zNzMtMTItMTItMTItNi42MjggMC0xMiA1LjM3Mi0xMiAxMiAwIDYuNjI2IDUuMzcyIDEyIDEyIDEyem0zMC43Mi0xOS44MjVjNC42ODYgNC42ODcgMTIuMjg0IDQuNjg3IDE2Ljk3IDAgNC42ODYtNC42ODYgNC42ODYtMTIuMjg0IDAtMTYuOTctNC42ODYtNC42ODctMTIuMjg0LTQuNjg3LTE2Ljk3IDAtNC42ODcgNC42ODYtNC42ODcgMTIuMjg0IDAgMTYuOTd6bTM1Ljc0IDcuNzA1YzAgNi42MjcgNS4zNyAxMiAxMiAxMiA2LjYyNiAwIDEyLTUuMzczIDEyLTEyIDAtNi42MjgtNS4zNzQtMTItMTItMTItNi42MyAwLTEyIDUuMzcyLTEyIDEyem0xOS44MjIgMzAuNzJjLTQuNjg2IDQuNjg2LTQuNjg2IDEyLjI4NCAwIDE2Ljk3IDQuNjg3IDQuNjg2IDEyLjI4NSA0LjY4NiAxNi45NyAwIDQuNjg3LTQuNjg2IDQuNjg3LTEyLjI4NCAwLTE2Ljk3LTQuNjg1LTQuNjg3LTEyLjI4My00LjY4Ny0xNi45NyAwem0tNy43MDQgMzUuNzRjLTYuNjI3IDAtMTIgNS4zNy0xMiAxMiAwIDYuNjI2IDUuMzczIDEyIDEyIDEyczEyLTUuMzc0IDEyLTEyYzAtNi42My01LjM3My0xMi0xMi0xMnptLTMwLjcyIDE5LjgyMmMtNC42ODYtNC42ODYtMTIuMjg0LTQuNjg2LTE2Ljk3IDAtNC42ODYgNC42ODctNC42ODYgMTIuMjg1IDAgMTYuOTcgNC42ODYgNC42ODcgMTIuMjg0IDQuNjg3IDE2Ljk3IDAgNC42ODctNC42ODUgNC42ODctMTIuMjgzIDAtMTYuOTd6bS0zNS43NC03LjcwNGMwLTYuNjI3LTUuMzcyLTEyLTEyLTEyLTYuNjI2IDAtMTIgNS4zNzMtMTIgMTJzNS4zNzQgMTIgMTIgMTJjNi42MjggMCAxMi01LjM3MyAxMi0xMnptLTE5LjgyMy0zMC43MmM0LjY4Ny00LjY4NiA0LjY4Ny0xMi4yODQgMC0xNi45Ny00LjY4Ni00LjY4Ni0xMi4yODQtNC42ODYtMTYuOTcgMC00LjY4NyA0LjY4Ni00LjY4NyAxMi4yODQgMCAxNi45NyA0LjY4NiA0LjY4NyAxMi4yODQgNC42ODcgMTYuOTcgMHoiPgogICAgICAgIDxhbmltYXRlVHJhbnNmb3JtCiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIKICAgICAgICAgICAgdHlwZT0icm90YXRlIgogICAgICAgICAgICBmcm9tPSIwIDY3IDY3IgogICAgICAgICAgICB0bz0iMzYwIDY3IDY3IgogICAgICAgICAgICBkdXI9IjhzIgogICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPgogICAgPC9wYXRoPgo8L3N2Zz4K"},37181:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjYuMjMgMTAzLjExIj4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xIHsNCiAgICAgICAgZmlsbDogIzIzMWYyMDsNCiAgICAgIH0NCg0KICAgICAgLmNscy0yIHsNCiAgICAgICAgZmlsbDogIzAwYWVlZjsNCiAgICAgIH0NCiAgICA8L3N0eWxlPg0KICA8L2RlZnM+DQogIDx0aXRsZT5rLWNvbGVuLWxvZ288L3RpdGxlPg0KICA8Zz4NCiAgICA8Zz4NCiAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSI2NC45MSAxMDIuMTEgMzguMDMgNTYuMjMgMjMuMDEgNzEuNTcgMjMuMDEgMTAyLjExIDEgMTAyLjExIDEgMSAyMy4wMSAxIDIzLjAxIDQzLjQ0IDYyIDEgOTEuNyAxIDUzLjMgNDAuNzIgOTMuMjEgMTAyLjExIDY0LjkxIDEwMi4xMSIvPg0KICAgICAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNOTAuMjMsMTQuNDUsNTIuOTEsNTMuMDVsMzkuMzUsNjAuNUg2Ni4zN0wzOS4xMiw2NywyMi45LDgzLjZ2MzBoLTIwVjE0LjQ1aDIwdjQ0bDQwLjQyLTQ0SDkwLjIzbTQuNzEtMkg2Mi40NWwtLjYuNjRMMjQuOSw1My4zMlYxMi40NUguODl2MTAzLjFoMjRWODQuNDJMMzguNzIsNzAuMzFsMjUuOTIsNDQuMjUuNTgsMUg5NS45NGwtMi0zLjA5TDU1LjQ2LDUzLjI5LDkxLjY3LDE1Ljg0bDMuMjctMy4zOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjg5IC0xMi40NSkiLz4NCiAgICA8L2c+DQogICAgPGc+DQogICAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMDUuMTIsMTE0LjU1di0yMWgyMXYyMVptMC01Mi44di0yMWgyMXYyMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjg5IC0xMi40NSkiLz4NCiAgICAgIDxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTEyNS4xMSw0MS43NnYxOWgtMTl2LTE5aDE5bTAsNTIuOHYxOWgtMTl2LTE5aDE5bTItNTQuOGgtMjN2MjNoMjN2LTIzWm0wLDUyLjhoLTIzdjIzaDIzdi0yM1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjg5IC0xMi40NSkiLz4NCiAgICA8L2c+DQogIDwvZz4NCjwvc3ZnPg0K"},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},55024:()=>{},63083:(e,t,i)=>{"use strict";var r=i(2190);e.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof i.g[e]}))}},20882:(e,t,i)=>{"use strict";var r=i(40210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},30907:(e,t,i)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}i.d(t,{Z:()=>r})},45057:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(30907);function s(e){if(Array.isArray(e))return(0,r.Z)(e)}},97326:(e,t,i)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,{Z:()=>r})},43144:(e,t,i)=>{"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}i.d(t,{Z:()=>s})},4942:(e,t,i)=>{"use strict";function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>r})},87462:(e,t,i)=>{"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{Z:()=>r})},51721:(e,t,i)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}i.d(t,{Z:()=>s})},59199:(e,t,i)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i.d(t,{Z:()=>r})},42786:(e,t,i)=>{"use strict";function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(t,{Z:()=>r})},45987:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(63366);function s(e,t){if(null==e)return{};var i,s,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}},63366:(e,t,i)=>{"use strict";function r(e,t){if(null==e)return{};var i,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}i.d(t,{Z:()=>r})},70885:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(40181);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,s,a=[],n=!0,o=!1;try{for(i=i.call(e);!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},89062:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(45057),s=i(59199),a=i(40181),n=i(42786);function o(e){return(0,r.Z)(e)||(0,s.Z)(e)||(0,a.Z)(e)||(0,n.Z)()}},71002:(e,t,i)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}i.d(t,{Z:()=>r})},40181:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(30907);function s(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,r.Z)(e,t):void 0}}},44946:e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},75207:e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},83208:e=>{"use strict";e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},29799:e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},18597:e=>{"use strict";e.exports={i8:"6.5.4"}},22562:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=i(4942),t=i(70885);function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=i(67294),a=i(20745),n=i(59864),o=i(96774),c=i.n(o);const h=function(e){function t(e,r,c,h,l){for(var f,p,m,g,w,S=0,_=0,M=0,T=0,O=0,N=0,B=m=f=0,L=0,V=0,D=0,q=0,G=c.length,F=G-1,j="",U="",z="",H="";L<G;){if(p=c.charCodeAt(L),L===F&&0!==_+T+M+S&&(0!==_&&(p=47===_?10:47),T=M=S=0,G++,F++),0===_+T+M+S){if(L===F&&(0<V&&(j=j.replace(u,"")),0<j.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:j+=c.charAt(L)}p=59}switch(p){case 123:for(f=(j=j.trim()).charCodeAt(0),m=1,q=++L;L<G;){switch(p=c.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(p=c.charCodeAt(L+1)){case 42:case 47:e:{for(B=L+1;B<F;++B)switch(c.charCodeAt(B)){case 47:if(42===p&&42===c.charCodeAt(B-1)&&L+2!==B){L=B+1;break e}break;case 10:if(47===p){L=B+1;break e}}L=B}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<F&&c.charCodeAt(L)!==p;);}if(0===m)break;L++}if(m=c.substring(q,L),0===f&&(f=(j=j.replace(d,"").trim()).charCodeAt(0)),64===f){switch(0<V&&(j=j.replace(u,"")),p=j.charCodeAt(1)){case 100:case 109:case 115:case 45:V=r;break;default:V=E}if(q=(m=t(r,V,m,p,l+1)).length,0<P&&(w=o(3,m,V=i(E,j,D),r,I,x,q,p,l,h),j=V.join(""),void 0!==w&&0===(q=(m=w.trim()).length)&&(p=0,m="")),0<q)switch(p){case 115:j=j.replace(k,n);case 100:case 109:case 45:m=j+"{"+m+"}";break;case 107:m=(j=j.replace(y,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=j+m,112===h&&(U+=m,m="")}else m=""}else m=t(r,i(r,j,D),m,h,l+1);z+=m,m=D=V=B=f=0,j="",p=c.charCodeAt(++L);break;case 125:case 59:if(1<(q=(j=(0<V?j.replace(u,""):j).trim()).length))switch(0===B&&(f=j.charCodeAt(0),45===f||96<f&&123>f)&&(q=(j=j.replace(" ",":")).length),0<P&&void 0!==(w=o(1,j,r,e,I,x,U.length,h,l,h))&&0===(q=(j=w.trim()).length)&&(j="\0\0"),f=j.charCodeAt(0),p=j.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){H+=j+c.charAt(L);break}default:58!==j.charCodeAt(q-1)&&(U+=s(j,f,p,j.charCodeAt(2)))}D=V=B=f=0,j="",p=c.charCodeAt(++L)}}switch(p){case 13:case 10:47===_?_=0:0===1+f&&107!==h&&0<j.length&&(V=1,j+="\0"),0<P*R&&o(0,j,r,e,I,x,U.length,h,l,h),x=1,I++;break;case 59:case 125:if(0===_+T+M+S){x++;break}default:switch(x++,g=c.charAt(L),p){case 9:case 32:if(0===T+S+_)switch(O){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===T+_+S&&(V=D=1,g="\f"+g);break;case 108:if(0===T+_+S+C&&0<B)switch(L-B){case 2:112===O&&58===c.charCodeAt(L-3)&&(C=O);case 8:111===N&&(C=N)}break;case 58:0===T+_+S&&(B=L);break;case 44:0===_+M+T+S&&(V=1,g+="\r");break;case 34:case 39:0===_&&(T=T===p?0:0===T?p:T);break;case 91:0===T+_+M&&S++;break;case 93:0===T+_+M&&S--;break;case 41:0===T+_+S&&M--;break;case 40:0===T+_+S&&(0===f&&(2*O+3*N==533||(f=1)),M++);break;case 64:0===_+M+T+S+B+m&&(m=1);break;case 42:case 47:if(!(0<T+S+M))switch(_){case 0:switch(2*p+3*c.charCodeAt(L+1)){case 235:_=47;break;case 220:q=L,_=42}break;case 42:47===p&&42===O&&q+2!==L&&(33===c.charCodeAt(q+2)&&(U+=c.substring(q,L+1)),g="",_=0)}}0===_&&(j+=g)}N=O,O=p,L++}if(0<(q=U.length)){if(V=r,0<P&&void 0!==(w=o(2,U,V,e,I,x,q,h,l,h))&&0===(U=w).length)return H+U+z;if(U=V.join(",")+"{"+U+"}",0!=A*C){switch(2!==A||a(U,2)||(C=0),C){case 111:U=U.replace(v,":-moz-$1")+U;break;case 112:U=U.replace(b,"::-webkit-input-$1")+U.replace(b,"::-moz-$1")+U.replace(b,":-ms-input-$1")+U}C=0}}return H+U+z}function i(e,t,i){var s=t.trim().split(m);t=s;var a=s.length,n=e.length;switch(n){case 0:case 1:var o=0;for(e=0===n?"":e[0]+" ";o<a;++o)t[o]=r(e,t[o],i).trim();break;default:var c=o=0;for(t=[];o<a;++o)for(var h=0;h<n;++h)t[c++]=r(e[h]+" ",s[o],i).trim()}return t}function r(e,t,i){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*i&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function s(e,t,i,r){var n=e+";",o=2*t+3*i+4*r;if(944===o){e=n.indexOf(":",9)+1;var c=n.substring(e,n.length-1).trim();return c=n.substring(0,e).trim()+c+";",1===A||2===A&&a(c,1)?"-webkit-"+c+c:c}if(0===A||2===A&&!a(n,1))return n;switch(o){case 1015:return 97===n.charCodeAt(10)?"-webkit-"+n+n:n;case 951:return 116===n.charCodeAt(3)?"-webkit-"+n+n:n;case 963:return 110===n.charCodeAt(5)?"-webkit-"+n+n:n;case 1009:if(100!==n.charCodeAt(4))break;case 969:case 942:return"-webkit-"+n+n;case 978:return"-webkit-"+n+"-moz-"+n+n;case 1019:case 983:return"-webkit-"+n+"-moz-"+n+"-ms-"+n+n;case 883:if(45===n.charCodeAt(8))return"-webkit-"+n+n;if(0<n.indexOf("image-set(",11))return n.replace(O,"$1-webkit-$2")+n;break;case 932:if(45===n.charCodeAt(4))switch(n.charCodeAt(5)){case 103:return"-webkit-box-"+n.replace("-grow","")+"-webkit-"+n+"-ms-"+n.replace("grow","positive")+n;case 115:return"-webkit-"+n+"-ms-"+n.replace("shrink","negative")+n;case 98:return"-webkit-"+n+"-ms-"+n.replace("basis","preferred-size")+n}return"-webkit-"+n+"-ms-"+n+n;case 964:return"-webkit-"+n+"-ms-flex-"+n+n;case 1023:if(99!==n.charCodeAt(8))break;return"-webkit-box-pack"+(c=n.substring(n.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+n+"-ms-flex-pack"+c+n;case 1005:return f.test(n)?n.replace(l,":-webkit-")+n.replace(l,":-moz-")+n:n;case 1e3:switch(t=(c=n.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=n.replace(w,"tb");break;case 232:c=n.replace(w,"tb-rl");break;case 220:c=n.replace(w,"lr");break;default:return n}return"-webkit-"+n+"-ms-"+c+n;case 1017:if(-1===n.indexOf("sticky",9))break;case 975:switch(t=(n=e).length-10,o=(c=(33===n.charCodeAt(t)?n.substring(0,t):n).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:n=n.replace(c,"-webkit-"+c)+";"+n;break;case 207:case 102:n=n.replace(c,"-webkit-"+(102<o?"inline-":"")+"box")+";"+n.replace(c,"-webkit-"+c)+";"+n.replace(c,"-ms-"+c+"box")+";"+n}return n+";";case 938:if(45===n.charCodeAt(5))switch(n.charCodeAt(6)){case 105:return c=n.replace("-items",""),"-webkit-"+n+"-webkit-box-"+c+"-ms-flex-"+c+n;case 115:return"-webkit-"+n+"-ms-flex-item-"+n.replace(_,"")+n;default:return"-webkit-"+n+"-ms-flex-line-pack"+n.replace("align-content","").replace(_,"")+n}break;case 973:case 989:if(45!==n.charCodeAt(3)||122===n.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?s(e.replace("stretch","fill-available"),t,i,r).replace(":fill-available",":stretch"):n.replace(c,"-webkit-"+c)+n.replace(c,"-moz-"+c.replace("fill-",""))+n;break;case 962:if(n="-webkit-"+n+(102===n.charCodeAt(5)?"-ms-"+n:"")+n,211===i+r&&105===n.charCodeAt(13)&&0<n.indexOf("transform",10))return n.substring(0,n.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+n}return n}function a(e,t){var i=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?i:10);return i=e.substring(i+1,e.length-1),B(2!==t?r:r.replace(M,"$1"),i,t)}function n(e,t){var i=s(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return i!==t+";"?i.replace(S," or ($1)").substring(4):"("+t+")"}function o(e,t,i,r,s,a,n,o,c,d){for(var u,l=0,f=t;l<P;++l)switch(u=N[l].call(h,e,f,i,r,s,a,n,o,c,d)){case void 0:case!1:case!0:case null:break;default:f=u}if(f!==t)return f}function c(e){return void 0!==(e=e.prefix)&&(B=null,e?"function"!=typeof e?A=1:(A=2,B=e):A=0),c}function h(e,i){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var s=o(-1,i,r,r,I,x,0,0,0,0);void 0!==s&&"string"==typeof s&&(i=s)}var a=t(E,r,i,0,0);return 0<P&&void 0!==(s=o(-2,a,r,r,I,x,a.length,0,0,0))&&(a=s),C=0,x=I=1,a}var d=/^\0+/g,u=/[\0\r\f]/g,l=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,_=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,x=1,I=1,C=0,A=1,E=[],N=[],P=0,B=null,R=0;return h.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"==typeof t)N[P++]=t;else if("object"==typeof t)for(var i=0,r=t.length;i<r;++i)e(t[i]);else R=0|!!t}return e},h.set=c,void 0!==e&&c(e),h},d={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u=function(e){var t=Object.create(null);return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}};var l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const f=u((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var p=i(8679),m=i.n(p),g=i(34155);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var b=function(e,t){for(var i=[e[0]],r=0,s=t.length;r<s;r+=1)i.push(t[r],e[r+1]);return i},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,n.typeOf)(e)},w=Object.freeze([]),k=Object.freeze({});function S(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function M(e){return e&&"string"==typeof e.styledComponentId}var T=void 0!==g&&(g.env.REACT_APP_SC_ATTR||g.env.SC_ATTR)||"data-styled",O="undefined"!=typeof window&&"HTMLElement"in window,x=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==g&&void 0!==g.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==g.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==g.env.REACT_APP_SC_DISABLE_SPEEDY&&g.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==g&&void 0!==g.env.SC_DISABLE_SPEEDY&&""!==g.env.SC_DISABLE_SPEEDY&&"false"!==g.env.SC_DISABLE_SPEEDY&&g.env.SC_DISABLE_SPEEDY);function I(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var C=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)(s<<=1)<0&&I(16,""+e);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=r;a<s;a++)this.groupSizes[a]=0}for(var n=this.indexOfGroup(e+1),o=0,c=t.length;o<c;o++)this.tag.insertRule(n,t[o])&&(this.groupSizes[e]++,n++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,a=r;a<s;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),A=new Map,E=new Map,N=1,P=function(e){if(A.has(e))return A.get(e);for(;E.has(N);)N++;var t=N++;return A.set(e,t),E.set(t,e),t},B=function(e){return E.get(e)},R=function(e,t){t>=N&&(N=t+1),A.set(e,t),E.set(t,e)},L="style["+T+'][data-styled-version="5.3.5"]',V=new RegExp("^"+T+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,i){for(var r,s=i.split(","),a=0,n=s.length;a<n;a++)(r=s[a])&&e.registerName(t,r)},q=function(e,t){for(var i=(t.textContent||"").split("/*!sc*/\n"),r=[],s=0,a=i.length;s<a;s++){var n=i[s].trim();if(n){var o=n.match(V);if(o){var c=0|parseInt(o[1],10),h=o[2];0!==c&&(R(h,c),D(e,h,o[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(n)}}},G=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,i=e||t,r=document.createElement("style"),s=function(e){for(var t=e.childNodes,i=t.length;i>=0;i--){var r=t[i];if(r&&1===r.nodeType&&r.hasAttribute(T))return r}}(i),a=void 0!==s?s.nextSibling:null;r.setAttribute(T,"active"),r.setAttribute("data-styled-version","5.3.5");var n=G();return n&&r.setAttribute("nonce",n),i.insertBefore(r,a),r},j=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,r=t.length;i<r;i++){var s=t[i];if(s.ownerNode===e)return s}I(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(i,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),H=O,K={isServer:!O,useCSSOMInjection:!x},W=function(){function e(e,t,i){void 0===e&&(e=k),void 0===t&&(t={}),this.options=y({},K,{},e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&O&&H&&(H=!1,function(e){for(var t=document.querySelectorAll(L),i=0,r=t.length;i<r;i++){var s=t[i];s&&"active"!==s.getAttribute(T)&&(q(e,s),s.parentNode&&s.parentNode.removeChild(s))}}(this))}e.registerId=function(e){return P(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(y({},this.options,{},t),this.gs,i&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(t=this.options).isServer,r=t.useCSSOMInjection,s=t.target,e=i?new z(s):r?new j(s):new U(s),new C(e)));var e,t,i,r,s},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(P(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},t.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(P(e),i)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(P(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),i=t.length,r="",s=0;s<i;s++){var a=B(s);if(void 0!==a){var n=e.names.get(a),o=t.getGroup(s);if(n&&o&&n.size){var c=T+".g"+s+'[id="'+a+'"]',h="";void 0!==n&&n.forEach((function(e){e.length>0&&(h+=e+",")})),r+=""+o+c+'{content:"'+h+'"}/*!sc*/\n'}}}return r}(this)},e}(),Z=/(a)(d)/gi,X=function(e){return String.fromCharCode(e+(e>25?39:97))};function Y(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=X(t%52)+i;return(X(t%52)+i).replace(Z,"$1-$2")}var $=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},Q=function(e){return $(5381,e)};function J(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(S(i)&&!M(i))return!1}return!0}var ee=Q("5.3.5"),te=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&J(e),this.componentId=t,this.baseHash=$(ee,t),this.baseStyle=i,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var r=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))s.push(this.staticRulesId);else{var a=be(this.rules,e,t,i).join(""),n=Y($(this.baseHash,a)>>>0);if(!t.hasNameForId(r,n)){var o=i(a,"."+n,void 0,r);t.insertRules(r,n,o)}s.push(n),this.staticRulesId=n}else{for(var c=this.rules.length,h=$(this.baseHash,i.hash),d="",u=0;u<c;u++){var l=this.rules[u];if("string"==typeof l)d+=l;else if(l){var f=be(l,e,t,i),p=Array.isArray(f)?f.join(""):f;h=$(h,p+u),d+=p}}if(d){var m=Y(h>>>0);if(!t.hasNameForId(r,m)){var g=i(d,"."+m,void 0,r);t.insertRules(r,m,g)}s.push(m)}}return s.join(" ")},e}(),ie=/^\s*\/\/.*$/gm,re=[":","[",".","#"];function se(e){var t,i,r,s,a=void 0===e?k:e,n=a.options,o=void 0===n?k:n,c=a.plugins,d=void 0===c?w:c,u=new h(o),l=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(i,r,s,a,n,o,c,h,d,u){switch(i){case 1:if(0===d&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===h)return r+"/*|*/";break;case 3:switch(h){case 102:case 112:return e(s[0]+r),"";default:return r+(0===u?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){l.push(e)})),p=function(e,r,a){return 0===r&&-1!==re.indexOf(a[i.length])||a.match(s)?e:"."+t};function m(e,a,n,o){void 0===o&&(o="&");var c=e.replace(ie,""),h=a&&n?n+" "+a+" { "+c+" }":c;return t=o,i=a,r=new RegExp("\\"+i+"\\b","g"),s=new RegExp("(\\"+i+"\\b){2,}"),u(n||!a?"":a,h)}return u.use([].concat(d,[function(e,t,s){2===e&&s.length&&s[0].lastIndexOf(i)>0&&(s[0]=s[0].replace(r,p))},f,function(e){if(-2===e){var t=l;return l=[],t}}])),m.hash=d.length?d.reduce((function(e,t){return t.name||I(15),$(e,t.name)}),5381).toString():"",m}var ae=s.createContext(),ne=(ae.Consumer,s.createContext()),oe=(ne.Consumer,new W),ce=se();function he(){return(0,s.useContext)(ae)||oe}function de(e){var t=(0,s.useState)(e.stylisPlugins),i=t[0],r=t[1],a=he(),n=(0,s.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,s.useMemo)((function(){return se({options:{prefix:!e.disableVendorPrefixes},plugins:i})}),[e.disableVendorPrefixes,i]);return(0,s.useEffect)((function(){c()(i,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),s.createElement(ae.Provider,{value:n},s.createElement(ne.Provider,{value:o},e.children))}var ue=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=ce);var r=i.name+t.hash;e.hasNameForId(i.id,r)||e.insertRules(i.id,r,t(i.rules,r,"@keyframes"))},this.toString=function(){return I(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ce),this.name+e.hash},e}(),le=/([A-Z])/,fe=/([A-Z])/g,pe=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function ge(e){return le.test(e)?e.replace(fe,me).replace(pe,"-ms-"):e}var ye=function(e){return null==e||!1===e||""===e};function be(e,t,i,r){if(Array.isArray(e)){for(var s,a=[],n=0,o=e.length;n<o;n+=1)""!==(s=be(e[n],t,i,r))&&(Array.isArray(s)?a.push.apply(a,s):a.push(s));return a}return ye(e)?"":M(e)?"."+e.styledComponentId:S(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:be(e(t),t,i,r):e instanceof ue?i?(e.inject(i,r),e.getName(r)):e:v(e)?function e(t,i){var r,s,a=[];for(var n in t)t.hasOwnProperty(n)&&!ye(t[n])&&(Array.isArray(t[n])&&t[n].isCss||S(t[n])?a.push(ge(n)+":",t[n],";"):v(t[n])?a.push.apply(a,e(t[n],n)):a.push(ge(n)+": "+(r=n,(null==(s=t[n])||"boolean"==typeof s||""===s?"":"number"!=typeof s||0===s||r in d?String(s).trim():s+"px")+";")));return i?[i+" {"].concat(a,["}"]):a}(e):e.toString();var c}var ve=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function we(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return S(e)||v(e)?ve(be(b(w,[e].concat(i)))):0===i.length&&1===e.length&&"string"==typeof e[0]?e:ve(be(b(e,i)))}new Set;var ke=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Se=/(^-|-$)/g;function _e(e){return e.replace(ke,"-").replace(Se,"")}function Me(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Oe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xe(e,t,i){var r=e[i];Te(t)&&Te(r)?Ie(r,t):e[i]=t}function Ie(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var s=0,a=i;s<a.length;s++){var n=a[s];if(Te(n))for(var o in n)Oe(o)&&xe(e,n[o],o)}return e}var Ce=s.createContext();Ce.Consumer;var Ae={};function Ee(e,t,i){var r=M(e),a=!Me(e),n=t.attrs,o=void 0===n?w:n,c=t.componentId,h=void 0===c?function(e,t){var i="string"!=typeof e?"sc":_e(e);Ae[i]=(Ae[i]||0)+1;var r=i+"-"+function(e){return Y(Q(e)>>>0)}("5.3.5"+i+Ae[i]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,d=t.displayName,u=void 0===d?function(e){return Me(e)?"styled."+e:"Styled("+_(e)+")"}(e):d,l=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||h,p=r&&e.attrs?Array.prototype.concat(e.attrs,o).filter(Boolean):o,g=t.shouldForwardProp;r&&e.shouldForwardProp&&(g=t.shouldForwardProp?function(i,r,s){return e.shouldForwardProp(i,r,s)&&t.shouldForwardProp(i,r,s)}:e.shouldForwardProp);var b,v=new te(i,l,r?e.componentStyle:void 0),T=v.isStatic&&0===o.length,O=function(e,t){return function(e,t,i,r){var a=e.attrs,n=e.componentStyle,o=e.defaultProps,c=e.foldedComponentIds,h=e.shouldForwardProp,d=e.styledComponentId,u=e.target,l=function(e,t,i){void 0===e&&(e=k);var r=y({},t,{theme:e}),s={};return i.forEach((function(e){var t,i,a,n=e;for(t in S(n)&&(n=n(r)),n)r[t]=s[t]="className"===t?(i=s[t],a=n[t],i&&a?i+" "+a:i||a):n[t]})),[r,s]}(function(e,t,i){return void 0===i&&(i=k),e.theme!==i.theme&&e.theme||t||i.theme}(t,(0,s.useContext)(Ce),o)||k,t,a),p=l[0],m=l[1],g=function(e,t,i,r){var a=he(),n=(0,s.useContext)(ne)||ce;return t?e.generateAndInjectStyles(k,a,n):e.generateAndInjectStyles(i,a,n)}(n,r,p),b=i,v=m.$as||t.$as||m.as||t.as||u,w=Me(v),_=m!==t?y({},t,{},m):t,M={};for(var T in _)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?M.as=_[T]:(h?h(T,f,v):!w||f(T))&&(M[T]=_[T]));return t.style&&m.style!==t.style&&(M.style=y({},t.style,{},m.style)),M.className=Array.prototype.concat(c,d,g!==d?g:null,t.className,m.className).filter(Boolean).join(" "),M.ref=b,(0,s.createElement)(v,M)}(b,e,t,T)};return O.displayName=u,(b=s.forwardRef(O)).attrs=p,b.componentStyle=v,b.displayName=u,b.shouldForwardProp=g,b.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w,b.styledComponentId=l,b.target=r?e.target:e,b.withComponent=function(e){var r=t.componentId,s=function(e,t){if(null==e)return{};var i,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}(t,["componentId"]),a=r&&r+"-"+(Me(e)?e:_e(_(e)));return Ee(e,y({},s,{attrs:p,componentId:a}),i)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ie({},e.defaultProps,t):t}}),b.toString=function(){return"."+b.styledComponentId},a&&m()(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var Ne,Pe=function(e){return function e(t,i,r){if(void 0===r&&(r=k),!(0,n.isValidElementType)(i))return I(1,String(i));var s=function(){return t(i,r,we.apply(void 0,arguments))};return s.withConfig=function(s){return e(t,i,y({},r,{},s))},s.attrs=function(s){return e(t,i,y({},r,{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},s}(Ee,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Pe[e]=Pe(e)})),Ne=function(e,t){this.rules=e,this.componentId=t,this.isStatic=J(e),W.registerId(this.componentId+1)}.prototype,Ne.createStyles=function(e,t,i,r){var s=r(be(this.rules,t,i,r).join(""),""),a=this.componentId+e;i.insertRules(a,a,s)},Ne.removeStyles=function(e,t){t.clearRules(this.componentId+e)},Ne.renderStyles=function(e,t,i,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,r)},function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var i=G();return"<style "+[i&&'nonce="'+i+'"',T+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?I(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return I(2);var i=((t={})[T]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=G();return r&&(i.nonce=r),[s.createElement("style",y({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?I(2):s.createElement(de,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return I(3)}}();const Be=Pe;var Re=i(93379),Le=i.n(Re),Ve=i(7795),De=i.n(Ve),qe=i(90569),Ge=i.n(qe),Fe=i(3565),je=i.n(Fe),Ue=i(19216),ze=i.n(Ue),He=i(44589),Ke=i.n(He),We=i(6955),Ze={};function Xe(e,t,i,r,s,a,n){try{var o=e[a](n),c=o.value}catch(e){return void i(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function Ye(e){return function(){var t=this,i=arguments;return new Promise((function(r,s){var a=e.apply(t,i);function n(e){Xe(a,r,s,n,o,"next",e)}function o(e){Xe(a,r,s,n,o,"throw",e)}n(void 0)}))}}Ze.styleTagTransform=Ke(),Ze.setAttributes=je(),Ze.insert=Ge().bind(null,"head"),Ze.domAPI=De(),Ze.insertStyleElement=ze(),Le()(We.Z,Ze),We.Z&&We.Z.locals&&We.Z.locals;var $e=i(87757),Qe=i.n($e),Je=i(81354),et=i.n(Je),tt=(i(50780),i(48764),i(25108));const it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,rt=Object.keys,st=Array.isArray;function at(e,t){return"object"!=typeof t||rt(t).forEach((function(i){e[i]=t[i]})),e}"undefined"==typeof Promise||it.Promise||(it.Promise=Promise);const nt=Object.getPrototypeOf,ot={}.hasOwnProperty;function ct(e,t){return ot.call(e,t)}function ht(e,t){"function"==typeof t&&(t=t(nt(e))),("undefined"==typeof Reflect?rt:Reflect.ownKeys)(t).forEach((i=>{ut(e,i,t[i])}))}const dt=Object.defineProperty;function ut(e,t,i,r){dt(e,t,at(i&&ct(i,"get")&&"function"==typeof i.get?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},r))}function lt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ut(e.prototype,"constructor",e),{extend:ht.bind(null,e.prototype)}}}}const ft=Object.getOwnPropertyDescriptor;function pt(e,t){let i;return ft(e,t)||(i=nt(e))&&pt(i,t)}const mt=[].slice;function gt(e,t,i){return mt.call(e,t,i)}function yt(e,t){return t(e)}function bt(e){if(!e)throw new Error("Assertion Failed")}function vt(e){it.setImmediate?setImmediate(e):setTimeout(e,0)}function wt(e,t){return e.reduce(((e,i,r)=>{var s=t(i,r);return s&&(e[s[0]]=s[1]),e}),{})}function kt(e,t){if(ct(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var i=[],r=0,s=t.length;r<s;++r){var a=kt(e,t[r]);i.push(a)}return i}var n=t.indexOf(".");if(-1!==n){var o=e[t.substr(0,n)];return void 0===o?void 0:kt(o,t.substr(n+1))}}function St(e,t,i){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){bt("string"!=typeof i&&"length"in i);for(var r=0,s=t.length;r<s;++r)St(e,t[r],i[r])}else{var a=t.indexOf(".");if(-1!==a){var n=t.substr(0,a),o=t.substr(a+1);if(""===o)void 0===i?st(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=i;else{var c=e[n];c||(c=e[n]={}),St(c,o,i)}}else void 0===i?st(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=i}}function _t(e){var t={};for(var i in e)ct(e,i)&&(t[i]=e[i]);return t}const Mt=[].concat;function Tt(e){return Mt.apply([],e)}const Ot="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Tt([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>it[e])),xt=Ot.map((e=>it[e]));wt(Ot,(e=>[e,!0]));let It=null;function Ct(e){It="undefined"!=typeof WeakMap&&new WeakMap;const t=At(e);return It=null,t}function At(e){if(!e||"object"!=typeof e)return e;let t=It&&It.get(e);if(t)return t;if(st(e)){t=[],It&&It.set(e,t);for(var i=0,r=e.length;i<r;++i)t.push(At(e[i]))}else if(xt.indexOf(e.constructor)>=0)t=e;else{const i=nt(e);for(var s in t=i===Object.prototype?{}:Object.create(i),It&&It.set(e,t),e)ct(e,s)&&(t[s]=At(e[s]))}return t}const{toString:Et}={};function Nt(e){return Et.call(e).slice(8,-1)}const Pt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Bt="symbol"==typeof Pt?function(e){var t;return null!=e&&(t=e[Pt])&&t.apply(e)}:function(){return null},Rt={};function Lt(e){var t,i,r,s;if(1===arguments.length){if(st(e))return e.slice();if(this===Rt&&"string"==typeof e)return[e];if(s=Bt(e)){for(i=[];!(r=s.next()).done;)i.push(r.value);return i}if(null==e)return[e];if("number"==typeof(t=e.length)){for(i=new Array(t);t--;)i[t]=e[t];return i}return[e]}for(t=arguments.length,i=new Array(t);t--;)i[t]=arguments[t];return i}const Vt="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var Dt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qt(e,t){Dt=e,Gt=t}var Gt=()=>!0;const Ft=!new Error("").stack;function jt(){if(Ft)try{throw jt.arguments,new Error}catch(e){return e}return new Error}function Ut(e,t){var i=e.stack;return i?(t=t||0,0===i.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),i.split("\n").slice(t).filter(Gt).map((e=>"\n"+e)).join("")):""}var zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ht=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zt),Kt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Wt(e,t){this._e=jt(),this.name=e,this.message=t}function Zt(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,i)=>i.indexOf(e)===t)).join("\n")}function Xt(e,t,i,r){this._e=jt(),this.failures=t,this.failedKeys=r,this.successCount=i,this.message=Zt(e,t)}function Yt(e,t){this._e=jt(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Zt(e,t)}lt(Wt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ut(this._e,2))}},toString:function(){return this.name+": "+this.message}}),lt(Xt).from(Wt),lt(Yt).from(Wt);var $t=Ht.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Qt=Wt;var Jt=Ht.reduce(((e,t)=>{var i=t+"Error";function r(e,r){this._e=jt(),this.name=i,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Kt[t]||i,this.inner=null)}return lt(r).from(Qt),e[t]=r,e}),{});Jt.Syntax=SyntaxError,Jt.Type=TypeError,Jt.Range=RangeError;var ei=zt.reduce(((e,t)=>(e[t+"Error"]=Jt[t],e)),{}),ti=Ht.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Jt[t]),e)),{});function ii(){}function ri(e){return e}function si(e,t){return null==e||e===ri?t:function(i){return t(e(i))}}function ai(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ni(e,t){return e===ii?t:function(){var i=e.apply(this,arguments);void 0!==i&&(arguments[0]=i);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ai(r,this.onsuccess):r),s&&(this.onerror=this.onerror?ai(s,this.onerror):s),void 0!==a?a:i}}function oi(e,t){return e===ii?t:function(){e.apply(this,arguments);var i=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?ai(i,this.onsuccess):i),r&&(this.onerror=this.onerror?ai(r,this.onerror):r)}}function ci(e,t){return e===ii?t:function(i){var r=e.apply(this,arguments);at(i,r);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var n=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?ai(s,this.onsuccess):s),a&&(this.onerror=this.onerror?ai(a,this.onerror):a),void 0===r?void 0===n?void 0:n:at(r,n)}}function hi(e,t){return e===ii?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function di(e,t){return e===ii?t:function(){var i=e.apply(this,arguments);if(i&&"function"==typeof i.then){for(var r=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return i.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}ti.ModifyError=Xt,ti.DexieError=Wt,ti.BulkError=Yt;var ui={};const[li,fi,pi]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,nt(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,nt(t),e]})(),mi=fi&&fi.then,gi=li&&li.constructor,yi=!!pi;var bi=!1,vi=pi?()=>{pi.then(ji)}:it.setImmediate?setImmediate.bind(null,ji):it.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{ji(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ji,0)},wi=function(e,t){Ci.push([e,t]),Si&&(vi(),Si=!1)},ki=!0,Si=!0,_i=[],Mi=[],Ti=null,Oi=ri,xi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:fr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{fr(e[0],e[1])}catch(e){}}))}},Ii=xi,Ci=[],Ai=0,Ei=[];function Ni(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ii,this._lib=!1;var t=this._PSD=Ii;if(Dt&&(this._stackHolder=jt(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ui)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Li(this,this._value))}this._state=null,this._value=null,++t.ref,Ri(this,e)}const Pi={get:function(){var e=Ii,t=Qi;function i(i,r){var s=!e.global&&(e!==Ii||t!==Qi);const a=s&&!ir();var n=new Ni(((t,n)=>{Di(this,new Bi(dr(i,e,s,a),dr(r,e,s,a),t,n,e))}));return Dt&&Fi(n,this),n}return i.prototype=ui,i},set:function(e){ut(this,"then",e&&e.prototype===ui?Pi:{get:function(){return e},set:Pi.set})}};function Bi(e,t,i,r,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=i,this.reject=r,this.psd=s}function Ri(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var i=e._lib&&Ui();t&&"function"==typeof t.then?Ri(e,((e,i)=>{t instanceof Ni?t._then(e,i):t.then(e,i)})):(e._state=!0,e._value=t,Vi(e)),i&&zi()}}),Li.bind(null,e))}catch(t){Li(e,t)}}function Li(e,t){if(Mi.push(t),null===e._state){var i=e._lib&&Ui();t=Oi(t),e._state=!1,e._value=t,Dt&&null!==t&&"object"==typeof t&&!t._promise&&function(i,r,s){try{(()=>{var i=pt(t,"stack");t._promise=e,ut(t,"stack",{get:()=>bi?i&&(i.get?i.get.apply(t):i.value):e.stack})}).apply(null,void 0)}catch(e){}}(),function(e){_i.some((t=>t._value===e._value))||_i.push(e)}(e),Vi(e),i&&zi()}}function Vi(e){var t=e._listeners;e._listeners=[];for(var i=0,r=t.length;i<r;++i)Di(e,t[i]);var s=e._PSD;--s.ref||s.finalize(),0===Ai&&(++Ai,wi((()=>{0==--Ai&&Hi()}),[]))}function Di(e,t){if(null!==e._state){var i=e._state?t.onFulfilled:t.onRejected;if(null===i)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ai,wi(qi,[i,e,t])}else e._listeners.push(t)}function qi(e,t,i){try{Ti=t;var r,s=t._value;t._state?r=e(s):(Mi.length&&(Mi=[]),r=e(s),-1===Mi.indexOf(s)&&function(e){for(var t=_i.length;t;)if(_i[--t]._value===e._value)return void _i.splice(t,1)}(t)),i.resolve(r)}catch(e){i.reject(e)}finally{Ti=null,0==--Ai&&Hi(),--i.psd.ref||i.psd.finalize()}}function Gi(e,t,i){if(t.length===i)return t;var r="";if(!1===e._state){var s,a,n=e._value;null!=n?(s=n.name||"Error",a=n.message||n,r=Ut(n,0)):(s=n,a=""),t.push(s+(a?": "+a:"")+r)}return Dt&&((r=Ut(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Gi(e._prev,t,i)),t}function Fi(e,t){var i=t?t._numPrev+1:0;i<100&&(e._prev=t,e._numPrev=i)}function ji(){Ui()&&zi()}function Ui(){var e=ki;return ki=!1,Si=!1,e}function zi(){var e,t,i;do{for(;Ci.length>0;)for(e=Ci,Ci=[],i=e.length,t=0;t<i;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ci.length>0);ki=!0,Si=!0}function Hi(){var e=_i;_i=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ei.slice(0),i=t.length;i;)t[--i]()}function Ki(e){return new Ni(ui,!1,e)}function Wi(e,t){var i=Ii;return function(){var r=Ui(),s=Ii;try{return nr(i,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{nr(s,!1),r&&zi()}}}ht(Ni.prototype,{then:Pi,_then:function(e,t){Di(this,new Bi(null,null,e,t,Ii))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],i=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?i(e):Ki(e))):this.then(null,(e=>e&&e.name===t?i(e):Ki(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ki(t))))},stack:{get:function(){if(this._stack)return this._stack;try{bi=!0;var e=Gi(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{bi=!1}}},timeout:function(e,t){return e<1/0?new Ni(((i,r)=>{var s=setTimeout((()=>r(new Jt.Timeout(t))),e);this.then(i,r).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&ut(Ni.prototype,Symbol.toStringTag,"Dexie.Promise"),xi.env=or(),ht(Ni,{all:function(){var e=Lt.apply(null,arguments).map(rr);return new Ni((function(t,i){0===e.length&&t([]);var r=e.length;e.forEach(((s,a)=>Ni.resolve(s).then((i=>{e[a]=i,--r||t(e)}),i)))}))},resolve:e=>{if(e instanceof Ni)return e;if(e&&"function"==typeof e.then)return new Ni(((t,i)=>{e.then(t,i)}));var t=new Ni(ui,!0,e);return Fi(t,Ti),t},reject:Ki,race:function(){var e=Lt.apply(null,arguments).map(rr);return new Ni(((t,i)=>{e.map((e=>Ni.resolve(e).then(t,i)))}))},PSD:{get:()=>Ii,set:e=>Ii=e},totalEchoes:{get:()=>Qi},newPSD:er,usePSD:cr,scheduler:{get:()=>wi,set:e=>{wi=e}},rejectionMapper:{get:()=>Oi,set:e=>{Oi=e}},follow:(e,t)=>new Ni(((i,r)=>er(((t,i)=>{var r=Ii;r.unhandleds=[],r.onunhandled=i,r.finalize=ai((function(){!function(e){Ei.push((function t(){e(),Ei.splice(Ei.indexOf(t),1)})),++Ai,wi((()=>{0==--Ai&&Hi()}),[])}((()=>{0===this.unhandleds.length?t():i(this.unhandleds[0])}))}),r.finalize),e()}),t,i,r)))}),gi&&(gi.allSettled&&ut(Ni,"allSettled",(function(){const e=Lt.apply(null,arguments).map(rr);return new Ni((t=>{0===e.length&&t([]);let i=e.length;const r=new Array(i);e.forEach(((e,s)=>Ni.resolve(e).then((e=>r[s]={status:"fulfilled",value:e}),(e=>r[s]={status:"rejected",reason:e})).then((()=>--i||t(r)))))}))})),gi.any&&"undefined"!=typeof AggregateError&&ut(Ni,"any",(function(){const e=Lt.apply(null,arguments).map(rr);return new Ni(((t,i)=>{0===e.length&&i(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,a)=>Ni.resolve(e).then((e=>t(e)),(e=>{s[a]=e,--r||i(new AggregateError(s))}))))}))})));const Zi={awaits:0,echoes:0,id:0};var Xi=0,Yi=[],$i=0,Qi=0,Ji=0;function er(e,t,i,r){var s=Ii,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++Ji;var n=xi.env;a.env=yi?{Promise:Ni,PromiseProp:{value:Ni,configurable:!0,writable:!0},all:Ni.all,race:Ni.race,allSettled:Ni.allSettled,any:Ni.any,resolve:Ni.resolve,reject:Ni.reject,nthen:ur(n.nthen,a),gthen:ur(n.gthen,a)}:{},t&&at(a,t),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=cr(a,e,i,r);return 0===a.ref&&a.finalize(),o}function tr(){return Zi.id||(Zi.id=++Xi),++Zi.awaits,Zi.echoes+=100,Zi.id}function ir(){return!!Zi.awaits&&(0==--Zi.awaits&&(Zi.id=0),Zi.echoes=100*Zi.awaits,!0)}function rr(e){return Zi.echoes&&e&&e.constructor===gi?(tr(),e.then((e=>(ir(),e)),(e=>(ir(),pr(e))))):e}function sr(e){++Qi,Zi.echoes&&0!=--Zi.echoes||(Zi.echoes=Zi.id=0),Yi.push(Ii),nr(e,!0)}function ar(){var e=Yi[Yi.length-1];Yi.pop(),nr(e,!1)}function nr(e,t){var i=Ii;if((t?!Zi.echoes||$i++&&e===Ii:!$i||--$i&&e===Ii)||hr(t?sr.bind(null,e):ar),e!==Ii&&(Ii=e,i===xi&&(xi.env=or()),yi)){var r=xi.env.Promise,s=e.env;fi.then=s.nthen,r.prototype.then=s.gthen,(i.global||e.global)&&(Object.defineProperty(it,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function or(){var e=it.Promise;return yi?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(it,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:fi.then,gthen:e.prototype.then}:{}}function cr(e,t,i,r,s){var a=Ii;try{return nr(e,!0),t(i,r,s)}finally{nr(a,!1)}}function hr(e){mi.call(li,e)}function dr(e,t,i,r){return"function"!=typeof e?e:function(){var s=Ii;i&&tr(),nr(t,!0);try{return e.apply(this,arguments)}finally{nr(s,!1),r&&hr(ir)}}}function ur(e,t){return function(i,r){return e.call(this,dr(i,t),dr(r,t))}}-1===(""+mi).indexOf("[native code]")&&(tr=ir=ii);const lr="unhandledrejection";function fr(e,t){var i;try{i=t.onuncatched(e)}catch(e){}if(!1!==i)try{var r,s={promise:t,reason:e};if(it.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(lr,!0,!0),at(r,s)):it.CustomEvent&&at(r=new CustomEvent(lr,{detail:s}),s),r&&it.dispatchEvent&&(dispatchEvent(r),!it.PromiseRejectionEvent&&it.onunhandledrejection))try{it.onunhandledrejection(r)}catch(e){}Dt&&r&&!r.defaultPrevented&&tt.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var pr=Ni.reject;function mr(e,t,i,r){if(e.idbdb&&(e._state.openComplete||Ii.letThrough||e._vip)){var s=e._createTransaction(t,i,e._dbSchema);try{s.create()}catch(e){return pr(e)}return s._promise(t,((e,t)=>er((()=>(Ii.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return pr(new Jt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return pr(new Jt.DatabaseClosed);e.open().catch(ii)}return e._state.dbReadyPromise.then((()=>mr(e,t,i,r)))}const gr="3.2.0",yr=String.fromCharCode(65535),br=-1/0,vr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wr="String expected.",kr=[],Sr="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_r=Sr,Mr=Sr,Tr=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Or="__dbnames",xr="readonly",Ir="readwrite";function Cr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ar={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Er(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=Ct(t))[e],t)}class Nr{_trans(e,t,i){const r=this._tx||Ii.trans,s=this.name;function a(e,i,r){if(!r.schema[s])throw new Jt.NotFound("Table "+s+" not part of transaction");return t(r.idbtrans,r)}const n=Ui();try{return r&&r.db===this.db?r===Ii.trans?r._promise(e,a,i):er((()=>r._promise(e,a,i)),{trans:r,transless:Ii.transless||Ii}):mr(this.db,e,[this.name],a)}finally{n&&zi()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(st(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=rt(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(i&&this.db._maxKey!==yr)return this.where(i.name).equals(i.keyPath.map((t=>e[t])));!i&&Dt&&tt.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function a(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[n,o]=t.reduce((([t,i],s)=>{const n=r[s],o=e[s];return[t||n,t||!n?Cr(i,n&&n.multi?e=>{const t=kt(e,s);return st(t)&&t.some((e=>a(o,e)))}:e=>a(o,kt(e,s))):i]}),[null,null]);return n?this.where(n.name).equals(e[n.keyPath]).filter(o):i?this.filter(o):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,st(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const i=Object.create(e.prototype);for(var r in t)if(ct(t,r))try{i[r]=t[r]}catch(e){}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){at(this,e)}))}add(e,t){const{auto:i,keyPath:r}=this.schema.primKey;let s=e;return r&&i&&(s=Er(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?Ni.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{St(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||st(e))return this.where(":id").equals(e).modify(t);{const i=kt(e,this.schema.primKey.keyPath);if(void 0===i)return pr(new Jt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?rt(t).forEach((i=>{St(e,i,t[i])})):t(e,{value:e,primKey:i})}catch(e){}return this.where(":id").equals(i).modify(t)}}put(e,t){const{auto:i,keyPath:r}=this.schema.primKey;let s=e;return r&&i&&(s=Er(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Ni.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{St(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Ni.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Ar}))).then((e=>e.numFailures?Ni.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,i){const r=Array.isArray(t)?t:void 0,s=(i=i||(r?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:i,keyPath:a}=this.schema.primKey;if(a&&r)throw new Jt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");const n=e.length;let o=a&&i?e.map(Er(a)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:o,wantResults:s}).then((({numFailures:e,results:t,lastResult:i,failures:r})=>{if(0===e)return s?t:i;throw new Yt(`${this.name}.bulkAdd(): ${e} of ${n} operations failed`,r)}))}))}bulkPut(e,t,i){const r=Array.isArray(t)?t:void 0,s=(i=i||(r?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:i,keyPath:a}=this.schema.primKey;if(a&&r)throw new Jt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");const n=e.length;let o=a&&i?e.map(Er(a)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:o,wantResults:s}).then((({numFailures:e,results:t,lastResult:i,failures:r})=>{if(0===e)return s?t:i;throw new Yt(`${this.name}.bulkPut(): ${e} of ${n} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:i,failures:r})=>{if(0===e)return i;throw new Yt(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Pr(e){var t={},i=function(i,r){if(r){for(var s=arguments.length,a=new Array(s-1);--s;)a[s-1]=arguments[s];return t[i].subscribe.apply(null,a),e}if("string"==typeof i)return t[i]};i.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return i;function a(e,r,s){if("object"==typeof e)return n(e);r||(r=hi),s||(s=ii);var a={subscribers:[],fire:s,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,s)}};return t[e]=i[e]=a,a}function n(e){rt(e).forEach((function(t){var i=e[t];if(st(i))a(t,e[t][0],e[t][1]);else{if("asap"!==i)throw new Jt.InvalidArgument("Invalid event config");var r=a(t,ri,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){vt((function(){e.apply(null,t)}))}))}))}}))}}function Br(e,t){return lt(t).from({prototype:e}),t}function Rr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Lr(e,t){e.filter=Cr(e.filter,t)}function Vr(e,t,i){var r=e.replayFilter;e.replayFilter=r?()=>Cr(r(),t()):t,e.justLimit=i&&!r}function Dr(e,t){if(e.isPrimKey)return t.primaryKey;const i=t.getIndexByKeyPath(e.index);if(!i)throw new Jt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return i}function qr(e,t,i){const r=Dr(e,t.schema);return t.openCursor({trans:i,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Gr(e,t,i,r){const s=e.replayFilter?Cr(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},n=(e,i,r)=>{if(!s||s(i,r,(e=>i.stop(e)),(e=>i.fail(e)))){var n=i.primaryKey,o=""+n;"[object ArrayBuffer]"===o&&(o=""+new Uint8Array(n)),ct(a,o)||(a[o]=!0,t(e,i,r))}};return Promise.all([e.or._iterate(n,i),Fr(qr(e,r,i),e.algorithm,n,!e.keysOnly&&e.valueMapper)])}return Fr(qr(e,r,i),Cr(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Fr(e,t,i,r){var s=r?(e,t,s)=>i(r(e),t,s):i,a=Wi(s);return e.then((e=>{if(e)return e.start((()=>{var i=()=>e.continue();t&&!t(e,(e=>i=e),(t=>{e.stop(t),i=ii}),(t=>{e.fail(t),i=ii}))||a(e.value,e,(e=>i=e)),i()}))}))}function jr(e,t){try{const i=Ur(e),r=Ur(t);if(i!==r)return"Array"===i?1:"Array"===r?-1:"binary"===i?1:"binary"===r?-1:"string"===i?1:"string"===r?-1:"Date"===i?1:"Date"!==r?NaN:-1;switch(i){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const i=e.length,r=t.length,s=i<r?i:r;for(let i=0;i<s;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return i===r?0:i<r?-1:1}(zr(e),zr(t));case"Array":return function(e,t){const i=e.length,r=t.length,s=i<r?i:r;for(let i=0;i<s;++i){const r=jr(e[i],t[i]);if(0!==r)return r}return i===r?0:i<r?-1:1}(e,t)}}catch(e){}return NaN}function Ur(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const i=Nt(e);return"ArrayBuffer"===i?"binary":i}function zr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Hr{_read(e,t){var i=this._ctx;return i.error?i.table._trans(null,pr.bind(null,i.error)):i.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,pr.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Cr(t.algorithm,e)}_iterate(e,t){return Gr(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return e&&at(i,e),t._ctx=i,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((i=>Gr(t,e,i,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,i=t.table.core;if(Rr(t,!0))return i.count({trans:e,query:{index:Dr(t,i.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Gr(t,(()=>(++r,!1)),e,i).then((()=>r))})).then(e)}sortBy(e,t){const i=e.split(".").reverse(),r=i[0],s=i.length-1;function a(e,t){return t?a(e[i[t]],t-1):e[r]}var n="next"===this._ctx.dir?1:-1;function o(e,t){var i=a(e,s),r=a(t,s);return i<r?-n:i>r?n:0}return this.toArray((function(e){return e.sort(o)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Rr(t,!0)&&t.limit>0){const{valueMapper:i}=t,r=Dr(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>i?e.map(i):e))}{const i=[];return Gr(t,(e=>i.push(e)),e,t.table.core).then((()=>i))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Rr(t)?Vr(t,(()=>{var t=e;return(e,i)=>0===t||(1===t?(--t,!1):(i((()=>{e.advance(t),t=0})),!1))})):Vr(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Vr(this._ctx,(()=>{var t=e;return function(e,i,r){return--t<=0&&i(r),t>=0}}),!0),this}until(e,t){return Lr(this._ctx,(function(i,r,s){return!e(i.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,i;return Lr(this._ctx,(function(t){return e(t.value)})),t=this._ctx,i=e,t.isMatch=Cr(t.isMatch,i),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,i){e(i.key,i)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,i){e(i.primaryKey,i)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var i=[];return this.each((function(e,t){i.push(t.key)})).then((function(){return i})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Rr(t,!0)&&t.limit>0)return this._read((e=>{var i=Dr(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:i,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var i=[];return this.each((function(e,t){i.push(t.primaryKey)})).then((function(){return i})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var i={};return Lr(this._ctx,(function(e){var t=e.primaryKey.toString(),r=ct(i,t);return i[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((i=>{var r;if("function"==typeof e)r=e;else{var s=rt(e),a=s.length;r=function(t){for(var i=!1,r=0;r<a;++r){var n=s[r],o=e[n];kt(t,n)!==o&&(St(t,n,o),i=!0)}return i}}const n=t.table.core,{outbound:o,extractKey:c}=n.schema.primaryKey,h=this.db._options.modifyChunkSize||200,d=[];let u=0;const l=[],f=(e,t)=>{const{failures:i,numFailures:r}=t;u+=e-r;for(let e of rt(i))d.push(i[e])};return this.clone().primaryKeys().then((s=>{const a=d=>{const u=Math.min(h,s.length-d);return n.getMany({trans:i,keys:s.slice(d,d+u),cache:"immutable"}).then((l=>{const p=[],m=[],g=o?[]:null,y=[];for(let e=0;e<u;++e){const t=l[e],i={value:Ct(t),primKey:s[d+e]};!1!==r.call(i,i.value,i)&&(null==i.value?y.push(s[d+e]):o||0===jr(c(t),c(i.value))?(m.push(i.value),o&&g.push(s[d+e])):(y.push(s[d+e]),p.push(i.value)))}const b=Rr(t)&&t.limit===1/0&&("function"!=typeof e||e===Kr)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&n.mutate({trans:i,type:"add",values:p}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(m.length>0||b&&"object"==typeof e)&&n.mutate({trans:i,type:"put",keys:g,values:m,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>f(m.length,e))))).then((()=>(y.length>0||b&&e===Kr)&&n.mutate({trans:i,type:"delete",keys:y,criteria:b}).then((e=>f(y.length,e))))).then((()=>s.length>d+u&&a(d+h)))}))};return a(0).then((()=>{if(d.length>0)throw new Xt("Error modifying one or more objects",d,u,l);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Rr(e)&&(e.isPrimKey&&!Mr||3===t.type)?this._write((i=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:i,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:i,type:"deleteRange",range:s}).then((({failures:e,lastResult:i,results:r,numFailures:s})=>{if(s)throw new Xt("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Kr)}}const Kr=(e,t)=>t.value=null;function Wr(e,t){return e<t?-1:e===t?0:1}function Zr(e,t){return e>t?-1:e===t?0:1}function Xr(e,t,i){var r=e instanceof ts?new e.Collection(e):e;return r._ctx.error=i?new i(t):new TypeError(t),r}function Yr(e){return new e.Collection(e,(()=>es(""))).limit(0)}function $r(e,t,i,r,s,a){for(var n=Math.min(e.length,r.length),o=-1,c=0;c<n;++c){var h=t[c];if(h!==r[c])return s(e[c],i[c])<0?e.substr(0,c)+i[c]+i.substr(c+1):s(e[c],r[c])<0?e.substr(0,c)+r[c]+i.substr(c+1):o>=0?e.substr(0,o)+t[o]+i.substr(o+1):null;s(e[c],h)<0&&(o=c)}return n<r.length&&"next"===a?e+i.substr(e.length):n<e.length&&"prev"===a?e.substr(0,i.length):o<0?null:e.substr(0,o)+r[o]+i.substr(o+1)}function Qr(e,t,i,r){var s,a,n,o,c,h,d,u=i.length;if(!i.every((e=>"string"==typeof e)))return Xr(e,wr);function l(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),a=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),n="next"===e?Wr:Zr;var t=i.map((function(e){return{lower:a(e),upper:s(e)}})).sort((function(e,t){return n(e.lower,t.lower)}));o=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),h=e,d="next"===e?"":r}l("next");var f=new e.Collection(e,(()=>Jr(o[0],c[u-1]+r)));f._ondirectionchange=function(e){l(e)};var p=0;return f._addAlgorithm((function(e,i,r){var s=e.key;if("string"!=typeof s)return!1;var l=a(s);if(t(l,c,p))return!0;for(var f=null,m=p;m<u;++m){var g=$r(s,l,o[m],c[m],n,h);null===g&&null===f?p=m+1:(null===f||n(f,g)>0)&&(f=g)}return i(null!==f?function(){e.continue(f+d)}:r),!1})),f}function Jr(e,t,i,r){return{type:2,lower:e,upper:t,lowerOpen:i,upperOpen:r}}function es(e){return{type:1,lower:e,upper:e}}class ts{get Collection(){return this._ctx.table.db.Collection}between(e,t,i,r){i=!1!==i,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(i||r)&&(!i||!r)?Yr(this):new this.Collection(this,(()=>Jr(e,t,!i,!r)))}catch(e){return Xr(this,vr)}}equals(e){return null==e?Xr(this,vr):new this.Collection(this,(()=>es(e)))}above(e){return null==e?Xr(this,vr):new this.Collection(this,(()=>Jr(e,void 0,!0)))}aboveOrEqual(e){return null==e?Xr(this,vr):new this.Collection(this,(()=>Jr(e,void 0,!1)))}below(e){return null==e?Xr(this,vr):new this.Collection(this,(()=>Jr(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Xr(this,vr):new this.Collection(this,(()=>Jr(void 0,e)))}startsWith(e){return"string"!=typeof e?Xr(this,wr):this.between(e,e+yr,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Qr(this,((e,t)=>0===e.indexOf(t[0])),[e],yr)}equalsIgnoreCase(e){return Qr(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Lt.apply(Rt,arguments);return 0===e.length?Yr(this):Qr(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Lt.apply(Rt,arguments);return 0===e.length?Yr(this):Qr(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,yr)}anyOf(){const e=Lt.apply(Rt,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Xr(this,vr)}if(0===e.length)return Yr(this);const i=new this.Collection(this,(()=>Jr(e[0],e[e.length-1])));i._ondirectionchange=i=>{t="next"===i?this._ascending:this._descending,e.sort(t)};let r=0;return i._addAlgorithm(((i,s,a)=>{const n=i.key;for(;t(n,e[r])>0;)if(++r,r===e.length)return s(a),!1;return 0===t(n,e[r])||(s((()=>{i.continue(e[r])})),!1)})),i}notEqual(e){return this.inAnyRange([[br,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Lt.apply(Rt,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Xr(this,vr)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[br,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const i=this._cmp,r=this._ascending,s=this._descending,a=this._min,n=this._max;if(0===e.length)return Yr(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Jt.InvalidArgument);const o=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let h,d=r;function u(e,t){return d(e[0],t[0])}try{h=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(i(t[0],s[1])<0&&i(t[1],s[0])>0){s[0]=a(s[0],t[0]),s[1]=n(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),h.sort(u)}catch(e){return Xr(this,vr)}let l=0;const f=c?e=>r(e,h[l][1])>0:e=>r(e,h[l][1])>=0,p=o?e=>s(e,h[l][0])>0:e=>s(e,h[l][0])>=0;let m=f;const g=new this.Collection(this,(()=>Jr(h[0][0],h[h.length-1][1],!o,!c)));return g._ondirectionchange=e=>{"next"===e?(m=f,d=r):(m=p,d=s),h.sort(u)},g._addAlgorithm(((e,t,i)=>{for(var s=e.key;m(s);)if(++l,l===h.length)return t(i),!1;return!!function(e){return!f(e)&&!p(e)}(s)||(0===this._cmp(s,h[l][1])||0===this._cmp(s,h[l][0])||t((()=>{d===r?e.continue(h[l][0]):e.continue(h[l][1])})),!1)})),g}startsWithAnyOf(){const e=Lt.apply(Rt,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Yr(this):this.inAnyRange(e.map((e=>[e,e+yr]))):Xr(this,"startsWithAnyOf() only works with strings")}}function is(e){return Wi((function(t){return rs(t),e(t.target.error),!1}))}function rs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ss="storagemutated",as="x-storagemutated-1",ns=Pr(null,ss);class os{_lock(){return bt(!Ii.global),++this._reculock,1!==this._reculock||Ii.global||(Ii.lockOwnerFor=this),this}_unlock(){if(bt(!Ii.global),0==--this._reculock)for(Ii.global||(Ii.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{cr(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ii.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,i=this.db._state.dbOpenError;if(bt(!this.idbtrans),!e&&!t)switch(i&&i.name){case"DatabaseClosedError":throw new Jt.DatabaseClosed(i);case"MissingAPIError":throw new Jt.MissingAPI(i.message,i);default:throw new Jt.OpenFailed(i)}if(!this.active)throw new Jt.TransactionInactive;return bt(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Wi((t=>{rs(t),this._reject(e.error)})),e.onabort=Wi((t=>{rs(t),this.active&&this._reject(new Jt.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Wi((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ns.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,i){if("readwrite"===e&&"readwrite"!==this.mode)return pr(new Jt.ReadOnly("Transaction is readonly"));if(!this.active)return pr(new Jt.TransactionInactive);if(this._locked())return new Ni(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,i).then(r,s)},Ii])}));if(i)return er((()=>{var e=new Ni(((e,i)=>{this._lock();const r=t(e,i,this);r&&r.then&&r.then(e,i)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Ni(((e,i)=>{var r=t(e,i,this);r&&r.then&&r.then(e,i)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const i=Ni.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>i));else{t._waitingFor=i,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new Ni(((e,r)=>{i.then((i=>t._waitingQueue.push(Wi(e.bind(null,i)))),(e=>t._waitingQueue.push(Wi(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Jt.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(ct(t,e))return t[e];const i=this.schema[e];if(!i)throw new Jt.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,i,this);return r.core=this.db.core.table(e),t[e]=r,r}}function cs(e,t,i,r,s,a,n){return{name:e,keyPath:t,unique:i,multi:r,auto:s,compound:a,src:(i&&!n?"&":"")+(r?"*":"")+(s?"++":"")+hs(t)}}function hs(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function ds(e,t,i){return{name:e,primKey:t,indexes:i,mappedClass:null,idxByName:wt(i,(e=>[e.name,e]))}}let us=e=>{try{return e.only([[]]),us=()=>[[]],[[]]}catch(e){return us=()=>yr,yr}};function ls(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>kt(t,e)}(e):t=>kt(t,e)}function fs(e){return[].slice.call(e)}let ps=0;function ms(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function gs({_novip:e},t){const i=t.db,r=function(e,t,{IDBKeyRange:i,indexedDB:r},s){const a=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,i){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:i,upper:r,lowerOpen:s,upperOpen:a}=e;return void 0===i?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(i,!!s):t.bound(i,r,!!s,!!a)}const{schema:s,hasGetAll:a}=function(e,t){const i=fs(e.objectStoreNames);return{schema:{name:e.name,tables:i.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:i}=e,r=st(t),s=null==t,a={},n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:r,keyPath:t,autoIncrement:i,unique:!0,extractKey:ls(t)},indexes:fs(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:i,multiEntry:r,keyPath:s}=e,n={name:t,compound:st(s),keyPath:s,unique:i,multiEntry:r,extractKey:ls(s)};return a[ms(s)]=n,n})),getIndexByKeyPath:e=>a[ms(e)]};return a[":id"]=n.primaryKey,null!=t&&(a[ms(t)]=n.primaryKey),n}))},hasGetAll:i.length>0&&"getAll"in t.objectStore(i[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,i),n=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:i,keys:s,values:a,range:n}){return new Promise(((o,c)=>{o=Wi(o);const h=e.objectStore(t),d=null==h.keyPath,u="put"===i||"add"===i;if(!u&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);const{length:l}=s||a||{length:1};if(s&&a&&s.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===l)return o({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const y=e=>{++g,rs(e)};if("deleteRange"===i){if(4===n.type)return o({numFailures:g,failures:m,results:[],lastResult:void 0});3===n.type?p.push(f=h.clear()):p.push(f=h.delete(r(n)))}else{const[e,t]=u?d?[a,s]:[a,null]:[s,null];if(u)for(let r=0;r<l;++r)p.push(f=t&&void 0!==t[r]?h[i](e[r],t[r]):h[i](e[r])),f.onerror=y;else for(let t=0;t<l;++t)p.push(f=h[i](e[t])),f.onerror=y}const b=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),o({numFailures:g,failures:m,results:"delete"===i?s:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{y(e),b(e)},f.onsuccess=b}))},getMany:({trans:e,keys:i})=>new Promise(((r,s)=>{r=Wi(r);const a=e.objectStore(t),n=i.length,o=new Array(n);let c,h=0,d=0;const u=e=>{const t=e.target;o[t._pos]=t.result,++d===h&&r(o)},l=is(s);for(let e=0;e<n;++e)null!=i[e]&&(c=a.get(i[e]),c._pos=e,c.onsuccess=u,c.onerror=l,++h);0===h&&r(o)})),get:({trans:e,key:i})=>new Promise(((r,s)=>{r=Wi(r);const a=e.objectStore(t).get(i);a.onsuccess=e=>r(e.target.result),a.onerror=is(s)})),query:function(e){return i=>new Promise(((s,a)=>{s=Wi(s);const{trans:n,values:o,limit:c,query:h}=i,d=c===1/0?void 0:c,{index:u,range:l}=h,f=n.objectStore(t),p=u.isPrimaryKey?f:f.index(u.name),m=r(l);if(0===c)return s({result:[]});if(e){const e=o?p.getAll(m,d):p.getAllKeys(m,d);e.onsuccess=e=>s({result:e.target.result}),e.onerror=is(a)}else{let e=0;const t=o||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),i=[];t.onsuccess=r=>{const a=t.result;return a?(i.push(o?a.value:a.primaryKey),++e===c?s({result:i}):void a.continue()):s({result:i})},t.onerror=is(a)}}))}(a),openCursor:function({trans:e,values:i,query:s,reverse:a,unique:n}){return new Promise(((o,c)=>{o=Wi(o);const{index:h,range:d}=s,u=e.objectStore(t),l=h.isPrimaryKey?u:u.index(h.name),f=a?n?"prevunique":"prev":n?"nextunique":"next",p=i||!("openKeyCursor"in l)?l.openCursor(r(d),f):l.openKeyCursor(r(d),f);p.onerror=is(c),p.onsuccess=Wi((t=>{const i=p.result;if(!i)return void o(null);i.___id=++ps,i.done=!1;const r=i.continue.bind(i);let s=i.continuePrimaryKey;s&&(s=s.bind(i));const a=i.advance.bind(i),n=()=>{throw new Error("Cursor not stopped")};i.trans=e,i.stop=i.continue=i.continuePrimaryKey=i.advance=()=>{throw new Error("Cursor not started")},i.fail=Wi(c),i.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},i.start=e=>{const t=new Promise(((e,t)=>{e=Wi(e),p.onerror=is(t),i.fail=t,i.stop=t=>{i.stop=i.continue=i.continuePrimaryKey=i.advance=n,e(t)}})),o=()=>{if(p.result)try{e()}catch(e){i.fail(e)}else i.done=!0,i.start=()=>{throw new Error("Cursor behind last entry")},i.stop()};return p.onsuccess=Wi((e=>{p.onsuccess=o,o()})),i.continue=r,i.continuePrimaryKey=s,i.advance=a,o(),t},o(i)}),c)}))},count({query:e,trans:i}){const{index:s,range:a}=e;return new Promise(((e,n)=>{const o=i.objectStore(t),c=s.isPrimaryKey?o:o.index(s.name),h=r(a),d=h?c.count(h):c.count();d.onsuccess=Wi((t=>e(t.target.result))),d.onerror=is(n)}))}}}(e))),o={};return n.forEach((e=>o[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!o[e])throw new Error(`Table '${e}' not found`);return o[e]},MIN_KEY:-1/0,MAX_KEY:us(t),schema:s}}(t,i,s),e.dbcore);return{dbcore:a}}(e._middlewares,i,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const i=t.name;e.core.schema.tables.some((e=>e.name===i))&&(t.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=t.core))}))}function ys({_novip:e},t,i,r){i.forEach((i=>{const s=r[i];t.forEach((t=>{const r=pt(t,i);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?ut(t,i,{get(){return this.table(i)},set(e){dt(this,i,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[i]=new e.Table(i,s))}))}))}function bs({_novip:e},t){t.forEach((t=>{for(let i in t)t[i]instanceof e.Table&&delete t[i]}))}function vs(e,t){return e._cfg.version-t._cfg.version}function ws(e,t){const i={del:[],add:[],change:[]};let r;for(r in e)t[r]||i.del.push(r);for(r in t){const s=e[r],a=t[r];if(s){const e={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!Sr)e.recreate=!0,i.change.push(e);else{const t=s.idxByName,r=a.idxByName;let n;for(n in t)r[n]||e.del.push(n);for(n in r){const i=t[n],s=r[n];i?i.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&i.change.push(e)}}else i.add.push([r,a])}return i}function ks(e,t,i,r){const s=e.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return r.forEach((e=>Ss(s,e))),s}function Ss(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function _s(e,t,i){const r={};return gt(t.objectStoreNames,0).forEach((e=>{const t=i.objectStore(e);let s=t.keyPath;const a=cs(hs(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),n=[];for(let e=0;e<t.indexNames.length;++e){const i=t.index(t.indexNames[e]);s=i.keyPath;var o=cs(i.name,s,!!i.unique,!!i.multiEntry,!1,s&&"string"!=typeof s,!1);n.push(o)}r[e]=ds(e,a,n)})),r}function Ms({_novip:e},t,i){const r=i.db.objectStoreNames;for(let s=0;s<r.length;++s){const a=r[s],n=i.objectStore(a);e._hasGetAll="getAll"in n;for(let e=0;e<n.indexNames.length;++e){const i=n.indexNames[e],r=n.index(i).keyPath,s="string"==typeof r?r:"["+gt(r).join("+")+"]";if(t[a]){const e=t[a].idxByName[s];e&&(e.name=i,delete t[a].idxByName[s],t[a].idxByName[i]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&it.WorkerGlobalScope&&it instanceof it.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Ts{_parseStoresSpec(e,t){rt(e).forEach((i=>{if(null!==e[i]){var r=e[i].split(",").map(((e,t)=>{const i=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return cs(i,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),st(r),0===t)})),s=r.shift();if(s.multi)throw new Jt.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Jt.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Jt.Schema("Index must have a name and cannot be an empty string")})),t[i]=ds(i,s,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?at(this._cfg.storesSource,e):e;const i=t._versions,r={};let s={};return i.forEach((e=>{at(r,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(r,s)})),t._dbSchema=s,bs(t,[t._allTables,t,t.Transaction.prototype]),ys(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],rt(s),s),t._storeNames=rt(s),this}upgrade(e){return this._cfg.contentUpgrade=di(this._cfg.contentUpgrade||ii,e),this}}function Os(e,t){let i=e._dbNamesDB;return i||(i=e._dbNamesDB=new Zs(Or,{addons:[],indexedDB:e,IDBKeyRange:t}),i.version(1).stores({dbnames:"name"})),i.table("dbnames")}function xs(e){return e&&"function"==typeof e.databases}function Is(e){return er((function(){return Ii.letThrough=!0,e()}))}function Cs(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var i=function(){return indexedDB.databases().finally(t)};e=setInterval(i,100),i()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function As(e){const t=e._state,{indexedDB:i}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?pr(t.dbOpenError):e));Dt&&(t.openCanceller._stackHolder=jt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Jt.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,n=null,o=!1;return Ni.race([r,("undefined"==typeof navigator?Ni.resolve():Cs()).then((()=>new Ni(((r,a)=>{if(s(),!i)throw new Jt.MissingAPI;const c=e.name,h=t.autoSchema?i.open(c):i.open(c,Math.round(10*e.verno));if(!h)throw new Jt.MissingAPI;h.onerror=is(a),h.onblocked=Wi(e._fireOnBlocked),h.onupgradeneeded=Wi((r=>{if(n=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=rs,n.abort(),h.result.close();const e=i.deleteDatabase(c);e.onsuccess=e.onerror=Wi((()=>{a(new Jt.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{n.onerror=is(a);var s=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;o=s<1,e._novip.idbdb=h.result,function(e,t,i,r){const s=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,s);a.create(i),a._completion.catch(r);const n=a._reject.bind(a),o=Ii.transless||Ii;er((()=>{Ii.trans=a,Ii.transless=o,0===t?(rt(s).forEach((e=>{ks(i,e,s[e].primKey,s[e].indexes)})),gs(e,i),Ni.follow((()=>e.on.populate.fire(a))).catch(n)):function({_novip:e},t,i,r){const s=[],a=e._versions;let n=e._dbSchema=_s(0,e.idbdb,r),o=!1;const c=a.filter((e=>e._cfg.version>=t));return c.forEach((a=>{s.push((()=>{const s=n,c=a._cfg.dbschema;Ms(e,s,r),Ms(e,c,r),n=e._dbSchema=c;const h=ws(s,c);h.add.forEach((e=>{ks(r,e[0],e[1].primKey,e[1].indexes)})),h.change.forEach((e=>{if(e.recreate)throw new Jt.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>Ss(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Ss(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const d=a._cfg.contentUpgrade;if(d&&a._cfg.version>t){gs(e,r),i._memoizedTables={},o=!0;let t=_t(c);h.del.forEach((e=>{t[e]=s[e]})),bs(e,[e.Transaction.prototype]),ys(e,[e.Transaction.prototype],rt(t),t),i.schema=t;const a=Vt(d);let n;a&&tr();const u=Ni.follow((()=>{if(n=d(i),n&&a){var e=ir.bind(null,null);n.then(e,e)}}));return n&&"function"==typeof n.then?Ni.resolve(n):u.then((()=>n))}})),s.push((t=>{o&&_r||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((i=>null==e[i]&&t.db.deleteObjectStore(i)))}(a._cfg.dbschema,t),bs(e,[e.Transaction.prototype]),ys(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),i.schema=e._dbSchema}))})),function e(){return s.length?Ni.resolve(s.shift()(i.idbtrans)).then(e):Ni.resolve()}().then((()=>{var e,t;t=r,rt(e=n).forEach((i=>{t.db.objectStoreNames.contains(i)||ks(t,i,e[i].primKey,e[i].indexes)}))}))}(e,t,a,i).catch(n)}))}(e,s/10,n,a)}}),a),h.onsuccess=Wi((()=>{n=null;const i=e._novip.idbdb=h.result,s=gt(i.objectStoreNames);if(s.length>0)try{const r=i.transaction(1===(a=s).length?a[0]:a,"readonly");t.autoSchema?function({_novip:e},t,i){e.verno=t.version/10;const r=e._dbSchema=_s(0,t,i);e._storeNames=gt(t.objectStoreNames,0),ys(e,[e._allTables],rt(r),r)}(e,i,r):(Ms(e,e._dbSchema,r),function(e,t){const i=ws(_s(0,e.idbdb,t),e._dbSchema);return!(i.add.length||i.change.some((e=>e.add.length||e.change.length)))}(e,r)||tt.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),gs(e,r)}catch(e){}var a;kr.push(e),i.onversionchange=Wi((i=>{t.vcFired=!0,e.on("versionchange").fire(i)})),i.onclose=Wi((t=>{e.on("close").fire(t)})),o&&function({indexedDB:e,IDBKeyRange:t},i){!xs(e)&&i!==Or&&Os(e,t).put({name:i}).catch(ii)}(e._deps,c),r()}),a)}))))]).then((()=>(s(),t.onReadyBeingFired=[],Ni.resolve(Is((()=>e.on.ready.fire(e.vip)))).then((function i(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(di,ii);return t.onReadyBeingFired=[],Ni.resolve(Is((()=>r(e.vip)))).then(i)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((i=>{t.dbOpenError=i;try{n&&n.abort()}catch(e){}return r===t.openCanceller&&e._close(),pr(i)})).finally((()=>{t.openComplete=!0,a()}))}function Es(e){var t=t=>e.next(t),i=s(t),r=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),a=s.value;return s.done?a:a&&"function"==typeof a.then?a.then(i,r):st(a)?Promise.all(a).then(i,r):i(a)}}return s(t)()}function Ns(e,t,i){var r=arguments.length;if(r<2)throw new Jt.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];i=s.pop();var a=Tt(s);return[e,a,i]}function Ps(e,t,i,r,s){return Ni.resolve().then((()=>{const a=Ii.transless||Ii,n=e._createTransaction(t,i,e._dbSchema,r),o={trans:n,transless:a};r?n.idbtrans=r.idbtrans:n.create();const c=Vt(s);let h;c&&tr();const d=Ni.follow((()=>{if(h=s.call(n,n),h)if(c){var e=ir.bind(null,null);h.then(e,e)}else"function"==typeof h.next&&"function"==typeof h.throw&&(h=Es(h))}),o);return(h&&"function"==typeof h.then?Ni.resolve(h).then((e=>n.active?e:pr(new Jt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):d.then((()=>h))).then((e=>(r&&n._resolve(),n._completion.then((()=>e))))).catch((e=>(n._reject(e),pr(e))))}))}function Bs(e,t,i){const r=st(e)?e.slice():[e];for(let e=0;e<i;++e)r.push(t);return r}const Rs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const i=e.table(t),{schema:r}=i,s={},a=[];function n(e,t,i){const r=ms(e),o=s[r]=s[r]||[],c=null==e?0:"string"==typeof e?1:e.length,h=t>0,d={...i,isVirtual:h,keyTail:t,keyLength:c,extractKey:ls(e),unique:!h&&i.unique};return o.push(d),d.isPrimaryKey||a.push(d),c>1&&n(2===c?e[0]:e.slice(0,c-1),t+1,i),o.sort(((e,t)=>e.keyTail-t.keyTail)),d}const o=n(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[o];for(const e of r.indexes)n(e.keyPath,0,e);function c(t){const i=t.query.index;return i.isVirtual?{...t,query:{index:i,range:(r=t.query.range,s=i.keyTail,{type:1===r.type?2:r.type,lower:Bs(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Bs(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const h={...i,schema:{...r,primaryKey:o,indexes:a,getIndexByKeyPath:function(e){const t=s[ms(e)];return t&&t[0]}},count:e=>i.count(c(e)),query:e=>i.query(c(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:a}=t.query.index;return s?i.openCursor(c(t)).then((i=>i&&function(i){const s=Object.create(i,{continue:{value:function(s){null!=s?i.continue(Bs(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?i.continue(i.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):i.continue()}},continuePrimaryKey:{value(t,s){i.continuePrimaryKey(Bs(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>i.primaryKey},key:{get(){const e=i.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:()=>i.value}});return s}(i))):i.openCursor(t)}};return h}}}};function Ls(e,t,i,r){return i=i||{},r=r||"",rt(e).forEach((s=>{if(ct(t,s)){var a=e[s],n=t[s];if("object"==typeof a&&"object"==typeof n&&a&&n){const e=Nt(a);e!==Nt(n)?i[r+s]=t[s]:"Object"===e?Ls(a,n,i,r+s+"."):a!==n&&(i[r+s]=t[s])}else a!==n&&(i[r+s]=t[s])}else i[r+s]=void 0})),rt(t).forEach((s=>{ct(e,s)||(i[r+s]=t[s])})),i}const Vs={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const i=e.table(t),{primaryKey:r}=i.schema,s={...i,mutate(e){const s=Ii.trans,{deleting:a,creating:n,updating:o}=s.table(t).hook;switch(e.type){case"add":if(n.fire===ii)break;return s._promise("readwrite",(()=>c(e)),!0);case"put":if(n.fire===ii&&o.fire===ii)break;return s._promise("readwrite",(()=>c(e)),!0);case"delete":if(a.fire===ii)break;return s._promise("readwrite",(()=>c(e)),!0);case"deleteRange":if(a.fire===ii)break;return s._promise("readwrite",(()=>function(e){return h(e.trans,e.range,1e4)}(e)),!0)}return i.mutate(e);function c(e){const t=Ii.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,i){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:i,cache:"immutable"})}(i,e,s).then((c=>{const h=s.map(((i,s)=>{const h=c[s],d={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(d,i,h,t);else if("add"===e.type||void 0===h){const a=n.fire.call(d,i,e.values[s],t);null==i&&null!=a&&(i=a,e.keys[s]=i,r.outbound||St(e.values[s],r.keyPath,i))}else{const r=Ls(h,e.values[s]),a=o.fire.call(d,r,i,h,t);if(a){const t=e.values[s];Object.keys(a).forEach((e=>{ct(t,e)?t[e]=a[e]:St(t,e,a[e])}))}}return d}));return i.mutate(e).then((({failures:t,results:i,numFailures:r,lastResult:a})=>{for(let r=0;r<s.length;++r){const a=i?i[r]:s[r],n=h[r];null==a?n.onerror&&n.onerror(t[r]):n.onsuccess&&n.onsuccess("put"===e.type&&c[r]?e.values[r]:a)}return{failures:t,results:i,numFailures:r,lastResult:a}})).catch((e=>(h.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function h(e,t,s){return i.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:i})=>c({type:"delete",keys:i,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):i.length<s?{failures:[],numFailures:0,lastResult:void 0}:h(e,{...t,lower:i[i.length-1],lowerOpen:!0},s)))))}}};return s}})};function Ds(e,t,i){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,a=0;s<t.keys.length&&a<e.length;++s)0===jr(t.keys[s],e[a])&&(r.push(i?Ct(t.values[s]):t.values[s]),++a);return r.length===e.length?r:null}catch(e){return null}}const qs={stack:"dbcore",level:-1,create:e=>({table:t=>{const i=e.table(t);return{...i,getMany:e=>{if(!e.cache)return i.getMany(e);const t=Ds(e.keys,e.trans._cache,"clone"===e.cache);return t?Ni.resolve(t):i.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?Ct(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),i.mutate(e))}}})};function Gs(e){return!("from"in e)}const Fs=function(e,t){if(!this){const t=new Fs;return e&&"d"in e&&at(t,e),t}at(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function js(e,t,i){const r=jr(t,i);if(isNaN(r))return;if(r>0)throw RangeError();if(Gs(e))return at(e,{from:t,to:i,d:1});const s=e.l,a=e.r;if(jr(i,e.from)<0)return s?js(s,t,i):e.l={from:t,to:i,d:1,l:null,r:null},Hs(e);if(jr(t,e.to)>0)return a?js(a,t,i):e.r={from:t,to:i,d:1,l:null,r:null},Hs(e);jr(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),jr(i,e.to)>0&&(e.to=i,e.r=null,e.d=e.l?e.l.d+1:1);const n=!e.r;s&&!e.l&&Us(e,s),a&&n&&Us(e,a)}function Us(e,t){Gs(t)||function e(t,{from:i,to:r,l:s,r:a}){js(t,i,r),s&&e(t,s),a&&e(t,a)}(e,t)}function zs(e){let t=Gs(e)?null:{s:0,n:e};return{next(e){const i=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,i)for(;t.n.l&&jr(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!i||jr(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Hs(e){var t,i;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(i=e.l)||void 0===i?void 0:i.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const t="r"===s?"l":"r",i={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],i[s]=r[t],e[t]=i,i.d=Ks(i)}e.d=Ks(e)}function Ks({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}ht(Fs.prototype,{add(e){return Us(this,e),this},addKey(e){return js(this,e,e),this},addKeys(e){return e.forEach((e=>js(this,e,e))),this},[Pt](){return zs(this)}});const Ws={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,i=new Fs(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:a}=s,{primaryKey:n}=a,{extractKey:o,outbound:c}=n,h={...s,mutate:e=>{const n=e.trans,o=n.mutatedParts||(n.mutatedParts={}),c=e=>{const i=`idb://${t}/${r}/${e}`;return o[i]||(o[i]=new Fs)},h=c(""),d=c(":dels"),{type:u}=e;let[l,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return s.mutate(e).then((e=>{if(st(l)){"delete"!==u&&(l=e.results),h.addKeys(l);const t=Ds(l,p);t||"add"===u||d.addKeys(l),(t||f)&&function(e,t,i,r){t.indexes.forEach((function(t){const s=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}const n=e=>t.multiEntry&&st(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(i||r).forEach(((e,t)=>{const s=i&&a(i[t]),o=r&&a(r[t]);0!==jr(s,o)&&(null!=s&&n(s),null!=o&&n(o))}))}))}(c,a,t,f)}else if(l){const e={from:l.lower,to:l.upper};d.add(e),h.add(e)}else h.add(i),d.add(i),a.indexes.forEach((e=>c(e.name).add(i)));return e}))}},d=({query:{index:t,range:i}})=>{var r,s;return[t,new Fs(null!==(r=i.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=i.upper)&&void 0!==s?s:e.MAX_KEY)]},u={get:e=>[n,new Fs(e.key)],getMany:e=>[n,(new Fs).addKeys(e.keys)],count:d,query:d,openCursor:d};return rt(u).forEach((e=>{h[e]=function(a){const{subscr:n}=Ii;if(n){const h=e=>{const i=`idb://${t}/${r}/${e}`;return n[i]||(n[i]=new Fs)},d=h(""),l=h(":dels"),[f,p]=u[e](a);if(h(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&a.values&&s.query({...a,values:!1});return s[e].apply(this,arguments).then((i=>{if("query"===e){if(c&&a.values)return t.then((({result:e})=>(d.addKeys(e),i)));const e=a.values?i.result.map(o):i.result;a.values?d.addKeys(e):l.addKeys(e)}else if("openCursor"===e){const e=i,t=a.values;return e&&Object.create(e,{key:{get:()=>(l.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return l.addKey(t),t}},value:{get:()=>(t&&d.addKey(e.primaryKey),e.value)}})}return i}))}l.add(i)}}return s[e].apply(this,arguments)}})),h}}}};class Zs{constructor(e,t){this._middlewares={},this.verno=0;const i=Zs.dependencies;this._options=t={addons:Zs.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ii,dbReadyPromise:null,cancelOpen:ii,openCanceller:null,autoSchema:!0};var a;s.dbReadyPromise=new Ni((e=>{s.dbReadyResolve=e})),s.openCanceller=new Ni(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=Pr(this,"populate","blocked","versionchange","close",{ready:[di,ii]}),this.on.ready.subscribe=yt(this.on.ready.subscribe,(e=>(t,i)=>{Zs.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Ni.resolve().then(t),i&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),i&&e(t);else{e(t);const r=this;i||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(a=this,Br(Hr.prototype,(function(e,t){this.db=a;let i=Ar,r=null;if(t)try{i=t()}catch(e){r=e}const s=e._ctx,n=s.table,o=n.hook.reading.fire;this._ctx={table:n,index:s.index,isPrimKey:!s.index||n.schema.primKey.keyPath&&s.index===n.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:o!==ri?o:null}}))),this.Table=function(e){return Br(Nr.prototype,(function(t,i,r){this.db=e,this._tx=r,this.name=t,this.schema=i,this.hook=e._allTables[t]?e._allTables[t].hook:Pr(null,{creating:[ni,ii],reading:[si,ri],updating:[ci,ii],deleting:[oi,ii]})}))}(this),this.Transaction=function(e){return Br(os.prototype,(function(t,i,r,s,a){this.db=e,this.mode=t,this.storeNames=i,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Pr(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ni(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),pr(e)}))}))}(this),this.Version=function(e){return Br(Ts.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Br(ts.prototype,(function(t,i,r){this.db=e,this._ctx={table:t,index:":id"===i?null:i,or:r};const s=e._deps.indexedDB;if(!s)throw new Jt.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?tt.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):tt.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?tt.warn(`Dexie.delete('${this.name}') was blocked`):tt.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=us(t.IDBKeyRange),this._createTransaction=(e,t,i,r)=>new this.Transaction(e,t,i,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),kr.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Rs),this.use(Vs),this.use(Ws),this.use(qs),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Jt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Jt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var i=t.filter((t=>t._cfg.version===e))[0];return i||(i=new this.Version(e),t.push(i),t.sort(vs),i.stores({}),this._state.autoSchema=!1,i)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ii.letThrough||this._vip)?e():new Ni(((e,t)=>{if(this._state.openComplete)return t(new Jt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Jt.DatabaseClosed);this.open().catch(ii)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:i,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==i?10:i,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:i}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>i?e.create!==i:!!t&&e.name!==t))),this}open(){return As(this)}_close(){const e=this._state,t=kr.indexOf(this);if(t>=0&&kr.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Ni((t=>{e.dbReadyResolve=t})),e.openCanceller=new Ni(((t,i)=>{e.cancelOpen=i}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Jt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Ni(((i,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Wi((()=>{!function({indexedDB:e,IDBKeyRange:t},i){!xs(e)&&i!==Or&&Os(e,t).delete(i).catch(ii)}(this._deps,this.name),i()})),e.onerror=is(r),e.onblocked=this._fireOnBlocked};if(e)throw new Jt.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return rt(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Ns.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,i){let r=Ii.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const s=-1!==e.indexOf("?");let a,n;e=e.replace("!","").replace("?","");try{if(n=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===xr)a=xr;else{if("rw"!=e&&e!=Ir)throw new Jt.InvalidArgument("Invalid transaction mode: "+e);a=Ir}if(r){if(r.mode===xr&&a===Ir){if(!s)throw new Jt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&n.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new Jt.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,i)=>{i(e)})):pr(e)}const o=Ps.bind(null,this,a,n,r,i);return r?r._promise(a,o,"lock"):Ii.trans?cr(Ii.transless,(()=>this._whenReady(o))):this._whenReady(o)}table(e){if(!ct(this._allTables,e))throw new Jt.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Xs="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Ys{constructor(e){this._subscribe=e}subscribe(e,t,i){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:i})}[Xs](){return this}}function $s(e,t){return rt(t).forEach((i=>{Us(e[i]||(e[i]=new Fs),t[i])})),e}let Qs;try{Qs={indexedDB:it.indexedDB||it.mozIndexedDB||it.webkitIndexedDB||it.msIndexedDB,IDBKeyRange:it.IDBKeyRange||it.webkitIDBKeyRange}}catch(e){Qs={indexedDB:null,IDBKeyRange:null}}const Js=Zs;function ea(e){let t=ta;try{ta=!0,ns.storagemutated.fire(e)}finally{ta=t}}ht(Js,{...ti,delete:e=>new Js(e,{addons:[]}).delete(),exists:e=>new Js(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return xs(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Or)))):Os(e,t).toCollection().primaryKeys()}(Js.dependencies).then(e)}catch(e){return pr(new Jt.MissingAPI)}},defineClass:()=>function(e){at(this,e)},ignoreTransaction:e=>Ii.trans?cr(Ii.transless,e):e(),vip:Is,async:function(e){return function(){try{var t=Es(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ni.resolve(t)}catch(e){return pr(e)}}},spawn:function(e,t,i){try{var r=Es(e.apply(i,t||[]));return r&&"function"==typeof r.then?r:Ni.resolve(r)}catch(e){return pr(e)}},currentTransaction:{get:()=>Ii.trans||null},waitFor:function(e,t){const i=Ni.resolve("function"==typeof e?Js.ignoreTransaction(e):e).timeout(t||6e4);return Ii.trans?Ii.trans.waitFor(i):i},Promise:Ni,debug:{get:()=>Dt,set:e=>{qt(e,"dexie"===e?()=>!0:Tr)}},derive:lt,extend:at,props:ht,override:yt,Events:Pr,on:ns,liveQuery:function(e){return new Ys((t=>{const i=Vt(e);let r=!1,s={},a={};const n={get closed(){return r},unsubscribe:()=>{r=!0,ns.storagemutated.unsubscribe(d)}};t.start&&t.start(n);let o=!1,c=!1;function h(){return rt(a).some((e=>s[e]&&function(e,t){const i=zs(t);let r=i.next();if(r.done)return!1;let s=r.value;const a=zs(e);let n=a.next(s.from),o=n.value;for(;!r.done&&!n.done;){if(jr(o.from,s.to)<=0&&jr(o.to,s.from)>=0)return!0;jr(s.from,o.from)<0?s=(r=i.next(o.from)).value:o=(n=a.next(s.from)).value}return!1}(s[e],a[e])))}const d=e=>{$s(s,e),h()&&u()},u=()=>{if(o||r)return;s={};const l={},f=function(t){i&&tr();const r=()=>er(e,{subscr:t,trans:null}),s=Ii.trans?cr(Ii.transless,r):r();return i&&s.then(ir,ir),s}(l);c||(ns(ss,d),c=!0),o=!0,Promise.resolve(f).then((e=>{o=!1,r||(h()?u():(s={},a=l,t.next&&t.next(e)))}),(e=>{o=!1,t.error&&t.error(e),n.unsubscribe()}))};return u(),n}))},extendObservabilitySet:$s,getByKeyPath:kt,setByKeyPath:St,delByKeyPath:function(e,t){"string"==typeof t?St(e,t,void 0):"length"in t&&[].map.call(t,(function(t){St(e,t,void 0)}))},shallowClone:_t,deepClone:Ct,getObjectDiff:Ls,cmp:jr,asap:vt,minKey:br,addons:[],connections:kr,errnames:$t,dependencies:Qs,semVer:gr,version:gr.split(".").map((e=>parseInt(e))).reduce(((e,t,i)=>e+t/Math.pow(10,2*i)))}),Js.maxKey=us(Js.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(ns(ss,(e=>{if(!ta){let t;Sr?(t=document.createEvent("CustomEvent"),t.initCustomEvent(as,!0,!0,e)):t=new CustomEvent(as,{detail:e}),ta=!0,dispatchEvent(t),ta=!1}})),addEventListener(as,(({detail:e})=>{ta||ea(e)})));let ta=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(as);ns(ss,(t=>{ta||e.postMessage(t)})),e.onmessage=e=>{e.data&&ea(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){ns(ss,(e=>{try{ta||("undefined"!=typeof localStorage&&localStorage.setItem(as,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:as,changedParts:e}))))}catch(e){}})),addEventListener("storage",(e=>{if(e.key===as){const t=JSON.parse(e.newValue);t&&ea(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===as&&ea(e.changedParts)}))}Ni.rejectionMapper=function(e,t){if(!e||e instanceof Wt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ei[e.name])return e;var i=new ei[e.name](t||e.message,e);return"stack"in e&&ut(i,"stack",{get:function(){return this.inner.stack}}),i},qt(Dt,Tr);var ia=i(25108);function ra(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function sa(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?ra(Object(r),!0).forEach((function(i){(0,e.Z)(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var aa=new Zs("K: wallet-db");function na(t){return aa.version(1).stores((0,e.Z)({},t,"key, timestamp")),{db:function(){return aa[t]},setItem:function(e,i){var r,s;return"object"!==(null==i||null===(r=i.constructor)||void 0===r||null===(s=r.name)||void 0===s?void 0:s.toLowerCase())?(ia.error("Not A plain object."),!1):aa[t].put(sa(sa({key:e},i),{},{timestamp:Date.now()})).then((function(){return!0}))},getItem:function(e){return new Promise((function(i){return aa[t].get(e).then((function(e){i(e)})).catch((function(e){i(null)}))}))},upsertItem:function(e,i){var r,s;return"object"!==(null==i||null===(r=i.constructor)||void 0===r||null===(s=r.name)||void 0===s?void 0:s.toLowerCase())?(ia.error("Not A plain object."),!1):aa[t].update(e,sa(sa({},i),{},{updateTimestamp:Date.now()})).then((function(r){return 0!==r||aa[t].put(sa(sa({key:e},i),{},{timestamp:Date.now(),updateTimestamp:Date.now()})).then((function(){return!0}))}))},getLastMany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return aa[t].orderBy("timestamp").reverse().offset(i).limit(e).toArray()},getFollowingMany:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=0;return aa[t].orderBy("timestamp").reverse().filter((function(t){return t.key===e?(s++,r):s>0&&s<=i&&(s++,!0)})).toArray()},getAll:function(){return aa[t].orderBy("timestamp").toArray()},count:function(){return aa[t].count()},deleteByKey:function(e){return aa[t].where("key").equals(e).delete()}}}na("keypairs"),na("request-keys"),na("account-names");var oa=na("user-options");na("sender-reqkey-adb"),na("proof-adb"),na("ct-transfer-adb"),na("receiver-reqkey-adb"),i(56171);var ca=function(e){return chrome.storage.local.get(e)},ha=function(e){return chrome.storage.local.set(e)};function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(i){setTimeout((function(){return i(t)}),e)}))}function ua(e){return la.apply(this,arguments)}function la(){return la=Ye(Qe().mark((function e(t){var i,r,s,a=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2&&void 0!==a[2]?a[2]:3,s=a.length>3&&void 0!==a[3]?a[3]:function(){},e.next=5,da(1e3*i);case 5:if(!s){e.next=10;break}s(null,t),window.setInterval((function(){return s(null,t)}),1e3*r),e.next=11;break;case 10:throw"has no handler!!!";case 11:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}var fa=Array(20).fill(0).map((function(e,t){return{account:null,balance:0,chainId:t,guard:null,success:1}})),pa={name:"coin",interfaces:["fungible-xchain-v1","fungible-v2"]},ma={networkId:"mainnet01",tokenAddress:"coin",tokenAddressList:{arr:[pa],obj:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.reduce((function(e,i,r){return e[i[t]]=i,e}),{})}([pa],"name")},limitTime:6e5,pageNum:0,isDark:!1,password:"",passwordConfirm:"",mnemonic01:[],mnemonic02:[],mnemonic03:[],passwordR:"",passwordConfirmR:"",mnemonicR:[],accountName:"",keypairHex:{publicKey:"",secretKey:""},keypairBuf:{publicKey:"",secretKey:""},keypairList:[],accountDetails:{details:fa,sum:0,nullChainIds:[],accountAddr:"",error:null,networkId:null},accountDetailsB:{details:fa,sum:0,nullChainIds:[],accountAddr:"",error:null,networkId:null},isLoading:{opened:!1,text:null,timestamp:null},kdausdt:0,transferConfirmOpened:!1,globalErrorData:{opened:!1,message:""},errorData:{opened:!1,message:null,xtransfer:null,details:null},infoData:{opened:!1,details:null,reqkey:null},confirmData:{opened:!1,message:null,confirmed:null},deleteData:{opened:!1,publicKey:"",privateKey:"",success:null},rotateData:{opened:!1,pred:"",keys:[],initial:{}},switchAccountBoxOpened:!1,transferOpt:{senderAccountName:"",senderChainId:0,receiverAccountName:"",receiverChainId:0,amount:.1,gasPayingAccountA:"",gasPayingAccountB:"",gasPrice:1e-8,gasLimit:600,xGasPrice:void 0,xGasLimit:void 0,ttl:28800},senderAddrList:[],receiverAddrList:[],sidebar:{opened:!1},privateKeyPage:{opened:!1},importPriKeyPage:{opened:!1},changePasswordPage:{opened:!1},visibleReqkeyCount:0};const ga=Object.freeze({MAX_GAS_PRICE:1e-5,MIN_GAS_PRICE:1e-8,MAX_GAS_LIMIT:1e5,MIN_GAS_LIMIT:400,MIN_AMOUNT:1e-6,LISTEN_MAX_DELAY:180,LISTEN_EACH_DELAY:5,MSG_GET_STATE:"GET_STATE",MSG_SET_STATE:"SET_STATE",MSG_SAVE_PASS:"SAVE_PASS",MSG_VERIFY_PASSWORD:"VERIFY_PASSWORD",MSG_HAS_ACCOUNT:"HAS_ACCOUNT",MSG_LOCK_UP:"LOCK_UP",MSG_GET_ACCOUNT_DETAILS:"GET_ACCOUNT_DETAILS",MSG_GET_ACCOUNT_DETAILS_B:"GET_ACCOUNT_DETAILS_B",MSG_JUST_TRANSFER:"JUST_TRANSFER",MSG_CONTINUE_ERROR_TRANSFER:"CONTINUE_ERROR_TRANSFER",MSG_GET_RECENT_REQKEYS_DATA:"GET_RECENT_REQKEYS_DATA",MSG_UPSERT_A_RECEIVER_ADDR:"UPSERT_A_RECEIVER_ADDR",MSG_CREATE_NEW_TAB:"CREATE_NEW_TAB",MSG_GENERATE_RANDOM_KEYPAIR:"GENERATE_RANDOM_KEYPAIR",MSG_GET_KDA_PRICE:"GET_KDA_PRICE",MSG_CHANGE_SELECTED_ACCOUNT:"CHANGE_DEFAULT_ACCOUNT",MSG_REMOVE_ACCOUNT:"REMOVE_ACCOUNT",MSG_REMOVE_RECEIVER_ACCOUNT_NAME:"REMOVE_RECEIVER_ACCOUNT_NAME",MSG_GET_PRIVATE_KEY:"GET_PRIVATE_KEY",MSG_VERIFY_PRIVATE_KEY:"VERIFY_PRIVATE_KEY",MSG_IMPORT_PRIVATE_KEY:"IMPORT_PRIVATE_KEY",MSG_INIT_ACCOUNT:"INIT_ACCOUNT",MSG_VALIDATE_CURRENT_PASSWORD:"VALIDATE_CURRENT_PASSWORD",MSG_CHANGE_PASSWORD:"CHANGE_PASSWORD",MSG_GET_NETWORKID:"GET_DEFAULT_NETWORKID",MSG_CHANGE_NETWORKID:"CHANGE_NETWORKID",MSG_GET_AUTOLOCK_PERIOD:"GET_AUTOLOCK_PERIOD",MSG_SET_AUTOLOCK_PERIOD:"SET_AUTOLOCK_PERIOD",MSG_GET_DARK_MODE:"GET_DARK_MODE",MSG_SET_DARK_MODE:"SET_DARK_MODE",MSG_CHANGE_ACCOUNT_KEYSET:"CHANGE_ACCOUNT_KEYSET",MSG_REMOVE_A_TX_RESULT:"REMOVE_A_TX_RESULT",MSG_GET_FUNGIBLE_V2_TOKEN_LIST:"GET_FUNGIBLE_V2_LIST",MSG_CHANGE_FUNGIBLE_V2_TOKEN_ADDR:"CHANGE_FUNGIBLE_V2_TOKEN_ADDRESS",MSG_UPDATE_FUNGIBLE_V2_TOKEN_ADDR_LIST:"UPDATE_FUNGIBLE_V2_TOKEN_ADDRESS_LIST",MSG_OPEN_POPUP_WINDOW:"OPEN-POPUP-WINDOW-V2",MSG_OPEN_POPUP_WINDOW_RESPONSE:"OPEN-POPUP-WINDOW-RESPONSE",MSG_REQ_USERDATA_FROM_WEBPAGE:"GET_USERDATA_FROM_WEBPAGE",FMSG_TRANSFER_PROGRESS:"TRANSFER_PROGRESS",FMSG_ACCOUNT_DETAILS_REFRESH:"ACCOUNT_DETAILS_REFRESH",FMSG_UPDATE_KEYPAIR_LIST:"UPDATE_KEYPAIR_LIST",FMSG_REFRESH_RECEIVER_ADDRS:"REFRESH_RECEIVER_ADDRS",FMSG_RECEIVER_ADDR_LIST_UPDATED:"RECEIVER_ADDR_LIST_UPDATED",FMSG_GENERATE_RANDOM_KEYPAIR:"GENERATE_RANDOM_KEYPAIR_SUCCESS",FMSG_CHANGE_SELECTED_ACCOUNT_SUCCESS:"CHANGE_SELECTED_ACCOUNT_SUCCESS",FMSG_REMOVE_ACCOUNT_SUCCESS:"REMOVE_ACCOUNT_SUCCESS",FMSG_IMPORT_ACCOUNT_SUCCESS:"IMPORT_ACCOUNT_SUCCESS",FMSG_LOCK_UP_SUCCESS:"LOCK_UP_SUCCESS",FMSG_LOCK_PROGRESS_STATE:"LOCK_PROGRESS_STATE",FMSG_INIT_ACCOUNT_SUCCESS:"INIT_ACCOUNT_SUCCESS",FMSG_SYNC_BACKGROUND_STATE:"SYNC_BACKGROUND_STATE",WORDS_NOT_EXIST_RECEIVER_ACOUNT:"Transfers to non-existing receiver's accounts are not allowed, except for k:accounts.",WORDS_SENDER_HAS_NOT_ENOUGH_KEYPAIR:"The sender does not have enough keypairs to excute this transaction.",WORDS_SENDER_ACCOUNT_DOES_NOT_EXISTS:"The sender account does not exist.",WORDS_PUBKEY_NOT_MATCH_SENDER_GUARD:"The signing public key does not match the sender's guard.",TX_SAME_TRANSFER:"s-transfer",TX_CROSS_TRANSFER:"x-transfer",TX_ROTATE:"rotate",TX_CREATE_ACCOUNT:"create-account",MARK_HAS_NO_PRIVATEKEY:"###",LOADING_BOX_TIMEOUT:7e3});var ya=i(45987),ba=i(87462),va=i(86010),wa=i(14670),ka=i(59693),Sa=i(73935),_a=i(17294),Ma=i(55192),Ta=i(24896),Oa=i(89062),xa=i(63366),Ia=i(97326),Ca=i(51721);const Aa=s.createContext(null);function Ea(e,t){var i=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),i}function Na(e,t,i){return null!=i[t]?i[t]:e.props[t]}function Pa(e,t){return Ea(e.children,(function(i){return(0,s.cloneElement)(i,{onExited:t.bind(null,i),in:!0,appear:Na(i,"appear",e),enter:Na(i,"enter",e),exit:Na(i,"exit",e)})}))}function Ba(e,t,i){var r=Ea(e.children),a=function(e,t){function i(i){return i in t?t[i]:e[i]}e=e||{},t=t||{};var r,s=Object.create(null),a=[];for(var n in e)n in t?a.length&&(s[n]=a,a=[]):a.push(n);var o={};for(var c in t){if(s[c])for(r=0;r<s[c].length;r++){var h=s[c][r];o[s[c][r]]=i(h)}o[c]=i(c)}for(r=0;r<a.length;r++)o[a[r]]=i(a[r]);return o}(t,r);return Object.keys(a).forEach((function(n){var o=a[n];if((0,s.isValidElement)(o)){var c=n in t,h=n in r,d=t[n],u=(0,s.isValidElement)(d)&&!d.props.in;!h||c&&!u?h||!c||u?h&&c&&(0,s.isValidElement)(d)&&(a[n]=(0,s.cloneElement)(o,{onExited:i.bind(null,o),in:d.props.in,exit:Na(o,"exit",e),enter:Na(o,"enter",e)})):a[n]=(0,s.cloneElement)(o,{in:!1}):a[n]=(0,s.cloneElement)(o,{onExited:i.bind(null,o),in:!0,exit:Na(o,"exit",e),enter:Na(o,"enter",e)})}})),a}var Ra=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},La=function(e){function t(t,i){var r,s=(r=e.call(this,t,i)||this).handleExited.bind((0,Ia.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}(0,Ca.Z)(t,e);var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var i=t.children,r=t.handleExited;return{children:t.firstRender?Pa(e,r):Ba(e,i,r),firstRender:!1}},i.handleExited=function(e,t){var i=Ea(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var i=(0,ba.Z)({},t.children);return delete i[e.key],{children:i}})))},i.render=function(){var e=this.props,t=e.component,i=e.childFactory,r=(0,xa.Z)(e,["component","childFactory"]),a=this.state.contextValue,n=Ra(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===t?s.createElement(Aa.Provider,{value:a},n):s.createElement(Aa.Provider,{value:a},s.createElement(t,r,n))},t}(s.Component);La.propTypes={},La.defaultProps={component:"div",childFactory:function(e){return e}};const Va=La;var Da="undefined"==typeof window?s.useEffect:s.useLayoutEffect;const qa=function(e){var t=e.classes,i=e.pulsate,r=void 0!==i&&i,a=e.rippleX,n=e.rippleY,o=e.rippleSize,c=e.in,h=e.onExited,d=void 0===h?function(){}:h,u=e.timeout,l=s.useState(!1),f=l[0],p=l[1],m=(0,va.Z)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:o,height:o,top:-o/2+n,left:-o/2+a},y=(0,va.Z)(t.child,f&&t.childLeaving,r&&t.childPulsate),b=(0,Ma.Z)(d);return Da((function(){if(!c){p(!0);var e=setTimeout(b,u);return function(){clearTimeout(e)}}}),[b,c,u]),s.createElement("span",{className:m,style:g},s.createElement("span",{className:y}))};var Ga=s.forwardRef((function(e,t){var i=e.center,r=void 0!==i&&i,a=e.classes,n=e.className,o=(0,ya.Z)(e,["center","classes","className"]),c=s.useState([]),h=c[0],d=c[1],u=s.useRef(0),l=s.useRef(null);s.useEffect((function(){l.current&&(l.current(),l.current=null)}),[h]);var f=s.useRef(!1),p=s.useRef(null),m=s.useRef(null),g=s.useRef(null);s.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var y=s.useCallback((function(e){var t=e.pulsate,i=e.rippleX,r=e.rippleY,n=e.rippleSize,o=e.cb;d((function(e){return[].concat((0,Oa.Z)(e),[s.createElement(qa,{key:u.current,classes:a,timeout:550,pulsate:t,rippleX:i,rippleY:r,rippleSize:n})])})),u.current+=1,l.current=o}),[a]),b=s.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,s=t.pulsate,a=void 0!==s&&s,n=t.center,o=void 0===n?r||t.pulsate:n,c=t.fakeElement,h=void 0!==c&&c;if("mousedown"===e.type&&f.current)f.current=!1;else{"touchstart"===e.type&&(f.current=!0);var d,u,l,b=h?null:g.current,v=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)d=Math.round(v.width/2),u=Math.round(v.height/2);else{var w=e.touches?e.touches[0]:e,k=w.clientX,S=w.clientY;d=Math.round(k-v.left),u=Math.round(S-v.top)}if(o)(l=Math.sqrt((2*Math.pow(v.width,2)+Math.pow(v.height,2))/3))%2==0&&(l+=1);else{var _=2*Math.max(Math.abs((b?b.clientWidth:0)-d),d)+2,M=2*Math.max(Math.abs((b?b.clientHeight:0)-u),u)+2;l=Math.sqrt(Math.pow(_,2)+Math.pow(M,2))}e.touches?null===m.current&&(m.current=function(){y({pulsate:a,rippleX:d,rippleY:u,rippleSize:l,cb:i})},p.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):y({pulsate:a,rippleX:d,rippleY:u,rippleSize:l,cb:i})}}),[r,y]),v=s.useCallback((function(){b({},{pulsate:!0})}),[b]),w=s.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(p.current=setTimeout((function(){w(e,t)})));m.current=null,d((function(e){return e.length>0?e.slice(1):e})),l.current=t}),[]);return s.useImperativeHandle(t,(function(){return{pulsate:v,start:b,stop:w}}),[v,b,w]),s.createElement("span",(0,ba.Z)({className:(0,va.Z)(a.root,n),ref:g},o),s.createElement(Va,{component:null,exit:!0},h))}));const Fa=(0,wa.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(s.memo(Ga));var ja=s.forwardRef((function(e,t){var i=e.action,r=e.buttonRef,a=e.centerRipple,n=void 0!==a&&a,o=e.children,c=e.classes,h=e.className,d=e.component,u=void 0===d?"button":d,l=e.disabled,f=void 0!==l&&l,p=e.disableRipple,m=void 0!==p&&p,g=e.disableTouchRipple,y=void 0!==g&&g,b=e.focusRipple,v=void 0!==b&&b,w=e.focusVisibleClassName,k=e.onBlur,S=e.onClick,_=e.onFocus,M=e.onFocusVisible,T=e.onKeyDown,O=e.onKeyUp,x=e.onMouseDown,I=e.onMouseLeave,C=e.onMouseUp,A=e.onTouchEnd,E=e.onTouchMove,N=e.onTouchStart,P=e.onDragLeave,B=e.tabIndex,R=void 0===B?0:B,L=e.TouchRippleProps,V=e.type,D=void 0===V?"button":V,q=(0,ya.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),G=s.useRef(null),F=s.useRef(null),j=s.useState(!1),U=j[0],z=j[1];f&&U&&z(!1);var H=(0,Ta.Z)(),K=H.isFocusVisible,W=H.onBlurVisible,Z=H.ref;function X(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,Ma.Z)((function(r){return t&&t(r),!i&&F.current&&F.current[e](r),!0}))}s.useImperativeHandle(i,(function(){return{focusVisible:function(){z(!0),G.current.focus()}}}),[]),s.useEffect((function(){U&&v&&!m&&F.current.pulsate()}),[m,v,U]);var Y=X("start",x),$=X("stop",P),Q=X("stop",C),J=X("stop",(function(e){U&&e.preventDefault(),I&&I(e)})),ee=X("start",N),te=X("stop",A),ie=X("stop",E),re=X("stop",(function(e){U&&(W(e),z(!1)),k&&k(e)}),!1),se=(0,Ma.Z)((function(e){G.current||(G.current=e.currentTarget),K(e)&&(z(!0),M&&M(e)),_&&_(e)})),ae=function(){var e=Sa.findDOMNode(G.current);return u&&"button"!==u&&!("A"===e.tagName&&e.href)},ne=s.useRef(!1),oe=(0,Ma.Z)((function(e){v&&!ne.current&&U&&F.current&&" "===e.key&&(ne.current=!0,e.persist(),F.current.stop(e,(function(){F.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!f&&(e.preventDefault(),S&&S(e))})),ce=(0,Ma.Z)((function(e){v&&" "===e.key&&F.current&&U&&!e.defaultPrevented&&(ne.current=!1,e.persist(),F.current.stop(e,(function(){F.current.pulsate(e)}))),O&&O(e),S&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&S(e)})),he=u;"button"===he&&q.href&&(he="a");var de={};"button"===he?(de.type=D,de.disabled=f):("a"===he&&q.href||(de.role="button"),de["aria-disabled"]=f);var ue=(0,_a.Z)(r,t),le=(0,_a.Z)(Z,G),fe=(0,_a.Z)(ue,le),pe=s.useState(!1),me=pe[0],ge=pe[1];s.useEffect((function(){ge(!0)}),[]);var ye=me&&!m&&!f;return s.createElement(he,(0,ba.Z)({className:(0,va.Z)(c.root,h,U&&[c.focusVisible,w],f&&c.disabled),onBlur:re,onClick:S,onFocus:se,onKeyDown:oe,onKeyUp:ce,onMouseDown:Y,onMouseLeave:J,onMouseUp:Q,onDragLeave:$,onTouchEnd:te,onTouchMove:ie,onTouchStart:ee,ref:fe,tabIndex:f?-1:R},de,q),o,ye?s.createElement(Fa,(0,ba.Z)({ref:F,center:n},L)):null)}));const Ua=(0,wa.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(ja);var za=i(93871),Ha=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.className,n=e.color,o=void 0===n?"default":n,c=e.component,h=void 0===c?"button":c,d=e.disabled,u=void 0!==d&&d,l=e.disableElevation,f=void 0!==l&&l,p=e.disableFocusRipple,m=void 0!==p&&p,g=e.endIcon,y=e.focusVisibleClassName,b=e.fullWidth,v=void 0!==b&&b,w=e.size,k=void 0===w?"medium":w,S=e.startIcon,_=e.type,M=void 0===_?"button":_,T=e.variant,O=void 0===T?"text":T,x=(0,ya.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=S&&s.createElement("span",{className:(0,va.Z)(r.startIcon,r["iconSize".concat((0,za.Z)(k))])},S),C=g&&s.createElement("span",{className:(0,va.Z)(r.endIcon,r["iconSize".concat((0,za.Z)(k))])},g);return s.createElement(Ua,(0,ba.Z)({className:(0,va.Z)(r.root,r[O],a,"inherit"===o?r.colorInherit:"default"!==o&&r["".concat(O).concat((0,za.Z)(o))],"medium"!==k&&[r["".concat(O,"Size").concat((0,za.Z)(k))],r["size".concat((0,za.Z)(k))]],f&&r.disableElevation,u&&r.disabled,v&&r.fullWidth),component:h,disabled:u,focusRipple:!m,focusVisibleClassName:(0,va.Z)(r.focusVisible,y),ref:t,type:M},x),s.createElement("span",{className:r.label},I,i,C))}));const Ka=(0,wa.Z)((function(e){return{root:(0,ba.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,ka.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,ka.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,ka.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,ka.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,ka.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,ka.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,ka.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Ha);var Wa=i(71314),Za=i(91047);var Xa=i(77315),Ya=i(37181),$a=i(60288);function Qa(e){var t=e.props,i=e.states,r=e.muiFormControl;return i.reduce((function(e,i){return e[i]=t[i],r&&void 0===t[i]&&(e[i]=r[i]),e}),{})}var Ja=s.createContext();const en=Ja;var tn=i(79437);function rn(e,t){return parseInt(e[t],10)||0}var sn="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,an={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},nn=s.forwardRef((function(e,t){var i=e.onChange,r=e.rows,a=e.rowsMax,n=e.rowsMin,o=e.maxRows,c=e.minRows,h=void 0===c?1:c,d=e.style,u=e.value,l=(0,ya.Z)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),f=o||a,p=r||n||h,m=s.useRef(null!=u).current,g=s.useRef(null),y=(0,_a.Z)(t,g),b=s.useRef(null),v=s.useRef(0),w=s.useState({}),k=w[0],S=w[1],_=s.useCallback((function(){var t=g.current,i=window.getComputedStyle(t),r=b.current;r.style.width=i.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var s=i["box-sizing"],a=rn(i,"padding-bottom")+rn(i,"padding-top"),n=rn(i,"border-bottom-width")+rn(i,"border-top-width"),o=r.scrollHeight-a;r.value="x";var c=r.scrollHeight-a,h=o;p&&(h=Math.max(Number(p)*c,h)),f&&(h=Math.min(Number(f)*c,h));var d=(h=Math.max(h,c))+("border-box"===s?a+n:0),u=Math.abs(h-o)<=1;S((function(e){return v.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==u)?(v.current+=1,{overflow:u,outerHeightStyle:d}):e}))}),[f,p,e.placeholder]);return s.useEffect((function(){var e=(0,tn.Z)((function(){v.current=0,_()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[_]),sn((function(){_()})),s.useEffect((function(){v.current=0}),[u]),s.createElement(s.Fragment,null,s.createElement("textarea",(0,ba.Z)({value:u,onChange:function(e){v.current=0,m||_(),i&&i(e)},ref:y,rows:p,style:(0,ba.Z)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},d)},l)),s.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:(0,ba.Z)({},an,d)}))}));const on=nn;function cn(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(cn(e.value)&&""!==e.value||t&&cn(e.defaultValue)&&""!==e.defaultValue)}var dn="undefined"==typeof window?s.useEffect:s.useLayoutEffect,un=s.forwardRef((function(e,t){var i=e["aria-describedby"],r=e.autoComplete,a=e.autoFocus,n=e.classes,o=e.className,c=(e.color,e.defaultValue),h=e.disabled,d=e.endAdornment,u=(e.error,e.fullWidth),l=void 0!==u&&u,f=e.id,p=e.inputComponent,m=void 0===p?"input":p,g=e.inputProps,y=void 0===g?{}:g,b=e.inputRef,v=(e.margin,e.multiline),w=void 0!==v&&v,k=e.name,S=e.onBlur,_=e.onChange,M=e.onClick,T=e.onFocus,O=e.onKeyDown,x=e.onKeyUp,I=e.placeholder,C=e.readOnly,A=e.renderSuffix,E=e.rows,N=e.rowsMax,P=e.rowsMin,B=e.maxRows,R=e.minRows,L=e.startAdornment,V=e.type,D=void 0===V?"text":V,q=e.value,G=(0,ya.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),F=null!=y.value?y.value:q,j=s.useRef(null!=F).current,U=s.useRef(),z=s.useCallback((function(e){}),[]),H=(0,_a.Z)(y.ref,z),K=(0,_a.Z)(b,H),W=(0,_a.Z)(U,K),Z=s.useState(!1),X=Z[0],Y=Z[1],$=s.useContext(Ja),Q=Qa({props:e,muiFormControl:$,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Q.focused=$?$.focused:X,s.useEffect((function(){!$&&h&&X&&(Y(!1),S&&S())}),[$,h,X,S]);var J=$&&$.onFilled,ee=$&&$.onEmpty,te=s.useCallback((function(e){hn(e)?J&&J():ee&&ee()}),[J,ee]);dn((function(){j&&te({value:F})}),[F,te,j]),s.useEffect((function(){te(U.current)}),[]);var ie=m,re=(0,ba.Z)({},y,{ref:W});return"string"!=typeof ie?re=(0,ba.Z)({inputRef:W,type:D},re,{ref:null}):w?!E||B||R||N||P?(re=(0,ba.Z)({minRows:E||R,rowsMax:N,maxRows:B},re),ie=on):ie="textarea":re=(0,ba.Z)({type:D},re),s.useEffect((function(){$&&$.setAdornedStart(Boolean(L))}),[$,L]),s.createElement("div",(0,ba.Z)({className:(0,va.Z)(n.root,n["color".concat((0,za.Z)(Q.color||"primary"))],o,Q.disabled&&n.disabled,Q.error&&n.error,l&&n.fullWidth,Q.focused&&n.focused,$&&n.formControl,w&&n.multiline,L&&n.adornedStart,d&&n.adornedEnd,"dense"===Q.margin&&n.marginDense),onClick:function(e){U.current&&e.currentTarget===e.target&&U.current.focus(),M&&M(e)},ref:t},G),L,s.createElement(en.Provider,{value:null},s.createElement(ie,(0,ba.Z)({"aria-invalid":Q.error,"aria-describedby":i,autoComplete:r,autoFocus:a,defaultValue:c,disabled:Q.disabled,id:f,onAnimationStart:function(e){te("mui-auto-fill-cancel"===e.animationName?U.current:{value:"x"})},name:k,placeholder:I,readOnly:C,required:Q.required,rows:E,value:F,onKeyDown:O,onKeyUp:x},re,{className:(0,va.Z)(n.input,y.className,Q.disabled&&n.disabled,w&&n.inputMultiline,Q.hiddenLabel&&n.inputHiddenLabel,L&&n.inputAdornedStart,d&&n.inputAdornedEnd,"search"===D&&n.inputTypeSearch,"dense"===Q.margin&&n.inputMarginDense),onBlur:function(e){S&&S(e),y.onBlur&&y.onBlur(e),$&&$.onBlur?$.onBlur(e):Y(!1)},onChange:function(e){if(!j){var t=e.target||U.current;if(null==t)throw new Error((0,$a.Z)(1));te({value:t.value})}for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];y.onChange&&y.onChange.apply(y,[e].concat(r)),_&&_.apply(void 0,[e].concat(r))},onFocus:function(e){Q.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),$&&$.onFocus?$.onFocus(e):Y(!0))}}))),d,A?A((0,ba.Z)({},Q,{startAdornment:L})):null)}));const ln=(0,wa.Z)((function(e){var t="light"===e.palette.type,i={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},s={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,ba.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(un);var fn=s.forwardRef((function(e,t){var i=e.disableUnderline,r=e.classes,a=e.fullWidth,n=void 0!==a&&a,o=e.inputComponent,c=void 0===o?"input":o,h=e.multiline,d=void 0!==h&&h,u=e.type,l=void 0===u?"text":u,f=(0,ya.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return s.createElement(ln,(0,ba.Z)({classes:(0,ba.Z)({},r,{root:(0,va.Z)(r.root,!i&&r.underline),underline:null}),fullWidth:n,inputComponent:c,multiline:d,ref:t,type:l},f))}));fn.muiName="Input";const pn=(0,wa.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(fn);var mn=s.forwardRef((function(e,t){var i=e.disableUnderline,r=e.classes,a=e.fullWidth,n=void 0!==a&&a,o=e.inputComponent,c=void 0===o?"input":o,h=e.multiline,d=void 0!==h&&h,u=e.type,l=void 0===u?"text":u,f=(0,ya.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return s.createElement(ln,(0,ba.Z)({classes:(0,ba.Z)({},r,{root:(0,va.Z)(r.root,!i&&r.underline),underline:null}),fullWidth:n,inputComponent:c,multiline:d,ref:t,type:l},f))}));mn.muiName="Input";const gn=(0,wa.Z)((function(e){var t="light"===e.palette.type,i=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(mn);var yn=i(75959);function bn(){return(0,yn.Z)()||Za.Z}var vn=s.forwardRef((function(t,i){t.children;var r=t.classes,a=t.className,n=t.label,o=t.labelWidth,c=t.notched,h=t.style,d=(0,ya.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),u="rtl"===bn().direction?"right":"left";if(void 0!==n)return s.createElement("fieldset",(0,ba.Z)({"aria-hidden":!0,className:(0,va.Z)(r.root,a),ref:i,style:h},d),s.createElement("legend",{className:(0,va.Z)(r.legendLabelled,c&&r.legendNotched)},n?s.createElement("span",null,n):s.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var l=o>0?.75*o+8:.01;return s.createElement("fieldset",(0,ba.Z)({"aria-hidden":!0,style:(0,ba.Z)((0,e.Z)({},"padding".concat((0,za.Z)(u)),8),h),className:(0,va.Z)(r.root,a),ref:i},d),s.createElement("legend",{className:r.legend,style:{width:c?l:.01}},s.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const wn=(0,wa.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(vn);var kn=s.forwardRef((function(e,t){var i=e.classes,r=e.fullWidth,a=void 0!==r&&r,n=e.inputComponent,o=void 0===n?"input":n,c=e.label,h=e.labelWidth,d=void 0===h?0:h,u=e.multiline,l=void 0!==u&&u,f=e.notched,p=e.type,m=void 0===p?"text":p,g=(0,ya.Z)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return s.createElement(ln,(0,ba.Z)({renderSuffix:function(e){return s.createElement(wn,{className:i.notchedOutline,label:c,labelWidth:d,notched:void 0!==f?f:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,ba.Z)({},i,{root:(0,va.Z)(i.root,i.underline),notchedOutline:null}),fullWidth:a,inputComponent:o,multiline:l,ref:t,type:m},g))}));kn.muiName="Input";const Sn=(0,wa.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(kn);function _n(){return s.useContext(en)}var Mn=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.className,n=(e.color,e.component),o=void 0===n?"label":n,c=(e.disabled,e.error,e.filled,e.focused,e.required,(0,ya.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=Qa({props:e,muiFormControl:_n(),states:["color","required","focused","disabled","error","filled"]});return s.createElement(o,(0,ba.Z)({className:(0,va.Z)(r.root,r["color".concat((0,za.Z)(h.color||"primary"))],a,h.disabled&&r.disabled,h.error&&r.error,h.filled&&r.filled,h.focused&&r.focused,h.required&&r.required),ref:t},c),i,h.required&&s.createElement("span",{"aria-hidden":!0,className:(0,va.Z)(r.asterisk,h.error&&r.error)},"","*"))}));const Tn=(0,wa.Z)((function(e){return{root:(0,ba.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Mn);var On=s.forwardRef((function(e,t){var i=e.classes,r=e.className,a=e.disableAnimation,n=void 0!==a&&a,o=(e.margin,e.shrink),c=(e.variant,(0,ya.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=_n(),d=o;void 0===d&&h&&(d=h.filled||h.focused||h.adornedStart);var u=Qa({props:e,muiFormControl:h,states:["margin","variant"]});return s.createElement(Tn,(0,ba.Z)({"data-shrink":d,className:(0,va.Z)(i.root,r,h&&i.formControl,!n&&i.animated,d&&i.shrink,"dense"===u.margin&&i.marginDense,{filled:i.filled,outlined:i.outlined}[u.variant]),classes:{focused:i.focused,disabled:i.disabled,error:i.error,required:i.required,asterisk:i.asterisk},ref:t},c))}));const xn=(0,wa.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(On);var In=i(83711),Cn=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.className,n=e.color,o=void 0===n?"primary":n,c=e.component,h=void 0===c?"div":c,d=e.disabled,u=void 0!==d&&d,l=e.error,f=void 0!==l&&l,p=e.fullWidth,m=void 0!==p&&p,g=e.focused,y=e.hiddenLabel,b=void 0!==y&&y,v=e.margin,w=void 0===v?"none":v,k=e.required,S=void 0!==k&&k,_=e.size,M=e.variant,T=void 0===M?"standard":M,O=(0,ya.Z)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),x=s.useState((function(){var e=!1;return i&&s.Children.forEach(i,(function(t){if((0,In.Z)(t,["Input","Select"])){var i=(0,In.Z)(t,["Select"])?t.props.input:t;i&&i.props.startAdornment&&(e=!0)}})),e})),I=x[0],C=x[1],A=s.useState((function(){var e=!1;return i&&s.Children.forEach(i,(function(t){(0,In.Z)(t,["Input","Select"])&&hn(t.props,!0)&&(e=!0)})),e})),E=A[0],N=A[1],P=s.useState(!1),B=P[0],R=P[1],L=void 0!==g?g:B;u&&L&&R(!1);var V=s.useCallback((function(){N(!0)}),[]),D={adornedStart:I,setAdornedStart:C,color:o,disabled:u,error:f,filled:E,focused:L,fullWidth:m,hiddenLabel:b,margin:("small"===_?"dense":void 0)||w,onBlur:function(){R(!1)},onEmpty:s.useCallback((function(){N(!1)}),[]),onFilled:V,onFocus:function(){R(!0)},registerEffect:void 0,required:S,variant:T};return s.createElement(en.Provider,{value:D},s.createElement(h,(0,ba.Z)({className:(0,va.Z)(r.root,a,"none"!==w&&r["margin".concat((0,za.Z)(w))],m&&r.fullWidth),ref:t},O),i))}));const An=(0,wa.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Cn);var En=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.className,n=e.component,o=void 0===n?"p":n,c=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,ya.Z)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=Qa({props:e,muiFormControl:_n(),states:["variant","margin","disabled","error","filled","focused","required"]});return s.createElement(o,(0,ba.Z)({className:(0,va.Z)(r.root,("filled"===h.variant||"outlined"===h.variant)&&r.contained,a,h.disabled&&r.disabled,h.error&&r.error,h.filled&&r.filled,h.focused&&r.focused,h.required&&r.required,"dense"===h.margin&&r.marginDense),ref:t},c)," "===i?s.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):i)}));const Nn=(0,wa.Z)((function(e){return{root:(0,ba.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(En);var Pn=i(65835),Bn=i(71002),Rn=i(30626),Ln=i(80713),Vn=i(82568),Dn=i(93869),qn=i(34236),Gn="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Fn=s.forwardRef((function(e,t){var i=e.children,r=e.container,a=e.disablePortal,n=void 0!==a&&a,o=e.onRendered,c=s.useState(null),h=c[0],d=c[1],u=(0,_a.Z)(s.isValidElement(i)?i.ref:null,t);return Gn((function(){n||d(function(e){return e="function"==typeof e?e():e,Sa.findDOMNode(e)}(r)||document.body)}),[r,n]),Gn((function(){if(h&&!n)return(0,qn.Z)(t,h),function(){(0,qn.Z)(t,null)}}),[t,h,n]),Gn((function(){o&&(h||n)&&o()}),[o,h,n]),n?s.isValidElement(i)?s.cloneElement(i,{ref:u}):i:h?Sa.createPortal(i,h):h}));const jn=Fn;var Un=i(92781),zn=i(43144);function Hn(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function Kn(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Wn(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Zn(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0,a=[t,i].concat((0,Oa.Z)(r)),n=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===n.indexOf(e.tagName)&&Kn(e,s)}))}function Xn(e,t){var i=-1;return e.some((function(e,r){return!!t(e)&&(i=r,!0)})),i}var Yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return(0,zn.Z)(e,[{key:"add",value:function(e,t){var i=this.modals.indexOf(e);if(-1!==i)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Kn(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Zn(t,e.mountNode,e.modalRef,r,!0);var s=Xn(this.containers,(function(e){return e.container===t}));return-1!==s?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),i)}},{key:"mount",value:function(e,t){var i=Xn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[i];r.restore||(r.restore=function(e,t){var i,r=[],s=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Rn.Z)(e);return t.body===e?(0,Ln.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var n=Hn();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(Wn(a)+n,"px"),i=(0,Rn.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(i,(function(e){s.push(e.style.paddingRight),e.style.paddingRight="".concat(Wn(e)+n,"px")}))}var o=a.parentElement,c="HTML"===o.nodeName&&"scroll"===window.getComputedStyle(o)["overflow-y"]?o:a;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){i&&[].forEach.call(i,(function(e,t){s[t]?e.style.paddingRight=s[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,i=e.el,r=e.key;t?i.style.setProperty(r,t):i.style.removeProperty(r)}))}}(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var i=Xn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Kn(e.modalRef,!0),Zn(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var s=r.modals[r.modals.length-1];s.modalRef&&Kn(s.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();const $n=function(e){var t=e.children,i=e.disableAutoFocus,r=void 0!==i&&i,a=e.disableEnforceFocus,n=void 0!==a&&a,o=e.disableRestoreFocus,c=void 0!==o&&o,h=e.getDoc,d=e.isEnabled,u=e.open,l=s.useRef(),f=s.useRef(null),p=s.useRef(null),m=s.useRef(),g=s.useRef(null),y=s.useCallback((function(e){g.current=Sa.findDOMNode(e)}),[]),b=(0,_a.Z)(t.ref,y),v=s.useRef();return s.useEffect((function(){v.current=u}),[u]),!v.current&&u&&"undefined"!=typeof window&&(m.current=h().activeElement),s.useEffect((function(){if(u){var e=(0,Rn.Z)(g.current);r||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!n&&d()&&!l.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():l.current=!1)},i=function(t){!n&&d()&&9===t.keyCode&&e.activeElement===g.current&&(l.current=!0,t.shiftKey?p.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",i,!0);var s=setInterval((function(){t()}),50);return function(){clearInterval(s),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",i,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,n,c,d,u]),s.createElement(s.Fragment,null,s.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),s.cloneElement(t,{ref:b}),s.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))};var Qn={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Jn=s.forwardRef((function(e,t){var i=e.invisible,r=void 0!==i&&i,a=e.open,n=(0,ya.Z)(e,["invisible","open"]);return a?s.createElement("div",(0,ba.Z)({"aria-hidden":!0,ref:t},n,{style:(0,ba.Z)({},Qn.root,r?Qn.invisible:{},n.style)})):null}));const eo=Jn;var to=new Yn,io=s.forwardRef((function(e,t){var i=(0,yn.Z)(),r=(0,Dn.Z)({name:"MuiModal",props:(0,ba.Z)({},e),theme:i}),a=r.BackdropComponent,n=void 0===a?eo:a,o=r.BackdropProps,c=r.children,h=r.closeAfterTransition,d=void 0!==h&&h,u=r.container,l=r.disableAutoFocus,f=void 0!==l&&l,p=r.disableBackdropClick,m=void 0!==p&&p,g=r.disableEnforceFocus,y=void 0!==g&&g,b=r.disableEscapeKeyDown,v=void 0!==b&&b,w=r.disablePortal,k=void 0!==w&&w,S=r.disableRestoreFocus,_=void 0!==S&&S,M=r.disableScrollLock,T=void 0!==M&&M,O=r.hideBackdrop,x=void 0!==O&&O,I=r.keepMounted,C=void 0!==I&&I,A=r.manager,E=void 0===A?to:A,N=r.onBackdropClick,P=r.onClose,B=r.onEscapeKeyDown,R=r.onRendered,L=r.open,V=(0,ya.Z)(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),D=s.useState(!0),q=D[0],G=D[1],F=s.useRef({}),j=s.useRef(null),U=s.useRef(null),z=(0,_a.Z)(U,t),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),K=function(){return(0,Rn.Z)(j.current)},W=function(){return F.current.modalRef=U.current,F.current.mountNode=j.current,F.current},Z=function(){E.mount(W(),{disableScrollLock:T}),U.current.scrollTop=0},X=(0,Ma.Z)((function(){var e=function(e){return e="function"==typeof e?e():e,Sa.findDOMNode(e)}(u)||K().body;E.add(W(),e),U.current&&Z()})),Y=s.useCallback((function(){return E.isTopModal(W())}),[E]),$=(0,Ma.Z)((function(e){j.current=e,e&&(R&&R(),L&&Y()?Z():Kn(U.current,!0))})),Q=s.useCallback((function(){E.remove(W())}),[E]);if(s.useEffect((function(){return function(){Q()}}),[Q]),s.useEffect((function(){L?X():H&&d||Q()}),[L,Q,H,d,X]),!C&&!L&&(!H||q))return null;var J=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(i||{zIndex:Un.Z}),ee={};return void 0===c.props.tabIndex&&(ee.tabIndex=c.props.tabIndex||"-1"),H&&(ee.onEnter=(0,Vn.Z)((function(){G(!1)}),c.props.onEnter),ee.onExited=(0,Vn.Z)((function(){G(!0),d&&Q()}),c.props.onExited)),s.createElement(jn,{ref:$,container:u,disablePortal:k},s.createElement("div",(0,ba.Z)({ref:z,onKeyDown:function(e){"Escape"===e.key&&Y()&&(B&&B(e),v||(e.stopPropagation(),P&&P(e,"escapeKeyDown")))},role:"presentation"},V,{style:(0,ba.Z)({},J.root,!L&&q?J.hidden:{},V.style)}),x?null:s.createElement(n,(0,ba.Z)({open:L,onClick:function(e){e.target===e.currentTarget&&(N&&N(e),!m&&P&&P(e,"backdropClick"))}},o)),s.createElement($n,{disableEnforceFocus:y,disableAutoFocus:f,disableRestoreFocus:_,getDoc:K,isEnabled:Y,open:L},s.cloneElement(c,ee))))}));const ro=io;var so="unmounted",ao="exited",no="entering",oo="entered",co="exiting",ho=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;var s,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(s=ao,r.appearStatus=no):s=oo:s=t.unmountOnExit||t.mountOnEnter?so:ao,r.state={status:s},r.nextCallback=null,r}(0,Ca.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===so?{status:ao}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==no&&i!==oo&&(t=no):i!==no&&i!==oo||(t=co)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,r=this.props.timeout;return e=t=i=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,i=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===no?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ao&&this.setState({status:so})},i.performEnter=function(e){var t=this,i=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[Sa.findDOMNode(this),r],a=s[0],n=s[1],o=this.getTimeouts(),c=r?o.appear:o.enter;e||i?(this.props.onEnter(a,n),this.safeSetState({status:no},(function(){t.props.onEntering(a,n),t.onTransitionEnd(c,(function(){t.safeSetState({status:oo},(function(){t.props.onEntered(a,n)}))}))}))):this.safeSetState({status:oo},(function(){t.props.onEntered(a)}))},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),r=this.props.nodeRef?void 0:Sa.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:co},(function(){e.props.onExiting(r),e.onTransitionEnd(i.exit,(function(){e.safeSetState({status:ao},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ao},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(r){i&&(i=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:Sa.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(i&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],a=s[0],n=s[1];this.props.addEndListener(a,n)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===so)return null;var t=this.props,i=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,xa.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(Aa.Provider,{value:null},"function"==typeof i?i(e,r):s.cloneElement(s.Children.only(i),r))},t}(s.Component);function uo(){}ho.contextType=Aa,ho.propTypes={},ho.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uo,onEntering:uo,onEntered:uo,onExit:uo,onExiting:uo,onExited:uo},ho.UNMOUNTED=so,ho.EXITED=ao,ho.ENTERING=no,ho.ENTERED=oo,ho.EXITING=co;const lo=ho;function fo(e,t){var i=e.timeout,r=e.style,s=void 0===r?{}:r;return{duration:s.transitionDuration||"number"==typeof i?i:i[t.mode]||0,delay:s.transitionDelay}}function po(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var mo={entering:{opacity:1,transform:po(1)},entered:{opacity:1,transform:"none"}},go=s.forwardRef((function(e,i){var r=e.children,a=e.disableStrictModeCompat,n=void 0!==a&&a,o=e.in,c=e.onEnter,h=e.onEntered,d=e.onEntering,u=e.onExit,l=e.onExited,f=e.onExiting,p=e.style,m=e.timeout,g=void 0===m?"auto":m,y=e.TransitionComponent,b=void 0===y?lo:y,v=(0,ya.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=s.useRef(),k=s.useRef(),S=bn(),_=S.unstable_strictMode&&!n,M=s.useRef(null),T=(0,_a.Z)(r.ref,i),O=(0,_a.Z)(_?M:void 0,T),x=function(e){return function(i,r){if(e){var s=_?[M.current,i]:[i,r],a=(0,t.Z)(s,2),n=a[0],o=a[1];void 0===o?e(n):e(n,o)}}},I=x(d),C=x((function(e,t){!function(e){e.scrollTop}(e);var i,r=fo({style:p,timeout:g},{mode:"enter"}),s=r.duration,a=r.delay;"auto"===g?(i=S.transitions.getAutoHeightDuration(e.clientHeight),k.current=i):i=s,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:a}),S.transitions.create("transform",{duration:.666*i,delay:a})].join(","),c&&c(e,t)})),A=x(h),E=x(f),N=x((function(e){var t,i=fo({style:p,timeout:g},{mode:"exit"}),r=i.duration,s=i.delay;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:s}),S.transitions.create("transform",{duration:.666*t,delay:s||.333*t})].join(","),e.style.opacity="0",e.style.transform=po(.75),u&&u(e)})),P=x(l);return s.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),s.createElement(b,(0,ba.Z)({appear:!0,in:o,nodeRef:_?M:void 0,onEnter:C,onEntered:A,onEntering:I,onExit:N,onExited:P,onExiting:E,addEndListener:function(e,t){var i=_?e:t;"auto"===g&&(w.current=setTimeout(i,k.current||0))},timeout:"auto"===g?null:g},v),(function(e,t){return s.cloneElement(r,(0,ba.Z)({style:(0,ba.Z)({opacity:0,transform:po(.75),visibility:"exited"!==e||o?void 0:"hidden"},mo[e],p,r.props.style),ref:O},t))}))}));go.muiSupportAuto=!0;const yo=go;var bo=s.forwardRef((function(e,t){var i=e.classes,r=e.className,a=e.component,n=void 0===a?"div":a,o=e.square,c=void 0!==o&&o,h=e.elevation,d=void 0===h?1:h,u=e.variant,l=void 0===u?"elevation":u,f=(0,ya.Z)(e,["classes","className","component","square","elevation","variant"]);return s.createElement(n,(0,ba.Z)({className:(0,va.Z)(i.root,r,"outlined"===l?i.outlined:i["elevation".concat(d)],!c&&i.rounded),ref:t},f))}));const vo=(0,wa.Z)((function(e){var t={};return e.shadows.forEach((function(e,i){t["elevation".concat(i)]={boxShadow:e}})),(0,ba.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(bo);function wo(e,t){var i=0;return"number"==typeof t?i=t:"center"===t?i=e.height/2:"bottom"===t&&(i=e.height),i}function ko(e,t){var i=0;return"number"==typeof t?i=t:"center"===t?i=e.width/2:"right"===t&&(i=e.width),i}function So(e){return[e.horizontal,e.vertical].map((function(e){return"number"==typeof e?"".concat(e,"px"):e})).join(" ")}function _o(e){return"function"==typeof e?e():e}var Mo=s.forwardRef((function(e,t){var i=e.action,r=e.anchorEl,a=e.anchorOrigin,n=void 0===a?{vertical:"top",horizontal:"left"}:a,o=e.anchorPosition,c=e.anchorReference,h=void 0===c?"anchorEl":c,d=e.children,u=e.classes,l=e.className,f=e.container,p=e.elevation,m=void 0===p?8:p,g=e.getContentAnchorEl,y=e.marginThreshold,b=void 0===y?16:y,v=e.onEnter,w=e.onEntered,k=e.onEntering,S=e.onExit,_=e.onExited,M=e.onExiting,T=e.open,O=e.PaperProps,x=void 0===O?{}:O,I=e.transformOrigin,C=void 0===I?{vertical:"top",horizontal:"left"}:I,A=e.TransitionComponent,E=void 0===A?yo:A,N=e.transitionDuration,P=void 0===N?"auto":N,B=e.TransitionProps,R=void 0===B?{}:B,L=(0,ya.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),V=s.useRef(),D=s.useCallback((function(e){if("anchorPosition"===h)return o;var t=_o(r),i=(t&&1===t.nodeType?t:(0,Rn.Z)(V.current).body).getBoundingClientRect(),s=0===e?n.vertical:"center";return{top:i.top+wo(i,s),left:i.left+ko(i,n.horizontal)}}),[r,n.horizontal,n.vertical,o,h]),q=s.useCallback((function(e){var t=0;if(g&&"anchorEl"===h){var i=g(e);if(i&&e.contains(i)){var r=function(e,t){for(var i=t,r=0;i&&i!==e;)r+=(i=i.parentElement).scrollTop;return r}(e,i);t=i.offsetTop+i.clientHeight/2-r||0}}return t}),[n.vertical,h,g]),G=s.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:wo(e,C.vertical)+t,horizontal:ko(e,C.horizontal)}}),[C.horizontal,C.vertical]),F=s.useCallback((function(e){var t=q(e),i={width:e.offsetWidth,height:e.offsetHeight},s=G(i,t);if("none"===h)return{top:null,left:null,transformOrigin:So(s)};var a=D(t),n=a.top-s.vertical,o=a.left-s.horizontal,c=n+i.height,d=o+i.width,u=(0,Ln.Z)(_o(r)),l=u.innerHeight-b,f=u.innerWidth-b;if(n<b){var p=n-b;n-=p,s.vertical+=p}else if(c>l){var m=c-l;n-=m,s.vertical+=m}if(o<b){var g=o-b;o-=g,s.horizontal+=g}else if(d>f){var y=d-f;o-=y,s.horizontal+=y}return{top:"".concat(Math.round(n),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:So(s)}}),[r,h,D,q,G,b]),j=s.useCallback((function(){var e=V.current;if(e){var t=F(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[F]),U=s.useCallback((function(e){V.current=Sa.findDOMNode(e)}),[]);s.useEffect((function(){T&&j()})),s.useImperativeHandle(i,(function(){return T?{updatePosition:function(){j()}}:null}),[T,j]),s.useEffect((function(){if(T){var e=(0,tn.Z)((function(){j()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[T,j]);var z=P;"auto"!==P||E.muiSupportAuto||(z=void 0);var H=f||(r?(0,Rn.Z)(_o(r)).body:void 0);return s.createElement(ro,(0,ba.Z)({container:H,open:T,ref:t,BackdropProps:{invisible:!0},className:(0,va.Z)(u.root,l)},L),s.createElement(E,(0,ba.Z)({appear:!0,in:T,onEnter:v,onEntered:w,onExit:S,onExited:_,onExiting:M,timeout:z},R,{onEntering:(0,Vn.Z)((function(e,t){k&&k(e,t),j()}),R.onEntering)}),s.createElement(vo,(0,ba.Z)({elevation:m,ref:U},x,{className:(0,va.Z)(u.paper,x.className)}),d)))}));const To=(0,wa.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Mo),Oo=s.createContext({});var xo=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.className,n=e.component,o=void 0===n?"ul":n,c=e.dense,h=void 0!==c&&c,d=e.disablePadding,u=void 0!==d&&d,l=e.subheader,f=(0,ya.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),p=s.useMemo((function(){return{dense:h}}),[h]);return s.createElement(Oo.Provider,{value:p},s.createElement(o,(0,ba.Z)({className:(0,va.Z)(r.root,a,h&&r.dense,!u&&r.padding,l&&r.subheader),ref:t},f),l,i))}));const Io=(0,wa.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(xo);function Co(e,t,i){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:e.firstChild}function Ao(e,t,i){return e===t?i?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:e.lastChild}function Eo(e,t){if(void 0===t)return!0;var i=e.innerText;return void 0===i&&(i=e.textContent),0!==(i=i.trim().toLowerCase()).length&&(t.repeating?i[0]===t.keys[0]:0===i.indexOf(t.keys.join("")))}function No(e,t,i,r,s,a){for(var n=!1,o=s(e,t,!!t&&i);o;){if(o===e.firstChild){if(n)return;n=!0}var c=!r&&(o.disabled||"true"===o.getAttribute("aria-disabled"));if(o.hasAttribute("tabindex")&&Eo(o,a)&&!c)return void o.focus();o=s(e,o,i)}}var Po="undefined"==typeof window?s.useEffect:s.useLayoutEffect,Bo=s.forwardRef((function(e,t){var i=e.actions,r=e.autoFocus,a=void 0!==r&&r,n=e.autoFocusItem,o=void 0!==n&&n,c=e.children,h=e.className,d=e.disabledItemsFocusable,u=void 0!==d&&d,l=e.disableListWrap,f=void 0!==l&&l,p=e.onKeyDown,m=e.variant,g=void 0===m?"selectedMenu":m,y=(0,ya.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=s.useRef(null),v=s.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Po((function(){a&&b.current.focus()}),[a]),s.useImperativeHandle(i,(function(){return{adjustStyleForScrollbar:function(e,t){var i=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&i){var r="".concat(Hn(),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var w=s.useCallback((function(e){b.current=Sa.findDOMNode(e)}),[]),k=(0,_a.Z)(w,t),S=-1;s.Children.forEach(c,(function(e,t){s.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===S)&&(S=t))}));var _=s.Children.map(c,(function(e,t){if(t===S){var i={};return o&&(i.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(i.tabIndex=0),s.cloneElement(e,i)}return e}));return s.createElement(Io,(0,ba.Z)({role:"menu",ref:k,className:h,onKeyDown:function(e){var t=b.current,i=e.key,r=(0,Rn.Z)(t).activeElement;if("ArrowDown"===i)e.preventDefault(),No(t,r,f,u,Co);else if("ArrowUp"===i)e.preventDefault(),No(t,r,f,u,Ao);else if("Home"===i)e.preventDefault(),No(t,null,f,u,Co);else if("End"===i)e.preventDefault(),No(t,null,f,u,Ao);else if(1===i.length){var s=v.current,a=i.toLowerCase(),n=performance.now();s.keys.length>0&&(n-s.lastTime>500?(s.keys=[],s.repeating=!0,s.previousKeyMatched=!0):s.repeating&&a!==s.keys[0]&&(s.repeating=!1)),s.lastTime=n,s.keys.push(a);var o=r&&!s.repeating&&Eo(r,s);s.previousKeyMatched&&(o||No(t,r,!1,u,Co,s))?e.preventDefault():s.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y),_)}));const Ro=Bo;var Lo={vertical:"top",horizontal:"right"},Vo={vertical:"top",horizontal:"left"},Do=s.forwardRef((function(e,t){var i=e.autoFocus,r=void 0===i||i,a=e.children,n=e.classes,o=e.disableAutoFocusItem,c=void 0!==o&&o,h=e.MenuListProps,d=void 0===h?{}:h,u=e.onClose,l=e.onEntering,f=e.open,p=e.PaperProps,m=void 0===p?{}:p,g=e.PopoverClasses,y=e.transitionDuration,b=void 0===y?"auto":y,v=e.TransitionProps,w=(v=void 0===v?{}:v).onEntering,k=(0,ya.Z)(v,["onEntering"]),S=e.variant,_=void 0===S?"selectedMenu":S,M=(0,ya.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),T=bn(),O=r&&!c&&f,x=s.useRef(null),I=s.useRef(null),C=-1;s.Children.map(a,(function(e,t){s.isValidElement(e)&&(e.props.disabled||("menu"!==_&&e.props.selected||-1===C)&&(C=t))}));var A=s.Children.map(a,(function(e,t){return t===C?s.cloneElement(e,{ref:function(t){I.current=Sa.findDOMNode(t),(0,qn.Z)(e.ref,t)}}):e}));return s.createElement(To,(0,ba.Z)({getContentAnchorEl:function(){return I.current},classes:g,onClose:u,TransitionProps:(0,ba.Z)({onEntering:function(e,t){x.current&&x.current.adjustStyleForScrollbar(e,T),l&&l(e,t),w&&w(e,t)}},k),anchorOrigin:"rtl"===T.direction?Lo:Vo,transformOrigin:"rtl"===T.direction?Lo:Vo,PaperProps:(0,ba.Z)({},m,{classes:(0,ba.Z)({},m.classes,{root:n.paper})}),open:f,ref:t,transitionDuration:b},M),s.createElement(Ro,(0,ba.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:x,autoFocus:r&&(-1===C||c),autoFocusItem:O,variant:_},d,{className:(0,va.Z)(n.list,d.className)}),A))}));const qo=(0,wa.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Do);var Go=i(22775);function Fo(e,t){return"object"===(0,Bn.Z)(t)&&null!==t?e===t:String(e)===String(t)}var jo=s.forwardRef((function(e,i){var r=e["aria-label"],a=e.autoFocus,n=e.autoWidth,o=e.children,c=e.classes,h=e.className,d=e.defaultValue,u=e.disabled,l=e.displayEmpty,f=e.IconComponent,p=e.inputRef,m=e.labelId,g=e.MenuProps,y=void 0===g?{}:g,b=e.multiple,v=e.name,w=e.onBlur,k=e.onChange,S=e.onClose,_=e.onFocus,M=e.onOpen,T=e.open,O=e.readOnly,x=e.renderValue,I=e.SelectDisplayProps,C=void 0===I?{}:I,A=e.tabIndex,E=(e.type,e.value),N=e.variant,P=void 0===N?"standard":N,B=(0,ya.Z)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),R=(0,Go.Z)({controlled:E,default:d,name:"Select"}),L=(0,t.Z)(R,2),V=L[0],D=L[1],q=s.useRef(null),G=s.useState(null),F=G[0],j=G[1],U=s.useRef(null!=T).current,z=s.useState(),H=z[0],K=z[1],W=s.useState(!1),Z=W[0],X=W[1],Y=(0,_a.Z)(i,p);s.useImperativeHandle(Y,(function(){return{focus:function(){F.focus()},node:q.current,value:V}}),[F,V]),s.useEffect((function(){a&&F&&F.focus()}),[a,F]),s.useEffect((function(){if(F){var e=(0,Rn.Z)(F).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&F.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m,F]);var $,Q,J=function(e,t){e?M&&M(t):S&&S(t),U||(K(n?null:F.clientWidth),X(e))},ee=s.Children.toArray(o),te=function(e){return function(t){var i;if(b||J(!1,t),b){i=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?i.push(e.props.value):i.splice(r,1)}else i=e.props.value;e.props.onClick&&e.props.onClick(t),V!==i&&(D(i),k&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:i,name:v}}),k(t,e)))}},ie=null!==F&&(U?T:Z);delete B["aria-invalid"];var re=[],se=!1;(hn({value:V})||l)&&(x?$=x(V):se=!0);var ae=ee.map((function(e){if(!s.isValidElement(e))return null;var t;if(b){if(!Array.isArray(V))throw new Error((0,$a.Z)(2));t=V.some((function(t){return Fo(t,e.props.value)})),t&&se&&re.push(e.props.children)}else(t=Fo(V,e.props.value))&&se&&(Q=e.props.children);return s.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:te(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));se&&($=b?re.join(", "):Q);var ne,oe=H;!n&&U&&F&&(oe=F.clientWidth),ne=void 0!==A?A:u?null:0;var ce=C.id||(v?"mui-component-select-".concat(v):void 0);return s.createElement(s.Fragment,null,s.createElement("div",(0,ba.Z)({className:(0,va.Z)(c.root,c.select,c.selectMenu,c[P],h,u&&c.disabled),ref:j,tabIndex:ne,role:"button","aria-disabled":u?"true":void 0,"aria-expanded":ie?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[m,ce].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){O||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),J(!0,e))},onMouseDown:u||O?null:function(e){0===e.button&&(e.preventDefault(),F.focus(),J(!0,e))},onBlur:function(e){!ie&&w&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:v}}),w(e))},onFocus:_},C,{id:ce}),function(e){return null==e||"string"==typeof e&&!e.trim()}($)?s.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):$),s.createElement("input",(0,ba.Z)({value:Array.isArray(V)?V.join(","):V,name:v,ref:q,"aria-hidden":!0,onChange:function(e){var t=ee.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var i=ee[t];D(i.props.value),k&&k(e,i)}},tabIndex:-1,className:c.nativeInput,autoFocus:a},B)),s.createElement(f,{className:(0,va.Z)(c.icon,c["icon".concat((0,za.Z)(P))],ie&&c.iconOpen,u&&c.disabled)}),s.createElement(qo,(0,ba.Z)({id:"menu-".concat(v||""),anchorEl:F,open:ie,onClose:function(e){J(!1,e)}},y,{MenuListProps:(0,ba.Z)({"aria-labelledby":m,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:(0,ba.Z)({},y.PaperProps,{style:(0,ba.Z)({minWidth:oe},null!=y.PaperProps?y.PaperProps.style:null)})}),ae))}));const Uo=jo,zo=(0,i(25209).Z)(s.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var Ho=s.forwardRef((function(e,t){var i=e.classes,r=e.className,a=e.disabled,n=e.IconComponent,o=e.inputRef,c=e.variant,h=void 0===c?"standard":c,d=(0,ya.Z)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return s.createElement(s.Fragment,null,s.createElement("select",(0,ba.Z)({className:(0,va.Z)(i.root,i.select,i[h],r,a&&i.disabled),disabled:a,ref:o||t},d)),e.multiple?null:s.createElement(n,{className:(0,va.Z)(i.icon,i["icon".concat((0,za.Z)(h))],a&&i.disabled)}))}));const Ko=Ho;var Wo=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Zo=s.createElement(pn,null),Xo=s.forwardRef((function(e,t){var i=e.children,r=e.classes,a=e.IconComponent,n=void 0===a?zo:a,o=e.input,c=void 0===o?Zo:o,h=e.inputProps,d=(e.variant,(0,ya.Z)(e,["children","classes","IconComponent","input","inputProps","variant"])),u=Qa({props:e,muiFormControl:_n(),states:["variant"]});return s.cloneElement(c,(0,ba.Z)({inputComponent:Ko,inputProps:(0,ba.Z)({children:i,classes:r,IconComponent:n,variant:u.variant,type:void 0},h,c?c.props.inputProps:{}),ref:t},d))}));Xo.muiName="Select",(0,wa.Z)(Wo,{name:"MuiNativeSelect"})(Xo);var Yo=Wo,$o=s.createElement(pn,null),Qo=s.createElement(gn,null),Jo=s.forwardRef((function e(t,i){var r=t.autoWidth,a=void 0!==r&&r,n=t.children,o=t.classes,c=t.displayEmpty,h=void 0!==c&&c,d=t.IconComponent,u=void 0===d?zo:d,l=t.id,f=t.input,p=t.inputProps,m=t.label,g=t.labelId,y=t.labelWidth,b=void 0===y?0:y,v=t.MenuProps,w=t.multiple,k=void 0!==w&&w,S=t.native,_=void 0!==S&&S,M=t.onClose,T=t.onOpen,O=t.open,x=t.renderValue,I=t.SelectDisplayProps,C=t.variant,A=void 0===C?"standard":C,E=(0,ya.Z)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),N=_?Ko:Uo,P=Qa({props:t,muiFormControl:_n(),states:["variant"]}).variant||A,B=f||{standard:$o,outlined:s.createElement(Sn,{label:m,labelWidth:b}),filled:Qo}[P];return s.cloneElement(B,(0,ba.Z)({inputComponent:N,inputProps:(0,ba.Z)({children:n,IconComponent:u,variant:P,type:void 0,multiple:k},_?{id:l}:{autoWidth:a,displayEmpty:h,labelId:g,MenuProps:v,onClose:M,onOpen:T,open:O,renderValue:x,SelectDisplayProps:(0,ba.Z)({id:l},I)},p,{classes:p?(0,Pn.Z)({baseClasses:o,newClasses:p.classes,Component:e}):o},f?f.props.inputProps:{}),ref:i},E))}));Jo.muiName="Select";const ec=(0,wa.Z)(Yo,{name:"MuiSelect"})(Jo);var tc={standard:pn,filled:gn,outlined:Sn},ic=s.forwardRef((function(e,t){var i=e.autoComplete,r=e.autoFocus,a=void 0!==r&&r,n=e.children,o=e.classes,c=e.className,h=e.color,d=void 0===h?"primary":h,u=e.defaultValue,l=e.disabled,f=void 0!==l&&l,p=e.error,m=void 0!==p&&p,g=e.FormHelperTextProps,y=e.fullWidth,b=void 0!==y&&y,v=e.helperText,w=e.hiddenLabel,k=e.id,S=e.InputLabelProps,_=e.inputProps,M=e.InputProps,T=e.inputRef,O=e.label,x=e.multiline,I=void 0!==x&&x,C=e.name,A=e.onBlur,E=e.onChange,N=e.onFocus,P=e.placeholder,B=e.required,R=void 0!==B&&B,L=e.rows,V=e.rowsMax,D=e.maxRows,q=e.minRows,G=e.select,F=void 0!==G&&G,j=e.SelectProps,U=e.type,z=e.value,H=e.variant,K=void 0===H?"standard":H,W=(0,ya.Z)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),Z={};if("outlined"===K&&(S&&void 0!==S.shrink&&(Z.notched=S.shrink),O)){var X,Y=null!==(X=null==S?void 0:S.required)&&void 0!==X?X:R;Z.label=s.createElement(s.Fragment,null,O,Y&&"*")}F&&(j&&j.native||(Z.id=void 0),Z["aria-describedby"]=void 0);var $=v&&k?"".concat(k,"-helper-text"):void 0,Q=O&&k?"".concat(k,"-label"):void 0,J=tc[K],ee=s.createElement(J,(0,ba.Z)({"aria-describedby":$,autoComplete:i,autoFocus:a,defaultValue:u,fullWidth:b,multiline:I,name:C,rows:L,rowsMax:V,maxRows:D,minRows:q,type:U,value:z,id:k,inputRef:T,onBlur:A,onChange:E,onFocus:N,placeholder:P,inputProps:_},Z,M));return s.createElement(An,(0,ba.Z)({className:(0,va.Z)(o.root,c),disabled:f,error:m,fullWidth:b,hiddenLabel:w,ref:t,required:R,color:d,variant:K},W),O&&s.createElement(xn,(0,ba.Z)({htmlFor:k,id:Q},S),O),F?s.createElement(ec,(0,ba.Z)({"aria-describedby":$,id:k,labelId:Q,value:z,input:ee},j),n):ee,v&&s.createElement(Nn,(0,ba.Z)({id:$},g),v))}));const rc=(0,wa.Z)({root:{}},{name:"MuiTextField"})(ic);var sc,ac,nc,oc,cc,hc=Be.div(sc||(sc=r(["\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    box-sizing: border-box;\n    align-items: center;\n    background-color: #fff;\n    justify-content: center;\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.24s;\n\n    ","\n"])),(function(e){return e.visible&&"\n            pointer-events: initial;\n            opacity: 1;\n\n        "})),dc=Be.div(ac||(ac=r(["\n    position: relative;\n    width: 56%;\n    height: 56%;\n    max-width: 260px;\n    max-height: 260px;\n    min-width: 160px;\n\n    background-color: white;\n    border-radius: 50%;\n    box-sizing: border-box;\n\n\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 20px;\n   \n    &:before{\n        content: '';\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        filter: drop-shadow(5px 5px 3px rgba(0, 0, 0, .5));\n        background: transparent url(",") no-repeat center;\n        background-size: 100%;\n        width: 100%;\n        height: 100%;\n    }\n\n    &:after{\n        content: '';\n        font-size: 88px;\n        color: rgba(0,0,0,0.12);\n        font-weight: bold;\n        pointer-events: none;\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n"])),Ya),uc=Be.div(nc||(nc=r(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 56%;\n    max-width: 260px;\n    min-width: 160px;\n    margin-bottom: 50px;\n    button{\n        &:nth-of-type(1){\n            margin-top: 12px;\n        }\n    }\n\n    .error{\n        position: absolute;\n        left: 6px;\n        top: 44px;\n        color: transparent;\n        font-size: 10px;\n        margin-left: 14px;\n        font-weight: 500;\n        select-user: none;\n        transition: all 0.18s;\n        user-select: none;\n\n        &.incorrect{\n            color: rgba(0, 0, 0, 0.54);\n            left: 0px;\n        }\n    }\n\n    >div{\n        .MuiOutlinedInput-notchedOutline {\n            border-color: black !important;\n        }\n        >.MuiFormControl-root{\n            *{\n                color: rgba(0, 0, 0, 0.54); !important;\n                >input{\n                    color: #000;\n                }\n            }\n        }\n    }\n"]))),lc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Wa.Z)(e,(0,ba.Z)({defaultTheme:Za.Z},t))}((function(e){return{button:{backgroundColor:"#000","&:hover":{backgroundColor:"#333"}},textField:{backgroundColor:"#fff",width:"100%",borderRadius:"5px"}}})),fc=Be.div(oc||(oc=r(["\n    position: relative;\n    filter: invert(1);\n    width: 100%;\n    height: 100%;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-flow: column nowrap;\n"]))),pc=Be.div(cc||(cc=r(["\n    margin-bottom: 52px;\n    color: #999 !important;\n    text-align: center;\n    text-transform: capitalize;\n    font-size: 13px;\n    font-style: italic;\n    line-height: 1.068em;\n"])));function mc(e){var i=e.visible,r=e.style,a=void 0===r?{}:r,n=lc(),o=(0,s.useState)(""),c=(0,t.Z)(o,2),h=c[0],d=c[1],u=(0,s.useState)(!1),l=(0,t.Z)(u,2),f=l[0],p=l[1],m=(0,s.useCallback)(function(){var e=Ye(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.runtime.sendMessage({type:ga.MSG_VERIFY_PASSWORD,value:{password:t}},(function(e){chrome.runtime.lastError,!1===(null==e?void 0:e.success)&&p(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,s.useLayoutEffect)((function(){!0!==i&&d("")}),[i]),s.createElement(hc,{visible:i,style:a},s.createElement(fc,null,s.createElement(dc,null),s.createElement(pc,null,"Powered by kadena blockchain",s.createElement("br",null),"Manage tokens and txs",s.createElement("br",null),"in an easiest and most secure way",s.createElement("br",null)),s.createElement(uc,null,s.createElement("div",null,s.createElement(rc,{label:"Enter Password",className:n.textField,margin:"dense",variant:"outlined",size:"medium",type:"password",value:h,onChange:function(e){d(e.target.value),p(!1)},onKeyUp:function(e){13===e.keyCode&&m(h)},color:f?"secondary":"primary"}),s.createElement("div",{className:"error"+(f?" incorrect":"")},"Incorrect Password.")),s.createElement(Ka,{variant:"contained",size:"large",color:"secondary",startIcon:s.createElement(Xa.Z,{fontSize:"small"}),className:n.button,onClick:function(){return m(h)}},"Unlock"))))}var gc=i(25108),yc=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},bc=function(e){return!!e&&"function"==typeof e.then},vc=function(e,t){if(null!=e)return e;throw yc(null!=t?t:"Got unexpected null or undefined")};function wc(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class kc{getValue(){throw yc("BaseLoadable")}toPromise(){throw yc("BaseLoadable")}valueMaybe(){throw yc("BaseLoadable")}valueOrThrow(){throw yc(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw yc("BaseLoadable")}promiseOrThrow(){throw yc(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw yc("BaseLoadable")}errorOrThrow(){throw yc(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw yc("BaseLoadable")}}class Sc extends kc{constructor(e){super(),wc(this,"state","hasValue"),wc(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return bc(t)?xc(t):Ac(t)?t:Tc(t)}catch(t){return bc(t)?xc(t.next((()=>this.map(e)))):Oc(t)}}}class _c extends kc{constructor(e){super(),wc(this,"state","hasError"),wc(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Mc extends kc{constructor(e){super(),wc(this,"state","loading"),wc(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return xc(this.contents.then((t=>{const i=e(t);if(Ac(i)){const e=i;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return i})).catch((t=>{if(bc(t))return t.then((()=>this.map(e).contents));throw t})))}}function Tc(e){return Object.freeze(new Sc(e))}function Oc(e){return Object.freeze(new _c(e))}function xc(e){return Object.freeze(new Mc(e))}function Ic(){return Object.freeze(new Mc(new Promise((()=>{}))))}function Cc(e){const t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>Ac(e)?e:bc(e)?xc(e):Tc(e))),i=function(e){return e.every((e=>"hasValue"===e.state))?Tc(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?Oc(vc(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):xc(Promise.all(e.map((e=>e.contents))))}(t);return Array.isArray(e)?i:i.map((t=>Object.getOwnPropertyNames(e).reduce(((e,i,r)=>({...e,[i]:t[r]})),{})))}function Ac(e){return e instanceof kc}const Ec={of:e=>bc(e)?xc(e):Ac(e)?e:Tc(e),error:e=>Oc(e),loading:()=>Ic(),all:Cc,isLoadable:Ac};var Nc={loadableWithValue:Tc,loadableWithError:Oc,loadableWithPromise:xc,loadableLoading:Ic,loadableAll:Cc,isLoadable:Ac,RecoilLoadable:Ec},Pc=Nc.loadableWithValue,Bc=Nc.loadableWithError,Rc=Nc.loadableWithPromise,Lc=Nc.loadableLoading,Vc=Nc.loadableAll,Dc=Nc.isLoadable,qc=Nc.RecoilLoadable,Gc=Object.freeze({__proto__:null,loadableWithValue:Pc,loadableWithError:Bc,loadableWithPromise:Rc,loadableLoading:Lc,loadableAll:Vc,isLoadable:Dc,RecoilLoadable:qc});const Fc=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function jc(e){var t;return null!==(t=Fc.get(e))&&void 0!==t&&t}jc.setPass=e=>{Fc.set(e,!0)},jc.setFail=e=>{Fc.set(e,!1)},jc.clear=()=>{Fc.clear()};var Uc,zc,Hc,Kc=jc;const Wc=null!==(Uc=s.createMutableSource)&&void 0!==Uc?Uc:s.unstable_createMutableSource,Zc=null!==(zc=s.useMutableSource)&&void 0!==zc?zc:s.unstable_useMutableSource,Xc=null!==(Hc=s.useSyncExternalStore)&&void 0!==Hc?Hc:s.unstable_useSyncExternalStore;var Yc={createMutableSource:Wc,useMutableSource:Zc,useSyncExternalStore:Xc,reactMode:function(){return Kc("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Kc("recoil_sync_external_store")&&null!=Xc?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Kc("recoil_mutable_source")&&null!=Zc&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Kc("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Kc("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class $c{constructor(e){wc(this,"key",void 0),this.key=e}}class Qc extends $c{}class Jc extends $c{}var eh={AbstractRecoilValue:$c,RecoilState:Qc,RecoilValueReadOnly:Jc,isRecoilValue:function(e){return e instanceof Qc||e instanceof Jc}},th=eh.AbstractRecoilValue,ih=eh.RecoilState,rh=eh.RecoilValueReadOnly,sh=eh.isRecoilValue,ah=Object.freeze({__proto__:null,AbstractRecoilValue:th,RecoilState:ih,RecoilValueReadOnly:rh,isRecoilValue:sh}),nh=function(e,t){return function*(){let i=0;for(const r of e)yield t(r,i++)}()};const{isFastRefreshEnabled:oh}=Yc;class ch{}const hh=new ch;class dh extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const uh=new Map,lh=new Map;class fh extends Error{}const ph=new Map;function mh(e){return ph.get(e)}var gh,yh,bh={nodes:uh,recoilValues:lh,registerNode:function(e){if(uh.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;gc.warn(t)}uh.set(e.key,e);const t=null==e.set?new ah.RecoilValueReadOnly(e.key):new ah.RecoilState(e.key);return lh.set(e.key,t),t},getNode:function(e){const t=uh.get(e);if(null==t)throw new fh(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return uh.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!Kc("recoil_memory_managament_2020"))return;const i=uh.get(e);var r;null!=i&&null!==(t=i.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(i)&&(uh.delete(e),null===(r=mh(e))||void 0===r||r(),ph.delete(e))},setConfigDeletionHandler:function(e,t){Kc("recoil_memory_managament_2020")&&(void 0===t?ph.delete(e):ph.set(e,t))},getConfigDeletionHandler:mh,recoilValuesForKeys:function(e){return nh(e,(e=>vc(lh.get(e))))},NodeMissingError:fh,DefaultValue:ch,DEFAULT_VALUE:hh,RecoilValueNotReady:dh},vh=function(e,t){t()},wh=(gh=function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={},r=Math.pow(2,5),s=r-1,a=r/2,n=r/4,o={},c=function(e){return function(){return e}},h=i.hash=function(e){var i=void 0===e?"undefined":t(e);if("number"===i)return e;"string"!==i&&(e+="");for(var r=0,s=0,a=e.length;s<a;++s)r=(r<<5)-r+e.charCodeAt(s)|0;return r},d=function(e,t){return t>>>e&s},u=function(e){return 1<<e},l=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)},f=function(e,t,i,r){var s=r;if(!e){var a=r.length;s=new Array(a);for(var n=0;n<a;++n)s[n]=r[n]}return s[t]=i,s},p=function(e,t,i){var r=i.length-1,s=0,a=0,n=i;if(e)s=a=t;else for(n=new Array(r);s<t;)n[a++]=i[s++];for(++s;s<=r;)n[a++]=i[s++];return e&&(n.length=r),n},m={__hamt_isEmpty:!0},g=function(e){return e===m||e&&e.__hamt_isEmpty},y=function(e,t,i,r){return{type:1,edit:e,hash:t,key:i,value:r,_modify:_}},b=function(e,t,i){return{type:2,edit:e,hash:t,children:i,_modify:M}},v=function(e,t,i){return{type:3,edit:e,mask:t,children:i,_modify:T}},w=function(e,t,i){return{type:4,edit:e,size:t,children:i,_modify:O}},k=function e(t,i,r,s,a,n){if(r===a)return b(t,r,[n,s]);var o=d(i,r),c=d(i,a);return v(t,u(o)|u(c),o===c?[e(t,i+5,r,s,a,n)]:o<c?[s,n]:[n,s])},S=function(e,t){return e===t.edit},_=function(e,t,i,r,s,a,n){if(t(a,this.key)){var c=r(this.value);return c===this.value?this:c===o?(--n.value,m):S(e,this)?(this.value=c,this):y(e,s,a,c)}var h=r();return h===o?this:(++n.value,k(e,i,this.hash,this,s,y(e,s,a,h)))},M=function(e,t,i,r,s,a,n){if(s===this.hash){var c=function(e,t,i,r,s,a,n,c){for(var h=s.length,d=0;d<h;++d){var u=s[d];if(i(n,u.key)){var l=u.value,m=a(l);return m===l?s:m===o?(--c.value,p(e,d,s)):f(e,d,y(t,r,n,m),s)}}var g=a();return g===o?s:(++c.value,f(e,h,y(t,r,n,g),s))}(S(e,this),e,t,this.hash,this.children,r,a,n);return c===this.children?this:c.length>1?b(e,this.hash,c):c[0]}var h=r();return h===o?this:(++n.value,k(e,i,this.hash,this,s,y(e,s,a,h)))},T=function(e,t,i,r,s,n,o){var c=this.mask,h=this.children,y=d(i,s),b=u(y),k=l(c,b),_=c&b,M=_?h[k]:m,T=M._modify(e,t,i+5,r,s,n,o);if(M===T)return this;var O,x=S(e,this),I=c,C=void 0;if(_&&g(T)){if(!(I&=~b))return m;if(h.length<=2&&((O=h[1^k])===m||1===O.type||2===O.type))return h[1^k];C=p(x,k,h)}else if(_||g(T))C=f(x,k,T,h);else{if(h.length>=a)return function(e,t,i,r,s){for(var a=[],n=r,o=0,c=0;n;++c)1&n&&(a[c]=s[o++]),n>>>=1;return a[t]=i,w(e,o+1,a)}(e,y,T,c,h);I|=b,C=function(e,t,i,r){var s=r.length;if(e){for(var a=s;a>=t;)r[a--]=r[a];return r[t]=i,r}for(var n=0,o=0,c=new Array(s+1);n<t;)c[o++]=r[n++];for(c[t]=i;n<s;)c[++o]=r[n++];return c}(x,k,T,h)}return x?(this.mask=I,this.children=C,this):v(e,I,C)},O=function(e,t,i,r,s,a,o){var c=this.size,h=this.children,u=d(i,s),l=h[u],p=(l||m)._modify(e,t,i+5,r,s,a,o);if(l===p)return this;var y=S(e,this),b=void 0;if(g(l)&&!g(p))++c,b=f(y,u,p,h);else if(!g(l)&&g(p)){if(--c<=n)return function(e,t,i,r){for(var s=new Array(t-1),a=0,n=0,o=0,c=r.length;o<c;++o)if(o!==i){var h=r[o];h&&!g(h)&&(s[a++]=h,n|=1<<o)}return v(e,n,s)}(e,c,u,h);b=f(y,u,m,h)}else b=f(y,u,p,h);return y?(this.size=c,this.children=b,this):w(e,c,b)};function x(e,t,i,r,s){this._editable=e,this._edit=t,this._config=i,this._root=r,this._size=s}m._modify=function(e,t,i,r,s,a,n){var c=r();return c===o?m:(++n.value,y(e,s,a,c))},x.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new x(this._editable,this._edit,this._config,e,t)};var I=i.tryGetHash=function(e,t,i,r){for(var s=r._root,a=0,n=r._config.keyEq;;)switch(s.type){case 1:return n(i,s.key)?s.value:e;case 2:if(t===s.hash)for(var o=s.children,c=0,h=o.length;c<h;++c){var f=o[c];if(n(i,f.key))return f.value}return e;case 3:var p=d(a,t),m=u(p);if(s.mask&m){s=s.children[l(s.mask,m)],a+=5;break}return e;case 4:if(s=s.children[d(a,t)]){a+=5;break}return e;default:return e}};x.prototype.tryGetHash=function(e,t,i){return I(e,t,i,this)};var C=i.tryGet=function(e,t,i){return I(e,i._config.hash(t),t,i)};x.prototype.tryGet=function(e,t){return C(e,t,this)};var A=i.getHash=function(e,t,i){return I(void 0,e,t,i)};x.prototype.getHash=function(e,t){return A(e,t,this)},i.get=function(e,t){return I(void 0,t._config.hash(e),e,t)},x.prototype.get=function(e,t){return C(t,e,this)};var E=i.has=function(e,t,i){return I(o,e,t,i)!==o};x.prototype.hasHash=function(e,t){return E(e,t,this)};var N=i.has=function(e,t){return E(t._config.hash(e),e,t)};x.prototype.has=function(e){return N(e,this)};var P=function(e,t){return e===t};i.make=function(e){return new x(0,0,{keyEq:e&&e.keyEq||P,hash:e&&e.hash||h},m,0)},i.empty=i.make();var B=i.isEmpty=function(e){return e&&!!g(e._root)};x.prototype.isEmpty=function(){return B(this)};var R=i.modifyHash=function(e,t,i,r){var s={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,i,s);return r.setTree(a,s.value)};x.prototype.modifyHash=function(e,t,i){return R(i,e,t,this)};var L=i.modify=function(e,t,i){return R(e,i._config.hash(t),t,i)};x.prototype.modify=function(e,t){return L(t,e,this)};var V=i.setHash=function(e,t,i,r){return R(c(i),e,t,r)};x.prototype.setHash=function(e,t,i){return V(e,t,i,this)};var D=i.set=function(e,t,i){return V(i._config.hash(e),e,t,i)};x.prototype.set=function(e,t){return D(e,t,this)};var q=c(o),G=i.removeHash=function(e,t,i){return R(q,e,t,i)};x.prototype.removeHash=x.prototype.deleteHash=function(e,t){return G(e,t,this)};var F=i.remove=function(e,t){return G(t._config.hash(e),e,t)};x.prototype.remove=x.prototype.delete=function(e){return F(e,this)};var j=i.beginMutation=function(e){return new x(e._editable+1,e._edit+1,e._config,e._root,e._size)};x.prototype.beginMutation=function(){return j(this)};var U=i.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};x.prototype.endMutation=function(){return U(this)};var z=i.mutate=function(e,t){var i=j(t);return e(i),U(i)};x.prototype.mutate=function(e){return z(e,this)};var H=function(e){return e&&K(e[0],e[1],e[2],e[3],e[4])},K=function(e,t,i,r,s){for(;i<e;){var a=t[i++];if(a&&!g(a))return W(a,r,[e,t,i,r,s])}return H(s)},W=function(e,t,i){switch(e.type){case 1:return{value:t(e),rest:i};case 2:case 4:case 3:var r=e.children;return K(r.length,r,0,t,i);default:return H(i)}},Z={done:!0};function X(e){this.v=e}X.prototype.next=function(){if(!this.v)return Z;var e=this.v;return this.v=H(e.rest),e},X.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new X(W(e._root,t))},$=function(e){return[e.key,e.value]},Q=i.entries=function(e){return Y(e,$)};x.prototype.entries=x.prototype[Symbol.iterator]=function(){return Q(this)};var J=function(e){return e.key},ee=i.keys=function(e){return Y(e,J)};x.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ie=i.values=x.prototype.values=function(e){return Y(e,te)};x.prototype.values=function(){return ie(this)};var re=i.fold=function(e,t,i){var r=i._root;if(1===r.type)return e(t,r.value,r.key);for(var s=[r.children],a=void 0;a=s.pop();)for(var n=0,o=a.length;n<o;){var c=a[n++];c&&c.type&&(1===c.type?t=e(t,c.value,c.key):s.push(c.children))}return t};x.prototype.fold=function(e,t){return re(e,t,this)};var se=i.forEach=function(e,t){return re((function(i,r,s){return e(r,s,t)}),null,t)};x.prototype.forEach=function(e){return se(e,this)};var ae=i.count=function(e){return e._size};x.prototype.count=function(){return ae(this)},Object.defineProperty(x.prototype,"size",{get:x.prototype.count}),e.exports?e.exports=i:(void 0).hamt=i},gh(yh={exports:{}}),yh.exports);class kh{constructor(e){wc(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return _h(this)}toMap(){return new Map(this._map)}}class Sh{constructor(e){if(wc(this,"_hamt",wh.empty.beginMutation()),e instanceof Sh){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,i]of e.entries())this._hamt.set(t,i)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return _h(this)}toMap(){return new Map(this._hamt)}}function _h(e){return Kc("recoil_hamt_2020")?new Sh(e):new kh(e)}var Mh=_h,Th=Object.freeze({__proto__:null,persistentMap:Mh}),Oh=function(e,...t){const i=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;i.add(r)}return i},xh=function(e,t){const i=new Map;return e.forEach(((e,r)=>{i.set(r,t(e,r))})),i};function Ih(e,t,i,r){const{nodeDeps:s,nodeToNodeSubscriptions:a}=i,n=s.get(e);if(n&&r&&n!==r.nodeDeps.get(e))return;s.set(e,t);const o=null==n?t:Oh(t,n);for(const t of o)a.has(t)||a.set(t,new Set),vc(a.get(t)).add(e);if(n){const i=Oh(n,t);for(const t of i){if(!a.has(t))return;const i=vc(a.get(t));i.delete(e),0===i.size&&a.delete(t)}}}var Ch={cloneGraph:function(e){return{nodeDeps:xh(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:xh(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,i,r){var s,a,n,o;const c=i.getState();r!==c.currentTree.version&&r!==(null===(s=c.nextTree)||void 0===s?void 0:s.version)&&(null===(a=c.previousTree)||void 0===a||a.version);const h=i.getGraph(r);if(Ih(e,t,h),r===(null===(n=c.previousTree)||void 0===n?void 0:n.version)&&Ih(e,t,i.getGraph(c.currentTree.version),h),r===(null===(o=c.previousTree)||void 0===o?void 0:o.version)||r===c.currentTree.version){var d;const r=null===(d=c.nextTree)||void 0===d?void 0:d.version;void 0!==r&&Ih(e,t,i.getGraph(r),h)}}};let Ah=0,Eh=0,Nh=0;var Ph={getNextTreeStateVersion:()=>Ah++,getNextStoreID:()=>Eh++,getNextComponentID:()=>Nh++};const{persistentMap:Bh}=Th,{graph:Rh}=Ch,{getNextTreeStateVersion:Lh}=Ph;function Vh(){const e=Lh();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Bh(),nonvalidatedAtoms:Bh()}}var Dh={makeEmptyTreeState:Vh,makeEmptyStoreState:function(){const e=Vh();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Rh()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Lh};class qh{}var Gh={RetentionZone:qh,retentionZone:function(){return new qh}},Fh={setByAddingToSet:function(e,t){const i=new Set(e);return i.add(t),i},setByDeletingFromSet:function(e,t){const i=new Set(e);return i.delete(t),i},mapBySettingInMap:function(e,t,i){const r=new Map(e);return r.set(t,i),r},mapByUpdatingInMap:function(e,t,i){const r=new Map(e);return r.set(t,i(r.get(t))),r},mapByDeletingFromMap:function(e,t){const i=new Map(e);return i.delete(t),i},mapByDeletingMultipleFromMap:function(e,t){const i=new Map(e);return t.forEach((e=>i.delete(e))),i}},jh=function*(e,t){let i=0;for(const r of e)t(r,i++)&&(yield r)},Uh=function(e,t){return new Proxy(e,{get:(e,i)=>(!(i in e)&&i in t&&(e[i]=t[i]()),e[i]),ownKeys:e=>Object.keys(e)})};const{getNode:zh,getNodeMaybe:Hh,recoilValuesForKeys:Kh}=bh,{RetentionZone:Wh}=Gh,{setByAddingToSet:Zh}=Fh,Xh=Object.freeze(new Set);class Yh extends Error{}function $h(e,t,i,r){const s=e.getState();if(s.nodeCleanupFunctions.has(i))return;const a=zh(i),n=function(e,t,i){if(!Kc("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function s(e){let i=r.get(e);i||r.set(e,i=new Set),i.add(t)}if(i instanceof Wh)s(i);else if(Array.isArray(i))for(const e of i)s(e);return()=>{if(!Kc("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function s(e){const i=r.nodesRetainedByZone.get(e);null==i||i.delete(t),i&&0===i.size&&r.nodesRetainedByZone.delete(e)}if(i instanceof Wh)s(i);else if(Array.isArray(i))for(const e of i)s(e)}}(e,i,a.retainedBy),o=a.init(e,t,r);s.nodeCleanupFunctions.set(i,(()=>{o(),n()}))}function Qh(e,t,i){return zh(i).peek(e,t)}function Jh(e,t,i){const r=new Set,s=Array.from(i),a=e.getGraph(t.version);for(let e=s.pop();e;e=s.pop()){var n;r.add(e);const t=null!==(n=a.nodeToNodeSubscriptions.get(e))&&void 0!==n?n:Xh;for(const e of t)r.has(e)||s.push(e)}return r}var ed={getNodeLoadable:function(e,t,i){return $h(e,t,i,"get"),zh(i).get(e,t)},peekNodeLoadable:Qh,setNodeValue:function(e,t,i,r){const s=zh(i);if(null==s.set)throw new Yh(`Attempt to set read-only RecoilValue: ${i}`);const a=s.set;return $h(e,t,i,"set"),a(e,t,r)},initializeNode:function(e,t,i){$h(e,e.getState().currentTree,t,i)},cleanUpNode:function(e,t){var i;const r=e.getState();null===(i=r.nodeCleanupFunctions.get(t))||void 0===i||i(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,i){var r;const s=Hh(t);return null==s||null===(r=s.invalidate)||void 0===r||r.call(s,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,i),dirtyAtoms:Zh(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,i){const r=e.getState(),s=e.getGraph(t.version),a=zh(i).nodeType;return Uh({type:a},{loadable:()=>Qh(e,t,i),isActive:()=>r.knownAtoms.has(i)||r.knownSelectors.has(i),isSet:()=>"selector"!==a&&t.atomValues.has(i),isModified:()=>t.dirtyAtoms.has(i),deps:()=>{var e;return Kh(null!==(e=s.nodeDeps.get(i))&&void 0!==e?e:[])},subscribers:()=>{var s,a;return{nodes:Kh(jh(Jh(e,t,new Set([i])),(e=>e!==i))),components:nh(null!==(s=null===(a=r.nodeToComponentSubscriptions.get(i))||void 0===a?void 0:a.values())&&void 0!==s?s:[],(([e])=>({name:e})))}}})},getDownstreamNodes:Jh};let td=null;var id={setInvalidateMemoizedSnapshot:function(e){td=e},invalidateMemoizedSnapshot:function(){var e;null===(e=td)||void 0===e||e()}};const{getDownstreamNodes:rd,getNodeLoadable:sd,setNodeValue:ad}=ed,{getNextComponentID:nd}=Ph,{getNode:od,getNodeMaybe:cd}=bh,{DefaultValue:hd,RecoilValueNotReady:dd}=bh,{reactMode:ud}=Yc,{AbstractRecoilValue:ld,RecoilState:fd,RecoilValueReadOnly:pd,isRecoilValue:md}=ah,{invalidateMemoizedSnapshot:gd}=id;function yd(e,t,i){if("set"===i.type){const{recoilValue:r,valueOrUpdater:s}=i,a=function(e,t,{key:i},r){if("function"==typeof r){const s=sd(e,t,i);if("loading"===s.state)throw new dd(i);if("hasError"===s.state)throw s.contents;return r(s.contents)}return r}(e,t,r,s),n=ad(e,t,r.key,a);for(const[e,i]of n.entries())bd(t,e,i)}else if("setLoadable"===i.type){const{recoilValue:{key:e},loadable:r}=i;bd(t,e,r)}else if("markModified"===i.type){const{recoilValue:{key:e}}=i;t.dirtyAtoms.add(e)}else if("setUnvalidated"===i.type){var r;const{recoilValue:{key:e},unvalidatedValue:s}=i,a=cd(e);null==a||null===(r=a.invalidate)||void 0===r||r.call(a,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,s),t.dirtyAtoms.add(e)}else i.type}function bd(e,t,i){"hasValue"===i.state&&i.contents instanceof hd?e.atomValues.delete(t):e.atomValues.set(t,i),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function vd(e,t){e.replaceState((i=>{const r=Sd(i);for(const i of t)yd(e,r,i);return _d(e,r),gd(),r}))}function wd(e,t){if(kd.length){const i=kd[kd.length-1];let r=i.get(e);r||i.set(e,r=[]),r.push(t)}else vd(e,[t])}const kd=[];function Sd(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function _d(e,t){const i=rd(e,t,t.dirtyAtoms);for(const e of i){var r,s;null===(r=cd(e))||void 0===r||null===(s=r.invalidate)||void 0===s||s.call(r,t)}}function Md(e,t,i){wd(e,{type:"set",recoilValue:t,valueOrUpdater:i})}var Td={RecoilValueReadOnly:pd,AbstractRecoilValue:ld,RecoilState:fd,getRecoilValueAsLoadable:function(e,{key:t},i=e.getState().currentTree){var r,s;const a=e.getState();i.version!==a.currentTree.version&&i.version!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&(i.version,null===(s=a.previousTree)||void 0===s||s.version);const n=sd(e,i,t);return"loading"===n.state&&n.contents.catch((()=>{})),n},setRecoilValue:Md,setRecoilValueLoadable:function(e,t,i){if(i instanceof hd)return Md(e,t,i);wd(e,{type:"setLoadable",recoilValue:t,loadable:i})},markRecoilValueModified:function(e,t){wd(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,i){wd(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:i})},subscribeToRecoilValue:function(e,{key:t},i,r=null){const s=nd(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),vc(a.nodeToComponentSubscriptions.get(t)).set(s,[null!=r?r:"<not captured>",i]);const n=ud();if(n.early&&("LEGACY"===n.mode||"MUTABLE_SOURCE"===n.mode)){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&i(r)}return{release:()=>{const i=e.getState(),r=i.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(s)&&(r.delete(s),0===r.size&&i.nodeToComponentSubscriptions.delete(t))}}},isRecoilValue:md,applyAtomValueWrites:function(e,t){const i=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof hd?i.delete(t):i.set(t,e)})),i},batchStart:function(){const e=new Map;return kd.push(e),()=>{for(const[t,i]of e)vd(t,i);kd.pop()}},writeLoadableToTreeState:bd,invalidateDownstreams:_d,copyTreeState:Sd,refreshRecoilValue:function(e,t){var i;const{currentTree:r}=e.getState(),s=od(t.key);null===(i=s.clearCache)||void 0===i||i.call(s,e,r)}},Od=function(e,t,i){const r=e.entries();let s=r.next();for(;!s.done;){const a=s.value;if(t.call(i,a[1],a[0],e))return!0;s=r.next()}return!1};const{cleanUpNode:xd}=ed,{deleteNodeConfigIfPossible:Id,getNode:Cd}=bh,{RetentionZone:Ad}=Gh,Ed=new Set;function Nd(e,t){const i=e.getState(),r=i.currentTree;if(i.nextTree)return;const s=new Set;for(const e of t)if(e instanceof Ad)for(const t of Bd(i,e))s.add(t);else s.add(e);const a=function(e,t){const i=e.getState(),r=i.currentTree,s=e.getGraph(r.version),a=new Set,n=new Set;return function t(o){const c=new Set,h=function(e,t,i,r,s){const a=e.getGraph(t.version),n=[],o=new Set;for(;i.size>0;)c(vc(i.values().next().value));return n;function c(e){if(r.has(e)||s.has(e))return void i.delete(e);if(o.has(e))return;const t=a.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)c(e);o.add(e),i.delete(e),n.push(e)}}(e,r,o,a,n);for(const e of h){var d;if("recoilRoot"===Cd(e).retainedBy){n.add(e);continue}if((null!==(d=i.retention.referenceCounts.get(e))&&void 0!==d?d:0)>0){n.add(e);continue}if(Rd(e).some((e=>i.retention.referenceCounts.get(e)))){n.add(e);continue}const t=s.nodeToNodeSubscriptions.get(e);t&&Od(t,(e=>n.has(e)))?n.add(e):(a.add(e),c.add(e))}const u=new Set;for(const e of c)for(const t of null!==(l=s.nodeDeps.get(e))&&void 0!==l?l:Ed){var l;a.has(t)||u.add(t)}u.size&&t(u)}(t),a}(e,s);for(const t of a)Pd(e,r,t)}function Pd(e,t,i){if(!Kc("recoil_memory_managament_2020"))return;xd(e,i);const r=e.getState();r.knownAtoms.delete(i),r.knownSelectors.delete(i),r.nodeTransactionSubscriptions.delete(i),r.retention.referenceCounts.delete(i);const s=Rd(i);for(const e of s){var a;null===(a=r.retention.nodesRetainedByZone.get(e))||void 0===a||a.delete(i)}t.atomValues.delete(i),t.dirtyAtoms.delete(i),t.nonvalidatedAtoms.delete(i);const n=r.graphsByVersion.get(t.version);if(n){const e=n.nodeDeps.get(i);if(void 0!==e){n.nodeDeps.delete(i);for(const t of e){var o;null===(o=n.nodeToNodeSubscriptions.get(t))||void 0===o||o.delete(i)}}n.nodeToNodeSubscriptions.delete(i)}Id(i)}function Bd(e,t){var i;return null!==(i=e.retention.nodesRetainedByZone.get(t))&&void 0!==i?i:Ed}function Rd(e){const t=Cd(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Ad?[t]:t}function Ld(e,t){Kc("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){const i=e.getState();i.nextTree?i.retention.retainablesToCheckForRelease.add(t):Nd(e,new Set([t]))}(e,t))}var Vd={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,i){var r;if(!Kc("recoil_memory_managament_2020"))return;const s=e.getState().retention.referenceCounts,a=(null!==(r=s.get(t))&&void 0!==r?r:0)+i;0===a?Ld(e,t):s.set(t,a)},updateRetainCountToZero:Ld,releaseScheduledRetainablesNow:function(e){if(!Kc("recoil_memory_managament_2020"))return;const t=e.getState();Nd(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:Dd}=Sa;var qd={unstable_batchedUpdates:Dd};const{unstable_batchedUpdates:Gd}=qd;var Fd={unstable_batchedUpdates:Gd};const{batchStart:jd}=Td,{unstable_batchedUpdates:Ud}=Fd;let zd=Ud;var Hd={getBatcher:()=>zd,setBatcher:e=>{zd=e},batchUpdates:e=>{zd((()=>{let t=()=>{};try{t=jd(),e()}finally{t()}}))}},Kd=function*(e){for(const t of e)for(const e of t)yield e};const Wd="undefined"==typeof Window||"undefined"==typeof window,Zd="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var Xd={isSSR:Wd,isReactNative:Zd,isWindow:e=>!Wd&&(e===window||e instanceof Window)},Yd={memoizeWithArgsHash:function(e,t){let i;return(...r)=>{i||(i={});const s=t(...r);return Object.hasOwnProperty.call(i,s)||(i[s]=e(...r)),i[s]}},memoizeOneWithArgsHash:function(e,t){let i,r;return(...s)=>{const a=t(...s);return i===a||(i=a,r=e(...s)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let i,r;return[(...s)=>{const a=t(...s);return i===a||(i=a,r=e(...s)),r},()=>{i=null}]}};const{batchUpdates:$d}=Hd,{initializeNode:Qd,peekNodeInfo:Jd}=ed,{graph:eu}=Ch,{getNextStoreID:tu}=Ph,{DEFAULT_VALUE:iu,recoilValues:ru,recoilValuesForKeys:su}=bh,{AbstractRecoilValue:au,getRecoilValueAsLoadable:nu,setRecoilValue:ou,setUnvalidatedRecoilValue:cu}=Td,{updateRetainCount:hu}=Vd,{setInvalidateMemoizedSnapshot:du}=id,{getNextTreeStateVersion:uu,makeEmptyStoreState:lu}=Dh,{isSSR:fu}=Xd,{memoizeOneWithArgsHashAndInvalidation:pu}=Yd;class mu{constructor(e){wc(this,"_store",void 0),wc(this,"_refCount",1),wc(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),nu(this._store,e)))),wc(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),wc(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return su(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?ru.values():!0===e.isInitialized?su(Kd([t,i])):jh(ru.values(),(({key:e})=>!t.has(e)&&!i.has(e)))})),wc(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),Jd(this._store,this._store.getState().currentTree,e)))),wc(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new vu(this,$d);return e(t),t})),wc(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new vu(this,$d);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:tu(),getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const i=e.graphsByVersion;if(i.has(t))return vc(i.get(t));const r=eu();return i.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw yc("Cannot subscribe to Snapshots")}};for(const e of this._store.getState().knownAtoms)Qd(this._store,e,"get"),hu(this._store,e,1);this.autoRelease_INTERNAL()}retain(){this._refCount,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){fu||window.setTimeout((()=>this._release()),0)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!Kc("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Kc("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function gu(e,t,i=!1){const r=e.getState(),s=i?uu():t.version;return{currentTree:{version:i?s:t.version,stateID:i?s:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(s,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(nh(r.nodeCleanupFunctions.entries(),(([e])=>[e,()=>{}])))}}const[yu,bu]=pu(((e,t)=>{var i;const r=e.getState(),s="latest"===t?null!==(i=r.nextTree)&&void 0!==i?i:r.currentTree:vc(r.previousTree);return new mu(gu(e,s))}),((e,t)=>{var i,r;return String(t)+String(e.storeID)+String(null===(i=e.getState().nextTree)||void 0===i?void 0:i.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)}));du(bu);class vu extends mu{constructor(e,t){super(gu(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),wc(this,"_batch",void 0),wc(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch((()=>{hu(i,e.key,1),ou(this.getStore_INTERNAL(),e,t)}))})),wc(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{hu(t,e.key,1),ou(this.getStore_INTERNAL(),e,iu)}))})),wc(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();$d((()=>{for(const[i,r]of e.entries())hu(t,i,1),cu(t,new au(i),r)}))})),this._batch=t}}var wu={Snapshot:mu,MutableSnapshot:vu,freshSnapshot:function(e){const t=new mu(lu());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){const i=yu(e,t);return i.isRetained()?i:(bu(),yu(e,t))}},ku=wu.Snapshot,Su=wu.MutableSnapshot,_u=wu.freshSnapshot,Mu=wu.cloneSnapshot,Tu=Object.freeze({__proto__:null,Snapshot:ku,MutableSnapshot:Su,freshSnapshot:_u,cloneSnapshot:Mu}),Ou=function(...e){const t=new Set;for(const i of e)for(const e of i)t.add(e);return t};const{useRef:xu}=s;var Iu=function(e){const t=xu(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:Cu,makeEmptyStoreState:Au}=Dh,{cleanUpNode:Eu,getDownstreamNodes:Nu,initializeNode:Pu,setNodeValue:Bu,setUnvalidatedAtomValue_DEPRECATED:Ru}=ed,{graph:Lu}=Ch,{cloneGraph:Vu}=Ch,{getNextStoreID:Du}=Ph,{createMutableSource:qu,reactMode:Gu}=Yc,{applyAtomValueWrites:Fu}=Td,{releaseScheduledRetainablesNow:ju}=Vd,{freshSnapshot:Uu}=Tu,{useCallback:zu,useContext:Hu,useEffect:Ku,useMemo:Wu,useRef:Zu,useState:Xu}=s;function Yu(){throw yc("This component must be used inside a <RecoilRoot> component.")}const $u=Object.freeze({storeID:Du(),getState:Yu,replaceState:Yu,getGraph:Yu,subscribeToTransactions:Yu,addTransactionMetadata:Yu});let Qu=!1;function Ju(e){if(Qu)throw yc("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){Kc("recoil_memory_managament_2020")&&Kc("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&ju(e);const i=t.currentTree.version,r=Cu();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,Vu(vc(t.graphsByVersion.get(i))))}}const el=s.createContext({current:$u}),tl=()=>Hu(el),il=s.createContext(null);function rl(e,t,i){const r=Nu(e,i,i.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,s]]of r)s(i)}}function sl(e){const t=e.getState(),i=t.currentTree,r=i.dirtyAtoms;if(r.size){for(const[i,s]of t.nodeTransactionSubscriptions)if(r.has(i))for(const[t,i]of s)i(e);for(const[i,r]of t.transactionSubscriptions)r(e);(!Gu().early||t.suspendedComponentResolvers.size>0)&&(rl(e,t,i),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(i))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function al({setNotifyBatcherOfChange:e}){const t=tl(),[,i]=Xu([]);return e((()=>i({}))),Ku((()=>(e((()=>i({}))),()=>{e((()=>{}))})),[e]),Ku((()=>{vh("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:i}=t;if(null==i)return;t.previousTree=t.currentTree,t.currentTree=i,t.nextTree=null,sl(e),null!=t.previousTree&&t.graphsByVersion.delete(t.previousTree.version),t.previousTree=null,Kc("recoil_memory_managament_2020")&&null==i&&ju(e)}finally{t.commitDepth--}}(t.current)}))})),null}let nl=0;function ol({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:i,children:r}){let a;const n=e=>{const t=a.current.graphsByVersion;if(t.has(e))return vc(t.get(e));const i=Lu();return t.set(e,i),i},o=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=l.current.getState(),i=nl++;return t.set(i,e),{release:()=>{t.delete(i)}}}{const{nodeTransactionSubscriptions:i}=l.current.getState();i.has(t)||i.set(t,new Map);const r=nl++;return vc(i.get(t)).set(r,e),{release:()=>{const e=i.get(t);e&&(e.delete(r),0===e.size&&i.delete(t))}}}},c=e=>{Ju(l.current);for(const t of Object.keys(e))vc(l.current.getState().nextTree).transactionMetadata[t]=e[t]},h=e=>{Ju(l.current);const t=vc(a.current.nextTree);let i;try{Qu=!0,i=e(t)}finally{Qu=!1}i!==t&&(a.current.nextTree=i,Gu().early&&rl(l.current,a.current,i),vc(d.current)())},d=Zu(null),u=zu((e=>{d.current=e}),[d]),l=Iu((()=>null!=i?i:{storeID:Du(),getState:()=>a.current,replaceState:h,getGraph:n,subscribeToTransactions:o,addTransactionMetadata:c}));null!=i&&(l.current=i),a=Iu((()=>null!=e?function(e,t){const i=Au();return t({set:(t,r)=>{const s=i.currentTree,a=Bu(e,s,t.key,r),n=new Set(a.keys()),o=s.nonvalidatedAtoms.clone();for(const e of n)o.delete(e);i.currentTree={...s,dirtyAtoms:Ou(s.dirtyAtoms,n),atomValues:Fu(s.atomValues,a),nonvalidatedAtoms:o}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{i.currentTree=Ru(i.currentTree,t,e)}))}}),i}(l.current,e):null!=t?function(e){const t=Uu().map(e),i=t.getStore_INTERNAL().getState();return t.retain(),i.nodeCleanupFunctions.forEach((e=>e())),i.nodeCleanupFunctions.clear(),i}(t):Au()));const f=Wu((()=>null==qu?void 0:qu(a,(()=>a.current.currentTree.version))),[a]);return Ku((()=>{const e=l.current;for(const t of new Set(e.getState().knownAtoms))Pu(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)Eu(e,t)}}),[l]),s.createElement(el.Provider,{value:l},s.createElement(il.Provider,{value:f},s.createElement(al,{setNotifyBatcherOfChange:u}),r))}var cl={RecoilRoot:function(e){const{override:t,...i}=e,r=tl();return!1===t&&r.current!==$u?e.children:s.createElement(ol,i)},useStoreRef:tl,useRecoilMutableSource:function(){const e=Hu(il);return e},useRecoilStoreID:function(){return tl().current.storeID},notifyComponents_FOR_TESTING:rl,sendEndOfBatchNotifications_FOR_TESTING:sl};const{useEffect:hl,useRef:dl}=s;var ul=function(e){const t=dl();return hl((()=>{t.current=e})),t.current};const{useStoreRef:ll}=cl,{SUSPENSE_TIMEOUT_MS:fl}=Vd,{updateRetainCount:pl}=Vd,{RetentionZone:ml}=Gh,{useEffect:gl,useRef:yl}=s,{isSSR:bl}=Xd;var vl=function(e){if(Kc("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof ml?e:e.key)),i=ll();gl((()=>{if(!Kc("recoil_memory_managament_2020"))return;const e=i.current;if(r.current&&!bl)window.clearTimeout(r.current),r.current=null;else for(const i of t)pl(e,i,1);return()=>{for(const i of t)pl(e,i,-1)}}),[i,...t]);const r=yl(),s=ul(t);if(!(bl||void 0!==s&&function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(e[i]!==t[i])return!1;return!0}(s,t))){const e=i.current;for(const i of t)pl(e,i,1);if(s)for(const t of s)pl(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const i of t)pl(e,i,-1)}),fl)}}(e)};const{batchUpdates:wl}=Hd,{DEFAULT_VALUE:kl}=bh,{reactMode:Sl,useMutableSource:_l,useSyncExternalStore:Ml}=Yc,{useRecoilMutableSource:Tl,useStoreRef:Ol}=cl,{isRecoilValue:xl}=ah,{AbstractRecoilValue:Il,getRecoilValueAsLoadable:Cl,setRecoilValue:Al,setUnvalidatedRecoilValue:El,subscribeToRecoilValue:Nl}=Td,{useCallback:Pl,useEffect:Bl,useMemo:Rl,useRef:Ll,useState:Vl}=s,{setByAddingToSet:Dl}=Fh;function ql(e,t,i){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((e=>{i.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:yc(`Invalid value of loadable atom "${t.key}"`)}function Gl(e){const t=Ol(),i="<component name not available>",r=Pl((()=>{var i;const r=t.current,s=r.getState(),a=Sl().early&&null!==(i=s.nextTree)&&void 0!==i?i:s.currentTree;return{loadable:Cl(r,e,a),key:e.key}}),[t,e]),s=Pl((e=>{let t;return()=>{var i,r;const s=e();return null!==(i=t)&&void 0!==i&&i.loadable.is(s.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===s.key?t:(t=s,s)}}),[]),a=Rl((()=>s(r)),[r,s]),n=Pl((r=>{const s=t.current;return Nl(s,e,r,i).release}),[t,e,i]);return Ml(n,a,a).loadable}function Fl(e){const t=Ol(),i=Pl((()=>{var i;const r=t.current,s=r.getState(),a=Sl().early&&null!==(i=s.nextTree)&&void 0!==i?i:s.currentTree;return Cl(r,e,a)}),[t,e]),r=Pl((()=>i()),[i]),s="<component name not available>",a=Pl(((r,a)=>{const n=t.current;return Nl(n,e,(()=>{if(!Kc("recoil_suppress_rerender_in_callback"))return a();const e=i();c.current.is(e)||a(),c.current=e}),s).release}),[t,e,s,i]),n=Tl();if(null==n)throw yc("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const o=_l(n,r,a),c=Ll(o);return Bl((()=>{c.current=o})),o}function jl(e){const t=Ol(),i="<component name not available>",r=Pl((()=>{var i;const r=t.current,s=r.getState(),a=Sl().early&&null!==(i=s.nextTree)&&void 0!==i?i:s.currentTree;return Cl(r,e,a)}),[t,e]),s=Pl((()=>({loadable:r(),key:e.key})),[r,e.key]),a=Pl((e=>{const t=s();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[s]);Bl((()=>{const r=Nl(t.current,e,(e=>{o(a)}),i);return o(a),r.release}),[i,e,t,a]);const[n,o]=Vl(s);return n.key!==e.key?s().loadable:n.loadable}function Ul(e){const t=Ol(),[,i]=Vl([]),r="<component name not available>",s=Pl((()=>{var i;const r=t.current,s=r.getState(),a=Sl().early&&null!==(i=s.nextTree)&&void 0!==i?i:s.currentTree;return Cl(r,e,a)}),[t,e]),a=s(),n=Ll(a);return Bl((()=>{n.current=a})),Bl((()=>{const a=t.current,o=a.getState(),c=Nl(a,e,(e=>{var t;if(!Kc("recoil_suppress_rerender_in_callback"))return i([]);const r=s();null!==(t=n.current)&&void 0!==t&&t.is(r)||i(r),n.current=r}),r);if(o.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{n.current=null,i([])}));else{var h;if(!Kc("recoil_suppress_rerender_in_callback"))return i([]);const e=s();null!==(h=n.current)&&void 0!==h&&h.is(e)||i(e),n.current=e}return c.release}),[r,s,e,t]),a}function zl(e){return Kc("recoil_memory_managament_2020")&&vl(e),{TRANSITION_SUPPORT:jl,SYNC_EXTERNAL_STORE:Gl,MUTABLE_SOURCE:Fl,LEGACY:Ul}[Sl().mode](e)}function Hl(e){const t=Ol();return ql(zl(e),e,t)}function Kl(e){const t=Ol();return Pl((i=>{Al(t.current,e,i)}),[t,e])}function Wl(e){return Kc("recoil_memory_managament_2020")&&vl(e),jl(e)}function Zl(e){const t=Ol();return ql(Wl(e),e,t)}var Xl={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e="<component name not available>",t=Ol(),[,i]=Vl([]),r=Ll(new Set);r.current=new Set;const s=Ll(new Set),a=Ll(new Map),n=Pl((e=>{const t=a.current.get(e);t&&(t.release(),a.current.delete(e))}),[a]),o=Pl(((e,t)=>{a.current.has(t)&&i([])}),[]);return Bl((()=>{const i=t.current;Oh(r.current,s.current).forEach((t=>{if(a.current.has(t))return;const r=Nl(i,new Il(t),(e=>o(e,t)),e);a.current.set(t,r),i.getState().nextTree?i.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{o(i.getState(),t)})):o(i.getState(),t)})),Oh(s.current,r.current).forEach((e=>{n(e)})),s.current=r.current})),Bl((()=>{const i=a.current;return Oh(r.current,new Set(i.keys())).forEach((r=>{const s=Nl(t.current,new Il(r),(e=>o(e,r)),e);i.set(r,s)})),()=>i.forEach(((e,t)=>n(t)))}),[e,t,n,o]),Rl((()=>{function e(e){return i=>{Al(t.current,e,i)}}function i(e){var i;r.current.has(e.key)||(r.current=Dl(r.current,e.key));const s=t.current.getState();return Cl(t.current,e,Sl().early&&null!==(i=s.nextTree)&&void 0!==i?i:s.currentTree)}function s(e){return ql(i(e),e,t)}return{getRecoilValue:s,getRecoilValueLoadable:i,getRecoilState:function(t){return[s(t),e(t)]},getRecoilStateLoadable:function(t){return[i(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>Al(t.current,e,kl)}}}),[r,t])},useRecoilState:function(e){return[Hl(e),Kl(e)]},useRecoilStateLoadable:function(e){return[zl(e),Kl(e)]},useRecoilValue:Hl,useRecoilValueLoadable:zl,useResetRecoilState:function(e){const t=Ol();return Pl((()=>{Al(t.current,e,kl)}),[t,e])},useSetRecoilState:Kl,useSetUnvalidatedAtomValues:function(){const e=Ol();return(t,i={})=>{wl((()=>{e.current.addTransactionMetadata(i),t.forEach(((t,i)=>El(e.current,new Il(i),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Wl,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Zl,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[Zl(e),Kl(e)]}};const{batchUpdates:Yl}=Hd,{DEFAULT_VALUE:$l,getNode:Ql,nodes:Jl}=bh,{useStoreRef:ef}=cl,{AbstractRecoilValue:tf,setRecoilValueLoadable:rf}=Td,{SUSPENSE_TIMEOUT_MS:sf}=Vd,{cloneSnapshot:af}=Tu,{useCallback:nf,useEffect:of,useRef:cf,useState:hf}=s,{isSSR:df}=Xd;function uf(e){const t=ef();of((()=>t.current.subscribeToTransactions(e).release),[e,t])}function lf(e){const t=e.atomValues.toMap(),i=xh(function(e,t){const i=new Map;for(const[r,s]of e)t(s,r)&&i.set(r,s);return i}(t,((e,t)=>{const i=Ql(t).persistence_UNSTABLE;return null!=i&&"none"!==i.type&&"hasValue"===e.state})),(e=>e.contents));return function(...e){const t=new Map;for(let i=0;i<e.length;i++){const r=e[i].keys();let s;for(;!(s=r.next()).done;)t.set(s.value,e[i].get(s.value))}return t}(e.nonvalidatedAtoms.toMap(),i)}function ff(e,t){var i;const r=e.getState(),s=null!==(i=r.nextTree)&&void 0!==i?i:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;Yl((()=>{const i=new Set;for(const e of[s.atomValues.keys(),a.atomValues.keys()])for(const t of e){var r,n;(null===(r=s.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(n=a.atomValues.get(t))||void 0===n?void 0:n.contents)&&Ql(t).shouldRestoreFromSnapshots&&i.add(t)}i.forEach((t=>{rf(e,new tf(t),a.atomValues.has(t)?vc(a.atomValues.get(t)):$l)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var pf={useRecoilSnapshot:function(){const e=ef(),[t,i]=hf((()=>af(e.current))),r=ul(t),s=cf(),a=cf();var n;(uf(nf((e=>i(af(e))),[])),of((()=>{const e=t.retain();var i;return s.current&&!df&&(window.clearTimeout(s.current),s.current=null,null===(i=a.current)||void 0===i||i.call(a),a.current=null),e}),[t]),r===t||df)||(s.current&&(window.clearTimeout(s.current),s.current=null,null===(n=a.current)||void 0===n||n.call(a),a.current=null),a.current=t.retain(),s.current=window.setTimeout((()=>{var e;s.current=null,null===(e=a.current)||void 0===e||e.call(a),a.current=null}),sf));return t},gotoSnapshot:ff,useGotoRecoilSnapshot:function(){const e=ef();return nf((t=>ff(e.current,t)),[e])},useRecoilTransactionObserver:function(e){uf(nf((t=>{const i=af(t,"latest"),r=af(t,"previous");e({snapshot:i,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){uf(nf((t=>{let i=t.getState().previousTree;const r=t.getState().currentTree;i||(i=t.getState().currentTree);const s=lf(r),a=lf(i),n=xh(Jl,(e=>{var t,i,r,s;return{persistence_UNSTABLE:{type:null!==(t=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(s=e.persistence_UNSTABLE)||void 0===s?void 0:s.backButton)&&void 0!==r&&r}}})),o=function(e,t){const i=new Set;for(const r of e)t(r)&&i.add(r);return i}(r.dirtyAtoms,(e=>s.has(e)||a.has(e)));e({atomValues:s,previousAtomValues:a,atomInfo:n,modifiedAtoms:o,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:uf};const{peekNodeInfo:mf}=ed,{useStoreRef:gf}=cl;const{reactMode:yf}=Yc,{RecoilRoot:bf,useStoreRef:vf}=cl,{useMemo:wf}=s;const{loadableWithValue:kf}=Gc,{initializeNode:Sf}=ed,{DEFAULT_VALUE:_f,getNode:Mf}=bh,{copyTreeState:Tf,getRecoilValueAsLoadable:Of,invalidateDownstreams:xf,writeLoadableToTreeState:If}=Td;function Cf(e){return"atom"===Mf(e.key).nodeType}class Af{constructor(e,t){wc(this,"_store",void 0),wc(this,"_treeState",void 0),wc(this,"_changes",void 0),wc(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Cf(e))throw yc("Reading selectors within atomicUpdate is not supported");const t=Of(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:yc(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),wc(this,"set",((e,t)=>{if(!Cf(e))throw yc("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const i=this.get(e);this._changes.set(e.key,t(i))}else Sf(this._store,e.key,"set"),this._changes.set(e.key,t)})),wc(this,"reset",(e=>{this.set(e,_f)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Tf(this._treeState);for(const[t,i]of this._changes)If(e,t,kf(i));return xf(this._store,e),e}}var Ef=function(e){return t=>{e.replaceState((i=>{const r=new Af(e,i);return t(r),r.newTreeState_INTERNAL()}))}},Nf=Object.freeze({__proto__:null,atomicUpdater:Ef}),Pf=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Bf}=Nf,{batchUpdates:Rf}=Hd,{DEFAULT_VALUE:Lf}=bh,{useStoreRef:Vf}=cl,{refreshRecoilValue:Df,setRecoilValue:qf}=Td,{cloneSnapshot:Gf}=Tu,{gotoSnapshot:Ff}=pf,{useCallback:jf}=s;class Uf{}const zf=new Uf;function Hf(e,t,i,r){let s,a=zf;var n;return Rf((()=>{const n="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw yc(n);const o=Uh({...null!=r?r:{},set:(t,i)=>qf(e,t,i),reset:t=>qf(e,t,Lf),refresh:t=>Df(e,t),gotoSnapshot:t=>Ff(e,t),transact_UNSTABLE:t=>Bf(e)(t)},{snapshot:()=>{const t=Gf(e);return s=t.retain(),t}}),c=t(o);if("function"!=typeof c)throw yc(n);a=c(...i)})),a instanceof Uf&&Pf(!1),bc(a)?a.finally((()=>{var e;null===(e=s)||void 0===e||e()})):null===(n=s)||void 0===n||n(),a}var Kf={recoilCallback:Hf,useRecoilCallback:function(e,t){const i=Vf();return jf(((...t)=>Hf(i.current,e,t)),null!=t?[...t,i]:void 0)}};const{useStoreRef:Wf}=cl,{refreshRecoilValue:Zf}=Td,{useCallback:Xf}=s;const{atomicUpdater:Yf}=Nf,{useStoreRef:$f}=cl,{useMemo:Qf}=s;var Jf=Object.freeze({__proto__:null,WrappedValue:class{constructor(e){wc(this,"value",void 0),this.value=e}}});const{isFastRefreshEnabled:ep}=Yc;class tp extends Error{}var ip=class{constructor(e){var t,i,r;wc(this,"_name",void 0),wc(this,"_numLeafs",void 0),wc(this,"_root",void 0),wc(this,"_onHit",void 0),wc(this,"_onSet",void 0),wc(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(i=null==e?void 0:e.onSet)&&void 0!==i?i:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var i;return null===(i=this.getLeafNode(e,t))||void 0===i?void 0:i.value}getLeafNode(e,t){if(null==this._root)return;let i=this._root;for(;i;){if(null==t||t.onNodeVisit(i),"leaf"===i.type)return this._onHit(i),i;const r=this._mapNodeValue(e(i.nodeKey));i=i.branches.get(r)}}set(e,t,i){const r=()=>{var r,s,a,n;let o,c;for(const[t,r]of e){var h,d,u;const e=this._root;if("leaf"===(null==e?void 0:e.type))throw this.invalidCacheError();const s=o;if(o=s?s.branches.get(c):e,o=null!==(h=o)&&void 0!==h?h:{type:"branch",nodeKey:t,parent:s,branches:new Map,branchKey:c},"branch"!==o.type||o.nodeKey!==t)throw this.invalidCacheError();null==s||s.branches.set(c,o),null==i||null===(d=i.onNodeVisit)||void 0===d||d.call(i,o),c=this._mapNodeValue(r),this._root=null!==(u=this._root)&&void 0!==u?u:o}const l=o?null===(r=o)||void 0===r?void 0:r.branches.get(c):this._root;if(null!=l&&("leaf"!==l.type||l.branchKey!==c))throw this.invalidCacheError();const f={type:"leaf",value:t,parent:o,branchKey:c};null===(s=o)||void 0===s||s.branches.set(c,f),this._root=null!==(a=this._root)&&void 0!==a?a:f,this._numLeafs++,this._onSet(f),null==i||null===(n=i.onNodeVisit)||void 0===n||n.call(i,f)};try{r()}catch(e){if(!(e instanceof tp))throw e;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let i=e.parent,r=e.branchKey;for(;i;){var s;if(i.branches.delete(r),i===t)return 0===i.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(i.branches.size>0)break;r=null===(s=i)||void 0===s?void 0:s.branchKey,i=i.parent}for(;i!==t;i=i.parent)if(null==i)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){ep();throw null!=this._name&&this._name,new tp}},rp=Object.freeze({__proto__:null,TreeCache:ip}),sp=class{constructor(e){var t;wc(this,"_maxSize",void 0),wc(this,"_size",void 0),wc(this,"_head",void 0),wc(this,"_tail",void 0),wc(this,"_map",void 0),wc(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),i=this._map.get(t);if(i)return this.set(e,i.value),i.value}set(e,t){const i=this._keyMapper(e);this._map.get(i)&&this.delete(e);const r=this.head(),s={key:e,right:r,left:null,value:t};r?r.left=s:this._tail=s,this._map.set(i,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const i=vc(this._map.get(t)),r=i.right,s=i.left;r&&(r.left=i.left),s&&(s.right=i.right),i===this.head()&&(this._head=r),i===this.tail()&&(this._tail=s),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},ap=Object.freeze({__proto__:null,LRUCache:sp});const{LRUCache:np}=ap,{TreeCache:op}=rp;var cp=function({name:e,maxSize:t,mapNodeValue:i=(e=>e)}){const r=new np({maxSize:t}),s=new op({name:e,mapNodeValue:i,onHit:e=>{r.set(e,!0)},onSet:e=>{const i=r.tail();r.set(e,!0),i&&s.size()>t&&s.delete(i.key)}});return s};function hp(e,t,i){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw yc("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(bc(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,i)=>hp(e,t,i.toString())))}]`;if("function"==typeof e.toJSON)return hp(e.toJSON(i),t,i);if(e instanceof Map){const r={};for(const[i,s]of e)r["string"==typeof i?i:hp(i,t)]=s;return hp(r,t,i)}return e instanceof Set?hp(Array.from(e).sort(((e,i)=>hp(e,t).localeCompare(hp(i,t)))),t,i):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?hp(Array.from(e),t,i):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((i=>`${hp(i,t)}:${hp(e[i],t,i)}`)).join(",")}}`}var dp=function(e,t={allowFunctions:!1}){return hp(e,t)};const{TreeCache:up}=rp,lp={equality:"reference",eviction:"keep-all",maxSize:1/0};const{isReactNative:fp,isWindow:pp}=Xd;const{isLoadable:mp,loadableWithError:gp,loadableWithPromise:yp,loadableWithValue:bp}=Gc,{WrappedValue:vp}=Jf,{getNodeLoadable:wp,peekNodeLoadable:kp,setNodeValue:Sp}=ed,{saveDepsToStore:_p}=Ch,{DEFAULT_VALUE:Mp,RecoilValueNotReady:Tp,getConfigDeletionHandler:Op,getNode:xp,registerNode:Ip}=bh,{isRecoilValue:Cp}=ah,{markRecoilValueModified:Ap}=Td,{retainedByOptionWithDefault:Ep}=Vd,{recoilCallback:Np}=Kf,{startPerfBlock:Pp}={startPerfBlock:function(e){return()=>null}};class Bp{}const Rp=new Bp,Lp=[],Vp=new Map,Dp=(()=>{let e=0;return()=>e++})();function qp(e){let t=null;const{key:i,get:r,cachePolicy_UNSTABLE:s}=e,a=null!=e.set?e.set:void 0,n=new Set,o=function({equality:e=lp.equality,eviction:t=lp.eviction,maxSize:i=lp.maxSize}=lp,r){const s=function(e){switch(e){case"reference":return e=>e;case"value":return e=>dp(e)}throw yc(`Unrecognized equality policy ${e}`)}(e);return function(e,t,i,r){switch(e){case"keep-all":return new up({name:r,mapNodeValue:i});case"lru":return cp({name:r,maxSize:vc(t),mapNodeValue:i});case"most-recent":return cp({name:r,maxSize:1,mapNodeValue:i})}throw yc(`Unrecognized eviction policy ${e}`)}(t,i,s,r)}(null!=s?s:{equality:"reference",eviction:"keep-all"},i),c=Ep(e.retainedBy_UNSTABLE),h=new Map;let d=0;function u(){return!Kc("recoil_memory_managament_2020")||d>0}function l(e){return e.getState().knownSelectors.add(i),d++,()=>{d--}}function f(){return void 0!==Op(i)&&!u()}function p(e,t,i,r,s){O(t,r,s),m(e,i)}function m(e,t){T(e,t)&&M(e),g(t,!0)}function g(e,i){const r=Vp.get(e);if(null!=r){for(const e of r)Ap(e,vc(t));i&&Vp.delete(e)}}function y(e,t){let i=Vp.get(t);null==i&&Vp.set(t,i=new Set),i.add(e)}function b(e,t,i,r,s,a){return t.then((r=>{if(!u())throw M(e),Rp;null!=a.loadingDepKey&&a.loadingDepPromise===t?i.atomValues.set(a.loadingDepKey,bp(r)):e.getState().knownSelectors.forEach((e=>{i.atomValues.delete(e)}));const n=k(e,i);if(n&&"loading"!==n.state){if((T(e,s)||null==_(e))&&m(e,s),"hasValue"===n.state)return n.contents;throw n.contents}if(!T(e,s)){const t=S(e,i);if(null!=t)return t.loadingLoadable.contents}const[o,c]=w(e,i,s);if("loading"!==o.state&&p(e,i,s,o,c),"hasError"===o.state)throw o.contents;return o.contents})).catch((t=>{if(t instanceof Bp)throw Rp;if(!u())throw M(e),Rp;const a=gp(t);throw p(e,i,s,a,r),t}))}function v(e,t,r,s){var a,o,c,h,d,u,l;(T(e,s)||t.version===(null===(a=e.getState())||void 0===a||null===(o=a.currentTree)||void 0===o?void 0:o.version)||t.version===(null===(c=e.getState())||void 0===c||null===(h=c.nextTree)||void 0===h?void 0:h.version))&&_p(i,r,e,null!==(d=null===(u=e.getState())||void 0===u||null===(l=u.nextTree)||void 0===l?void 0:l.version)&&void 0!==d?d:e.getState().currentTree.version);for(const e of r)n.add(e)}function w(e,s,a){const n=Pp(i);let o=!0,c=!0;const h=()=>{n(),c=!1};let d,l,f=!1;const m={loadingDepKey:null,loadingDepPromise:null},y=new Map;function w({key:t}){const i=wp(e,s,t);switch(y.set(t,i),o||(v(e,s,new Set(y.keys()),a),function(e,t){T(e,t)&&(vc(_(e)).stateVersions.clear(),g(t,!1))}(e,a)),i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":throw m.loadingDepKey=t,m.loadingDepPromise=i.contents,i.contents}throw yc("Invalid Loadable state")}const k=i=>(...r)=>{if(c)throw yc("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&Pf(!1),Np(e,i,r,{node:t})};try{d=r({get:w,getCallback:k}),d=Cp(d)?w(d):d,mp(d)&&("hasError"===d.state&&(f=!0),d=d.contents),bc(d)?d=function(e,t,i,r,s,a){return t.then((t=>{if(!u())throw M(e),Rp;const a=bp(t);return p(e,i,s,a,r),t})).catch((t=>{if(!u())throw M(e),Rp;if(bc(t))return b(e,t,i,r,s,a);const n=gp(t);throw p(e,i,s,n,r),t}))}(e,d,s,y,a,m).finally(h):h(),d=d instanceof vp?d.value:d}catch(t){d=t,bc(d)?d=b(e,d,s,y,a,m).finally(h):(f=!0,h())}return l=f?gp(d):bc(d)?yp(d):bp(d),o=!1,function(e,t,i){if(T(e,t)){const t=_(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=i)}}(e,a,y),v(e,s,new Set(y.keys()),a),[l,y]}function k(e,t){let r=t.atomValues.get(i);if(null!=r)return r;const s=new Set;try{r=o.get((i=>("string"!=typeof i&&Pf(!1),wp(e,t,i).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==i&&s.add(e.nodeKey)}})}catch(e){throw yc(`Problem with cache lookup for selector "${i}": ${e.message}`)}var a;return r&&(t.atomValues.set(i,r),v(e,t,s,null===(a=_(e))||void 0===a?void 0:a.executionID)),r}function S(e,t){const i=Kd([h.has(e)?[vc(h.get(e))]:[],nh(jh(h,(([t])=>t!==e)),(([,e])=>e))]);function r(i){for(const[r,s]of i)if(!wp(e,t,r).is(s))return!0;return!1}for(const e of i){if(e.stateVersions.get(t.version)||!r(e.depValuesDiscoveredSoFarDuringAsyncWork))return e.stateVersions.set(t.version,!0),e;e.stateVersions.set(t.version,!1)}}function _(e){return h.get(e)}function M(e){h.delete(e)}function T(e,t){var i;return t===(null===(i=_(e))||void 0===i?void 0:i.executionID)}function O(e,t,r){e.atomValues.set(i,t);try{o.set(function(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}(r),t)}catch(e){throw yc(`Problem with setting cache for selector "${i}": ${e.message}`)}}function x(e,t){const r=t.atomValues.get(i);return null!=r?r:o.get((i=>{var r;return"string"!=typeof i&&Pf(!1),null===(r=kp(e,t,i))||void 0===r?void 0:r.contents}))}function I(e,t){return function(r){if(Lp.includes(i)){const e=`Recoil selector has circular dependencies: ${Lp.slice(Lp.indexOf(i)).join("  ")}`;return gp(yc(e))}Lp.push(i);try{return function(e,t){const i=k(e,t);if(null!=i)return M(e),i;const r=S(e,t);var s;if(null!=r)return"loading"===(null===(s=r.loadingLoadable)||void 0===s?void 0:s.state)&&y(e,r.executionID),r.loadingLoadable;const a=Dp(),[n,o]=w(e,t,a);return"loading"===n.state?(function(e,t,i,r,s){h.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:i,stateVersions:new Map([[s.version,!0]])})}(e,a,n,o,t),y(e,a)):(M(e),O(t,n,o)),n}(e,t)}finally{Lp.pop()}}()}function C(e){e.atomValues.delete(i)}function A(e,i){null==t&&Pf(!1);for(const t of n){var r;const s=xp(t);null===(r=s.clearCache)||void 0===r||r.call(s,e,i)}n.clear(),C(i),o.clear(),Ap(e,t)}if(null!=a){const r=(e,t,i)=>{let r=!1;const s=new Map;function n({key:i}){if(r)throw yc("Recoil: Async selector sets are not currently supported.");const s=wp(e,t,i);if("hasValue"===s.state)return s.contents;throw"loading"===s.state?new Tp(i):s.contents}function o(i,a){if(r)throw yc("Recoil: Async selector sets are not currently supported.");const o="function"==typeof a?a(n(i)):a;Sp(e,t,i.key,o).forEach(((e,t)=>s.set(t,e)))}const c=a({set:o,get:n,reset:function(e){o(e,Mp)}},i);if(void 0!==c)throw bc(c)?yc("Recoil: Async selector sets are not currently supported."):yc("Recoil: selector set should be a void function.");return r=!0,s};return t=Ip({key:i,nodeType:"selector",peek:x,get:I,set:r,init:l,invalidate:C,clearCache:A,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}return t=Ip({key:i,nodeType:"selector",peek:x,get:I,init:l,invalidate:C,clearCache:A,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}qp.value=e=>new vp(e);var Gp=qp;const{isLoadable:Fp,loadableWithError:jp,loadableWithPromise:Up,loadableWithValue:zp}=Gc,{WrappedValue:Hp}=Jf,{peekNodeInfo:Kp}=ed,{DEFAULT_VALUE:Wp,DefaultValue:Zp,getConfigDeletionHandler:Xp,registerNode:Yp,setConfigDeletionHandler:$p}=bh,{isRecoilValue:Qp}=ah,{getRecoilValueAsLoadable:Jp,markRecoilValueModified:em,setRecoilValue:tm,setRecoilValueLoadable:im}=Td,{retainedByOptionWithDefault:rm}=Vd;function sm(e){const{...t}=e,i="default"in e?e.default:new Promise((()=>{}));return Qp(i)?function(e){const t=sm({...e,default:Wp,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof Zp?t:vc(e.persistence_UNSTABLE).validator(t,Wp)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),i=Gp({key:`${e.key}__withFallback`,get:({get:i})=>{const r=i(t);return r instanceof Zp?e.default:r},set:({set:e},i)=>e(t,i),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return $p(i.key,Xp(e.key)),i}({...t,default:i}):function(e){const{key:t,persistence_UNSTABLE:i}=e,r=rm(e.retainedBy_UNSTABLE);let s=0;function a(e){return Up(e.then((e=>(o=zp(e),e))).catch((e=>{throw o=jp(e),e})))}let n,o=bc(e.default)?a(e.default):Fp(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:zp(e.default instanceof Hp?e.default.value:e.default);o.contents;const c=new Map;function h(e,i){var r,s;return null!==(r=null!==(s=i.atomValues.get(t))&&void 0!==s?s:n)&&void 0!==r?r:o}const d=Yp({key:t,nodeType:"atom",peek:h,get:function(e,r){if(r.atomValues.has(t))return vc(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=n)return n;if(null==i)return o;const e=r.nonvalidatedAtoms.get(t),s=i.validator(e,Wp),a=s instanceof Zp?o:zp(s);return n=a,n}return o},set:function(e,i,r){if(i.atomValues.has(t)){const e=vc(i.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!i.nonvalidatedAtoms.has(t)&&r instanceof Zp)return new Map;return n=void 0,(new Map).set(t,zp(r))},init:function(i,r,a){var n;if(s++,i.getState().knownAtoms.add(t),"loading"===o.state){const p=()=>{var e;(null!==(e=i.getState().nextTree)&&void 0!==e?e:i.getState().currentTree).atomValues.has(t)||em(i,d)};o.contents.finally(p)}const u=null!==(n=e.effects)&&void 0!==n?n:e.effects_UNSTABLE;if(null!=u){let m=!0,g=Wp,y=!1,b=null;function v(e){if(m&&e.key===t){const e=g;return e instanceof Zp?h(0,r):bc(e)?Up(e.then((e=>e instanceof Zp?o.toPromise():e))):zp(e)}return Jp(i,e)}function w(e){return v(e).toPromise()}function k(e){var r;const s=Kp(i,null!==(r=i.getState().nextTree)&&void 0!==r?r:i.getState().currentTree,e.key);return!m||e.key!==t||g instanceof Zp?s:{...s,isSet:!0,loadable:v(e)}}const S=e=>t=>{if(m){const i=v(d),r="hasValue"===i.state?i.contents:Wp;g="function"==typeof t?t(r):t,bc(g)&&(g=g.then((t=>(b={effect:e,value:t},t))))}else{if(bc(t))throw yc("Setting atoms to async values is not implemented.");"function"!=typeof t&&(b={effect:e,value:t}),tm(i,d,"function"==typeof t?i=>{const r=t(i);return b={effect:e,value:r},r}:t)}},_=e=>()=>S(e)(Wp),M=e=>r=>{var s;const{release:a}=i.subscribeToTransactions((i=>{var s;let{currentTree:a,previousTree:n}=i.getState();n||(n=a);const c=null!==(s=a.atomValues.get(t))&&void 0!==s?s:o;if("hasValue"===c.state){var h,d,u,l;const i=c.contents,s=null!==(h=n.atomValues.get(t))&&void 0!==h?h:o,f="hasValue"===s.state?s.contents:Wp;(null===(d=b)||void 0===d?void 0:d.effect)!==e||(null===(u=b)||void 0===u?void 0:u.value)!==i?r(i,f,!a.atomValues.has(t)):(null===(l=b)||void 0===l?void 0:l.effect)===e&&(b=null)}}),t);c.set(i,[...null!==(s=c.get(i))&&void 0!==s?s:[],a])};for(const T of u)try{const O=T({node:d,storeID:i.storeID,trigger:a,setSelf:S(T),resetSelf:_(T),onSet:M(T),getPromise:w,getLoadable:v,getInfo_UNSTABLE:k});var l;null!=O&&c.set(i,[...null!==(l=c.get(i))&&void 0!==l?l:[],O])}catch(x){g=x,y=!0}if(m=!1,!(g instanceof Zp)){var f;const I=g,C=y?jp(g):bc(I)?Up(function(e,i){const r=i.then((i=>{var s,a;return(null===(a=(null!==(s=e.getState().nextTree)&&void 0!==s?s:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&tm(e,d,i),i})).catch((i=>{var s,a;throw(null===(a=(null!==(s=e.getState().nextTree)&&void 0!==s?s:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&im(e,d,jp(i)),i}));return r}(i,I)):zp(I);r.atomValues.set(t,C),null===(f=i.getState().nextTree)||void 0===f||f.atomValues.set(t,C)}}return()=>{var e;s--,null===(e=c.get(i))||void 0===e||e.forEach((e=>e())),c.delete(i)}},invalidate:function(){n=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Xp(t)&&s<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}({...t,default:i})}sm.value=e=>new Hp(e);var am=sm,nm=class{constructor(e){var t;wc(this,"_map",void 0),wc(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},om=Object.freeze({__proto__:null,MapCache:nm});const{LRUCache:cm}=ap,{MapCache:hm}=om,dm={equality:"reference",eviction:"none",maxSize:1/0};var um=function({equality:e=dm.equality,eviction:t=dm.eviction,maxSize:i=dm.maxSize}=dm){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>dp(e)}throw yc(`Unrecognized equality policy ${e}`)}(e),s=function(e,t,i){switch(e){case"keep-all":return new hm({mapKey:i});case"lru":return new cm({mapKey:i,maxSize:vc(t)});case"most-recent":return new cm({mapKey:i,maxSize:1})}throw yc(`Unrecognized eviction policy ${e}`)}(t,i,r);return s};const{setConfigDeletionHandler:lm}=bh;const{setConfigDeletionHandler:fm}=bh;let pm=0;var mm=function(e){var t,i;const r=um({equality:null!==(t=null===(i=e.cachePolicyForParams_UNSTABLE)||void 0===i?void 0:i.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var i;let s;try{s=r.get(t)}catch(t){throw yc(`Problem with cache lookup for selector ${e.key}: ${t.message}`)}if(null!=s)return s;const a=`${e.key}__selectorFamily/${null!==(i=dp(t,{allowFunctions:!0}))&&void 0!==i?i:"void"}/${pm++}`,n=i=>e.get(t)(i),o=e.cachePolicy_UNSTABLE,c="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let h;if(null!=e.set){const i=e.set;h=Gp({key:a,get:n,set:(e,r)=>i(t)(e,r),cachePolicy_UNSTABLE:o,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=Gp({key:a,get:n,cachePolicy_UNSTABLE:o,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,h),fm(h.key,(()=>{r.delete(t)})),h}};const gm=mm({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});const ym=mm({key:"__error",get:e=>()=>{throw yc(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:bm,loadableWithPromise:vm,loadableWithValue:wm}=Gc;function km(e,t){const i=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[s,a]of t.entries())try{i[s]=e(a)}catch(e){r[s]=e}return[i,r]}function Sm(e){return null!=e&&!bc(e)}function _m(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Mm(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,i,r)=>({...e,[i]:t[r]})),{})}function Tm(e,t,i){return Mm(e,i.map(((e,i)=>null==e?wm(t[i]):bc(e)?vm(e):bm(e))))}const Om=mm({key:"__waitForNone",get:e=>({get:t})=>{const i=_m(e),[r,s]=km(t,i);return Tm(e,r,s)},dangerouslyAllowMutability:!0}),xm=mm({key:"__waitForAny",get:e=>({get:t})=>{const i=_m(e),[r,s]=km(t,i);return s.some((e=>!bc(e)))?Tm(e,r,s):new Promise((t=>{for(const[i,a]of s.entries())bc(a)&&a.then((a=>{r[i]=a,s[i]=void 0,t(Tm(e,r,s))})).catch((a=>{s[i]=a,t(Tm(e,r,s))}))}))},dangerouslyAllowMutability:!0}),Im=mm({key:"__waitForAll",get:e=>({get:t})=>{const i=_m(e),[r,s]=km(t,i);if(s.every((e=>null==e)))return Mm(e,r);const a=s.find(Sm);if(null!=a)throw a;return Promise.all(s).then((t=>{return Mm(e,(i=r,t.map(((e,t)=>void 0===e?i[t]:e))));var i}))},dangerouslyAllowMutability:!0}),Cm=mm({key:"__waitForAllSettled",get:e=>({get:t})=>{const i=_m(e),[r,s]=km(t,i);return s.every((e=>!bc(e)))?Tm(e,r,s):Promise.all(s.map(((e,t)=>bc(e)?e.then((e=>{r[t]=e,s[t]=void 0})).catch((e=>{r[t]=void 0,s[t]=e})):null))).then((()=>Tm(e,r,s)))},dangerouslyAllowMutability:!0});var Am={waitForNone:Om,waitForAny:xm,waitForAll:Im,waitForAllSettled:Cm,noWait:mm({key:"__noWait",get:e=>({get:t})=>{try{return Gp.value(wm(t(e)))}catch(e){return Gp.value(bc(e)?vm(e):bm(e))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:Em}=Gc,{DefaultValue:Nm}=bh,{RecoilRoot:Pm,useRecoilStoreID:Bm}=cl,{isRecoilValue:Rm}=ah,{retentionZone:Lm}=Gh,{freshSnapshot:Vm}=Tu,{useRecoilState:Dm,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:qm,useRecoilStateLoadable:Gm,useRecoilValue:Fm,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:jm,useRecoilValueLoadable:Um,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:zm,useResetRecoilState:Hm,useSetRecoilState:Km}=Xl,{useGotoRecoilSnapshot:Wm,useRecoilSnapshot:Zm,useRecoilTransactionObserver:Xm}=pf,{useRecoilCallback:Ym}=Kf,{noWait:$m,waitForAll:Qm,waitForAllSettled:Jm,waitForAny:eg,waitForNone:tg}=Am;var ig={DefaultValue:Nm,isRecoilValue:Rm,RecoilLoadable:Em,RecoilRoot:Pm,useRecoilStoreID:Bm,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){"MUTABLE_SOURCE"===yf().mode&&gc.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=vf().current;return wf((()=>function({children:t}){return s.createElement(bf,{store_INTERNAL:e},t)}),[e])},atom:am,selector:Gp,atomFamily:function(e){var t,i;const r=um({equality:null!==(t=null===(i=e.cachePolicyForParams_UNSTABLE)||void 0===i?void 0:i.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var i,s;const a=r.get(t);if(null!=a)return a;const{cachePolicyForParams_UNSTABLE:n,...o}=e,c="default"in e?e.default:new Promise((()=>{})),h=am({...o,key:`${e.key}__${null!==(i=dp(t))&&void 0!==i?i:"void"}`,default:"function"==typeof c?c(t):c,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE});return r.set(t,h),lm(h.key,(()=>{r.delete(t)})),h}},selectorFamily:mm,constSelector:function(e){return gm(e)},errorSelector:function(e){return ym(e)},readOnlySelector:function(e){return e},noWait:$m,waitForNone:tg,waitForAny:eg,waitForAll:Qm,waitForAllSettled:Jm,useRecoilValue:Fm,useRecoilValueLoadable:Um,useRecoilState:Dm,useRecoilStateLoadable:Gm,useSetRecoilState:Km,useResetRecoilState:Hm,useGetRecoilValueInfo_UNSTABLE:function(){const e=gf();return({key:t})=>mf(e.current,e.current.getState().currentTree,t)},useRecoilRefresher_UNSTABLE:function(e){const t=Wf();return Xf((()=>{const i=t.current;Zf(i,e)}),[e,t])},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:zm,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:jm,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:qm,useRecoilCallback:Ym,useRecoilTransaction_UNSTABLE:function(e,t){const i=$f();return Qf((()=>(...t)=>{Yf(i.current)((i=>{e(i)(...t)}))}),null!=t?[...t,i]:void 0)},useGotoRecoilSnapshot:Wm,useRecoilSnapshot:Zm,useRecoilTransactionObserver_UNSTABLE:Xm,snapshot_UNSTABLE:Vm,useRetain:vl,retentionZone:Lm},rg=ig.RecoilRoot,sg=ig.atom,ag=ig.selector,ng=ig.useRecoilValue,og=ig.useRecoilState,cg=ig.useSetRecoilState;function hg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function dg(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?hg(Object(r),!0).forEach((function(i){(0,e.Z)(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ug,lg=function(e){return new Promise((function(t,i){chrome.runtime.sendMessage(e,(function(e){chrome.runtime.lastError&&i(chrome.runtime.lastError.message),t(e)}))}))},fg=sg({key:"vState",default:lg({type:ga.MSG_GET_STATE})}),pg=sg({key:"vHasAccount",default:lg({type:ga.MSG_HAS_ACCOUNT})}),mg=(sg({key:"vRecentReqkeysData",default:lg({type:ga.MSG_GET_RECENT_REQKEYS_DATA})}),sg({key:"msgId-tabId-hash",default:{origin:"",messsageId:"",tabId:"",hash:"",dataType:"",dataParam:{}}})),gg=(sg({key:"back-button",default:{disabled:!1}}),sg({key:"last-one-page",default:!1}),ag({key:"vStateX",get:function(e){return(0,e.get)(fg)},set:function(e,t){var i=e.get,r=e.set;chrome.runtime.sendMessage({type:ga.MSG_SET_STATE,value:t}),r(fg,dg(dg({},i(fg)),t))}})),yg=(ag({key:"vLockupX",get:function(e){var t;return!(null===(t=(0,e.get)(gg))||void 0===t||!t.password)},set:function(e,t){e.get,e.set,!0===t&&chrome.runtime.sendMessage({type:ga.MSG_LOCK_UP})}}),ag({key:"vAccAddrX",get:function(e){var t,i,r=null===(t=(0,e.get)(gg))||void 0===t||null===(i=t.keypairHex)||void 0===i?void 0:i.publicKey;return r?"k:"+r:""}}),function(t,i,r){return ag(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gg;return{key:t,get:function(e){var i;return null===(i=(0,e.get)(r))||void 0===i?void 0:i[t]},set:function(s,a){var n=s.get,o=s.set;i&&chrome.runtime.sendMessage((0,e.Z)({type:i},t,a)),o(r,dg(dg({},n(r)),{},(0,e.Z)({},t,a)))}}}(t,i,r))}),bg=(yg("networkId",ga.MSG_CHANGE_NETWORKID,fg),yg("tokenAddress",ga.MSG_CHANGE_FUNGIBLE_V2_TOKEN_ADDR,fg),yg("isDark",ga.MSG_SET_DARK_MODE,gg),yg("tokenAddressList"),yg("password")),vg=(yg("passwordConfirm"),yg("passwordR"),yg("keypairHex"),yg("pageNum"),yg("accountName"),yg("accountDetails"),yg("accountDetailsB"),yg("isLoading")),wg=(yg("transferOpt"),yg("transferConfirmOpened"),yg("errorData"),yg("infoData"),yg("globalErrorData"),yg("sidebarOpened"),yg("keypairList")),kg=(yg("confirmData"),yg("switchAccountBoxOpened"),yg("senderAddrList"),yg("receiverAddrList"),yg("privateKeyPage"),yg("deleteData"),yg("rotateData"),yg("importPriKeyPage"),yg("changePasswordPage"),yg("kdausdt"),ag({key:"getPublicKeyList",get:function(e){return(0,e.get)(wg).map((function(e){return e.publicKey}))}}),ag({key:"getPublicKeyListOption",get:function(e){return(0,e.get)(wg).map((function(e){return{key:e.publicKey,text:e.publicKey,value:e.publicKey}}))}}),ag({key:"get-app-information",get:function(e){return e.get,chrome.runtime.getManifest()}}),Be.div(ug||(ug=r(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    color: #eee;\n\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-flow: column nowrap;\n    box-sizing: border-box;\n    padding: 50px 10px;\n\n    overflow-y: auto;\n    \n\n    &::-webkit-scrollbar {\n        width: 0px;\n    }\n\n    .data{\n        position: relative;\n        width: 100%;\n        margin: auto;\n\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        flex-flow: column nowrap;\n        \n\n        .origin{\n            position: relative;\n            font-size: 16px;\n            margin-bottom: 20px;\n            text-align: center;\n            color: orange;\n        }\n        .desc{\n            text-align: center;\n            font-size: 14px;\n            margin-bottom: 20px;\n            text-transform: capitalize;\n            >div{\n\n                &:nth-of-type(1){\n                    margin-bottom: 10px;\n                }\n\n                &:nth-of-type(2){\n                    font-weight: bold;\n                }\n            }\n        }\n\n        .param{\n            position: relative;\n            width: 100%;\n            display: flex;\n            font-size: 12px;\n            color: rgba(255,255,255,0.8);\n            justify-content: center;\n            max-width: 360px;\n            text-transform: initial;\n        \n            .rows{\n                border-radius: 4px;\n                border: thin solid rgba(255,255,255,0.3);\n                position: relative;\n                display: inline-flex;\n                flex-flow: column nowrap;\n                padding: 3px 5px;\n\n                .row{\n                    position: relative;\n                    display: inline-flex;\n                    flex-flow: row nowrap;\n                    overflow: hidden;\n\n                    .key{\n                        text-transform: capitalize;\n                        position: relative;\n                        display: inline-flex;\n                        white-space: nowrap;\n                        &:after{\n                            position: relative;\n                            content: ':';\n                            margin-right: 6px;\n                        }\n                    }\n\n                    .value{\n                        position: relative;\n                        word-break: break-all;\n                        width: 100%;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        text-align: right;\n                    }\n                }\n            }\n        }\n        .buttons{\n            margin-top: 20px;\n            button{\n                font-weight: bold;\n                padding: 8px;\n                background-color: #eee;\n                outline: none;\n                border-radius: 4px;\n                color: #eee;\n                min-width: 100px;\n                font-size: 13px;\n                text-transform: uppercase;\n                box-shadow: 0px 0px 3px 2px rgba(255,255,255,0.5);\n                border: none;\n                cursor: pointer;\n\n                &:hover{\n                    opacity: 0.96;\n                }\n                &:active{\n                    color: red;\n                }\n                    \n                &:nth-of-type(1){\n                    background-color: #eee;\n                    color: #666;\n                    margin-right: 8px;\n                }\n\n                &:nth-of-type(2){\n                    background-color: #21ba45;\n                }\n            }\n        }\n    }\n"])))),Sg=function(e){var t=ng(mg),i=t.origin,r=t.messageId,a=t.tabId,n=t.hash,o=t.dataType,c=t.dataParam,h=(0,s.useCallback)((function(e){n&&chrome.runtime.sendMessage({type:ga.MSG_REQ_USERDATA_FROM_WEBPAGE,tabId:a,messageId:r,hash:n,dataType:o,dataParam:c})}),[a,r,n]);return s.createElement(kg,null,s.createElement("div",{className:"data"},s.createElement("div",{className:"origin"},i),s.createElement("div",{className:"desc"},s.createElement("div",null,"Request access to your account data"),s.createElement("div",null,s.createElement("span",null,"DataType: "),s.createElement("span",null,"[",o,"]"))),s.createElement("div",{className:"buttons"},s.createElement("button",{onClick:function(){return window.close()}},"Cancel"),s.createElement("button",{onClick:h},"Allow"))))},_g=function(e){return"Object"===e.constructor.name},Mg=function(e){return"Array"===e.constructor.name};function Tg(e){return e.map((function(e,t){return s.createElement("div",{key:t},_g(e)?Og(e):Mg(e)?Tg(e):s.createElement("div",null,e))}))}function Og(e){return s.createElement("div",{className:"rows"},Object.keys(e).map((function(t,i){return s.createElement("div",{key:i,className:"row"},s.createElement("span",{className:"key"},t),s.createElement("span",{className:"value"},_g(e[t])?Og(e[t]):Mg(e[t])?Tg(e[t]):s.createElement("div",null,e[t])))})))}var xg=function(e){var t=ng(mg),i=t.origin,r=t.messageId,a=t.tabId,n=t.hash,o=t.dataType,c=t.dataParam,h=(0,s.useCallback)((function(e){n&&chrome.runtime.sendMessage({type:ga.MSG_REQ_USERDATA_FROM_WEBPAGE,tabId:a,messageId:r,hash:n,dataType:o,dataParam:c})}),[a,r,n]);return s.createElement(kg,null,s.createElement("div",{className:"data"},s.createElement("div",{className:"origin"},i),s.createElement("div",{className:"desc"},s.createElement("div",null,"Request access to your account data"),s.createElement("div",null,s.createElement("span",null,"DataType: "),s.createElement("span",null,"[",o,"]"))),s.createElement("div",{className:"param"},null!==c&&Og(c)),s.createElement("div",{className:"buttons"},s.createElement("button",{onClick:function(){return window.close()}},"Cancel"),s.createElement("button",{onClick:h},"Allow"))))},Ig=i(38740);function Cg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Ag(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?Cg(Object(r),!0).forEach((function(i){(0,e.Z)(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}i(11853);var Eg=function(e){return JSON.parse(JSON.stringify(e))};function Ng(){return(Ng=Ye(Qe().mark((function t(){var i,r,s,a,n;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="autoLockupTime",t.next=3,ca("limitTime");case 3:r=t.sent,s=r.limitTime,ua("AutoLocker",0,5,Ye(Qe().mark((function t(){var r,a,n,o,c,h,d,u;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oa.getItem(i);case 3:if(void 0!==(r=t.sent)){t.next=9;break}return t.next=7,oa.upsertItem(i,(0,e.Z)({},i,{endTime:Date.now()+s,limitTime:s}));case 7:t.next=23;break;case 9:if(a=r.autoLockupTime,n=a.endTime,o=a.limitTime,0!==(c=Math.max(+((n-Date.now())/o*100).toFixed(2),0))){t.next=22;break}return t.next=14,ca(["pageNum","networkId"]);case 14:if(h=t.sent,d=h.pageNum,u=h.networkId,!(d>=8)){t.next=20;break}return t.next=20,ha(Ag(Ag({},Eg(ma)),{},{pageNum:5,networkId:u}));case 20:t.next=23;break;case 22:chrome.runtime.sendMessage({type:ga.FMSG_LOCK_PROGRESS_STATE,value:c});case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(0);case 27:case"end":return t.stop()}}),t,null,[[0,25]])})))),a=0,n=function(){Date.now()-a>=5e3&&(a=Date.now(),oa.getItem(i).then((function(t){var r,s,a=null!==(r=null==t||null===(s=t.autoLockupTime)||void 0===s?void 0:s.limitTime)&&void 0!==r?r:0;a&&oa.upsertItem(i,(0,e.Z)({},i,{limitTime:a,endTime:Date.now()+a}))})))},["mousemove","click","mousedown","keyup"].map((function(e){return window.addEventListener(e,n)}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Pg,Bg,Rg,Lg,Vg=i(86350),Dg=Be.span(Pg||(Pg=r(["\n    position: fixed !important;\n    z-index: 10000;\n    width: 100%;\n    height: 100%;\n    left: 0px;\n    top: 0px;\n    pointer-events: none;\n\n"]))),qg=Be.span(Bg||(Bg=r(["\n    position: relative !important;\n    width: 100%;\n    height: 100%;\n    left: 0px;\n    top: 0px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(255,255,255, 0);\n    transition: all 0.24s;\n    flex-flow: column nowrap;\n\n    &:before{\n        content: '';\n        position: relative;\n        width: 128px;\n        height: 128px;\n        background: rgba(0,0,0,0) url(",") no-repeat center;\n        background-size: 80%;\n        border-radius: 50%;\n        filter: drop-shadow(3px 3px 3px rgba(0, 0, 0, .7));\n        opacity: 0;\n        transition: all 0.24s;\n        transform: scale(0.8);\n    }\n\n    &:after{\n        content: '","';\n        font-size: 22px;\n        font-weight: bold;\n        opacity: 0;\n        margin-top: 30px;\n        color: rgba(0, 0, 0, 0.4);\n        filter: drop-shadow(3px 3px 3px rgba(0, 0, 0, .7));\n        font-style: oblique;\n        color: white;\n    }\n\n    ","\n"])),Vg,(function(e){return e.loadingText||"Loading . . ."}),(function(e){if(!0===e.isLoading)return"\n                    background-color: rgba(255,255,255, 0.1);\n                    pointer-events: initial;\n\n                    &:after,\n                    &:before{\n                        opacity: 1;\n                        transform: scale(1);\n                    }\n                "})),Gg=function(e){var i=e.isLoading,r=e.loadingText,a=e.timestamp,n=(0,s.useState)(0),o=(0,t.Z)(n,2),c=(o[0],o[1]);return(0,s.useLayoutEffect)((function(){var e=function(){chrome.storage.local.set({isLoading:{opened:!1,text:null,timestamp:null}})};return a&&c((function(t){return clearTimeout(t),setTimeout(e,ga.LOADING_BOX_TIMEOUT)})),function(){return c((function(e){return clearTimeout(e)}))}}),[a]),s.createElement(Dg,null,s.createElement(qg,{isLoading:i,loadingText:r}))},Fg=i(71200);function jg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Ug(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?jg(Object(r),!0).forEach((function(i){(0,e.Z)(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var zg=Be.div(Rg||(Rg=r(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    color: #fff;\n    font-size: 36px;\n    font-weight: bold;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: red;\n\n    svg{\n        font-size: 86px;\n        color: white;\n    }\n"]))),Hg=Be.div(Lg||(Lg=r(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(255,255,255,0.1);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 100;\n\n    >div{\n        width: 90%;\n        height: 100px;\n        box-shadow: 5px 5px 0px 0px rgba(255,255,255,0.5);\n        background-color: rgba(255,255,255,0.8);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-flow: column nowrap;\n\n        &:after{\n            content: 'No Account';\n            color: rgba(0,0,0,0.5);\n            font-weight: 700;\n            font-size: 18px;\n        }\n\n        >svg{\n            font-size: 64px;\n            color: rgba(0,0,0,0.5);\n        }\n\n    }\n"]))),Kg=function(){return s.createElement(Hg,null,s.createElement("div",null,s.createElement(Fg.Z,null)))},Wg=s.memo((function(e){var i,r,a=cg(fg),n=ng(bg),o=ng(pg),c=og(vg),h=(0,t.Z)(c,2),d=h[0],u=(h[1],og(mg)),l=(0,t.Z)(u,2),f=l[0],p=l[1],m=(0,s.useState)(""),g=(0,t.Z)(m,2),y=g[0],b=g[1];return(0,s.useLayoutEffect)((function(){if(n){var e=new URL(location.href),t=function(t){var i;return(null!==(i=e.searchParams.get(t))&&void 0!==i?i:"").replace(/ /gi,"+")},i=t("origin"),r=t("messageId"),s=+t("tabId"),a=(h=JSON.stringify({messageId:r,password:n}),et().SHA512(h).toString(et().enc.Base64)),o=t("dataType"),c=JSON.parse(atob(t("dataParam")));p({origin:i,messageId:r,tabId:s,hash:a,dataType:o,dataParam:c})}var h}),[n,location.href]),(0,s.useLayoutEffect)((function(){!function(){Ng.apply(this,arguments)}(),chrome.runtime.onMessage.addListener((function(e,t,i){return e.type===ga.FMSG_SYNC_BACKGROUND_STATE&&(delete e.type,a((function(t){return Ug(Ug({},t),e)}))),!0}))}),[]),(0,s.useLayoutEffect)((function(){b(f.dataType)}),[f.dataType]),s.createElement("div",null,s.createElement(mc,{visible:!n,style:{zIndex:100}}),null!==(i={accountName:s.createElement(Sg,null),signature:s.createElement(xg,null)}[y])&&void 0!==i?i:s.createElement(zg,null,s.createElement(Ig.Z,null)),s.createElement(Gg,{isLoading:d.opened,loadingText:d.text,timestamp:null!==(r=null==d?void 0:d.timestamp)&&void 0!==r?r:null}),!0!==o&&s.createElement(Kg,null))}));a.createRoot(document.getElementById("root")).render(s.createElement(rg,null,s.createElement(s.Suspense,{fallback:s.createElement(Gg,{isLoading:!0})},s.createElement(Wg,null))))})()})();